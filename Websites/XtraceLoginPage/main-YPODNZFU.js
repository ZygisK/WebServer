var kre=Object.create;var gx=Object.defineProperty,Nre=Object.defineProperties,Lre=Object.getOwnPropertyDescriptor,Bre=Object.getOwnPropertyDescriptors,Vre=Object.getOwnPropertyNames,DH=Object.getOwnPropertySymbols,Hre=Object.getPrototypeOf,EH=Object.prototype.hasOwnProperty,zre=Object.prototype.propertyIsEnumerable;var OH=(t,e,i)=>e in t?gx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,ht=(t,e)=>{for(var i in e||={})EH.call(e,i)&&OH(t,i,e[i]);if(DH)for(var i of DH(e))zre.call(e,i)&&OH(t,i,e[i]);return t},nn=(t,e)=>Nre(t,Bre(e));var SH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wre=(t,e)=>{for(var i in e)gx(t,i,{get:e[i],enumerable:!0})},jre=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Vre(e))!EH.call(t,r)&&r!==i&&gx(t,r,{get:()=>e[r],enumerable:!(n=Lre(e,r))||n.enumerable});return t};var hr=(t,e,i)=>(i=t!=null?kre(Hre(t)):{},jre(e||!t||!t.__esModule?gx(i,"default",{value:t,enumerable:!0}):i,t));var mx=(t,e,i)=>new Promise((n,r)=>{var o=l=>{try{a(i.next(l))}catch(d){r(d)}},s=l=>{try{a(i.throw(l))}catch(d){r(d)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((i=i.apply(t,e)).next())});var Ws=SH((Dne,oS)=>{"use strict";(function(t,e){"use strict";typeof oS=="object"&&typeof oS.exports=="object"?oS.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}:e(t)})(typeof window<"u"?window:Dne,function(t,e){"use strict";var i=[],n=Object.getPrototypeOf,r=i.slice,o=i.flat?function(f){return i.flat.call(f)}:function(f){return i.concat.apply([],f)},s=i.push,a=i.indexOf,l={},d=l.toString,u=l.hasOwnProperty,h=u.toString,p=h.call(Object),m={},c=function(v){return typeof v=="function"&&typeof v.nodeType!="number"&&typeof v.item!="function"},x=function(v){return v!=null&&v===v.window},D=t.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function N(f,v,C){C=C||D;var E,I,M=C.createElement("script");if(M.text=f,v)for(E in T)I=v[E]||v.getAttribute&&v.getAttribute(E),I&&M.setAttribute(E,I);C.head.appendChild(M).parentNode.removeChild(M)}function G(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?l[d.call(f)]||"object":typeof f}var U="3.7.1",re=/HTML$/i,_=function(f,v){return new _.fn.init(f,v)};_.fn=_.prototype={jquery:U,constructor:_,length:0,toArray:function(){return r.call(this)},get:function(f){return f==null?r.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var v=_.merge(this.constructor(),f);return v.prevObject=this,v},each:function(f){return _.each(this,f)},map:function(f){return this.pushStack(_.map(this,function(v,C){return f.call(v,C,v)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,function(f,v){return(v+1)%2}))},odd:function(){return this.pushStack(_.grep(this,function(f,v){return v%2}))},eq:function(f){var v=this.length,C=+f+(f<0?v:0);return this.pushStack(C>=0&&C<v?[this[C]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},_.extend=_.fn.extend=function(){var f,v,C,E,I,M,k=arguments[0]||{},ee=1,Y=arguments.length,de=!1;for(typeof k=="boolean"&&(de=k,k=arguments[ee]||{},ee++),typeof k!="object"&&!c(k)&&(k={}),ee===Y&&(k=this,ee--);ee<Y;ee++)if((f=arguments[ee])!=null)for(v in f)E=f[v],!(v==="__proto__"||k===E)&&(de&&E&&(_.isPlainObject(E)||(I=Array.isArray(E)))?(C=k[v],I&&!Array.isArray(C)?M=[]:!I&&!_.isPlainObject(C)?M={}:M=C,I=!1,k[v]=_.extend(de,M,E)):E!==void 0&&(k[v]=E));return k},_.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var v,C;return!f||d.call(f)!=="[object Object]"?!1:(v=n(f),v?(C=u.call(v,"constructor")&&v.constructor,typeof C=="function"&&h.call(C)===p):!0)},isEmptyObject:function(f){var v;for(v in f)return!1;return!0},globalEval:function(f,v,C){N(f,{nonce:v&&v.nonce},C)},each:function(f,v){var C,E=0;if(Oe(f))for(C=f.length;E<C&&v.call(f[E],E,f[E])!==!1;E++);else for(E in f)if(v.call(f[E],E,f[E])===!1)break;return f},text:function(f){var v,C="",E=0,I=f.nodeType;if(!I)for(;v=f[E++];)C+=_.text(v);return I===1||I===11?f.textContent:I===9?f.documentElement.textContent:I===3||I===4?f.nodeValue:C},makeArray:function(f,v){var C=v||[];return f!=null&&(Oe(Object(f))?_.merge(C,typeof f=="string"?[f]:f):s.call(C,f)),C},inArray:function(f,v,C){return v==null?-1:a.call(v,f,C)},isXMLDoc:function(f){var v=f&&f.namespaceURI,C=f&&(f.ownerDocument||f).documentElement;return!re.test(v||C&&C.nodeName||"HTML")},merge:function(f,v){for(var C=+v.length,E=0,I=f.length;E<C;E++)f[I++]=v[E];return f.length=I,f},grep:function(f,v,C){for(var E,I=[],M=0,k=f.length,ee=!C;M<k;M++)E=!v(f[M],M),E!==ee&&I.push(f[M]);return I},map:function(f,v,C){var E,I,M=0,k=[];if(Oe(f))for(E=f.length;M<E;M++)I=v(f[M],M,C),I!=null&&k.push(I);else for(M in f)I=v(f[M],M,C),I!=null&&k.push(I);return o(k)},guid:1,support:m}),typeof Symbol=="function"&&(_.fn[Symbol.iterator]=i[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,v){l["[object "+v+"]"]=v.toLowerCase()});function Oe(f){var v=!!f&&"length"in f&&f.length,C=G(f);return c(f)||x(f)?!1:C==="array"||v===0||typeof v=="number"&&v>0&&v-1 in f}function fe(f,v){return f.nodeName&&f.nodeName.toLowerCase()===v.toLowerCase()}var we=i.pop,We=i.sort,b=i.splice,w="[\\x20\\t\\r\\n\\f]",A=new RegExp("^"+w+"+|((?:^|[^\\\\])(?:\\\\.)*)"+w+"+$","g");_.contains=function(f,v){var C=v&&v.parentNode;return f===C||!!(C&&C.nodeType===1&&(f.contains?f.contains(C):f.compareDocumentPosition&&f.compareDocumentPosition(C)&16))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function B(f,v){return v?f==="\0"?"\uFFFD":f.slice(0,-1)+"\\"+f.charCodeAt(f.length-1).toString(16)+" ":"\\"+f}_.escapeSelector=function(f){return(f+"").replace(R,B)};var z=D,K=s;(function(){var f,v,C,E,I,M=K,k,ee,Y,de,De,Me=_.expando,me=0,He=0,Gt=cx(),Fi=cx(),di=cx(),Mr=cx(),cr=function($,se){return $===se&&(I=!0),0},Ma="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Aa="(?:\\\\[\\da-fA-F]{1,6}"+w+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ii="\\["+w+"*("+Aa+")(?:"+w+"*([*^$|!~]?=)"+w+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Aa+"))|)"+w+"*\\]",yc=":("+Aa+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ii+")*)|.*)\\)|)",Li=new RegExp(w+"+","g"),Pn=new RegExp("^"+w+"*,"+w+"*"),vm=new RegExp("^"+w+"*([>+~]|"+w+")"+w+"*"),$S=new RegExp(w+"|>"),Ra=new RegExp(yc),_m=new RegExp("^"+Aa+"$"),Fa={ID:new RegExp("^#("+Aa+")"),CLASS:new RegExp("^\\.("+Aa+")"),TAG:new RegExp("^("+Aa+"|[*])"),ATTR:new RegExp("^"+Ii),PSEUDO:new RegExp("^"+yc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+w+"*(even|odd|(([+-]|)(\\d*)n|)"+w+"*(?:([+-]|)"+w+"*(\\d+)|))"+w+"*\\)|)","i"),bool:new RegExp("^(?:"+Ma+")$","i"),needsContext:new RegExp("^"+w+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+w+"*((?:-\\d)?\\d*)"+w+"*\\)|)(?=[^-]|$)","i")},qd=/^(?:input|select|textarea|button)$/i,Jd=/^h\d$/i,ds=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,GS=/[+~]/,Fl=new RegExp("\\\\[\\da-fA-F]{1,6}"+w+"?|\\\\([^\\r\\n\\f])","g"),Pl=function($,se){var pe="0x"+$.slice(1)-65536;return se||(pe<0?String.fromCharCode(pe+65536):String.fromCharCode(pe>>10|55296,pe&1023|56320))},Ire=function(){Yd()},Tre=px(function($){return $.disabled===!0&&fe($,"fieldset")},{dir:"parentNode",next:"legend"});function Mre(){try{return k.activeElement}catch{}}try{M.apply(i=r.call(z.childNodes),z.childNodes),i[z.childNodes.length].nodeType}catch{M={apply:function(se,pe){K.apply(se,r.call(pe))},call:function(se){K.apply(se,r.call(arguments,1))}}}function Qi($,se,pe,xe){var Te,Ye,ut,Ct,ct,yi,Ht,Yt=se&&se.ownerDocument,bi=se?se.nodeType:9;if(pe=pe||[],typeof $!="string"||!$||bi!==1&&bi!==9&&bi!==11)return pe;if(!xe&&(Yd(se),se=se||k,Y)){if(bi!==11&&(ct=ds.exec($)))if(Te=ct[1]){if(bi===9)if(ut=se.getElementById(Te)){if(ut.id===Te)return M.call(pe,ut),pe}else return pe;else if(Yt&&(ut=Yt.getElementById(Te))&&Qi.contains(se,ut)&&ut.id===Te)return M.call(pe,ut),pe}else{if(ct[2])return M.apply(pe,se.getElementsByTagName($)),pe;if((Te=ct[3])&&se.getElementsByClassName)return M.apply(pe,se.getElementsByClassName(Te)),pe}if(!Mr[$+" "]&&(!de||!de.test($))){if(Ht=$,Yt=se,bi===1&&($S.test($)||vm.test($))){for(Yt=GS.test($)&&US(se.parentNode)||se,(Yt!=se||!m.scope)&&((Ct=se.getAttribute("id"))?Ct=_.escapeSelector(Ct):se.setAttribute("id",Ct=Me)),yi=Cm($),Ye=yi.length;Ye--;)yi[Ye]=(Ct?"#"+Ct:":scope")+" "+hx(yi[Ye]);Ht=yi.join(",")}try{return M.apply(pe,Yt.querySelectorAll(Ht)),pe}catch{Mr($,!0)}finally{Ct===Me&&se.removeAttribute("id")}}}return bH($.replace(A,"$1"),se,pe,xe)}function cx(){var $=[];function se(pe,xe){return $.push(pe+" ")>v.cacheLength&&delete se[$.shift()],se[pe+" "]=xe}return se}function Us($){return $[Me]=!0,$}function mp($){var se=k.createElement("fieldset");try{return!!$(se)}catch{return!1}finally{se.parentNode&&se.parentNode.removeChild(se),se=null}}function Are($){return function(se){return fe(se,"input")&&se.type===$}}function Rre($){return function(se){return(fe(se,"input")||fe(se,"button"))&&se.type===$}}function xH($){return function(se){return"form"in se?se.parentNode&&se.disabled===!1?"label"in se?"label"in se.parentNode?se.parentNode.disabled===$:se.disabled===$:se.isDisabled===$||se.isDisabled!==!$&&Tre(se)===$:se.disabled===$:"label"in se?se.disabled===$:!1}}function bc($){return Us(function(se){return se=+se,Us(function(pe,xe){for(var Te,Ye=$([],pe.length,se),ut=Ye.length;ut--;)pe[Te=Ye[ut]]&&(pe[Te]=!(xe[Te]=pe[Te]))})})}function US($){return $&&typeof $.getElementsByTagName<"u"&&$}function Yd($){var se,pe=$?$.ownerDocument||$:z;return pe==k||pe.nodeType!==9||!pe.documentElement||(k=pe,ee=k.documentElement,Y=!_.isXMLDoc(k),De=ee.matches||ee.webkitMatchesSelector||ee.msMatchesSelector,ee.msMatchesSelector&&z!=k&&(se=k.defaultView)&&se.top!==se&&se.addEventListener("unload",Ire),m.getById=mp(function(xe){return ee.appendChild(xe).id=_.expando,!k.getElementsByName||!k.getElementsByName(_.expando).length}),m.disconnectedMatch=mp(function(xe){return De.call(xe,"*")}),m.scope=mp(function(){return k.querySelectorAll(":scope")}),m.cssHas=mp(function(){try{return k.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),m.getById?(v.filter.ID=function(xe){var Te=xe.replace(Fl,Pl);return function(Ye){return Ye.getAttribute("id")===Te}},v.find.ID=function(xe,Te){if(typeof Te.getElementById<"u"&&Y){var Ye=Te.getElementById(xe);return Ye?[Ye]:[]}}):(v.filter.ID=function(xe){var Te=xe.replace(Fl,Pl);return function(Ye){var ut=typeof Ye.getAttributeNode<"u"&&Ye.getAttributeNode("id");return ut&&ut.value===Te}},v.find.ID=function(xe,Te){if(typeof Te.getElementById<"u"&&Y){var Ye,ut,Ct,ct=Te.getElementById(xe);if(ct){if(Ye=ct.getAttributeNode("id"),Ye&&Ye.value===xe)return[ct];for(Ct=Te.getElementsByName(xe),ut=0;ct=Ct[ut++];)if(Ye=ct.getAttributeNode("id"),Ye&&Ye.value===xe)return[ct]}return[]}}),v.find.TAG=function(xe,Te){return typeof Te.getElementsByTagName<"u"?Te.getElementsByTagName(xe):Te.querySelectorAll(xe)},v.find.CLASS=function(xe,Te){if(typeof Te.getElementsByClassName<"u"&&Y)return Te.getElementsByClassName(xe)},de=[],mp(function(xe){var Te;ee.appendChild(xe).innerHTML="<a id='"+Me+"' href='' disabled='disabled'></a><select id='"+Me+"-\r\\' disabled='disabled'><option selected=''></option></select>",xe.querySelectorAll("[selected]").length||de.push("\\["+w+"*(?:value|"+Ma+")"),xe.querySelectorAll("[id~="+Me+"-]").length||de.push("~="),xe.querySelectorAll("a#"+Me+"+*").length||de.push(".#.+[+~]"),xe.querySelectorAll(":checked").length||de.push(":checked"),Te=k.createElement("input"),Te.setAttribute("type","hidden"),xe.appendChild(Te).setAttribute("name","D"),ee.appendChild(xe).disabled=!0,xe.querySelectorAll(":disabled").length!==2&&de.push(":enabled",":disabled"),Te=k.createElement("input"),Te.setAttribute("name",""),xe.appendChild(Te),xe.querySelectorAll("[name='']").length||de.push("\\["+w+"*name"+w+"*="+w+`*(?:''|"")`)}),m.cssHas||de.push(":has"),de=de.length&&new RegExp(de.join("|")),cr=function(xe,Te){if(xe===Te)return I=!0,0;var Ye=!xe.compareDocumentPosition-!Te.compareDocumentPosition;return Ye||(Ye=(xe.ownerDocument||xe)==(Te.ownerDocument||Te)?xe.compareDocumentPosition(Te):1,Ye&1||!m.sortDetached&&Te.compareDocumentPosition(xe)===Ye?xe===k||xe.ownerDocument==z&&Qi.contains(z,xe)?-1:Te===k||Te.ownerDocument==z&&Qi.contains(z,Te)?1:E?a.call(E,xe)-a.call(E,Te):0:Ye&4?-1:1)}),k}Qi.matches=function($,se){return Qi($,null,null,se)},Qi.matchesSelector=function($,se){if(Yd($),Y&&!Mr[se+" "]&&(!de||!de.test(se)))try{var pe=De.call($,se);if(pe||m.disconnectedMatch||$.document&&$.document.nodeType!==11)return pe}catch{Mr(se,!0)}return Qi(se,k,null,[$]).length>0},Qi.contains=function($,se){return($.ownerDocument||$)!=k&&Yd($),_.contains($,se)},Qi.attr=function($,se){($.ownerDocument||$)!=k&&Yd($);var pe=v.attrHandle[se.toLowerCase()],xe=pe&&u.call(v.attrHandle,se.toLowerCase())?pe($,se,!Y):void 0;return xe!==void 0?xe:$.getAttribute(se)},Qi.error=function($){throw new Error("Syntax error, unrecognized expression: "+$)},_.uniqueSort=function($){var se,pe=[],xe=0,Te=0;if(I=!m.sortStable,E=!m.sortStable&&r.call($,0),We.call($,cr),I){for(;se=$[Te++];)se===$[Te]&&(xe=pe.push(Te));for(;xe--;)b.call($,pe[xe],1)}return E=null,$},_.fn.uniqueSort=function(){return this.pushStack(_.uniqueSort(r.apply(this)))},v=_.expr={cacheLength:50,createPseudo:Us,match:Fa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function($){return $[1]=$[1].replace(Fl,Pl),$[3]=($[3]||$[4]||$[5]||"").replace(Fl,Pl),$[2]==="~="&&($[3]=" "+$[3]+" "),$.slice(0,4)},CHILD:function($){return $[1]=$[1].toLowerCase(),$[1].slice(0,3)==="nth"?($[3]||Qi.error($[0]),$[4]=+($[4]?$[5]+($[6]||1):2*($[3]==="even"||$[3]==="odd")),$[5]=+($[7]+$[8]||$[3]==="odd")):$[3]&&Qi.error($[0]),$},PSEUDO:function($){var se,pe=!$[6]&&$[2];return Fa.CHILD.test($[0])?null:($[3]?$[2]=$[4]||$[5]||"":pe&&Ra.test(pe)&&(se=Cm(pe,!0))&&(se=pe.indexOf(")",pe.length-se)-pe.length)&&($[0]=$[0].slice(0,se),$[2]=pe.slice(0,se)),$.slice(0,3))}},filter:{TAG:function($){var se=$.replace(Fl,Pl).toLowerCase();return $==="*"?function(){return!0}:function(pe){return fe(pe,se)}},CLASS:function($){var se=Gt[$+" "];return se||(se=new RegExp("(^|"+w+")"+$+"("+w+"|$)"))&&Gt($,function(pe){return se.test(typeof pe.className=="string"&&pe.className||typeof pe.getAttribute<"u"&&pe.getAttribute("class")||"")})},ATTR:function($,se,pe){return function(xe){var Te=Qi.attr(xe,$);return Te==null?se==="!=":se?(Te+="",se==="="?Te===pe:se==="!="?Te!==pe:se==="^="?pe&&Te.indexOf(pe)===0:se==="*="?pe&&Te.indexOf(pe)>-1:se==="$="?pe&&Te.slice(-pe.length)===pe:se==="~="?(" "+Te.replace(Li," ")+" ").indexOf(pe)>-1:se==="|="?Te===pe||Te.slice(0,pe.length+1)===pe+"-":!1):!0}},CHILD:function($,se,pe,xe,Te){var Ye=$.slice(0,3)!=="nth",ut=$.slice(-4)!=="last",Ct=se==="of-type";return xe===1&&Te===0?function(ct){return!!ct.parentNode}:function(ct,yi,Ht){var Yt,bi,Lt,un,So,jr=Ye!==ut?"nextSibling":"previousSibling",us=ct.parentNode,Pa=Ct&&ct.nodeName.toLowerCase(),vp=!Ht&&!Ct,oo=!1;if(us){if(Ye){for(;jr;){for(Lt=ct;Lt=Lt[jr];)if(Ct?fe(Lt,Pa):Lt.nodeType===1)return!1;So=jr=$==="only"&&!So&&"nextSibling"}return!0}if(So=[ut?us.firstChild:us.lastChild],ut&&vp){for(bi=us[Me]||(us[Me]={}),Yt=bi[$]||[],un=Yt[0]===me&&Yt[1],oo=un&&Yt[2],Lt=un&&us.childNodes[un];Lt=++un&&Lt&&Lt[jr]||(oo=un=0)||So.pop();)if(Lt.nodeType===1&&++oo&&Lt===ct){bi[$]=[me,un,oo];break}}else if(vp&&(bi=ct[Me]||(ct[Me]={}),Yt=bi[$]||[],un=Yt[0]===me&&Yt[1],oo=un),oo===!1)for(;(Lt=++un&&Lt&&Lt[jr]||(oo=un=0)||So.pop())&&!((Ct?fe(Lt,Pa):Lt.nodeType===1)&&++oo&&(vp&&(bi=Lt[Me]||(Lt[Me]={}),bi[$]=[me,oo]),Lt===ct)););return oo-=Te,oo===xe||oo%xe===0&&oo/xe>=0}}},PSEUDO:function($,se){var pe,xe=v.pseudos[$]||v.setFilters[$.toLowerCase()]||Qi.error("unsupported pseudo: "+$);return xe[Me]?xe(se):xe.length>1?(pe=[$,$,"",se],v.setFilters.hasOwnProperty($.toLowerCase())?Us(function(Te,Ye){for(var ut,Ct=xe(Te,se),ct=Ct.length;ct--;)ut=a.call(Te,Ct[ct]),Te[ut]=!(Ye[ut]=Ct[ct])}):function(Te){return xe(Te,0,pe)}):xe}},pseudos:{not:Us(function($){var se=[],pe=[],xe=YS($.replace(A,"$1"));return xe[Me]?Us(function(Te,Ye,ut,Ct){for(var ct,yi=xe(Te,null,Ct,[]),Ht=Te.length;Ht--;)(ct=yi[Ht])&&(Te[Ht]=!(Ye[Ht]=ct))}):function(Te,Ye,ut){return se[0]=Te,xe(se,null,ut,pe),se[0]=null,!pe.pop()}}),has:Us(function($){return function(se){return Qi($,se).length>0}}),contains:Us(function($){return $=$.replace(Fl,Pl),function(se){return(se.textContent||_.text(se)).indexOf($)>-1}}),lang:Us(function($){return _m.test($||"")||Qi.error("unsupported lang: "+$),$=$.replace(Fl,Pl).toLowerCase(),function(se){var pe;do if(pe=Y?se.lang:se.getAttribute("xml:lang")||se.getAttribute("lang"))return pe=pe.toLowerCase(),pe===$||pe.indexOf($+"-")===0;while((se=se.parentNode)&&se.nodeType===1);return!1}}),target:function($){var se=t.location&&t.location.hash;return se&&se.slice(1)===$.id},root:function($){return $===ee},focus:function($){return $===Mre()&&k.hasFocus()&&!!($.type||$.href||~$.tabIndex)},enabled:xH(!1),disabled:xH(!0),checked:function($){return fe($,"input")&&!!$.checked||fe($,"option")&&!!$.selected},selected:function($){return $.parentNode&&$.parentNode.selectedIndex,$.selected===!0},empty:function($){for($=$.firstChild;$;$=$.nextSibling)if($.nodeType<6)return!1;return!0},parent:function($){return!v.pseudos.empty($)},header:function($){return Jd.test($.nodeName)},input:function($){return qd.test($.nodeName)},button:function($){return fe($,"input")&&$.type==="button"||fe($,"button")},text:function($){var se;return fe($,"input")&&$.type==="text"&&((se=$.getAttribute("type"))==null||se.toLowerCase()==="text")},first:bc(function(){return[0]}),last:bc(function($,se){return[se-1]}),eq:bc(function($,se,pe){return[pe<0?pe+se:pe]}),even:bc(function($,se){for(var pe=0;pe<se;pe+=2)$.push(pe);return $}),odd:bc(function($,se){for(var pe=1;pe<se;pe+=2)$.push(pe);return $}),lt:bc(function($,se,pe){var xe;for(pe<0?xe=pe+se:pe>se?xe=se:xe=pe;--xe>=0;)$.push(xe);return $}),gt:bc(function($,se,pe){for(var xe=pe<0?pe+se:pe;++xe<se;)$.push(xe);return $})}},v.pseudos.nth=v.pseudos.eq;for(f in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[f]=Are(f);for(f in{submit:!0,reset:!0})v.pseudos[f]=Rre(f);function yH(){}yH.prototype=v.filters=v.pseudos,v.setFilters=new yH;function Cm($,se){var pe,xe,Te,Ye,ut,Ct,ct,yi=Fi[$+" "];if(yi)return se?0:yi.slice(0);for(ut=$,Ct=[],ct=v.preFilter;ut;){(!pe||(xe=Pn.exec(ut)))&&(xe&&(ut=ut.slice(xe[0].length)||ut),Ct.push(Te=[])),pe=!1,(xe=vm.exec(ut))&&(pe=xe.shift(),Te.push({value:pe,type:xe[0].replace(A," ")}),ut=ut.slice(pe.length));for(Ye in v.filter)(xe=Fa[Ye].exec(ut))&&(!ct[Ye]||(xe=ct[Ye](xe)))&&(pe=xe.shift(),Te.push({value:pe,type:Ye,matches:xe}),ut=ut.slice(pe.length));if(!pe)break}return se?ut.length:ut?Qi.error($):Fi($,Ct).slice(0)}function hx($){for(var se=0,pe=$.length,xe="";se<pe;se++)xe+=$[se].value;return xe}function px($,se,pe){var xe=se.dir,Te=se.next,Ye=Te||xe,ut=pe&&Ye==="parentNode",Ct=He++;return se.first?function(ct,yi,Ht){for(;ct=ct[xe];)if(ct.nodeType===1||ut)return $(ct,yi,Ht);return!1}:function(ct,yi,Ht){var Yt,bi,Lt=[me,Ct];if(Ht){for(;ct=ct[xe];)if((ct.nodeType===1||ut)&&$(ct,yi,Ht))return!0}else for(;ct=ct[xe];)if(ct.nodeType===1||ut)if(bi=ct[Me]||(ct[Me]={}),Te&&fe(ct,Te))ct=ct[xe]||ct;else{if((Yt=bi[Ye])&&Yt[0]===me&&Yt[1]===Ct)return Lt[2]=Yt[2];if(bi[Ye]=Lt,Lt[2]=$(ct,yi,Ht))return!0}return!1}}function KS($){return $.length>1?function(se,pe,xe){for(var Te=$.length;Te--;)if(!$[Te](se,pe,xe))return!1;return!0}:$[0]}function Fre($,se,pe){for(var xe=0,Te=se.length;xe<Te;xe++)Qi($,se[xe],pe);return pe}function fx($,se,pe,xe,Te){for(var Ye,ut=[],Ct=0,ct=$.length,yi=se!=null;Ct<ct;Ct++)(Ye=$[Ct])&&(!pe||pe(Ye,xe,Te))&&(ut.push(Ye),yi&&se.push(Ct));return ut}function qS($,se,pe,xe,Te,Ye){return xe&&!xe[Me]&&(xe=qS(xe)),Te&&!Te[Me]&&(Te=qS(Te,Ye)),Us(function(ut,Ct,ct,yi){var Ht,Yt,bi,Lt,un=[],So=[],jr=Ct.length,us=ut||Fre(se||"*",ct.nodeType?[ct]:ct,[]),Pa=$&&(ut||!se)?fx(us,un,$,ct,yi):us;if(pe?(Lt=Te||(ut?$:jr||xe)?[]:Ct,pe(Pa,Lt,ct,yi)):Lt=Pa,xe)for(Ht=fx(Lt,So),xe(Ht,[],ct,yi),Yt=Ht.length;Yt--;)(bi=Ht[Yt])&&(Lt[So[Yt]]=!(Pa[So[Yt]]=bi));if(ut){if(Te||$){if(Te){for(Ht=[],Yt=Lt.length;Yt--;)(bi=Lt[Yt])&&Ht.push(Pa[Yt]=bi);Te(null,Lt=[],Ht,yi)}for(Yt=Lt.length;Yt--;)(bi=Lt[Yt])&&(Ht=Te?a.call(ut,bi):un[Yt])>-1&&(ut[Ht]=!(Ct[Ht]=bi))}}else Lt=fx(Lt===Ct?Lt.splice(jr,Lt.length):Lt),Te?Te(null,Ct,Lt,yi):M.apply(Ct,Lt)})}function JS($){for(var se,pe,xe,Te=$.length,Ye=v.relative[$[0].type],ut=Ye||v.relative[" "],Ct=Ye?1:0,ct=px(function(Yt){return Yt===se},ut,!0),yi=px(function(Yt){return a.call(se,Yt)>-1},ut,!0),Ht=[function(Yt,bi,Lt){var un=!Ye&&(Lt||bi!=C)||((se=bi).nodeType?ct(Yt,bi,Lt):yi(Yt,bi,Lt));return se=null,un}];Ct<Te;Ct++)if(pe=v.relative[$[Ct].type])Ht=[px(KS(Ht),pe)];else{if(pe=v.filter[$[Ct].type].apply(null,$[Ct].matches),pe[Me]){for(xe=++Ct;xe<Te&&!v.relative[$[xe].type];xe++);return qS(Ct>1&&KS(Ht),Ct>1&&hx($.slice(0,Ct-1).concat({value:$[Ct-2].type===" "?"*":""})).replace(A,"$1"),pe,Ct<xe&&JS($.slice(Ct,xe)),xe<Te&&JS($=$.slice(xe)),xe<Te&&hx($))}Ht.push(pe)}return KS(Ht)}function Pre($,se){var pe=se.length>0,xe=$.length>0,Te=function(Ye,ut,Ct,ct,yi){var Ht,Yt,bi,Lt=0,un="0",So=Ye&&[],jr=[],us=C,Pa=Ye||xe&&v.find.TAG("*",yi),vp=me+=us==null?1:Math.random()||.1,oo=Pa.length;for(yi&&(C=ut==k||ut||yi);un!==oo&&(Ht=Pa[un])!=null;un++){if(xe&&Ht){for(Yt=0,!ut&&Ht.ownerDocument!=k&&(Yd(Ht),Ct=!Y);bi=$[Yt++];)if(bi(Ht,ut||k,Ct)){M.call(ct,Ht);break}yi&&(me=vp)}pe&&((Ht=!bi&&Ht)&&Lt--,Ye&&So.push(Ht))}if(Lt+=un,pe&&un!==Lt){for(Yt=0;bi=se[Yt++];)bi(So,jr,ut,Ct);if(Ye){if(Lt>0)for(;un--;)So[un]||jr[un]||(jr[un]=we.call(ct));jr=fx(jr)}M.apply(ct,jr),yi&&!Ye&&jr.length>0&&Lt+se.length>1&&_.uniqueSort(ct)}return yi&&(me=vp,C=us),So};return pe?Us(Te):Te}function YS($,se){var pe,xe=[],Te=[],Ye=di[$+" "];if(!Ye){for(se||(se=Cm($)),pe=se.length;pe--;)Ye=JS(se[pe]),Ye[Me]?xe.push(Ye):Te.push(Ye);Ye=di($,Pre(Te,xe)),Ye.selector=$}return Ye}function bH($,se,pe,xe){var Te,Ye,ut,Ct,ct,yi=typeof $=="function"&&$,Ht=!xe&&Cm($=yi.selector||$);if(pe=pe||[],Ht.length===1){if(Ye=Ht[0]=Ht[0].slice(0),Ye.length>2&&(ut=Ye[0]).type==="ID"&&se.nodeType===9&&Y&&v.relative[Ye[1].type]){if(se=(v.find.ID(ut.matches[0].replace(Fl,Pl),se)||[])[0],se)yi&&(se=se.parentNode);else return pe;$=$.slice(Ye.shift().value.length)}for(Te=Fa.needsContext.test($)?0:Ye.length;Te--&&(ut=Ye[Te],!v.relative[Ct=ut.type]);)if((ct=v.find[Ct])&&(xe=ct(ut.matches[0].replace(Fl,Pl),GS.test(Ye[0].type)&&US(se.parentNode)||se))){if(Ye.splice(Te,1),$=xe.length&&hx(Ye),!$)return M.apply(pe,xe),pe;break}}return(yi||YS($,Ht))(xe,se,!Y,pe,!se||GS.test($)&&US(se.parentNode)||se),pe}m.sortStable=Me.split("").sort(cr).join("")===Me,Yd(),m.sortDetached=mp(function($){return $.compareDocumentPosition(k.createElement("fieldset"))&1}),_.find=Qi,_.expr[":"]=_.expr.pseudos,_.unique=_.uniqueSort,Qi.compile=YS,Qi.select=bH,Qi.setDocument=Yd,Qi.tokenize=Cm,Qi.escape=_.escapeSelector,Qi.getText=_.text,Qi.isXML=_.isXMLDoc,Qi.selectors=_.expr,Qi.support=_.support,Qi.uniqueSort=_.uniqueSort})();var q=function(f,v,C){for(var E=[],I=C!==void 0;(f=f[v])&&f.nodeType!==9;)if(f.nodeType===1){if(I&&_(f).is(C))break;E.push(f)}return E},V=function(f,v){for(var C=[];f;f=f.nextSibling)f.nodeType===1&&f!==v&&C.push(f);return C},L=_.expr.match.needsContext,X=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(f,v,C){return c(v)?_.grep(f,function(E,I){return!!v.call(E,I,E)!==C}):v.nodeType?_.grep(f,function(E){return E===v!==C}):typeof v!="string"?_.grep(f,function(E){return a.call(v,E)>-1!==C}):_.filter(v,f,C)}_.filter=function(f,v,C){var E=v[0];return C&&(f=":not("+f+")"),v.length===1&&E.nodeType===1?_.find.matchesSelector(E,f)?[E]:[]:_.find.matches(f,_.grep(v,function(I){return I.nodeType===1}))},_.fn.extend({find:function(f){var v,C,E=this.length,I=this;if(typeof f!="string")return this.pushStack(_(f).filter(function(){for(v=0;v<E;v++)if(_.contains(I[v],this))return!0}));for(C=this.pushStack([]),v=0;v<E;v++)_.find(f,I[v],C);return E>1?_.uniqueSort(C):C},filter:function(f){return this.pushStack(J(this,f||[],!1))},not:function(f){return this.pushStack(J(this,f||[],!0))},is:function(f){return!!J(this,typeof f=="string"&&L.test(f)?_(f):f||[],!1).length}});var ae,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Q=_.fn.init=function(f,v,C){var E,I;if(!f)return this;if(C=C||ae,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?E=[null,f,null]:E=P.exec(f),E&&(E[1]||!v))if(E[1]){if(v=v instanceof _?v[0]:v,_.merge(this,_.parseHTML(E[1],v&&v.nodeType?v.ownerDocument||v:D,!0)),X.test(E[1])&&_.isPlainObject(v))for(E in v)c(this[E])?this[E](v[E]):this.attr(E,v[E]);return this}else return I=D.getElementById(E[2]),I&&(this[0]=I,this.length=1),this;else return!v||v.jquery?(v||C).find(f):this.constructor(v).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(c(f))return C.ready!==void 0?C.ready(f):f(_)}return _.makeArray(f,this)};Q.prototype=_.fn,ae=_(D);var Z=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};_.fn.extend({has:function(f){var v=_(f,this),C=v.length;return this.filter(function(){for(var E=0;E<C;E++)if(_.contains(this,v[E]))return!0})},closest:function(f,v){var C,E=0,I=this.length,M=[],k=typeof f!="string"&&_(f);if(!L.test(f)){for(;E<I;E++)for(C=this[E];C&&C!==v;C=C.parentNode)if(C.nodeType<11&&(k?k.index(C)>-1:C.nodeType===1&&_.find.matchesSelector(C,f))){M.push(C);break}}return this.pushStack(M.length>1?_.uniqueSort(M):M)},index:function(f){return f?typeof f=="string"?a.call(_(f),this[0]):a.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,v){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(f,v))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function Re(f,v){for(;(f=f[v])&&f.nodeType!==1;);return f}_.each({parent:function(f){var v=f.parentNode;return v&&v.nodeType!==11?v:null},parents:function(f){return q(f,"parentNode")},parentsUntil:function(f,v,C){return q(f,"parentNode",C)},next:function(f){return Re(f,"nextSibling")},prev:function(f){return Re(f,"previousSibling")},nextAll:function(f){return q(f,"nextSibling")},prevAll:function(f){return q(f,"previousSibling")},nextUntil:function(f,v,C){return q(f,"nextSibling",C)},prevUntil:function(f,v,C){return q(f,"previousSibling",C)},siblings:function(f){return V((f.parentNode||{}).firstChild,f)},children:function(f){return V(f.firstChild)},contents:function(f){return f.contentDocument!=null&&n(f.contentDocument)?f.contentDocument:(fe(f,"template")&&(f=f.content||f),_.merge([],f.childNodes))}},function(f,v){_.fn[f]=function(C,E){var I=_.map(this,v,C);return f.slice(-5)!=="Until"&&(E=C),E&&typeof E=="string"&&(I=_.filter(E,I)),this.length>1&&(ge[f]||_.uniqueSort(I),Z.test(f)&&I.reverse()),this.pushStack(I)}});var le=/[^\x20\t\r\n\f]+/g;function Ee(f){var v={};return _.each(f.match(le)||[],function(C,E){v[E]=!0}),v}_.Callbacks=function(f){f=typeof f=="string"?Ee(f):_.extend({},f);var v,C,E,I,M=[],k=[],ee=-1,Y=function(){for(I=I||f.once,E=v=!0;k.length;ee=-1)for(C=k.shift();++ee<M.length;)M[ee].apply(C[0],C[1])===!1&&f.stopOnFalse&&(ee=M.length,C=!1);f.memory||(C=!1),v=!1,I&&(C?M=[]:M="")},de={add:function(){return M&&(C&&!v&&(ee=M.length-1,k.push(C)),function De(Me){_.each(Me,function(me,He){c(He)?(!f.unique||!de.has(He))&&M.push(He):He&&He.length&&G(He)!=="string"&&De(He)})}(arguments),C&&!v&&Y()),this},remove:function(){return _.each(arguments,function(De,Me){for(var me;(me=_.inArray(Me,M,me))>-1;)M.splice(me,1),me<=ee&&ee--}),this},has:function(De){return De?_.inArray(De,M)>-1:M.length>0},empty:function(){return M&&(M=[]),this},disable:function(){return I=k=[],M=C="",this},disabled:function(){return!M},lock:function(){return I=k=[],!C&&!v&&(M=C=""),this},locked:function(){return!!I},fireWith:function(De,Me){return I||(Me=Me||[],Me=[De,Me.slice?Me.slice():Me],k.push(Me),v||Y()),this},fire:function(){return de.fireWith(this,arguments),this},fired:function(){return!!E}};return de};function Fe(f){return f}function tt(f){throw f}function Ze(f,v,C,E){var I;try{f&&c(I=f.promise)?I.call(f).done(v).fail(C):f&&c(I=f.then)?I.call(f,v,C):v.apply(void 0,[f].slice(E))}catch(M){C.apply(void 0,[M])}}_.extend({Deferred:function(f){var v=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],C="pending",E={state:function(){return C},always:function(){return I.done(arguments).fail(arguments),this},catch:function(M){return E.then(null,M)},pipe:function(){var M=arguments;return _.Deferred(function(k){_.each(v,function(ee,Y){var de=c(M[Y[4]])&&M[Y[4]];I[Y[1]](function(){var De=de&&de.apply(this,arguments);De&&c(De.promise)?De.promise().progress(k.notify).done(k.resolve).fail(k.reject):k[Y[0]+"With"](this,de?[De]:arguments)})}),M=null}).promise()},then:function(M,k,ee){var Y=0;function de(De,Me,me,He){return function(){var Gt=this,Fi=arguments,di=function(){var cr,Ma;if(!(De<Y)){if(cr=me.apply(Gt,Fi),cr===Me.promise())throw new TypeError("Thenable self-resolution");Ma=cr&&(typeof cr=="object"||typeof cr=="function")&&cr.then,c(Ma)?He?Ma.call(cr,de(Y,Me,Fe,He),de(Y,Me,tt,He)):(Y++,Ma.call(cr,de(Y,Me,Fe,He),de(Y,Me,tt,He),de(Y,Me,Fe,Me.notifyWith))):(me!==Fe&&(Gt=void 0,Fi=[cr]),(He||Me.resolveWith)(Gt,Fi))}},Mr=He?di:function(){try{di()}catch(cr){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(cr,Mr.error),De+1>=Y&&(me!==tt&&(Gt=void 0,Fi=[cr]),Me.rejectWith(Gt,Fi))}};De?Mr():(_.Deferred.getErrorHook?Mr.error=_.Deferred.getErrorHook():_.Deferred.getStackHook&&(Mr.error=_.Deferred.getStackHook()),t.setTimeout(Mr))}}return _.Deferred(function(De){v[0][3].add(de(0,De,c(ee)?ee:Fe,De.notifyWith)),v[1][3].add(de(0,De,c(M)?M:Fe)),v[2][3].add(de(0,De,c(k)?k:tt))}).promise()},promise:function(M){return M!=null?_.extend(M,E):E}},I={};return _.each(v,function(M,k){var ee=k[2],Y=k[5];E[k[1]]=ee.add,Y&&ee.add(function(){C=Y},v[3-M][2].disable,v[3-M][3].disable,v[0][2].lock,v[0][3].lock),ee.add(k[3].fire),I[k[0]]=function(){return I[k[0]+"With"](this===I?void 0:this,arguments),this},I[k[0]+"With"]=ee.fireWith}),E.promise(I),f&&f.call(I,I),I},when:function(f){var v=arguments.length,C=v,E=Array(C),I=r.call(arguments),M=_.Deferred(),k=function(ee){return function(Y){E[ee]=this,I[ee]=arguments.length>1?r.call(arguments):Y,--v||M.resolveWith(E,I)}};if(v<=1&&(Ze(f,M.done(k(C)).resolve,M.reject,!v),M.state()==="pending"||c(I[C]&&I[C].then)))return M.then();for(;C--;)Ze(I[C],k(C),M.reject);return M.promise()}});var st=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(f,v){t.console&&t.console.warn&&f&&st.test(f.name)&&t.console.warn("jQuery.Deferred exception: "+f.message,f.stack,v)},_.readyException=function(f){t.setTimeout(function(){throw f})};var At=_.Deferred();_.fn.ready=function(f){return At.then(f).catch(function(v){_.readyException(v)}),this},_.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--_.readyWait:_.isReady)||(_.isReady=!0,!(f!==!0&&--_.readyWait>0)&&At.resolveWith(D,[_]))}}),_.ready.then=At.then;function gn(){D.removeEventListener("DOMContentLoaded",gn),t.removeEventListener("load",gn),_.ready()}D.readyState==="complete"||D.readyState!=="loading"&&!D.documentElement.doScroll?t.setTimeout(_.ready):(D.addEventListener("DOMContentLoaded",gn),t.addEventListener("load",gn));var Ni=function(f,v,C,E,I,M,k){var ee=0,Y=f.length,de=C==null;if(G(C)==="object"){I=!0;for(ee in C)Ni(f,v,ee,C[ee],!0,M,k)}else if(E!==void 0&&(I=!0,c(E)||(k=!0),de&&(k?(v.call(f,E),v=null):(de=v,v=function(De,Me,me){return de.call(_(De),me)})),v))for(;ee<Y;ee++)v(f[ee],C,k?E:E.call(f[ee],ee,v(f[ee],C)));return I?f:de?v.call(f):Y?v(f[0],C):M},xr=/^-ms-/,Xi=/-([a-z])/g;function at(f,v){return v.toUpperCase()}function dt(f){return f.replace(xr,"ms-").replace(Xi,at)}var Je=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function wi(){this.expando=_.expando+wi.uid++}wi.uid=1,wi.prototype={cache:function(f){var v=f[this.expando];return v||(v={},Je(f)&&(f.nodeType?f[this.expando]=v:Object.defineProperty(f,this.expando,{value:v,configurable:!0}))),v},set:function(f,v,C){var E,I=this.cache(f);if(typeof v=="string")I[dt(v)]=C;else for(E in v)I[dt(E)]=v[E];return I},get:function(f,v){return v===void 0?this.cache(f):f[this.expando]&&f[this.expando][dt(v)]},access:function(f,v,C){return v===void 0||v&&typeof v=="string"&&C===void 0?this.get(f,v):(this.set(f,v,C),C!==void 0?C:v)},remove:function(f,v){var C,E=f[this.expando];if(E!==void 0){if(v!==void 0)for(Array.isArray(v)?v=v.map(dt):(v=dt(v),v=v in E?[v]:v.match(le)||[]),C=v.length;C--;)delete E[v[C]];(v===void 0||_.isEmptyObject(E))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var v=f[this.expando];return v!==void 0&&!_.isEmptyObject(v)}};var $e=new wi,ue=new wi,Ri=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ve=/[A-Z]/g;function cp(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:Ri.test(f)?JSON.parse(f):f}function cm(f,v,C){var E;if(C===void 0&&f.nodeType===1)if(E="data-"+v.replace(ve,"-$&").toLowerCase(),C=f.getAttribute(E),typeof C=="string"){try{C=cp(C)}catch{}ue.set(f,v,C)}else C=void 0;return C}_.extend({hasData:function(f){return ue.hasData(f)||$e.hasData(f)},data:function(f,v,C){return ue.access(f,v,C)},removeData:function(f,v){ue.remove(f,v)},_data:function(f,v,C){return $e.access(f,v,C)},_removeData:function(f,v){$e.remove(f,v)}}),_.fn.extend({data:function(f,v){var C,E,I,M=this[0],k=M&&M.attributes;if(f===void 0){if(this.length&&(I=ue.get(M),M.nodeType===1&&!$e.get(M,"hasDataAttrs"))){for(C=k.length;C--;)k[C]&&(E=k[C].name,E.indexOf("data-")===0&&(E=dt(E.slice(5)),cm(M,E,I[E])));$e.set(M,"hasDataAttrs",!0)}return I}return typeof f=="object"?this.each(function(){ue.set(this,f)}):Ni(this,function(ee){var Y;if(M&&ee===void 0)return Y=ue.get(M,f),Y!==void 0||(Y=cm(M,f),Y!==void 0)?Y:void 0;this.each(function(){ue.set(this,f,ee)})},null,v,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){ue.remove(this,f)})}}),_.extend({queue:function(f,v,C){var E;if(f)return v=(v||"fx")+"queue",E=$e.get(f,v),C&&(!E||Array.isArray(C)?E=$e.access(f,v,_.makeArray(C)):E.push(C)),E||[]},dequeue:function(f,v){v=v||"fx";var C=_.queue(f,v),E=C.length,I=C.shift(),M=_._queueHooks(f,v),k=function(){_.dequeue(f,v)};I==="inprogress"&&(I=C.shift(),E--),I&&(v==="fx"&&C.unshift("inprogress"),delete M.stop,I.call(f,k,M)),!E&&M&&M.empty.fire()},_queueHooks:function(f,v){var C=v+"queueHooks";return $e.get(f,C)||$e.access(f,C,{empty:_.Callbacks("once memory").add(function(){$e.remove(f,[v+"queue",C])})})}}),_.fn.extend({queue:function(f,v){var C=2;return typeof f!="string"&&(v=f,f="fx",C--),arguments.length<C?_.queue(this[0],f):v===void 0?this:this.each(function(){var E=_.queue(this,f,v);_._queueHooks(this,f),f==="fx"&&E[0]!=="inprogress"&&_.dequeue(this,f)})},dequeue:function(f){return this.each(function(){_.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,v){var C,E=1,I=_.Deferred(),M=this,k=this.length,ee=function(){--E||I.resolveWith(M,[M])};for(typeof f!="string"&&(v=f,f=void 0),f=f||"fx";k--;)C=$e.get(M[k],f+"queueHooks"),C&&C.empty&&(E++,C.empty.add(ee));return ee(),I.promise(v)}});var hm=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,gc=new RegExp("^(?:([+-])=|)("+hm+")([a-z%]*)$","i"),as=["Top","Right","Bottom","Left"],Ml=D.documentElement,mn=function(f){return _.contains(f.ownerDocument,f)},Al={composed:!0};Ml.getRootNode&&(mn=function(f){return _.contains(f.ownerDocument,f)||f.getRootNode(Al)===f.ownerDocument});var Gd=function(f,v){return f=v||f,f.style.display==="none"||f.style.display===""&&mn(f)&&_.css(f,"display")==="none"};function hp(f,v,C,E){var I,M,k=20,ee=E?function(){return E.cur()}:function(){return _.css(f,v,"")},Y=ee(),de=C&&C[3]||(_.cssNumber[v]?"":"px"),De=f.nodeType&&(_.cssNumber[v]||de!=="px"&&+Y)&&gc.exec(_.css(f,v));if(De&&De[3]!==de){for(Y=Y/2,de=de||De[3],De=+Y||1;k--;)_.style(f,v,De+de),(1-M)*(1-(M=ee()/Y||.5))<=0&&(k=0),De=De/M;De=De*2,_.style(f,v,De+de),C=C||[]}return C&&(De=+De||+Y||0,I=C[1]?De+(C[1]+1)*C[2]:+C[2],E&&(E.unit=de,E.start=De,E.end=I)),I}var ax={};function YV(f){var v,C=f.ownerDocument,E=f.nodeName,I=ax[E];return I||(v=C.body.appendChild(C.createElement(E)),I=_.css(v,"display"),v.parentNode.removeChild(v),I==="none"&&(I="block"),ax[E]=I,I)}function Ud(f,v){for(var C,E,I=[],M=0,k=f.length;M<k;M++)E=f[M],E.style&&(C=E.style.display,v?(C==="none"&&(I[M]=$e.get(E,"display")||null,I[M]||(E.style.display="")),E.style.display===""&&Gd(E)&&(I[M]=YV(E))):C!=="none"&&(I[M]="none",$e.set(E,"display",C)));for(M=0;M<k;M++)I[M]!=null&&(f[M].style.display=I[M]);return f}_.fn.extend({show:function(){return Ud(this,!0)},hide:function(){return Ud(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){Gd(this)?_(this).show():_(this).hide()})}});var $n=/^(?:checkbox|radio)$/i,pp=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ta=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=D.createDocumentFragment(),v=f.appendChild(D.createElement("div")),C=D.createElement("input");C.setAttribute("type","radio"),C.setAttribute("checked","checked"),C.setAttribute("name","t"),v.appendChild(C),m.checkClone=v.cloneNode(!0).cloneNode(!0).lastChild.checked,v.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!v.cloneNode(!0).lastChild.defaultValue,v.innerHTML="<option></option>",m.option=!!v.lastChild})();var vn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};vn.tbody=vn.tfoot=vn.colgroup=vn.caption=vn.thead,vn.th=vn.td,m.option||(vn.optgroup=vn.option=[1,"<select multiple='multiple'>","</select>"]);function no(f,v){var C;return typeof f.getElementsByTagName<"u"?C=f.getElementsByTagName(v||"*"):typeof f.querySelectorAll<"u"?C=f.querySelectorAll(v||"*"):C=[],v===void 0||v&&fe(f,v)?_.merge([f],C):C}function mc(f,v){for(var C=0,E=f.length;C<E;C++)$e.set(f[C],"globalEval",!v||$e.get(v[C],"globalEval"))}var Kd=/<|&#?\w+;/;function vc(f,v,C,E,I){for(var M,k,ee,Y,de,De,Me=v.createDocumentFragment(),me=[],He=0,Gt=f.length;He<Gt;He++)if(M=f[He],M||M===0)if(G(M)==="object")_.merge(me,M.nodeType?[M]:M);else if(!Kd.test(M))me.push(v.createTextNode(M));else{for(k=k||Me.appendChild(v.createElement("div")),ee=(pp.exec(M)||["",""])[1].toLowerCase(),Y=vn[ee]||vn._default,k.innerHTML=Y[1]+_.htmlPrefilter(M)+Y[2],De=Y[0];De--;)k=k.lastChild;_.merge(me,k.childNodes),k=Me.firstChild,k.textContent=""}for(Me.textContent="",He=0;M=me[He++];){if(E&&_.inArray(M,E)>-1){I&&I.push(M);continue}if(de=mn(M),k=no(Me.appendChild(M),"script"),de&&mc(k),C)for(De=0;M=k[De++];)Ta.test(M.type||"")&&C.push(M)}return Me}var ls=/^([^.]*)(?:\.(.+)|)/;function Rl(){return!0}function $s(){return!1}function _c(f,v,C,E,I,M){var k,ee;if(typeof v=="object"){typeof C!="string"&&(E=E||C,C=void 0);for(ee in v)_c(f,ee,C,E,v[ee],M);return f}if(E==null&&I==null?(I=C,E=C=void 0):I==null&&(typeof C=="string"?(I=E,E=void 0):(I=E,E=C,C=void 0)),I===!1)I=$s;else if(!I)return f;return M===1&&(k=I,I=function(Y){return _().off(Y),k.apply(this,arguments)},I.guid=k.guid||(k.guid=_.guid++)),f.each(function(){_.event.add(this,v,I,E,C)})}_.event={global:{},add:function(f,v,C,E,I){var M,k,ee,Y,de,De,Me,me,He,Gt,Fi,di=$e.get(f);if(Je(f))for(C.handler&&(M=C,C=M.handler,I=M.selector),I&&_.find.matchesSelector(Ml,I),C.guid||(C.guid=_.guid++),(Y=di.events)||(Y=di.events=Object.create(null)),(k=di.handle)||(k=di.handle=function(Mr){return typeof _<"u"&&_.event.triggered!==Mr.type?_.event.dispatch.apply(f,arguments):void 0}),v=(v||"").match(le)||[""],de=v.length;de--;)ee=ls.exec(v[de])||[],He=Fi=ee[1],Gt=(ee[2]||"").split(".").sort(),He&&(Me=_.event.special[He]||{},He=(I?Me.delegateType:Me.bindType)||He,Me=_.event.special[He]||{},De=_.extend({type:He,origType:Fi,data:E,handler:C,guid:C.guid,selector:I,needsContext:I&&_.expr.match.needsContext.test(I),namespace:Gt.join(".")},M),(me=Y[He])||(me=Y[He]=[],me.delegateCount=0,(!Me.setup||Me.setup.call(f,E,Gt,k)===!1)&&f.addEventListener&&f.addEventListener(He,k)),Me.add&&(Me.add.call(f,De),De.handler.guid||(De.handler.guid=C.guid)),I?me.splice(me.delegateCount++,0,De):me.push(De),_.event.global[He]=!0)},remove:function(f,v,C,E,I){var M,k,ee,Y,de,De,Me,me,He,Gt,Fi,di=$e.hasData(f)&&$e.get(f);if(!(!di||!(Y=di.events))){for(v=(v||"").match(le)||[""],de=v.length;de--;){if(ee=ls.exec(v[de])||[],He=Fi=ee[1],Gt=(ee[2]||"").split(".").sort(),!He){for(He in Y)_.event.remove(f,He+v[de],C,E,!0);continue}for(Me=_.event.special[He]||{},He=(E?Me.delegateType:Me.bindType)||He,me=Y[He]||[],ee=ee[2]&&new RegExp("(^|\\.)"+Gt.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=M=me.length;M--;)De=me[M],(I||Fi===De.origType)&&(!C||C.guid===De.guid)&&(!ee||ee.test(De.namespace))&&(!E||E===De.selector||E==="**"&&De.selector)&&(me.splice(M,1),De.selector&&me.delegateCount--,Me.remove&&Me.remove.call(f,De));k&&!me.length&&((!Me.teardown||Me.teardown.call(f,Gt,di.handle)===!1)&&_.removeEvent(f,He,di.handle),delete Y[He])}_.isEmptyObject(Y)&&$e.remove(f,"handle events")}},dispatch:function(f){var v,C,E,I,M,k,ee=new Array(arguments.length),Y=_.event.fix(f),de=($e.get(this,"events")||Object.create(null))[Y.type]||[],De=_.event.special[Y.type]||{};for(ee[0]=Y,v=1;v<arguments.length;v++)ee[v]=arguments[v];if(Y.delegateTarget=this,!(De.preDispatch&&De.preDispatch.call(this,Y)===!1)){for(k=_.event.handlers.call(this,Y,de),v=0;(I=k[v++])&&!Y.isPropagationStopped();)for(Y.currentTarget=I.elem,C=0;(M=I.handlers[C++])&&!Y.isImmediatePropagationStopped();)(!Y.rnamespace||M.namespace===!1||Y.rnamespace.test(M.namespace))&&(Y.handleObj=M,Y.data=M.data,E=((_.event.special[M.origType]||{}).handle||M.handler).apply(I.elem,ee),E!==void 0&&(Y.result=E)===!1&&(Y.preventDefault(),Y.stopPropagation()));return De.postDispatch&&De.postDispatch.call(this,Y),Y.result}},handlers:function(f,v){var C,E,I,M,k,ee=[],Y=v.delegateCount,de=f.target;if(Y&&de.nodeType&&!(f.type==="click"&&f.button>=1)){for(;de!==this;de=de.parentNode||this)if(de.nodeType===1&&!(f.type==="click"&&de.disabled===!0)){for(M=[],k={},C=0;C<Y;C++)E=v[C],I=E.selector+" ",k[I]===void 0&&(k[I]=E.needsContext?_(I,this).index(de)>-1:_.find(I,this,null,[de]).length),k[I]&&M.push(E);M.length&&ee.push({elem:de,handlers:M})}}return de=this,Y<v.length&&ee.push({elem:de,handlers:v.slice(Y)}),ee},addProp:function(f,v){Object.defineProperty(_.Event.prototype,f,{enumerable:!0,configurable:!0,get:c(v)?function(){if(this.originalEvent)return v(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(C){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:C})}})},fix:function(f){return f[_.expando]?f:new _.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var v=this||f;return $n.test(v.type)&&v.click&&fe(v,"input")&&ro(v,"click",!0),!1},trigger:function(f){var v=this||f;return $n.test(v.type)&&v.click&&fe(v,"input")&&ro(v,"click"),!0},_default:function(f){var v=f.target;return $n.test(v.type)&&v.click&&fe(v,"input")&&$e.get(v,"click")||fe(v,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function ro(f,v,C){if(!C){$e.get(f,v)===void 0&&_.event.add(f,v,Rl);return}$e.set(f,v,!1),_.event.add(f,v,{namespace:!1,handler:function(E){var I,M=$e.get(this,v);if(E.isTrigger&1&&this[v]){if(M)(_.event.special[v]||{}).delegateType&&E.stopPropagation();else if(M=r.call(arguments),$e.set(this,v,M),this[v](),I=$e.get(this,v),$e.set(this,v,!1),M!==I)return E.stopImmediatePropagation(),E.preventDefault(),I}else M&&($e.set(this,v,_.event.trigger(M[0],M.slice(1),this)),E.stopPropagation(),E.isImmediatePropagationStopped=Rl)}})}_.removeEvent=function(f,v,C){f.removeEventListener&&f.removeEventListener(v,C)},_.Event=function(f,v){if(!(this instanceof _.Event))return new _.Event(f,v);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Rl:$s,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,v&&_.extend(this,v),this.timeStamp=f&&f.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:$s,isPropagationStopped:$s,isImmediatePropagationStopped:$s,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Rl,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Rl,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Rl,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},function(f,v){function C(E){if(D.documentMode){var I=$e.get(this,"handle"),M=_.event.fix(E);M.type=E.type==="focusin"?"focus":"blur",M.isSimulated=!0,I(E),M.target===M.currentTarget&&I(M)}else _.event.simulate(v,E.target,_.event.fix(E))}_.event.special[f]={setup:function(){var E;if(ro(this,f,!0),D.documentMode)E=$e.get(this,v),E||this.addEventListener(v,C),$e.set(this,v,(E||0)+1);else return!1},trigger:function(){return ro(this,f),!0},teardown:function(){var E;if(D.documentMode)E=$e.get(this,v)-1,E?$e.set(this,v,E):(this.removeEventListener(v,C),$e.remove(this,v));else return!1},_default:function(E){return $e.get(E.target,f)},delegateType:v},_.event.special[v]={setup:function(){var E=this.ownerDocument||this.document||this,I=D.documentMode?this:E,M=$e.get(I,v);M||(D.documentMode?this.addEventListener(v,C):E.addEventListener(f,C,!0)),$e.set(I,v,(M||0)+1)},teardown:function(){var E=this.ownerDocument||this.document||this,I=D.documentMode?this:E,M=$e.get(I,v)-1;M?$e.set(I,v,M):(D.documentMode?this.removeEventListener(v,C):E.removeEventListener(f,C,!0),$e.remove(I,v))}}}),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,v){_.event.special[f]={delegateType:v,bindType:v,handle:function(C){var E,I=this,M=C.relatedTarget,k=C.handleObj;return(!M||M!==I&&!_.contains(I,M))&&(C.type=k.origType,E=k.handler.apply(this,arguments),C.type=v),E}}}),_.fn.extend({on:function(f,v,C,E){return _c(this,f,v,C,E)},one:function(f,v,C,E){return _c(this,f,v,C,E,1)},off:function(f,v,C){var E,I;if(f&&f.preventDefault&&f.handleObj)return E=f.handleObj,_(f.delegateTarget).off(E.namespace?E.origType+"."+E.namespace:E.origType,E.selector,E.handler),this;if(typeof f=="object"){for(I in f)this.off(I,v,f[I]);return this}return(v===!1||typeof v=="function")&&(C=v,v=void 0),C===!1&&(C=$s),this.each(function(){_.event.remove(this,f,C,v)})}});var Jne=/<script|<style|<link/i,Yne=/checked\s*(?:[^=]|=\s*.checked.)/i,Xne=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function XV(f,v){return fe(f,"table")&&fe(v.nodeType!==11?v:v.firstChild,"tr")&&_(f).children("tbody")[0]||f}function Qne(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function Zne(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function QV(f,v){var C,E,I,M,k,ee,Y;if(v.nodeType===1){if($e.hasData(f)&&(M=$e.get(f),Y=M.events,Y)){$e.remove(v,"handle events");for(I in Y)for(C=0,E=Y[I].length;C<E;C++)_.event.add(v,I,Y[I][C])}ue.hasData(f)&&(k=ue.access(f),ee=_.extend({},k),ue.set(v,ee))}}function ere(f,v){var C=v.nodeName.toLowerCase();C==="input"&&$n.test(f.type)?v.checked=f.checked:(C==="input"||C==="textarea")&&(v.defaultValue=f.defaultValue)}function fp(f,v,C,E){v=o(v);var I,M,k,ee,Y,de,De=0,Me=f.length,me=Me-1,He=v[0],Gt=c(He);if(Gt||Me>1&&typeof He=="string"&&!m.checkClone&&Yne.test(He))return f.each(function(Fi){var di=f.eq(Fi);Gt&&(v[0]=He.call(this,Fi,di.html())),fp(di,v,C,E)});if(Me&&(I=vc(v,f[0].ownerDocument,!1,f,E),M=I.firstChild,I.childNodes.length===1&&(I=M),M||E)){for(k=_.map(no(I,"script"),Qne),ee=k.length;De<Me;De++)Y=I,De!==me&&(Y=_.clone(Y,!0,!0),ee&&_.merge(k,no(Y,"script"))),C.call(f[De],Y,De);if(ee)for(de=k[k.length-1].ownerDocument,_.map(k,Zne),De=0;De<ee;De++)Y=k[De],Ta.test(Y.type||"")&&!$e.access(Y,"globalEval")&&_.contains(de,Y)&&(Y.src&&(Y.type||"").toLowerCase()!=="module"?_._evalUrl&&!Y.noModule&&_._evalUrl(Y.src,{nonce:Y.nonce||Y.getAttribute("nonce")},de):N(Y.textContent.replace(Xne,""),Y,de))}return f}function ZV(f,v,C){for(var E,I=v?_.filter(v,f):f,M=0;(E=I[M])!=null;M++)!C&&E.nodeType===1&&_.cleanData(no(E)),E.parentNode&&(C&&mn(E)&&mc(no(E,"script")),E.parentNode.removeChild(E));return f}_.extend({htmlPrefilter:function(f){return f},clone:function(f,v,C){var E,I,M,k,ee=f.cloneNode(!0),Y=mn(f);if(!m.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!_.isXMLDoc(f))for(k=no(ee),M=no(f),E=0,I=M.length;E<I;E++)ere(M[E],k[E]);if(v)if(C)for(M=M||no(f),k=k||no(ee),E=0,I=M.length;E<I;E++)QV(M[E],k[E]);else QV(f,ee);return k=no(ee,"script"),k.length>0&&mc(k,!Y&&no(f,"script")),ee},cleanData:function(f){for(var v,C,E,I=_.event.special,M=0;(C=f[M])!==void 0;M++)if(Je(C)){if(v=C[$e.expando]){if(v.events)for(E in v.events)I[E]?_.event.remove(C,E):_.removeEvent(C,E,v.handle);C[$e.expando]=void 0}C[ue.expando]&&(C[ue.expando]=void 0)}}}),_.fn.extend({detach:function(f){return ZV(this,f,!0)},remove:function(f){return ZV(this,f)},text:function(f){return Ni(this,function(v){return v===void 0?_.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=v)})},null,f,arguments.length)},append:function(){return fp(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=XV(this,f);v.appendChild(f)}})},prepend:function(){return fp(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var v=XV(this,f);v.insertBefore(f,v.firstChild)}})},before:function(){return fp(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return fp(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,v=0;(f=this[v])!=null;v++)f.nodeType===1&&(_.cleanData(no(f,!1)),f.textContent="");return this},clone:function(f,v){return f=f??!1,v=v??f,this.map(function(){return _.clone(this,f,v)})},html:function(f){return Ni(this,function(v){var C=this[0]||{},E=0,I=this.length;if(v===void 0&&C.nodeType===1)return C.innerHTML;if(typeof v=="string"&&!Jne.test(v)&&!vn[(pp.exec(v)||["",""])[1].toLowerCase()]){v=_.htmlPrefilter(v);try{for(;E<I;E++)C=this[E]||{},C.nodeType===1&&(_.cleanData(no(C,!1)),C.innerHTML=v);C=0}catch{}}C&&this.empty().append(v)},null,f,arguments.length)},replaceWith:function(){var f=[];return fp(this,arguments,function(v){var C=this.parentNode;_.inArray(this,f)<0&&(_.cleanData(no(this)),C&&C.replaceChild(v,this))},f)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,v){_.fn[f]=function(C){for(var E,I=[],M=_(C),k=M.length-1,ee=0;ee<=k;ee++)E=ee===k?this:this.clone(!0),_(M[ee])[v](E),s.apply(I,E.get());return this.pushStack(I)}});var RS=new RegExp("^("+hm+")(?!px)[a-z%]+$","i"),FS=/^--/,lx=function(f){var v=f.ownerDocument.defaultView;return(!v||!v.opener)&&(v=t),v.getComputedStyle(f)},eH=function(f,v,C){var E,I,M={};for(I in v)M[I]=f.style[I],f.style[I]=v[I];E=C.call(f);for(I in v)f.style[I]=M[I];return E},tre=new RegExp(as.join("|"),"i");(function(){function f(){if(de){Y.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",de.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ml.appendChild(Y).appendChild(de);var De=t.getComputedStyle(de);C=De.top!=="1%",ee=v(De.marginLeft)===12,de.style.right="60%",M=v(De.right)===36,E=v(De.width)===36,de.style.position="absolute",I=v(de.offsetWidth/3)===12,Ml.removeChild(Y),de=null}}function v(De){return Math.round(parseFloat(De))}var C,E,I,M,k,ee,Y=D.createElement("div"),de=D.createElement("div");de.style&&(de.style.backgroundClip="content-box",de.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=de.style.backgroundClip==="content-box",_.extend(m,{boxSizingReliable:function(){return f(),E},pixelBoxStyles:function(){return f(),M},pixelPosition:function(){return f(),C},reliableMarginLeft:function(){return f(),ee},scrollboxSize:function(){return f(),I},reliableTrDimensions:function(){var De,Me,me,He;return k==null&&(De=D.createElement("table"),Me=D.createElement("tr"),me=D.createElement("div"),De.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Me.style.cssText="box-sizing:content-box;border:1px solid",Me.style.height="1px",me.style.height="9px",me.style.display="block",Ml.appendChild(De).appendChild(Me).appendChild(me),He=t.getComputedStyle(Me),k=parseInt(He.height,10)+parseInt(He.borderTopWidth,10)+parseInt(He.borderBottomWidth,10)===Me.offsetHeight,Ml.removeChild(De)),k}}))})();function pm(f,v,C){var E,I,M,k,ee=FS.test(v),Y=f.style;return C=C||lx(f),C&&(k=C.getPropertyValue(v)||C[v],ee&&k&&(k=k.replace(A,"$1")||void 0),k===""&&!mn(f)&&(k=_.style(f,v)),!m.pixelBoxStyles()&&RS.test(k)&&tre.test(v)&&(E=Y.width,I=Y.minWidth,M=Y.maxWidth,Y.minWidth=Y.maxWidth=Y.width=k,k=C.width,Y.width=E,Y.minWidth=I,Y.maxWidth=M)),k!==void 0?k+"":k}function tH(f,v){return{get:function(){if(f()){delete this.get;return}return(this.get=v).apply(this,arguments)}}}var iH=["Webkit","Moz","ms"],nH=D.createElement("div").style,rH={};function ire(f){for(var v=f[0].toUpperCase()+f.slice(1),C=iH.length;C--;)if(f=iH[C]+v,f in nH)return f}function PS(f){var v=_.cssProps[f]||rH[f];return v||(f in nH?f:rH[f]=ire(f)||f)}var nre=/^(none|table(?!-c[ea]).+)/,rre={position:"absolute",visibility:"hidden",display:"block"},oH={letterSpacing:"0",fontWeight:"400"};function sH(f,v,C){var E=gc.exec(v);return E?Math.max(0,E[2]-(C||0))+(E[3]||"px"):v}function kS(f,v,C,E,I,M){var k=v==="width"?1:0,ee=0,Y=0,de=0;if(C===(E?"border":"content"))return 0;for(;k<4;k+=2)C==="margin"&&(de+=_.css(f,C+as[k],!0,I)),E?(C==="content"&&(Y-=_.css(f,"padding"+as[k],!0,I)),C!=="margin"&&(Y-=_.css(f,"border"+as[k]+"Width",!0,I))):(Y+=_.css(f,"padding"+as[k],!0,I),C!=="padding"?Y+=_.css(f,"border"+as[k]+"Width",!0,I):ee+=_.css(f,"border"+as[k]+"Width",!0,I));return!E&&M>=0&&(Y+=Math.max(0,Math.ceil(f["offset"+v[0].toUpperCase()+v.slice(1)]-M-Y-ee-.5))||0),Y+de}function aH(f,v,C){var E=lx(f),I=!m.boxSizingReliable()||C,M=I&&_.css(f,"boxSizing",!1,E)==="border-box",k=M,ee=pm(f,v,E),Y="offset"+v[0].toUpperCase()+v.slice(1);if(RS.test(ee)){if(!C)return ee;ee="auto"}return(!m.boxSizingReliable()&&M||!m.reliableTrDimensions()&&fe(f,"tr")||ee==="auto"||!parseFloat(ee)&&_.css(f,"display",!1,E)==="inline")&&f.getClientRects().length&&(M=_.css(f,"boxSizing",!1,E)==="border-box",k=Y in f,k&&(ee=f[Y])),ee=parseFloat(ee)||0,ee+kS(f,v,C||(M?"border":"content"),k,E,ee)+"px"}_.extend({cssHooks:{opacity:{get:function(f,v){if(v){var C=pm(f,"opacity");return C===""?"1":C}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(f,v,C,E){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var I,M,k,ee=dt(v),Y=FS.test(v),de=f.style;if(Y||(v=PS(ee)),k=_.cssHooks[v]||_.cssHooks[ee],C!==void 0){if(M=typeof C,M==="string"&&(I=gc.exec(C))&&I[1]&&(C=hp(f,v,I),M="number"),C==null||C!==C)return;M==="number"&&!Y&&(C+=I&&I[3]||(_.cssNumber[ee]?"":"px")),!m.clearCloneStyle&&C===""&&v.indexOf("background")===0&&(de[v]="inherit"),(!k||!("set"in k)||(C=k.set(f,C,E))!==void 0)&&(Y?de.setProperty(v,C):de[v]=C)}else return k&&"get"in k&&(I=k.get(f,!1,E))!==void 0?I:de[v]}},css:function(f,v,C,E){var I,M,k,ee=dt(v),Y=FS.test(v);return Y||(v=PS(ee)),k=_.cssHooks[v]||_.cssHooks[ee],k&&"get"in k&&(I=k.get(f,!0,C)),I===void 0&&(I=pm(f,v,E)),I==="normal"&&v in oH&&(I=oH[v]),C===""||C?(M=parseFloat(I),C===!0||isFinite(M)?M||0:I):I}}),_.each(["height","width"],function(f,v){_.cssHooks[v]={get:function(C,E,I){if(E)return nre.test(_.css(C,"display"))&&(!C.getClientRects().length||!C.getBoundingClientRect().width)?eH(C,rre,function(){return aH(C,v,I)}):aH(C,v,I)},set:function(C,E,I){var M,k=lx(C),ee=!m.scrollboxSize()&&k.position==="absolute",Y=ee||I,de=Y&&_.css(C,"boxSizing",!1,k)==="border-box",De=I?kS(C,v,I,de,k):0;return de&&ee&&(De-=Math.ceil(C["offset"+v[0].toUpperCase()+v.slice(1)]-parseFloat(k[v])-kS(C,v,"border",!1,k)-.5)),De&&(M=gc.exec(E))&&(M[3]||"px")!=="px"&&(C.style[v]=E,E=_.css(C,v)),sH(C,E,De)}}}),_.cssHooks.marginLeft=tH(m.reliableMarginLeft,function(f,v){if(v)return(parseFloat(pm(f,"marginLeft"))||f.getBoundingClientRect().left-eH(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(f,v){_.cssHooks[f+v]={expand:function(C){for(var E=0,I={},M=typeof C=="string"?C.split(" "):[C];E<4;E++)I[f+as[E]+v]=M[E]||M[E-2]||M[0];return I}},f!=="margin"&&(_.cssHooks[f+v].set=sH)}),_.fn.extend({css:function(f,v){return Ni(this,function(C,E,I){var M,k,ee={},Y=0;if(Array.isArray(E)){for(M=lx(C),k=E.length;Y<k;Y++)ee[E[Y]]=_.css(C,E[Y],!1,M);return ee}return I!==void 0?_.style(C,E,I):_.css(C,E)},f,v,arguments.length>1)}});function Eo(f,v,C,E,I){return new Eo.prototype.init(f,v,C,E,I)}_.Tween=Eo,Eo.prototype={constructor:Eo,init:function(f,v,C,E,I,M){this.elem=f,this.prop=C,this.easing=I||_.easing._default,this.options=v,this.start=this.now=this.cur(),this.end=E,this.unit=M||(_.cssNumber[C]?"":"px")},cur:function(){var f=Eo.propHooks[this.prop];return f&&f.get?f.get(this):Eo.propHooks._default.get(this)},run:function(f){var v,C=Eo.propHooks[this.prop];return this.options.duration?this.pos=v=_.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=v=f,this.now=(this.end-this.start)*v+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),C&&C.set?C.set(this):Eo.propHooks._default.set(this),this}},Eo.prototype.init.prototype=Eo.prototype,Eo.propHooks={_default:{get:function(f){var v;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(v=_.css(f.elem,f.prop,""),!v||v==="auto"?0:v)},set:function(f){_.fx.step[f.prop]?_.fx.step[f.prop](f):f.elem.nodeType===1&&(_.cssHooks[f.prop]||f.elem.style[PS(f.prop)]!=null)?_.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},Eo.propHooks.scrollTop=Eo.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},_.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},_.fx=Eo.prototype.init,_.fx.step={};var gp,dx,ore=/^(?:toggle|show|hide)$/,sre=/queueHooks$/;function NS(){dx&&(D.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(NS):t.setTimeout(NS,_.fx.interval),_.fx.tick())}function lH(){return t.setTimeout(function(){gp=void 0}),gp=Date.now()}function ux(f,v){var C,E=0,I={height:f};for(v=v?1:0;E<4;E+=2-v)C=as[E],I["margin"+C]=I["padding"+C]=f;return v&&(I.opacity=I.width=f),I}function dH(f,v,C){for(var E,I=(Gs.tweeners[v]||[]).concat(Gs.tweeners["*"]),M=0,k=I.length;M<k;M++)if(E=I[M].call(C,v,f))return E}function are(f,v,C){var E,I,M,k,ee,Y,de,De,Me="width"in v||"height"in v,me=this,He={},Gt=f.style,Fi=f.nodeType&&Gd(f),di=$e.get(f,"fxshow");C.queue||(k=_._queueHooks(f,"fx"),k.unqueued==null&&(k.unqueued=0,ee=k.empty.fire,k.empty.fire=function(){k.unqueued||ee()}),k.unqueued++,me.always(function(){me.always(function(){k.unqueued--,_.queue(f,"fx").length||k.empty.fire()})}));for(E in v)if(I=v[E],ore.test(I)){if(delete v[E],M=M||I==="toggle",I===(Fi?"hide":"show"))if(I==="show"&&di&&di[E]!==void 0)Fi=!0;else continue;He[E]=di&&di[E]||_.style(f,E)}if(Y=!_.isEmptyObject(v),!(!Y&&_.isEmptyObject(He))){Me&&f.nodeType===1&&(C.overflow=[Gt.overflow,Gt.overflowX,Gt.overflowY],de=di&&di.display,de==null&&(de=$e.get(f,"display")),De=_.css(f,"display"),De==="none"&&(de?De=de:(Ud([f],!0),de=f.style.display||de,De=_.css(f,"display"),Ud([f]))),(De==="inline"||De==="inline-block"&&de!=null)&&_.css(f,"float")==="none"&&(Y||(me.done(function(){Gt.display=de}),de==null&&(De=Gt.display,de=De==="none"?"":De)),Gt.display="inline-block")),C.overflow&&(Gt.overflow="hidden",me.always(function(){Gt.overflow=C.overflow[0],Gt.overflowX=C.overflow[1],Gt.overflowY=C.overflow[2]})),Y=!1;for(E in He)Y||(di?"hidden"in di&&(Fi=di.hidden):di=$e.access(f,"fxshow",{display:de}),M&&(di.hidden=!Fi),Fi&&Ud([f],!0),me.done(function(){Fi||Ud([f]),$e.remove(f,"fxshow");for(E in He)_.style(f,E,He[E])})),Y=dH(Fi?di[E]:0,E,me),E in di||(di[E]=Y.start,Fi&&(Y.end=Y.start,Y.start=0))}}function lre(f,v){var C,E,I,M,k;for(C in f)if(E=dt(C),I=v[E],M=f[C],Array.isArray(M)&&(I=M[1],M=f[C]=M[0]),C!==E&&(f[E]=M,delete f[C]),k=_.cssHooks[E],k&&"expand"in k){M=k.expand(M),delete f[E];for(C in M)C in f||(f[C]=M[C],v[C]=I)}else v[E]=I}function Gs(f,v,C){var E,I,M=0,k=Gs.prefilters.length,ee=_.Deferred().always(function(){delete Y.elem}),Y=function(){if(I)return!1;for(var Me=gp||lH(),me=Math.max(0,de.startTime+de.duration-Me),He=me/de.duration||0,Gt=1-He,Fi=0,di=de.tweens.length;Fi<di;Fi++)de.tweens[Fi].run(Gt);return ee.notifyWith(f,[de,Gt,me]),Gt<1&&di?me:(di||ee.notifyWith(f,[de,1,0]),ee.resolveWith(f,[de]),!1)},de=ee.promise({elem:f,props:_.extend({},v),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},C),originalProperties:v,originalOptions:C,startTime:gp||lH(),duration:C.duration,tweens:[],createTween:function(Me,me){var He=_.Tween(f,de.opts,Me,me,de.opts.specialEasing[Me]||de.opts.easing);return de.tweens.push(He),He},stop:function(Me){var me=0,He=Me?de.tweens.length:0;if(I)return this;for(I=!0;me<He;me++)de.tweens[me].run(1);return Me?(ee.notifyWith(f,[de,1,0]),ee.resolveWith(f,[de,Me])):ee.rejectWith(f,[de,Me]),this}}),De=de.props;for(lre(De,de.opts.specialEasing);M<k;M++)if(E=Gs.prefilters[M].call(de,f,De,de.opts),E)return c(E.stop)&&(_._queueHooks(de.elem,de.opts.queue).stop=E.stop.bind(E)),E;return _.map(De,dH,de),c(de.opts.start)&&de.opts.start.call(f,de),de.progress(de.opts.progress).done(de.opts.done,de.opts.complete).fail(de.opts.fail).always(de.opts.always),_.fx.timer(_.extend(Y,{elem:f,anim:de,queue:de.opts.queue})),de}_.Animation=_.extend(Gs,{tweeners:{"*":[function(f,v){var C=this.createTween(f,v);return hp(C.elem,f,gc.exec(v),C),C}]},tweener:function(f,v){c(f)?(v=f,f=["*"]):f=f.match(le);for(var C,E=0,I=f.length;E<I;E++)C=f[E],Gs.tweeners[C]=Gs.tweeners[C]||[],Gs.tweeners[C].unshift(v)},prefilters:[are],prefilter:function(f,v){v?Gs.prefilters.unshift(f):Gs.prefilters.push(f)}}),_.speed=function(f,v,C){var E=f&&typeof f=="object"?_.extend({},f):{complete:C||!C&&v||c(f)&&f,duration:f,easing:C&&v||v&&!c(v)&&v};return _.fx.off?E.duration=0:typeof E.duration!="number"&&(E.duration in _.fx.speeds?E.duration=_.fx.speeds[E.duration]:E.duration=_.fx.speeds._default),(E.queue==null||E.queue===!0)&&(E.queue="fx"),E.old=E.complete,E.complete=function(){c(E.old)&&E.old.call(this),E.queue&&_.dequeue(this,E.queue)},E},_.fn.extend({fadeTo:function(f,v,C,E){return this.filter(Gd).css("opacity",0).show().end().animate({opacity:v},f,C,E)},animate:function(f,v,C,E){var I=_.isEmptyObject(f),M=_.speed(v,C,E),k=function(){var ee=Gs(this,_.extend({},f),M);(I||$e.get(this,"finish"))&&ee.stop(!0)};return k.finish=k,I||M.queue===!1?this.each(k):this.queue(M.queue,k)},stop:function(f,v,C){var E=function(I){var M=I.stop;delete I.stop,M(C)};return typeof f!="string"&&(C=v,v=f,f=void 0),v&&this.queue(f||"fx",[]),this.each(function(){var I=!0,M=f!=null&&f+"queueHooks",k=_.timers,ee=$e.get(this);if(M)ee[M]&&ee[M].stop&&E(ee[M]);else for(M in ee)ee[M]&&ee[M].stop&&sre.test(M)&&E(ee[M]);for(M=k.length;M--;)k[M].elem===this&&(f==null||k[M].queue===f)&&(k[M].anim.stop(C),I=!1,k.splice(M,1));(I||!C)&&_.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var v,C=$e.get(this),E=C[f+"queue"],I=C[f+"queueHooks"],M=_.timers,k=E?E.length:0;for(C.finish=!0,_.queue(this,f,[]),I&&I.stop&&I.stop.call(this,!0),v=M.length;v--;)M[v].elem===this&&M[v].queue===f&&(M[v].anim.stop(!0),M.splice(v,1));for(v=0;v<k;v++)E[v]&&E[v].finish&&E[v].finish.call(this);delete C.finish})}}),_.each(["toggle","show","hide"],function(f,v){var C=_.fn[v];_.fn[v]=function(E,I,M){return E==null||typeof E=="boolean"?C.apply(this,arguments):this.animate(ux(v,!0),E,I,M)}}),_.each({slideDown:ux("show"),slideUp:ux("hide"),slideToggle:ux("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,v){_.fn[f]=function(C,E,I){return this.animate(v,C,E,I)}}),_.timers=[],_.fx.tick=function(){var f,v=0,C=_.timers;for(gp=Date.now();v<C.length;v++)f=C[v],!f()&&C[v]===f&&C.splice(v--,1);C.length||_.fx.stop(),gp=void 0},_.fx.timer=function(f){_.timers.push(f),_.fx.start()},_.fx.interval=13,_.fx.start=function(){dx||(dx=!0,NS())},_.fx.stop=function(){dx=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(f,v){return f=_.fx&&_.fx.speeds[f]||f,v=v||"fx",this.queue(v,function(C,E){var I=t.setTimeout(C,f);E.stop=function(){t.clearTimeout(I)}})},function(){var f=D.createElement("input"),v=D.createElement("select"),C=v.appendChild(D.createElement("option"));f.type="checkbox",m.checkOn=f.value!=="",m.optSelected=C.selected,f=D.createElement("input"),f.value="t",f.type="radio",m.radioValue=f.value==="t"}();var uH,fm=_.expr.attrHandle;_.fn.extend({attr:function(f,v){return Ni(this,_.attr,f,v,arguments.length>1)},removeAttr:function(f){return this.each(function(){_.removeAttr(this,f)})}}),_.extend({attr:function(f,v,C){var E,I,M=f.nodeType;if(!(M===3||M===8||M===2)){if(typeof f.getAttribute>"u")return _.prop(f,v,C);if((M!==1||!_.isXMLDoc(f))&&(I=_.attrHooks[v.toLowerCase()]||(_.expr.match.bool.test(v)?uH:void 0)),C!==void 0){if(C===null){_.removeAttr(f,v);return}return I&&"set"in I&&(E=I.set(f,C,v))!==void 0?E:(f.setAttribute(v,C+""),C)}return I&&"get"in I&&(E=I.get(f,v))!==null?E:(E=_.find.attr(f,v),E??void 0)}},attrHooks:{type:{set:function(f,v){if(!m.radioValue&&v==="radio"&&fe(f,"input")){var C=f.value;return f.setAttribute("type",v),C&&(f.value=C),v}}}},removeAttr:function(f,v){var C,E=0,I=v&&v.match(le);if(I&&f.nodeType===1)for(;C=I[E++];)f.removeAttribute(C)}}),uH={set:function(f,v,C){return v===!1?_.removeAttr(f,C):f.setAttribute(C,C),C}},_.each(_.expr.match.bool.source.match(/\w+/g),function(f,v){var C=fm[v]||_.find.attr;fm[v]=function(E,I,M){var k,ee,Y=I.toLowerCase();return M||(ee=fm[Y],fm[Y]=k,k=C(E,I,M)!=null?Y:null,fm[Y]=ee),k}});var dre=/^(?:input|select|textarea|button)$/i,ure=/^(?:a|area)$/i;_.fn.extend({prop:function(f,v){return Ni(this,_.prop,f,v,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[_.propFix[f]||f]})}}),_.extend({prop:function(f,v,C){var E,I,M=f.nodeType;if(!(M===3||M===8||M===2))return(M!==1||!_.isXMLDoc(f))&&(v=_.propFix[v]||v,I=_.propHooks[v]),C!==void 0?I&&"set"in I&&(E=I.set(f,C,v))!==void 0?E:f[v]=C:I&&"get"in I&&(E=I.get(f,v))!==null?E:f[v]},propHooks:{tabIndex:{get:function(f){var v=_.find.attr(f,"tabindex");return v?parseInt(v,10):dre.test(f.nodeName)||ure.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(_.propHooks.selected={get:function(f){var v=f.parentNode;return v&&v.parentNode&&v.parentNode.selectedIndex,null},set:function(f){var v=f.parentNode;v&&(v.selectedIndex,v.parentNode&&v.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});function Cc(f){var v=f.match(le)||[];return v.join(" ")}function xc(f){return f.getAttribute&&f.getAttribute("class")||""}function LS(f){return Array.isArray(f)?f:typeof f=="string"?f.match(le)||[]:[]}_.fn.extend({addClass:function(f){var v,C,E,I,M,k;return c(f)?this.each(function(ee){_(this).addClass(f.call(this,ee,xc(this)))}):(v=LS(f),v.length?this.each(function(){if(E=xc(this),C=this.nodeType===1&&" "+Cc(E)+" ",C){for(M=0;M<v.length;M++)I=v[M],C.indexOf(" "+I+" ")<0&&(C+=I+" ");k=Cc(C),E!==k&&this.setAttribute("class",k)}}):this)},removeClass:function(f){var v,C,E,I,M,k;return c(f)?this.each(function(ee){_(this).removeClass(f.call(this,ee,xc(this)))}):arguments.length?(v=LS(f),v.length?this.each(function(){if(E=xc(this),C=this.nodeType===1&&" "+Cc(E)+" ",C){for(M=0;M<v.length;M++)for(I=v[M];C.indexOf(" "+I+" ")>-1;)C=C.replace(" "+I+" "," ");k=Cc(C),E!==k&&this.setAttribute("class",k)}}):this):this.attr("class","")},toggleClass:function(f,v){var C,E,I,M,k=typeof f,ee=k==="string"||Array.isArray(f);return c(f)?this.each(function(Y){_(this).toggleClass(f.call(this,Y,xc(this),v),v)}):typeof v=="boolean"&&ee?v?this.addClass(f):this.removeClass(f):(C=LS(f),this.each(function(){if(ee)for(M=_(this),I=0;I<C.length;I++)E=C[I],M.hasClass(E)?M.removeClass(E):M.addClass(E);else(f===void 0||k==="boolean")&&(E=xc(this),E&&$e.set(this,"__className__",E),this.setAttribute&&this.setAttribute("class",E||f===!1?"":$e.get(this,"__className__")||""))}))},hasClass:function(f){var v,C,E=0;for(v=" "+f+" ";C=this[E++];)if(C.nodeType===1&&(" "+Cc(xc(C))+" ").indexOf(v)>-1)return!0;return!1}});var cre=/\r/g;_.fn.extend({val:function(f){var v,C,E,I=this[0];return arguments.length?(E=c(f),this.each(function(M){var k;this.nodeType===1&&(E?k=f.call(this,M,_(this).val()):k=f,k==null?k="":typeof k=="number"?k+="":Array.isArray(k)&&(k=_.map(k,function(ee){return ee==null?"":ee+""})),v=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],(!v||!("set"in v)||v.set(this,k,"value")===void 0)&&(this.value=k))})):I?(v=_.valHooks[I.type]||_.valHooks[I.nodeName.toLowerCase()],v&&"get"in v&&(C=v.get(I,"value"))!==void 0?C:(C=I.value,typeof C=="string"?C.replace(cre,""):C??"")):void 0}}),_.extend({valHooks:{option:{get:function(f){var v=_.find.attr(f,"value");return v??Cc(_.text(f))}},select:{get:function(f){var v,C,E,I=f.options,M=f.selectedIndex,k=f.type==="select-one",ee=k?null:[],Y=k?M+1:I.length;for(M<0?E=Y:E=k?M:0;E<Y;E++)if(C=I[E],(C.selected||E===M)&&!C.disabled&&(!C.parentNode.disabled||!fe(C.parentNode,"optgroup"))){if(v=_(C).val(),k)return v;ee.push(v)}return ee},set:function(f,v){for(var C,E,I=f.options,M=_.makeArray(v),k=I.length;k--;)E=I[k],(E.selected=_.inArray(_.valHooks.option.get(E),M)>-1)&&(C=!0);return C||(f.selectedIndex=-1),M}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(f,v){if(Array.isArray(v))return f.checked=_.inArray(_(f).val(),v)>-1}},m.checkOn||(_.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})});var gm=t.location,cH={guid:Date.now()},BS=/\?/;_.parseXML=function(f){var v,C;if(!f||typeof f!="string")return null;try{v=new t.DOMParser().parseFromString(f,"text/xml")}catch{}return C=v&&v.getElementsByTagName("parsererror")[0],(!v||C)&&_.error("Invalid XML: "+(C?_.map(C.childNodes,function(E){return E.textContent}).join(`
`):f)),v};var hH=/^(?:focusinfocus|focusoutblur)$/,pH=function(f){f.stopPropagation()};_.extend(_.event,{trigger:function(f,v,C,E){var I,M,k,ee,Y,de,De,Me,me=[C||D],He=u.call(f,"type")?f.type:f,Gt=u.call(f,"namespace")?f.namespace.split("."):[];if(M=Me=k=C=C||D,!(C.nodeType===3||C.nodeType===8)&&!hH.test(He+_.event.triggered)&&(He.indexOf(".")>-1&&(Gt=He.split("."),He=Gt.shift(),Gt.sort()),Y=He.indexOf(":")<0&&"on"+He,f=f[_.expando]?f:new _.Event(He,typeof f=="object"&&f),f.isTrigger=E?2:3,f.namespace=Gt.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Gt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=C),v=v==null?[f]:_.makeArray(v,[f]),De=_.event.special[He]||{},!(!E&&De.trigger&&De.trigger.apply(C,v)===!1))){if(!E&&!De.noBubble&&!x(C)){for(ee=De.delegateType||He,hH.test(ee+He)||(M=M.parentNode);M;M=M.parentNode)me.push(M),k=M;k===(C.ownerDocument||D)&&me.push(k.defaultView||k.parentWindow||t)}for(I=0;(M=me[I++])&&!f.isPropagationStopped();)Me=M,f.type=I>1?ee:De.bindType||He,de=($e.get(M,"events")||Object.create(null))[f.type]&&$e.get(M,"handle"),de&&de.apply(M,v),de=Y&&M[Y],de&&de.apply&&Je(M)&&(f.result=de.apply(M,v),f.result===!1&&f.preventDefault());return f.type=He,!E&&!f.isDefaultPrevented()&&(!De._default||De._default.apply(me.pop(),v)===!1)&&Je(C)&&Y&&c(C[He])&&!x(C)&&(k=C[Y],k&&(C[Y]=null),_.event.triggered=He,f.isPropagationStopped()&&Me.addEventListener(He,pH),C[He](),f.isPropagationStopped()&&Me.removeEventListener(He,pH),_.event.triggered=void 0,k&&(C[Y]=k)),f.result}},simulate:function(f,v,C){var E=_.extend(new _.Event,C,{type:f,isSimulated:!0});_.event.trigger(E,null,v)}}),_.fn.extend({trigger:function(f,v){return this.each(function(){_.event.trigger(f,v,this)})},triggerHandler:function(f,v){var C=this[0];if(C)return _.event.trigger(f,v,C,!0)}});var hre=/\[\]$/,fH=/\r?\n/g,pre=/^(?:submit|button|image|reset|file)$/i,fre=/^(?:input|select|textarea|keygen)/i;function VS(f,v,C,E){var I;if(Array.isArray(v))_.each(v,function(M,k){C||hre.test(f)?E(f,k):VS(f+"["+(typeof k=="object"&&k!=null?M:"")+"]",k,C,E)});else if(!C&&G(v)==="object")for(I in v)VS(f+"["+I+"]",v[I],C,E);else E(f,v)}_.param=function(f,v){var C,E=[],I=function(M,k){var ee=c(k)?k():k;E[E.length]=encodeURIComponent(M)+"="+encodeURIComponent(ee??"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!_.isPlainObject(f))_.each(f,function(){I(this.name,this.value)});else for(C in f)VS(C,f[C],v,I);return E.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=_.prop(this,"elements");return f?_.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!_(this).is(":disabled")&&fre.test(this.nodeName)&&!pre.test(f)&&(this.checked||!$n.test(f))}).map(function(f,v){var C=_(this).val();return C==null?null:Array.isArray(C)?_.map(C,function(E){return{name:v.name,value:E.replace(fH,`\r
`)}}):{name:v.name,value:C.replace(fH,`\r
`)}}).get()}});var gre=/%20/g,mre=/#.*$/,vre=/([?&])_=[^&]*/,_re=/^(.*?):[ \t]*([^\r\n]*)$/mg,Cre=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xre=/^(?:GET|HEAD)$/,yre=/^\/\//,gH={},HS={},mH="*/".concat("*"),zS=D.createElement("a");zS.href=gm.href;function vH(f){return function(v,C){typeof v!="string"&&(C=v,v="*");var E,I=0,M=v.toLowerCase().match(le)||[];if(c(C))for(;E=M[I++];)E[0]==="+"?(E=E.slice(1)||"*",(f[E]=f[E]||[]).unshift(C)):(f[E]=f[E]||[]).push(C)}}function _H(f,v,C,E){var I={},M=f===HS;function k(ee){var Y;return I[ee]=!0,_.each(f[ee]||[],function(de,De){var Me=De(v,C,E);if(typeof Me=="string"&&!M&&!I[Me])return v.dataTypes.unshift(Me),k(Me),!1;if(M)return!(Y=Me)}),Y}return k(v.dataTypes[0])||!I["*"]&&k("*")}function WS(f,v){var C,E,I=_.ajaxSettings.flatOptions||{};for(C in v)v[C]!==void 0&&((I[C]?f:E||(E={}))[C]=v[C]);return E&&_.extend(!0,f,E),f}function bre(f,v,C){for(var E,I,M,k,ee=f.contents,Y=f.dataTypes;Y[0]==="*";)Y.shift(),E===void 0&&(E=f.mimeType||v.getResponseHeader("Content-Type"));if(E){for(I in ee)if(ee[I]&&ee[I].test(E)){Y.unshift(I);break}}if(Y[0]in C)M=Y[0];else{for(I in C){if(!Y[0]||f.converters[I+" "+Y[0]]){M=I;break}k||(k=I)}M=M||k}if(M)return M!==Y[0]&&Y.unshift(M),C[M]}function Dre(f,v,C,E){var I,M,k,ee,Y,de={},De=f.dataTypes.slice();if(De[1])for(k in f.converters)de[k.toLowerCase()]=f.converters[k];for(M=De.shift();M;)if(f.responseFields[M]&&(C[f.responseFields[M]]=v),!Y&&E&&f.dataFilter&&(v=f.dataFilter(v,f.dataType)),Y=M,M=De.shift(),M){if(M==="*")M=Y;else if(Y!=="*"&&Y!==M){if(k=de[Y+" "+M]||de["* "+M],!k){for(I in de)if(ee=I.split(" "),ee[1]===M&&(k=de[Y+" "+ee[0]]||de["* "+ee[0]],k)){k===!0?k=de[I]:de[I]!==!0&&(M=ee[0],De.unshift(ee[1]));break}}if(k!==!0)if(k&&f.throws)v=k(v);else try{v=k(v)}catch(Me){return{state:"parsererror",error:k?Me:"No conversion from "+Y+" to "+M}}}}return{state:"success",data:v}}_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gm.href,type:"GET",isLocal:Cre.test(gm.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":mH,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,v){return v?WS(WS(f,_.ajaxSettings),v):WS(_.ajaxSettings,f)},ajaxPrefilter:vH(gH),ajaxTransport:vH(HS),ajax:function(f,v){typeof f=="object"&&(v=f,f=void 0),v=v||{};var C,E,I,M,k,ee,Y,de,De,Me,me=_.ajaxSetup({},v),He=me.context||me,Gt=me.context&&(He.nodeType||He.jquery)?_(He):_.event,Fi=_.Deferred(),di=_.Callbacks("once memory"),Mr=me.statusCode||{},cr={},Ma={},Aa="canceled",Ii={readyState:0,getResponseHeader:function(Li){var Pn;if(Y){if(!M)for(M={};Pn=_re.exec(I);)M[Pn[1].toLowerCase()+" "]=(M[Pn[1].toLowerCase()+" "]||[]).concat(Pn[2]);Pn=M[Li.toLowerCase()+" "]}return Pn==null?null:Pn.join(", ")},getAllResponseHeaders:function(){return Y?I:null},setRequestHeader:function(Li,Pn){return Y==null&&(Li=Ma[Li.toLowerCase()]=Ma[Li.toLowerCase()]||Li,cr[Li]=Pn),this},overrideMimeType:function(Li){return Y==null&&(me.mimeType=Li),this},statusCode:function(Li){var Pn;if(Li)if(Y)Ii.always(Li[Ii.status]);else for(Pn in Li)Mr[Pn]=[Mr[Pn],Li[Pn]];return this},abort:function(Li){var Pn=Li||Aa;return C&&C.abort(Pn),yc(0,Pn),this}};if(Fi.promise(Ii),me.url=((f||me.url||gm.href)+"").replace(yre,gm.protocol+"//"),me.type=v.method||v.type||me.method||me.type,me.dataTypes=(me.dataType||"*").toLowerCase().match(le)||[""],me.crossDomain==null){ee=D.createElement("a");try{ee.href=me.url,ee.href=ee.href,me.crossDomain=zS.protocol+"//"+zS.host!=ee.protocol+"//"+ee.host}catch{me.crossDomain=!0}}if(me.data&&me.processData&&typeof me.data!="string"&&(me.data=_.param(me.data,me.traditional)),_H(gH,me,v,Ii),Y)return Ii;de=_.event&&me.global,de&&_.active++===0&&_.event.trigger("ajaxStart"),me.type=me.type.toUpperCase(),me.hasContent=!xre.test(me.type),E=me.url.replace(mre,""),me.hasContent?me.data&&me.processData&&(me.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(me.data=me.data.replace(gre,"+")):(Me=me.url.slice(E.length),me.data&&(me.processData||typeof me.data=="string")&&(E+=(BS.test(E)?"&":"?")+me.data,delete me.data),me.cache===!1&&(E=E.replace(vre,"$1"),Me=(BS.test(E)?"&":"?")+"_="+cH.guid+++Me),me.url=E+Me),me.ifModified&&(_.lastModified[E]&&Ii.setRequestHeader("If-Modified-Since",_.lastModified[E]),_.etag[E]&&Ii.setRequestHeader("If-None-Match",_.etag[E])),(me.data&&me.hasContent&&me.contentType!==!1||v.contentType)&&Ii.setRequestHeader("Content-Type",me.contentType),Ii.setRequestHeader("Accept",me.dataTypes[0]&&me.accepts[me.dataTypes[0]]?me.accepts[me.dataTypes[0]]+(me.dataTypes[0]!=="*"?", "+mH+"; q=0.01":""):me.accepts["*"]);for(De in me.headers)Ii.setRequestHeader(De,me.headers[De]);if(me.beforeSend&&(me.beforeSend.call(He,Ii,me)===!1||Y))return Ii.abort();if(Aa="abort",di.add(me.complete),Ii.done(me.success),Ii.fail(me.error),C=_H(HS,me,v,Ii),!C)yc(-1,"No Transport");else{if(Ii.readyState=1,de&&Gt.trigger("ajaxSend",[Ii,me]),Y)return Ii;me.async&&me.timeout>0&&(k=t.setTimeout(function(){Ii.abort("timeout")},me.timeout));try{Y=!1,C.send(cr,yc)}catch(Li){if(Y)throw Li;yc(-1,Li)}}function yc(Li,Pn,vm,$S){var Ra,_m,Fa,qd,Jd,ds=Pn;Y||(Y=!0,k&&t.clearTimeout(k),C=void 0,I=$S||"",Ii.readyState=Li>0?4:0,Ra=Li>=200&&Li<300||Li===304,vm&&(qd=bre(me,Ii,vm)),!Ra&&_.inArray("script",me.dataTypes)>-1&&_.inArray("json",me.dataTypes)<0&&(me.converters["text script"]=function(){}),qd=Dre(me,qd,Ii,Ra),Ra?(me.ifModified&&(Jd=Ii.getResponseHeader("Last-Modified"),Jd&&(_.lastModified[E]=Jd),Jd=Ii.getResponseHeader("etag"),Jd&&(_.etag[E]=Jd)),Li===204||me.type==="HEAD"?ds="nocontent":Li===304?ds="notmodified":(ds=qd.state,_m=qd.data,Fa=qd.error,Ra=!Fa)):(Fa=ds,(Li||!ds)&&(ds="error",Li<0&&(Li=0))),Ii.status=Li,Ii.statusText=(Pn||ds)+"",Ra?Fi.resolveWith(He,[_m,ds,Ii]):Fi.rejectWith(He,[Ii,ds,Fa]),Ii.statusCode(Mr),Mr=void 0,de&&Gt.trigger(Ra?"ajaxSuccess":"ajaxError",[Ii,me,Ra?_m:Fa]),di.fireWith(He,[Ii,ds]),de&&(Gt.trigger("ajaxComplete",[Ii,me]),--_.active||_.event.trigger("ajaxStop")))}return Ii},getJSON:function(f,v,C){return _.get(f,v,C,"json")},getScript:function(f,v){return _.get(f,void 0,v,"script")}}),_.each(["get","post"],function(f,v){_[v]=function(C,E,I,M){return c(E)&&(M=M||I,I=E,E=void 0),_.ajax(_.extend({url:C,type:v,dataType:M,data:E,success:I},_.isPlainObject(C)&&C))}}),_.ajaxPrefilter(function(f){var v;for(v in f.headers)v.toLowerCase()==="content-type"&&(f.contentType=f.headers[v]||"")}),_._evalUrl=function(f,v,C){return _.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(E){_.globalEval(E,v,C)}})},_.fn.extend({wrapAll:function(f){var v;return this[0]&&(c(f)&&(f=f.call(this[0])),v=_(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&v.insertBefore(this[0]),v.map(function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C}).append(this)),this},wrapInner:function(f){return c(f)?this.each(function(v){_(this).wrapInner(f.call(this,v))}):this.each(function(){var v=_(this),C=v.contents();C.length?C.wrapAll(f):v.append(f)})},wrap:function(f){var v=c(f);return this.each(function(C){_(this).wrapAll(v?f.call(this,C):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(f){return!_.expr.pseudos.visible(f)},_.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Ore={0:200,1223:204},mm=_.ajaxSettings.xhr();m.cors=!!mm&&"withCredentials"in mm,m.ajax=mm=!!mm,_.ajaxTransport(function(f){var v,C;if(m.cors||mm&&!f.crossDomain)return{send:function(E,I){var M,k=f.xhr();if(k.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(M in f.xhrFields)k[M]=f.xhrFields[M];f.mimeType&&k.overrideMimeType&&k.overrideMimeType(f.mimeType),!f.crossDomain&&!E["X-Requested-With"]&&(E["X-Requested-With"]="XMLHttpRequest");for(M in E)k.setRequestHeader(M,E[M]);v=function(ee){return function(){v&&(v=C=k.onload=k.onerror=k.onabort=k.ontimeout=k.onreadystatechange=null,ee==="abort"?k.abort():ee==="error"?typeof k.status!="number"?I(0,"error"):I(k.status,k.statusText):I(Ore[k.status]||k.status,k.statusText,(k.responseType||"text")!=="text"||typeof k.responseText!="string"?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}},k.onload=v(),C=k.onerror=k.ontimeout=v("error"),k.onabort!==void 0?k.onabort=C:k.onreadystatechange=function(){k.readyState===4&&t.setTimeout(function(){v&&C()})},v=v("abort");try{k.send(f.hasContent&&f.data||null)}catch(ee){if(v)throw ee}},abort:function(){v&&v()}}}),_.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return _.globalEval(f),f}}}),_.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),_.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var v,C;return{send:function(E,I){v=_("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",C=function(M){v.remove(),C=null,M&&I(M.type==="error"?404:200,M.type)}),D.head.appendChild(v[0])},abort:function(){C&&C()}}}});var CH=[],jS=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=CH.pop()||_.expando+"_"+cH.guid++;return this[f]=!0,f}}),_.ajaxPrefilter("json jsonp",function(f,v,C){var E,I,M,k=f.jsonp!==!1&&(jS.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&jS.test(f.data)&&"data");if(k||f.dataTypes[0]==="jsonp")return E=f.jsonpCallback=c(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,k?f[k]=f[k].replace(jS,"$1"+E):f.jsonp!==!1&&(f.url+=(BS.test(f.url)?"&":"?")+f.jsonp+"="+E),f.converters["script json"]=function(){return M||_.error(E+" was not called"),M[0]},f.dataTypes[0]="json",I=t[E],t[E]=function(){M=arguments},C.always(function(){I===void 0?_(t).removeProp(E):t[E]=I,f[E]&&(f.jsonpCallback=v.jsonpCallback,CH.push(E)),M&&c(I)&&I(M[0]),M=I=void 0}),"script"}),m.createHTMLDocument=function(){var f=D.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),_.parseHTML=function(f,v,C){if(typeof f!="string")return[];typeof v=="boolean"&&(C=v,v=!1);var E,I,M;return v||(m.createHTMLDocument?(v=D.implementation.createHTMLDocument(""),E=v.createElement("base"),E.href=D.location.href,v.head.appendChild(E)):v=D),I=X.exec(f),M=!C&&[],I?[v.createElement(I[1])]:(I=vc([f],v,M),M&&M.length&&_(M).remove(),_.merge([],I.childNodes))},_.fn.load=function(f,v,C){var E,I,M,k=this,ee=f.indexOf(" ");return ee>-1&&(E=Cc(f.slice(ee)),f=f.slice(0,ee)),c(v)?(C=v,v=void 0):v&&typeof v=="object"&&(I="POST"),k.length>0&&_.ajax({url:f,type:I||"GET",dataType:"html",data:v}).done(function(Y){M=arguments,k.html(E?_("<div>").append(_.parseHTML(Y)).find(E):Y)}).always(C&&function(Y,de){k.each(function(){C.apply(this,M||[Y.responseText,de,Y])})}),this},_.expr.pseudos.animated=function(f){return _.grep(_.timers,function(v){return f===v.elem}).length},_.offset={setOffset:function(f,v,C){var E,I,M,k,ee,Y,de,De=_.css(f,"position"),Me=_(f),me={};De==="static"&&(f.style.position="relative"),ee=Me.offset(),M=_.css(f,"top"),Y=_.css(f,"left"),de=(De==="absolute"||De==="fixed")&&(M+Y).indexOf("auto")>-1,de?(E=Me.position(),k=E.top,I=E.left):(k=parseFloat(M)||0,I=parseFloat(Y)||0),c(v)&&(v=v.call(f,C,_.extend({},ee))),v.top!=null&&(me.top=v.top-ee.top+k),v.left!=null&&(me.left=v.left-ee.left+I),"using"in v?v.using.call(f,me):Me.css(me)}},_.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(I){_.offset.setOffset(this,f,I)});var v,C,E=this[0];if(E)return E.getClientRects().length?(v=E.getBoundingClientRect(),C=E.ownerDocument.defaultView,{top:v.top+C.pageYOffset,left:v.left+C.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,v,C,E=this[0],I={top:0,left:0};if(_.css(E,"position")==="fixed")v=E.getBoundingClientRect();else{for(v=this.offset(),C=E.ownerDocument,f=E.offsetParent||C.documentElement;f&&(f===C.body||f===C.documentElement)&&_.css(f,"position")==="static";)f=f.parentNode;f&&f!==E&&f.nodeType===1&&(I=_(f).offset(),I.top+=_.css(f,"borderTopWidth",!0),I.left+=_.css(f,"borderLeftWidth",!0))}return{top:v.top-I.top-_.css(E,"marginTop",!0),left:v.left-I.left-_.css(E,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&_.css(f,"position")==="static";)f=f.offsetParent;return f||Ml})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,v){var C=v==="pageYOffset";_.fn[f]=function(E){return Ni(this,function(I,M,k){var ee;if(x(I)?ee=I:I.nodeType===9&&(ee=I.defaultView),k===void 0)return ee?ee[v]:I[M];ee?ee.scrollTo(C?ee.pageXOffset:k,C?k:ee.pageYOffset):I[M]=k},f,E,arguments.length)}}),_.each(["top","left"],function(f,v){_.cssHooks[v]=tH(m.pixelPosition,function(C,E){if(E)return E=pm(C,v),RS.test(E)?_(C).position()[v]+"px":E})}),_.each({Height:"height",Width:"width"},function(f,v){_.each({padding:"inner"+f,content:v,"":"outer"+f},function(C,E){_.fn[E]=function(I,M){var k=arguments.length&&(C||typeof I!="boolean"),ee=C||(I===!0||M===!0?"margin":"border");return Ni(this,function(Y,de,De){var Me;return x(Y)?E.indexOf("outer")===0?Y["inner"+f]:Y.document.documentElement["client"+f]:Y.nodeType===9?(Me=Y.documentElement,Math.max(Y.body["scroll"+f],Me["scroll"+f],Y.body["offset"+f],Me["offset"+f],Me["client"+f])):De===void 0?_.css(Y,de,ee):_.style(Y,de,De,ee)},v,k?I:void 0,k)}})}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,v){_.fn[v]=function(C){return this.on(v,C)}}),_.fn.extend({bind:function(f,v,C){return this.on(f,null,v,C)},unbind:function(f,v){return this.off(f,null,v)},delegate:function(f,v,C,E){return this.on(v,f,C,E)},undelegate:function(f,v,C){return arguments.length===1?this.off(f,"**"):this.off(v,f||"**",C)},hover:function(f,v){return this.on("mouseenter",f).on("mouseleave",v||f)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,v){_.fn[v]=function(C,E){return arguments.length>0?this.on(v,null,C,E):this.trigger(v)}});var Ere=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;_.proxy=function(f,v){var C,E,I;if(typeof v=="string"&&(C=f[v],v=f,f=C),!!c(f))return E=r.call(arguments,2),I=function(){return f.apply(v||this,E.concat(r.call(arguments)))},I.guid=f.guid=f.guid||_.guid++,I},_.holdReady=function(f){f?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=fe,_.isFunction=c,_.isWindow=x,_.camelCase=dt,_.type=G,_.now=Date.now,_.isNumeric=function(f){var v=_.type(f);return(v==="number"||v==="string")&&!isNaN(f-parseFloat(f))},_.trim=function(f){return f==null?"":(f+"").replace(Ere,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return _});var Sre=t.jQuery,wre=t.$;return _.noConflict=function(f){return t.$===_&&(t.$=wre),f&&t.jQuery===_&&(t.jQuery=Sre),_},typeof e>"u"&&(t.jQuery=t.$=_),_})});var jd=SH((LV,BV)=>{"use strict";(function(){(function(t){var e=this||(0,eval)("this"),i=e.document,n=e.navigator,r=e.jQuery,o=e.JSON;r||typeof jQuery>"u"||(r=jQuery),function(s){typeof define=="function"&&define.amd?define(["exports","require"],s):s(typeof LV=="object"&&typeof BV=="object"?BV.exports||LV:e.ko={})}(function(s,a){function l(b,w){return b===null||typeof b in x?b===w:!1}function d(b,w){var A;return function(){A||(A=c.a.setTimeout(function(){A=t,b()},w))}}function u(b,w){var A;return function(){clearTimeout(A),A=c.a.setTimeout(b,w)}}function h(b,w){w&&w!=="change"?w==="beforeChange"?this.pc(b):this.gb(b,w):this.qc(b)}function p(b,w){w!==null&&w.s&&w.s()}function m(b,w){var A=this.qd,R=A[U];R.ra||(this.Qb&&this.mb[w]?(A.uc(w,b,this.mb[w]),this.mb[w]=null,--this.Qb):R.I[w]||A.uc(w,b,R.J?{da:b}:A.$c(b)),b.Ja&&b.gd())}var c=typeof s<"u"?s:{};c.b=function(b,w){for(var A=b.split("."),R=c,B=0;B<A.length-1;B++)R=R[A[B]];R[A[A.length-1]]=w},c.L=function(b,w,A){b[w]=A},c.version="3.5.1",c.b("version",c.version),c.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},c.a=function(){function b(P,Q){for(var Z in P)B.call(P,Z)&&Q(Z,P[Z])}function w(P,Q){if(Q)for(var Z in Q)B.call(Q,Z)&&(P[Z]=Q[Z]);return P}function A(P,Q){return P.__proto__=Q,P}function R(P,Q,Z,ge){var Re=P[Q].match(J)||[];c.a.D(Z.match(J),function(le){c.a.Na(Re,le,ge)}),P[Q]=Re.join(" ")}var B=Object.prototype.hasOwnProperty,z={__proto__:[]}instanceof Array,K=typeof Symbol=="function",q={},V={};q[n&&/Firefox\/2/i.test(n.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],q.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),b(q,function(P,Q){if(Q.length)for(var Z=0,ge=Q.length;Z<ge;Z++)V[Q[Z]]=P});var L={propertychange:!0},X=i&&function(){for(var P=3,Q=i.createElement("div"),Z=Q.getElementsByTagName("i");Q.innerHTML="<!--[if gt IE "+ ++P+"]><i></i><![endif]-->",Z[0];);return 4<P?P:t}(),J=/\S+/g,ae;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(P,Q,Z){for(var ge=0,Re=P.length;ge<Re;ge++)Q.call(Z,P[ge],ge,P)},A:typeof Array.prototype.indexOf=="function"?function(P,Q){return Array.prototype.indexOf.call(P,Q)}:function(P,Q){for(var Z=0,ge=P.length;Z<ge;Z++)if(P[Z]===Q)return Z;return-1},Lb:function(P,Q,Z){for(var ge=0,Re=P.length;ge<Re;ge++)if(Q.call(Z,P[ge],ge,P))return P[ge];return t},Pa:function(P,Q){var Z=c.a.A(P,Q);0<Z?P.splice(Z,1):Z===0&&P.shift()},wc:function(P){var Q=[];return P&&c.a.D(P,function(Z){0>c.a.A(Q,Z)&&Q.push(Z)}),Q},Mb:function(P,Q,Z){var ge=[];if(P)for(var Re=0,le=P.length;Re<le;Re++)ge.push(Q.call(Z,P[Re],Re));return ge},jb:function(P,Q,Z){var ge=[];if(P)for(var Re=0,le=P.length;Re<le;Re++)Q.call(Z,P[Re],Re)&&ge.push(P[Re]);return ge},Nb:function(P,Q){if(Q instanceof Array)P.push.apply(P,Q);else for(var Z=0,ge=Q.length;Z<ge;Z++)P.push(Q[Z]);return P},Na:function(P,Q,Z){var ge=c.a.A(c.a.bc(P),Q);0>ge?Z&&P.push(Q):Z||P.splice(ge,1)},Ba:z,extend:w,setPrototypeOf:A,Ab:z?A:w,P:b,Ga:function(P,Q,Z){if(!P)return P;var ge={},Re;for(Re in P)B.call(P,Re)&&(ge[Re]=Q.call(Z,P[Re],Re,P));return ge},Tb:function(P){for(;P.firstChild;)c.removeNode(P.firstChild)},Yb:function(P){P=c.a.la(P);for(var Q=(P[0]&&P[0].ownerDocument||i).createElement("div"),Z=0,ge=P.length;Z<ge;Z++)Q.appendChild(c.oa(P[Z]));return Q},Ca:function(P,Q){for(var Z=0,ge=P.length,Re=[];Z<ge;Z++){var le=P[Z].cloneNode(!0);Re.push(Q?c.oa(le):le)}return Re},va:function(P,Q){if(c.a.Tb(P),Q)for(var Z=0,ge=Q.length;Z<ge;Z++)P.appendChild(Q[Z])},Xc:function(P,Q){var Z=P.nodeType?[P]:P;if(0<Z.length){for(var ge=Z[0],Re=ge.parentNode,le=0,Ee=Q.length;le<Ee;le++)Re.insertBefore(Q[le],ge);for(le=0,Ee=Z.length;le<Ee;le++)c.removeNode(Z[le])}},Ua:function(P,Q){if(P.length){for(Q=Q.nodeType===8&&Q.parentNode||Q;P.length&&P[0].parentNode!==Q;)P.splice(0,1);for(;1<P.length&&P[P.length-1].parentNode!==Q;)P.length--;if(1<P.length){var Z=P[0],ge=P[P.length-1];for(P.length=0;Z!==ge;)P.push(Z),Z=Z.nextSibling;P.push(ge)}}return P},Zc:function(P,Q){7>X?P.setAttribute("selected",Q):P.selected=Q},Db:function(P){return P===null||P===t?"":P.trim?P.trim():P.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(P,Q){return P=P||"",Q.length>P.length?!1:P.substring(0,Q.length)===Q},vd:function(P,Q){if(P===Q)return!0;if(P.nodeType===11)return!1;if(Q.contains)return Q.contains(P.nodeType!==1?P.parentNode:P);if(Q.compareDocumentPosition)return(Q.compareDocumentPosition(P)&16)==16;for(;P&&P!=Q;)P=P.parentNode;return!!P},Sb:function(P){return c.a.vd(P,P.ownerDocument.documentElement)},kd:function(P){return!!c.a.Lb(P,c.a.Sb)},R:function(P){return P&&P.tagName&&P.tagName.toLowerCase()},Ac:function(P){return c.onError?function(){try{return P.apply(this,arguments)}catch(Q){throw c.onError&&c.onError(Q),Q}}:P},setTimeout:function(P,Q){return setTimeout(c.a.Ac(P),Q)},Gc:function(P){setTimeout(function(){throw c.onError&&c.onError(P),P},0)},B:function(P,Q,Z){var ge=c.a.Ac(Z);if(Z=L[Q],c.options.useOnlyNativeEvents||Z||!r)if(Z||typeof P.addEventListener!="function")if(typeof P.attachEvent<"u"){var Re=function(Ee){ge.call(P,Ee)},le="on"+Q;P.attachEvent(le,Re),c.a.K.za(P,function(){P.detachEvent(le,Re)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else P.addEventListener(Q,ge,!1);else ae||(ae=typeof r(P).on=="function"?"on":"bind"),r(P)[ae](Q,ge)},Fb:function(P,Q){if(!P||!P.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var Z;if(c.a.R(P)==="input"&&P.type&&Q.toLowerCase()=="click"?(Z=P.type,Z=Z=="checkbox"||Z=="radio"):Z=!1,c.options.useOnlyNativeEvents||!r||Z)if(typeof i.createEvent=="function")if(typeof P.dispatchEvent=="function")Z=i.createEvent(V[Q]||"HTMLEvents"),Z.initEvent(Q,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,P),P.dispatchEvent(Z);else throw Error("The supplied element doesn't support dispatchEvent");else if(Z&&P.click)P.click();else if(typeof P.fireEvent<"u")P.fireEvent("on"+Q);else throw Error("Browser doesn't support triggering events");else r(P).trigger(Q)},f:function(P){return c.O(P)?P():P},bc:function(P){return c.O(P)?P.v():P},Eb:function(P,Q,Z){var ge;Q&&(typeof P.classList=="object"?(ge=P.classList[Z?"add":"remove"],c.a.D(Q.match(J),function(Re){ge.call(P.classList,Re)})):typeof P.className.baseVal=="string"?R(P.className,"baseVal",Q,Z):R(P,"className",Q,Z))},Bb:function(P,Q){var Z=c.a.f(Q);(Z===null||Z===t)&&(Z="");var ge=c.h.firstChild(P);!ge||ge.nodeType!=3||c.h.nextSibling(ge)?c.h.va(P,[P.ownerDocument.createTextNode(Z)]):ge.data=Z,c.a.Ad(P)},Yc:function(P,Q){if(P.name=Q,7>=X)try{var Z=P.name.replace(/[&<>'"]/g,function(ge){return"&#"+ge.charCodeAt(0)+";"});P.mergeAttributes(i.createElement("<input name='"+Z+"'/>"),!1)}catch{}},Ad:function(P){9<=X&&(P=P.nodeType==1?P:P.parentNode,P.style&&(P.style.zoom=P.style.zoom))},wd:function(P){if(X){var Q=P.style.width;P.style.width=0,P.style.width=Q}},Pd:function(P,Q){P=c.a.f(P),Q=c.a.f(Q);for(var Z=[],ge=P;ge<=Q;ge++)Z.push(ge);return Z},la:function(P){for(var Q=[],Z=0,ge=P.length;Z<ge;Z++)Q.push(P[Z]);return Q},Da:function(P){return K?Symbol(P):P},Zd:X===6,$d:X===7,W:X,Lc:function(P,Q){for(var Z=c.a.la(P.getElementsByTagName("input")).concat(c.a.la(P.getElementsByTagName("textarea"))),ge=typeof Q=="string"?function(Ee){return Ee.name===Q}:function(Ee){return Q.test(Ee.name)},Re=[],le=Z.length-1;0<=le;le--)ge(Z[le])&&Re.push(Z[le]);return Re},Nd:function(P){return typeof P=="string"&&(P=c.a.Db(P))?o&&o.parse?o.parse(P):new Function("return "+P)():null},hc:function(P,Q,Z){if(!o||!o.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return o.stringify(c.a.f(P),Q,Z)},Od:function(P,Q,Z){Z=Z||{};var ge=Z.params||{},Re=Z.includeFields||this.Jc,le=P;if(typeof P=="object"&&c.a.R(P)==="form")for(var le=P.action,Ee=Re.length-1;0<=Ee;Ee--)for(var Fe=c.a.Lc(P,Re[Ee]),tt=Fe.length-1;0<=tt;tt--)ge[Fe[tt].name]=Fe[tt].value;Q=c.a.f(Q);var Ze=i.createElement("form");Ze.style.display="none",Ze.action=le,Ze.method="post";for(var st in Q)P=i.createElement("input"),P.type="hidden",P.name=st,P.value=c.a.hc(c.a.f(Q[st])),Ze.appendChild(P);b(ge,function(At,gn){var Ni=i.createElement("input");Ni.type="hidden",Ni.name=At,Ni.value=gn,Ze.appendChild(Ni)}),i.body.appendChild(Ze),Z.submitter?Z.submitter(Ze):Ze.submit(),setTimeout(function(){Ze.parentNode.removeChild(Ze)},0)}}}(),c.b("utils",c.a),c.b("utils.arrayForEach",c.a.D),c.b("utils.arrayFirst",c.a.Lb),c.b("utils.arrayFilter",c.a.jb),c.b("utils.arrayGetDistinctValues",c.a.wc),c.b("utils.arrayIndexOf",c.a.A),c.b("utils.arrayMap",c.a.Mb),c.b("utils.arrayPushAll",c.a.Nb),c.b("utils.arrayRemoveItem",c.a.Pa),c.b("utils.cloneNodes",c.a.Ca),c.b("utils.createSymbolOrString",c.a.Da),c.b("utils.extend",c.a.extend),c.b("utils.fieldsIncludedWithJsonPost",c.a.Jc),c.b("utils.getFormFields",c.a.Lc),c.b("utils.objectMap",c.a.Ga),c.b("utils.peekObservable",c.a.bc),c.b("utils.postJson",c.a.Od),c.b("utils.parseJson",c.a.Nd),c.b("utils.registerEventHandler",c.a.B),c.b("utils.stringifyJson",c.a.hc),c.b("utils.range",c.a.Pd),c.b("utils.toggleDomNodeCssClass",c.a.Eb),c.b("utils.triggerEvent",c.a.Fb),c.b("utils.unwrapObservable",c.a.f),c.b("utils.objectForEach",c.a.P),c.b("utils.addOrRemoveItem",c.a.Na),c.b("utils.setTextContent",c.a.Bb),c.b("unwrap",c.a.f),Function.prototype.bind||(Function.prototype.bind=function(b){var w=this;if(arguments.length===1)return function(){return w.apply(b,arguments)};var A=Array.prototype.slice.call(arguments,1);return function(){var R=A.slice(0);return R.push.apply(R,arguments),w.apply(b,R)}}),c.a.g=new function(){var b=0,w="__ko__"+new Date().getTime(),A={},R,B;return c.a.W?(R=function(z,K){var q=z[w];if(!q||q==="null"||!A[q]){if(!K)return t;q=z[w]="ko"+b++,A[q]={}}return A[q]},B=function(z){var K=z[w];return K?(delete A[K],z[w]=null,!0):!1}):(R=function(z,K){var q=z[w];return!q&&K&&(q=z[w]={}),q},B=function(z){return z[w]?(delete z[w],!0):!1}),{get:function(z,K){var q=R(z,!1);return q&&q[K]},set:function(z,K,q){(z=R(z,q!==t))&&(z[K]=q)},Ub:function(z,K,q){return z=R(z,!0),z[K]||(z[K]=q)},clear:B,Z:function(){return b+++w}}},c.b("utils.domData",c.a.g),c.b("utils.domData.clear",c.a.g.clear),c.a.K=new function(){function b(K,q){var V=c.a.g.get(K,R);return V===t&&q&&(V=[],c.a.g.set(K,R,V)),V}function w(K){var q=b(K,!1);if(q)for(var q=q.slice(0),V=0;V<q.length;V++)q[V](K);c.a.g.clear(K),c.a.K.cleanExternalData(K),z[K.nodeType]&&A(K.childNodes,!0)}function A(K,q){for(var V=[],L,X=0;X<K.length;X++)if((!q||K[X].nodeType===8)&&(w(V[V.length]=L=K[X]),K[X]!==L))for(;X--&&c.a.A(V,K[X])==-1;);}var R=c.a.g.Z(),B={1:!0,8:!0,9:!0},z={1:!0,9:!0};return{za:function(K,q){if(typeof q!="function")throw Error("Callback must be a function");b(K,!0).push(q)},yb:function(K,q){var V=b(K,!1);V&&(c.a.Pa(V,q),V.length==0&&c.a.g.set(K,R,t))},oa:function(K){return c.u.G(function(){B[K.nodeType]&&(w(K),z[K.nodeType]&&A(K.getElementsByTagName("*")))}),K},removeNode:function(K){c.oa(K),K.parentNode&&K.parentNode.removeChild(K)},cleanExternalData:function(K){r&&typeof r.cleanData=="function"&&r.cleanData([K])}}},c.oa=c.a.K.oa,c.removeNode=c.a.K.removeNode,c.b("cleanNode",c.oa),c.b("removeNode",c.removeNode),c.b("utils.domNodeDisposal",c.a.K),c.b("utils.domNodeDisposal.addDisposeCallback",c.a.K.za),c.b("utils.domNodeDisposal.removeDisposeCallback",c.a.K.yb),function(){var b=[0,"",""],w=[1,"<table>","</table>"],A=[3,"<table><tbody><tr>","</tr></tbody></table>"],R=[1,"<select multiple='multiple'>","</select>"],B={thead:w,tbody:w,tfoot:w,tr:[2,"<table><tbody>","</tbody></table>"],td:A,th:A,option:R,optgroup:R},z=8>=c.a.W;c.a.ua=function(K,q){var V;if(r){if(r.parseHTML)V=r.parseHTML(K,q)||[];else if((V=r.clean([K],q))&&V[0]){for(var L=V[0];L.parentNode&&L.parentNode.nodeType!==11;)L=L.parentNode;L.parentNode&&L.parentNode.removeChild(L)}}else{(V=q)||(V=i);var L=V.parentWindow||V.defaultView||e,X=c.a.Db(K).toLowerCase(),J=V.createElement("div"),ae;for(ae=(X=X.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&B[X[1]]||b,X=ae[0],ae="ignored<div>"+ae[1]+K+ae[2]+"</div>",typeof L.innerShiv=="function"?J.appendChild(L.innerShiv(ae)):(z&&V.body.appendChild(J),J.innerHTML=ae,z&&J.parentNode.removeChild(J));X--;)J=J.lastChild;V=c.a.la(J.lastChild.childNodes)}return V},c.a.Md=function(K,q){var V=c.a.ua(K,q);return V.length&&V[0].parentElement||c.a.Yb(V)},c.a.fc=function(K,q){if(c.a.Tb(K),q=c.a.f(q),q!==null&&q!==t)if(typeof q!="string"&&(q=q.toString()),r)r(K).html(q);else for(var V=c.a.ua(q,K.ownerDocument),L=0;L<V.length;L++)K.appendChild(V[L])}}(),c.b("utils.parseHtmlFragment",c.a.ua),c.b("utils.setHtml",c.a.fc),c.aa=function(){function b(A,R){if(A){if(A.nodeType==8){var B=c.aa.Uc(A.nodeValue);B!=null&&R.push({ud:A,Kd:B})}else if(A.nodeType==1)for(var B=0,z=A.childNodes,K=z.length;B<K;B++)b(z[B],R)}}var w={};return{Xb:function(A){if(typeof A!="function")throw Error("You can only pass a function to ko.memoization.memoize()");var R=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return w[R]=A,"<!--[ko_memo:"+R+"]-->"},bd:function(A,R){var B=w[A];if(B===t)throw Error("Couldn't find any memo with ID "+A+". Perhaps it's already been unmemoized.");try{return B.apply(null,R||[]),!0}finally{delete w[A]}},cd:function(A,R){var B=[];b(A,B);for(var z=0,K=B.length;z<K;z++){var q=B[z].ud,V=[q];R&&c.a.Nb(V,R),c.aa.bd(B[z].Kd,V),q.nodeValue="",q.parentNode&&q.parentNode.removeChild(q)}},Uc:function(A){return(A=A.match(/^\[ko_memo\:(.*?)\]$/))?A[1]:null}}}(),c.b("memoization",c.aa),c.b("memoization.memoize",c.aa.Xb),c.b("memoization.unmemoize",c.aa.bd),c.b("memoization.parseMemoText",c.aa.Uc),c.b("memoization.unmemoizeDomNodeAndDescendants",c.aa.cd),c.na=function(){function b(){if(B){for(var q=B,V=0,L;K<B;)if(L=R[K++]){if(K>q){if(5e3<=++V){K=B,c.a.Gc(Error("'Too much recursion' after processing "+V+" task groups."));break}q=B}try{L()}catch(X){c.a.Gc(X)}}}}function w(){b(),K=B=R.length=0}var A,R=[],B=0,z=1,K=0;return e.MutationObserver?A=function(q){var V=i.createElement("div");return new MutationObserver(q).observe(V,{attributes:!0}),function(){V.classList.toggle("foo")}}(w):A=i&&"onreadystatechange"in i.createElement("script")?function(q){var V=i.createElement("script");V.onreadystatechange=function(){V.onreadystatechange=null,i.documentElement.removeChild(V),V=null,q()},i.documentElement.appendChild(V)}:function(q){setTimeout(q,0)},{scheduler:A,zb:function(q){return B||c.na.scheduler(w),R[B++]=q,z++},cancel:function(q){q=q-(z-B),q>=K&&q<B&&(R[q]=null)},resetForTesting:function(){var q=B-K;return K=B=R.length=0,q},Sd:b}}(),c.b("tasks",c.na),c.b("tasks.schedule",c.na.zb),c.b("tasks.runEarly",c.na.Sd),c.Ta={throttle:function(b,w){b.throttleEvaluation=w;var A=null;return c.$({read:b,write:function(R){clearTimeout(A),A=c.a.setTimeout(function(){b(R)},w)}})},rateLimit:function(b,w){var A,R,B;typeof w=="number"?A=w:(A=w.timeout,R=w.method),b.Hb=!1,B=typeof R=="function"?R:R=="notifyWhenChangesStop"?u:d,b.ub(function(z){return B(z,A,w)})},deferred:function(b,w){if(w!==!0)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.Hb||(b.Hb=!0,b.ub(function(A){var R,B=!1;return function(){if(!B){c.na.cancel(R),R=c.na.zb(A);try{B=!0,b.notifySubscribers(t,"dirty")}finally{B=!1}}}}))},notify:function(b,w){b.equalityComparer=w=="always"?null:l}};var x={undefined:1,boolean:1,number:1,string:1};c.b("extenders",c.Ta),c.ic=function(b,w,A){this.da=b,this.lc=w,this.mc=A,this.Ib=!1,this.fb=this.Jb=null,c.L(this,"dispose",this.s),c.L(this,"disposeWhenNodeIsRemoved",this.l)},c.ic.prototype.s=function(){this.Ib||(this.fb&&c.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},c.ic.prototype.l=function(b){this.Jb=b,c.a.K.za(b,this.fb=this.s.bind(this))},c.T=function(){c.a.Ab(this,D),D.qb(this)};var D={qb:function(b){b.U={change:[]},b.sc=1},subscribe:function(b,w,A){var R=this;A=A||"change";var B=new c.ic(R,w?b.bind(w):b,function(){c.a.Pa(R.U[A],B),R.hb&&R.hb(A)});return R.Qa&&R.Qa(A),R.U[A]||(R.U[A]=[]),R.U[A].push(B),B},notifySubscribers:function(b,w){if(w=w||"change",w==="change"&&this.Gb(),this.Wa(w)){var A=w==="change"&&this.ed||this.U[w].slice(0);try{c.u.xc();for(var R=0,B;B=A[R];++R)B.Ib||B.lc(b)}finally{c.u.end()}}},ob:function(){return this.sc},Dd:function(b){return this.ob()!==b},Gb:function(){++this.sc},ub:function(b){var w=this,A=c.O(w),R,B,z,K,q;w.gb||(w.gb=w.notifySubscribers,w.notifySubscribers=h);var V=b(function(){w.Ja=!1,A&&K===w&&(K=w.nc?w.nc():w());var L=B||q&&w.sb(z,K);q=B=R=!1,L&&w.gb(z=K)});w.qc=function(L,X){X&&w.Ja||(q=!X),w.ed=w.U.change.slice(0),w.Ja=R=!0,K=L,V()},w.pc=function(L){R||(z=L,w.gb(L,"beforeChange"))},w.rc=function(){q=!0},w.gd=function(){w.sb(z,w.v(!0))&&(B=!0)}},Wa:function(b){return this.U[b]&&this.U[b].length},Bd:function(b){if(b)return this.U[b]&&this.U[b].length||0;var w=0;return c.a.P(this.U,function(A,R){A!=="dirty"&&(w+=R.length)}),w},sb:function(b,w){return!this.equalityComparer||!this.equalityComparer(b,w)},toString:function(){return"[object Object]"},extend:function(b){var w=this;return b&&c.a.P(b,function(A,R){var B=c.Ta[A];typeof B=="function"&&(w=B(w,R)||w)}),w}};c.L(D,"init",D.qb),c.L(D,"subscribe",D.subscribe),c.L(D,"extend",D.extend),c.L(D,"getSubscriptionsCount",D.Bd),c.a.Ba&&c.a.setPrototypeOf(D,Function.prototype),c.T.fn=D,c.Qc=function(b){return b!=null&&typeof b.subscribe=="function"&&typeof b.notifySubscribers=="function"},c.b("subscribable",c.T),c.b("isSubscribable",c.Qc),c.S=c.u=function(){function b(z){A.push(R),R=z}function w(){R=A.pop()}var A=[],R,B=0;return{xc:b,end:w,cc:function(z){if(R){if(!c.Qc(z))throw Error("Only subscribable things can act as dependencies");R.od.call(R.pd,z,z.fd||(z.fd=++B))}},G:function(z,K,q){try{return b(),z.apply(K,q||[])}finally{w()}},qa:function(){if(R)return R.o.qa()},Va:function(){if(R)return R.o.Va()},Ya:function(){if(R)return R.Ya},o:function(){if(R)return R.o}}}(),c.b("computedContext",c.S),c.b("computedContext.getDependenciesCount",c.S.qa),c.b("computedContext.getDependencies",c.S.Va),c.b("computedContext.isInitial",c.S.Ya),c.b("computedContext.registerDependency",c.S.cc),c.b("ignoreDependencies",c.Yd=c.u.G);var T=c.a.Da("_latestValue");c.ta=function(b){function w(){return 0<arguments.length?(w.sb(w[T],arguments[0])&&(w.ya(),w[T]=arguments[0],w.xa()),this):(c.u.cc(w),w[T])}return w[T]=b,c.a.Ba||c.a.extend(w,c.T.fn),c.T.fn.qb(w),c.a.Ab(w,N),c.options.deferUpdates&&c.Ta.deferred(w,!0),w};var N={equalityComparer:l,v:function(){return this[T]},xa:function(){this.notifySubscribers(this[T],"spectate"),this.notifySubscribers(this[T])},ya:function(){this.notifySubscribers(this[T],"beforeChange")}};c.a.Ba&&c.a.setPrototypeOf(N,c.T.fn);var G=c.ta.Ma="__ko_proto__";N[G]=c.ta,c.O=function(b){if((b=typeof b=="function"&&b[G])&&b!==N[G]&&b!==c.o.fn[G])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!b},c.Za=function(b){return typeof b=="function"&&(b[G]===N[G]||b[G]===c.o.fn[G]&&b.Nc)},c.b("observable",c.ta),c.b("isObservable",c.O),c.b("isWriteableObservable",c.Za),c.b("isWritableObservable",c.Za),c.b("observable.fn",N),c.L(N,"peek",N.v),c.L(N,"valueHasMutated",N.xa),c.L(N,"valueWillMutate",N.ya),c.Ha=function(b){if(b=b||[],typeof b!="object"||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return b=c.ta(b),c.a.Ab(b,c.Ha.fn),b.extend({trackArrayChanges:!0})},c.Ha.fn={remove:function(b){for(var w=this.v(),A=[],R=typeof b!="function"||c.O(b)?function(K){return K===b}:b,B=0;B<w.length;B++){var z=w[B];if(R(z)){if(A.length===0&&this.ya(),w[B]!==z)throw Error("Array modified during remove; cannot remove item");A.push(z),w.splice(B,1),B--}}return A.length&&this.xa(),A},removeAll:function(b){if(b===t){var w=this.v(),A=w.slice(0);return this.ya(),w.splice(0,w.length),this.xa(),A}return b?this.remove(function(R){return 0<=c.a.A(b,R)}):[]},destroy:function(b){var w=this.v(),A=typeof b!="function"||c.O(b)?function(z){return z===b}:b;this.ya();for(var R=w.length-1;0<=R;R--){var B=w[R];A(B)&&(B._destroy=!0)}this.xa()},destroyAll:function(b){return b===t?this.destroy(function(){return!0}):b?this.destroy(function(w){return 0<=c.a.A(b,w)}):[]},indexOf:function(b){var w=this();return c.a.A(w,b)},replace:function(b,w){var A=this.indexOf(b);0<=A&&(this.ya(),this.v()[A]=w,this.xa())},sorted:function(b){var w=this().slice(0);return b?w.sort(b):w.sort()},reversed:function(){return this().slice(0).reverse()}},c.a.Ba&&c.a.setPrototypeOf(c.Ha.fn,c.ta.fn),c.a.D("pop push reverse shift sort splice unshift".split(" "),function(b){c.Ha.fn[b]=function(){var w=this.v();this.ya(),this.zc(w,b,arguments);var A=w[b].apply(w,arguments);return this.xa(),A===w?this:A}}),c.a.D(["slice"],function(b){c.Ha.fn[b]=function(){var w=this();return w[b].apply(w,arguments)}}),c.Pc=function(b){return c.O(b)&&typeof b.remove=="function"&&typeof b.push=="function"},c.b("observableArray",c.Ha),c.b("isObservableArray",c.Pc),c.Ta.trackArrayChanges=function(b,w){function A(){function J(){if(q){var ae=[].concat(b.v()||[]),P;b.Wa("arrayChange")&&((!B||1<q)&&(B=c.a.Pb(V,ae,b.Ob)),P=B),V=ae,B=null,q=0,P&&P.length&&b.notifySubscribers(P,"arrayChange")}}R?J():(R=!0,K=b.subscribe(function(){++q},null,"spectate"),V=[].concat(b.v()||[]),B=null,z=b.subscribe(J))}if(b.Ob={},w&&typeof w=="object"&&c.a.extend(b.Ob,w),b.Ob.sparse=!0,!b.zc){var R=!1,B=null,z,K,q=0,V,L=b.Qa,X=b.hb;b.Qa=function(J){L&&L.call(b,J),J==="arrayChange"&&A()},b.hb=function(J){X&&X.call(b,J),J!=="arrayChange"||b.Wa("arrayChange")||(z&&z.s(),K&&K.s(),K=z=null,R=!1,V=t)},b.zc=function(J,ae,P){function Q(Ze,st,At){return Z[Z.length]={status:Ze,value:st,index:At}}if(R&&!q){var Z=[],ge=J.length,Re=P.length,le=0;switch(ae){case"push":le=ge;case"unshift":for(ae=0;ae<Re;ae++)Q("added",P[ae],le+ae);break;case"pop":le=ge-1;case"shift":ge&&Q("deleted",J[le],le);break;case"splice":ae=Math.min(Math.max(0,0>P[0]?ge+P[0]:P[0]),ge);for(var ge=Re===1?ge:Math.min(ae+(P[1]||0),ge),Re=ae+Re-2,le=Math.max(ge,Re),Ee=[],Fe=[],tt=2;ae<le;++ae,++tt)ae<ge&&Fe.push(Q("deleted",J[ae],ae)),ae<Re&&Ee.push(Q("added",P[tt],ae));c.a.Kc(Fe,Ee);break;default:return}B=Z}}}};var U=c.a.Da("_state");c.o=c.$=function(b,w,A){function R(){if(0<arguments.length){if(typeof B=="function")B.apply(z.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return z.ra||c.u.cc(R),(z.ka||z.J&&R.Xa())&&R.ha(),z.X}if(typeof b=="object"?A=b:(A=A||{},b&&(A.read=b)),typeof A.read!="function")throw Error("Pass a function that returns the value of the ko.computed");var B=A.write,z={X:t,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:A.read,nb:w||A.owner,l:A.disposeWhenNodeIsRemoved||A.l||null,Sa:A.disposeWhen||A.Sa,Rb:null,I:{},V:0,Ic:null};return R[U]=z,R.Nc=typeof B=="function",c.a.Ba||c.a.extend(R,c.T.fn),c.T.fn.qb(R),c.a.Ab(R,re),A.pure?(z.wb=!0,z.J=!0,c.a.extend(R,_)):A.deferEvaluation&&c.a.extend(R,Oe),c.options.deferUpdates&&c.Ta.deferred(R,!0),z.l&&(z.jc=!0,z.l.nodeType||(z.l=null)),z.J||A.deferEvaluation||R.ha(),z.l&&R.ja()&&c.a.K.za(z.l,z.Rb=function(){R.s()}),R};var re={equalityComparer:l,qa:function(){return this[U].V},Va:function(){var b=[];return c.a.P(this[U].I,function(w,A){b[A.Ka]=A.da}),b},Vb:function(b){if(!this[U].V)return!1;var w=this.Va();return c.a.A(w,b)!==-1?!0:!!c.a.Lb(w,function(A){return A.Vb&&A.Vb(b)})},uc:function(b,w,A){if(this[U].wb&&w===this)throw Error("A 'pure' computed must not be called recursively");this[U].I[b]=A,A.Ka=this[U].V++,A.La=w.ob()},Xa:function(){var b,w,A=this[U].I;for(b in A)if(Object.prototype.hasOwnProperty.call(A,b)&&(w=A[b],this.Ia&&w.da.Ja||w.da.Dd(w.La)))return!0},Jd:function(){this.Ia&&!this[U].rb&&this.Ia(!1)},ja:function(){var b=this[U];return b.ka||0<b.V},Rd:function(){this.Ja?this[U].ka&&(this[U].sa=!0):this.Hc()},$c:function(b){if(b.Hb){var w=b.subscribe(this.Jd,this,"dirty"),A=b.subscribe(this.Rd,this);return{da:b,s:function(){w.s(),A.s()}}}return b.subscribe(this.Hc,this)},Hc:function(){var b=this,w=b.throttleEvaluation;w&&0<=w?(clearTimeout(this[U].Ic),this[U].Ic=c.a.setTimeout(function(){b.ha(!0)},w)):b.Ia?b.Ia(!0):b.ha(!0)},ha:function(b){var w=this[U],A=w.Sa,R=!1;if(!w.rb&&!w.ra){if(w.l&&!c.a.Sb(w.l)||A&&A()){if(!w.jc){this.s();return}}else w.jc=!1;w.rb=!0;try{R=this.zd(b)}finally{w.rb=!1}return R}},zd:function(b){var w=this[U],R=!1,A=w.wb?t:!w.V,R={qd:this,mb:w.I,Qb:w.V};c.u.xc({pd:R,od:m,o:this,Ya:A}),w.I={},w.V=0;var B=this.yd(w,R);return w.V?R=this.sb(w.X,B):(this.s(),R=!0),R&&(w.J?this.Gb():this.notifySubscribers(w.X,"beforeChange"),w.X=B,this.notifySubscribers(w.X,"spectate"),!w.J&&b&&this.notifySubscribers(w.X),this.rc&&this.rc()),A&&this.notifySubscribers(w.X,"awake"),R},yd:function(b,w){try{var A=b.Wc;return b.nb?A.call(b.nb):A()}finally{c.u.end(),w.Qb&&!b.J&&c.a.P(w.mb,p),b.sa=b.ka=!1}},v:function(b){var w=this[U];return(w.ka&&(b||!w.V)||w.J&&this.Xa())&&this.ha(),w.X},ub:function(b){c.T.fn.ub.call(this,b),this.nc=function(){return this[U].J||(this[U].sa?this.ha():this[U].ka=!1),this[U].X},this.Ia=function(w){this.pc(this[U].X),this[U].ka=!0,w&&(this[U].sa=!0),this.qc(this,!w)}},s:function(){var b=this[U];!b.J&&b.I&&c.a.P(b.I,function(w,A){A.s&&A.s()}),b.l&&b.Rb&&c.a.K.yb(b.l,b.Rb),b.I=t,b.V=0,b.ra=!0,b.sa=!1,b.ka=!1,b.J=!1,b.l=t,b.Sa=t,b.Wc=t,this.Nc||(b.nb=t)}},_={Qa:function(b){var w=this,A=w[U];if(!A.ra&&A.J&&b=="change"){if(A.J=!1,A.sa||w.Xa())A.I=null,A.V=0,w.ha()&&w.Gb();else{var R=[];c.a.P(A.I,function(B,z){R[z.Ka]=B}),c.a.D(R,function(B,z){var K=A.I[B],q=w.$c(K.da);q.Ka=z,q.La=K.La,A.I[B]=q}),w.Xa()&&w.ha()&&w.Gb()}A.ra||w.notifySubscribers(A.X,"awake")}},hb:function(b){var w=this[U];w.ra||b!="change"||this.Wa("change")||(c.a.P(w.I,function(A,R){R.s&&(w.I[A]={da:R.da,Ka:R.Ka,La:R.La},R.s())}),w.J=!0,this.notifySubscribers(t,"asleep"))},ob:function(){var b=this[U];return b.J&&(b.sa||this.Xa())&&this.ha(),c.T.fn.ob.call(this)}},Oe={Qa:function(b){b!="change"&&b!="beforeChange"||this.v()}};c.a.Ba&&c.a.setPrototypeOf(re,c.T.fn);var fe=c.ta.Ma;re[fe]=c.o,c.Oc=function(b){return typeof b=="function"&&b[fe]===re[fe]},c.Fd=function(b){return c.Oc(b)&&b[U]&&b[U].wb},c.b("computed",c.o),c.b("dependentObservable",c.o),c.b("isComputed",c.Oc),c.b("isPureComputed",c.Fd),c.b("computed.fn",re),c.L(re,"peek",re.v),c.L(re,"dispose",re.s),c.L(re,"isActive",re.ja),c.L(re,"getDependenciesCount",re.qa),c.L(re,"getDependencies",re.Va),c.xb=function(b,w){return typeof b=="function"?c.o(b,w,{pure:!0}):(b=c.a.extend({},b),b.pure=!0,c.o(b,w))},c.b("pureComputed",c.xb),function(){function b(R,B,z){if(z=z||new A,R=B(R),typeof R!="object"||R===null||R===t||R instanceof RegExp||R instanceof Date||R instanceof String||R instanceof Number||R instanceof Boolean)return R;var K=R instanceof Array?[]:{};return z.save(R,K),w(R,function(q){var V=B(R[q]);switch(typeof V){case"boolean":case"number":case"string":case"function":K[q]=V;break;case"object":case"undefined":var L=z.get(V);K[q]=L!==t?L:b(V,B,z)}}),K}function w(R,B){if(R instanceof Array){for(var z=0;z<R.length;z++)B(z);typeof R.toJSON=="function"&&B("toJSON")}else for(z in R)B(z)}function A(){this.keys=[],this.values=[]}c.ad=function(R){if(arguments.length==0)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(R,function(B){for(var z=0;c.O(B)&&10>z;z++)B=B();return B})},c.toJSON=function(R,B,z){return R=c.ad(R),c.a.hc(R,B,z)},A.prototype={constructor:A,save:function(R,B){var z=c.a.A(this.keys,R);0<=z?this.values[z]=B:(this.keys.push(R),this.values.push(B))},get:function(R){return R=c.a.A(this.keys,R),0<=R?this.values[R]:t}}}(),c.b("toJS",c.ad),c.b("toJSON",c.toJSON),c.Wd=function(b,w,A){function R(B){var z=c.xb(b,A).extend({ma:"always"}),K=z.subscribe(function(q){q&&(K.s(),B(q))});return z.notifySubscribers(z.v()),K}return typeof Promise!="function"||w?R(w.bind(A)):new Promise(R)},c.b("when",c.Wd),function(){c.w={M:function(b){switch(c.a.R(b)){case"option":return b.__ko__hasDomDataOptionValue__===!0?c.a.g.get(b,c.c.options.$b):7>=c.a.W?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return 0<=b.selectedIndex?c.w.M(b.options[b.selectedIndex]):t;default:return b.value}},cb:function(b,w,A){switch(c.a.R(b)){case"option":typeof w=="string"?(c.a.g.set(b,c.c.options.$b,t),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=w):(c.a.g.set(b,c.c.options.$b,w),b.__ko__hasDomDataOptionValue__=!0,b.value=typeof w=="number"?w:"");break;case"select":(w===""||w===null)&&(w=t);for(var R=-1,B=0,z=b.options.length,K;B<z;++B)if(K=c.w.M(b.options[B]),K==w||K===""&&w===t){R=B;break}(A||0<=R||w===t&&1<b.size)&&(b.selectedIndex=R,c.a.W===6&&c.a.setTimeout(function(){b.selectedIndex=R},0));break;default:(w===null||w===t)&&(w=""),b.value=w}}}}(),c.b("selectExtensions",c.w),c.b("selectExtensions.readValue",c.w.M),c.b("selectExtensions.writeValue",c.w.cb),c.m=function(){function b(q){q=c.a.Db(q),q.charCodeAt(0)===123&&(q=q.slice(1,-1)),q+=`
,`;var V=[],L=q.match(R),X,J=[],ae=0;if(1<L.length){for(var P=0,Q;Q=L[P];++P){var Z=Q.charCodeAt(0);if(Z===44){if(0>=ae){V.push(X&&J.length?{key:X,value:J.join("")}:{unknown:X||J.join("")}),X=ae=0,J=[];continue}}else if(Z===58){if(!ae&&!X&&J.length===1){X=J.pop();continue}}else{if(Z===47&&1<Q.length&&(Q.charCodeAt(1)===47||Q.charCodeAt(1)===42))continue;Z===47&&P&&1<Q.length?(Z=L[P-1].match(B))&&!z[Z[0]]&&(q=q.substr(q.indexOf(Q)+1),L=q.match(R),P=-1,Q="/"):Z===40||Z===123||Z===91?++ae:Z===41||Z===125||Z===93?--ae:X||J.length||Z!==34&&Z!==39||(Q=Q.slice(1,-1))}J.push(Q)}if(0<ae)throw Error("Unbalanced parentheses, braces, or brackets")}return V}var w=["true","false","null","undefined"],A=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,R=RegExp(`"(?:\\\\.|[^"])*"|'(?:\\\\.|[^'])*'|\`(?:\\\\.|[^\`])*\`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*
|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,"'\`{}()/:[\\]]*[^\\s,"'\`{}()/:[\\]]|[^\\s]`,"g"),B=/[\])"'A-Za-z0-9_$]+$/,z={in:1,return:1,typeof:1},K={};return{Ra:[],wa:K,ac:b,vb:function(q,V){function L(Z,ge){var Re;if(!P){var le=c.getBindingHandler(Z);if(le&&le.preprocess&&!(ge=le.preprocess(ge,Z,L)))return;(le=K[Z])&&(Re=ge,0<=c.a.A(w,Re)?Re=!1:(le=Re.match(A),Re=le===null?!1:le[1]?"Object("+le[1]+")"+le[2]:Re),le=Re),le&&J.push("'"+(typeof K[Z]=="string"?K[Z]:Z)+"':function(_z){"+Re+"=_z}")}ae&&(ge="function(){return "+ge+" }"),X.push("'"+Z+"':"+ge)}V=V||{};var X=[],J=[],ae=V.valueAccessors,P=V.bindingParams,Q=typeof q=="string"?b(q):q;return c.a.D(Q,function(Z){L(Z.key||Z.unknown,Z.value)}),J.length&&L("_ko_property_writers","{"+J.join(",")+" }"),X.join(",")},Id:function(q,V){for(var L=0;L<q.length;L++)if(q[L].key==V)return!0;return!1},eb:function(q,V,L,X,J){q&&c.O(q)?!c.Za(q)||J&&q.v()===X||q(X):(q=V.get("_ko_property_writers"))&&q[L]&&q[L](X)}}}(),c.b("expressionRewriting",c.m),c.b("expressionRewriting.bindingRewriteValidators",c.m.Ra),c.b("expressionRewriting.parseObjectLiteral",c.m.ac),c.b("expressionRewriting.preProcessBindings",c.m.vb),c.b("expressionRewriting._twoWayBindings",c.m.wa),c.b("jsonExpressionRewriting",c.m),c.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",c.m.vb),function(){function b(L){return L.nodeType==8&&z.test(B?L.text:L.nodeValue)}function w(L){return L.nodeType==8&&K.test(B?L.text:L.nodeValue)}function A(L,X){for(var J=L,ae=1,P=[];J=J.nextSibling;){if(w(J)&&(c.a.g.set(J,V,!0),ae--,ae===0))return P;P.push(J),b(J)&&ae++}if(!X)throw Error("Cannot find closing comment tag to match: "+L.nodeValue);return null}function R(L,X){var J=A(L,X);return J?0<J.length?J[J.length-1].nextSibling:L.nextSibling:null}var B=i&&i.createComment("test").text==="<!--test-->",z=B?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,K=B?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,q={ul:!0,ol:!0},V="__ko_matchedEndComment__";c.h={ea:{},childNodes:function(L){return b(L)?A(L):L.childNodes},Ea:function(L){if(b(L)){L=c.h.childNodes(L);for(var X=0,J=L.length;X<J;X++)c.removeNode(L[X])}else c.a.Tb(L)},va:function(L,X){if(b(L)){c.h.Ea(L);for(var J=L.nextSibling,ae=0,P=X.length;ae<P;ae++)J.parentNode.insertBefore(X[ae],J)}else c.a.va(L,X)},Vc:function(L,X){var J;b(L)?(J=L.nextSibling,L=L.parentNode):J=L.firstChild,J?X!==J&&L.insertBefore(X,J):L.appendChild(X)},Wb:function(L,X,J){J?(J=J.nextSibling,b(L)&&(L=L.parentNode),J?X!==J&&L.insertBefore(X,J):L.appendChild(X)):c.h.Vc(L,X)},firstChild:function(L){if(b(L))return!L.nextSibling||w(L.nextSibling)?null:L.nextSibling;if(L.firstChild&&w(L.firstChild))throw Error("Found invalid end comment, as the first child of "+L);return L.firstChild},nextSibling:function(L){if(b(L)&&(L=R(L)),L.nextSibling&&w(L.nextSibling)){var X=L.nextSibling;if(w(X)&&!c.a.g.get(X,V))throw Error("Found end comment without a matching opening comment, as child of "+L);return null}return L.nextSibling},Cd:b,Vd:function(L){return(L=(B?L.text:L.nodeValue).match(z))?L[1]:null},Sc:function(L){if(q[c.a.R(L)]){var X=L.firstChild;if(X)do if(X.nodeType===1){var J;J=X.firstChild;var ae=null;if(J)do if(ae)ae.push(J);else if(b(J)){var P=R(J,!0);P?J=P:ae=[J]}else w(J)&&(ae=[J]);while(J=J.nextSibling);if(J=ae)for(ae=X.nextSibling,P=0;P<J.length;P++)ae?L.insertBefore(J[P],ae):L.appendChild(J[P])}while(X=X.nextSibling)}}}}(),c.b("virtualElements",c.h),c.b("virtualElements.allowedBindings",c.h.ea),c.b("virtualElements.emptyNode",c.h.Ea),c.b("virtualElements.insertAfter",c.h.Wb),c.b("virtualElements.prepend",c.h.Vc),c.b("virtualElements.setDomNodeChildren",c.h.va),function(){c.ga=function(){this.nd={}},c.a.extend(c.ga.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind")!=null||c.j.getComponentNameForNode(b);case 8:return c.h.Cd(b);default:return!1}},getBindings:function(b,w){var A=this.getBindingsString(b,w),A=A?this.parseBindingsString(A,w,b):null;return c.j.tc(A,b,w,!1)},getBindingAccessors:function(b,w){var A=this.getBindingsString(b,w),A=A?this.parseBindingsString(A,w,b,{valueAccessors:!0}):null;return c.j.tc(A,b,w,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return c.h.Vd(b);default:return null}},parseBindingsString:function(b,w,A,R){try{var B=this.nd,z=b+(R&&R.valueAccessors||""),K;if(!(K=B[z])){var q,V="with($context){with($data||{}){return{"+c.m.vb(b,R)+"}}}";q=new Function("$context","$element",V),K=B[z]=q}return K(w,A)}catch(L){throw L.message=`Unable to parse bindings.
Bindings value: `+b+`
Message: `+L.message,L}}}),c.ga.instance=new c.ga}(),c.b("bindingProvider",c.ga),function(){function b(le){var Ee=(le=c.a.g.get(le,Re))&&le.N;Ee&&(le.N=null,Ee.Tc())}function w(le,Ee,Fe){this.node=le,this.yc=Ee,this.kb=[],this.H=!1,Ee.N||c.a.K.za(le,b),Fe&&Fe.N&&(Fe.N.kb.push(le),this.Kb=Fe)}function A(le){return function(){return le}}function R(le){return le()}function B(le){return c.a.Ga(c.u.G(le),function(Ee,Fe){return function(){return le()[Fe]}})}function z(le,Ee,Fe){return typeof le=="function"?B(le.bind(null,Ee,Fe)):c.a.Ga(le,A)}function K(le,Ee){return B(this.getBindings.bind(this,le,Ee))}function q(le,Ee){var Fe=c.h.firstChild(Ee);if(Fe){var tt,Ze=c.ga.instance,st=Ze.preprocessNode;if(st){for(;tt=Fe;)Fe=c.h.nextSibling(tt),st.call(Ze,tt);Fe=c.h.firstChild(Ee)}for(;tt=Fe;)Fe=c.h.nextSibling(tt),V(le,tt)}c.i.ma(Ee,c.i.H)}function V(le,Ee){var Fe=le,tt=Ee.nodeType===1;tt&&c.h.Sc(Ee),(tt||c.ga.instance.nodeHasBindings(Ee))&&(Fe=X(Ee,null,le).bindingContextForDescendants),Fe&&!Z[c.a.R(Ee)]&&q(Fe,Ee)}function L(le){var Ee=[],Fe={},tt=[];return c.a.P(le,function Ze(st){if(!Fe[st]){var At=c.getBindingHandler(st);At&&(At.after&&(tt.push(st),c.a.D(At.after,function(gn){if(le[gn]){if(c.a.A(tt,gn)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+tt.join(", "));Ze(gn)}}),tt.length--),Ee.push({key:st,Mc:At})),Fe[st]=!0}}),Ee}function X(le,Ee,Fe){var tt=c.a.g.Ub(le,Re,{}),Ze=tt.hd;if(!Ee){if(Ze)throw Error("You cannot apply bindings multiple times to the same element.");tt.hd=!0}Ze||(tt.context=Fe),tt.Zb||(tt.Zb={});var st;if(Ee&&typeof Ee!="function")st=Ee;else{var At=c.ga.instance,gn=At.getBindingAccessors||K,Ni=c.$(function(){return(st=Ee?Ee(Fe,le):gn.call(At,le,Fe))&&(Fe[ae]&&Fe[ae](),Fe[Q]&&Fe[Q]()),st},null,{l:le});st&&Ni.ja()||(Ni=null)}var xr=Fe,Xi;if(st){var at=function(){return c.a.Ga(Ni?Ni():st,R)},dt=Ni?function(Je){return function(){return R(Ni()[Je])}}:function(Je){return st[Je]};at.get=function(Je){return st[Je]&&R(dt(Je))},at.has=function(Je){return Je in st},c.i.H in st&&c.i.subscribe(le,c.i.H,function(){var Je=(0,st[c.i.H])();if(Je){var wi=c.h.childNodes(le);wi.length&&Je(wi,c.Ec(wi[0]))}}),c.i.pa in st&&(xr=c.i.Cb(le,Fe),c.i.subscribe(le,c.i.pa,function(){var Je=(0,st[c.i.pa])();Je&&c.h.firstChild(le)&&Je(le)})),tt=L(st),c.a.D(tt,function(Je){var wi=Je.Mc.init,$e=Je.Mc.update,ue=Je.key;if(le.nodeType===8&&!c.h.ea[ue])throw Error("The binding '"+ue+"' cannot be used with virtual elements");try{typeof wi=="function"&&c.u.G(function(){var Ri=wi(le,dt(ue),at,xr.$data,xr);if(Ri&&Ri.controlsDescendantBindings){if(Xi!==t)throw Error("Multiple bindings ("+Xi+" and "+ue+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");Xi=ue}}),typeof $e=="function"&&c.$(function(){$e(le,dt(ue),at,xr.$data,xr)},null,{l:le})}catch(Ri){throw Ri.message='Unable to process binding "'+ue+": "+st[ue]+`"
Message: `+Ri.message,Ri}})}return tt=Xi===t,{shouldBindDescendants:tt,bindingContextForDescendants:tt&&xr}}function J(le,Ee){return le&&le instanceof c.fa?le:new c.fa(le,t,t,Ee)}var ae=c.a.Da("_subscribable"),P=c.a.Da("_ancestorBindingInfo"),Q=c.a.Da("_dataDependency");c.c={};var Z={script:!0,textarea:!0,template:!0};c.getBindingHandler=function(le){return c.c[le]};var ge={};c.fa=function(le,Ee,Fe,tt,Ze){function st(){var dt=xr?Ni():Ni,Je=c.a.f(dt);return Ee?(c.a.extend(At,Ee),P in Ee&&(At[P]=Ee[P])):(At.$parents=[],At.$root=Je,At.ko=c),At[ae]=Xi,gn?Je=At.$data:(At.$rawData=dt,At.$data=Je),Fe&&(At[Fe]=Je),tt&&tt(At,Ee,Je),Ee&&Ee[ae]&&!c.S.o().Vb(Ee[ae])&&Ee[ae](),at&&(At[Q]=at),At.$data}var At=this,gn=le===ge,Ni=gn?t:le,xr=typeof Ni=="function"&&!c.O(Ni),Xi,at=Ze&&Ze.dataDependency;Ze&&Ze.exportDependencies?st():(Xi=c.xb(st),Xi.v(),Xi.ja()?Xi.equalityComparer=null:At[ae]=t)},c.fa.prototype.createChildContext=function(le,Ee,Fe,tt){if(!tt&&Ee&&typeof Ee=="object"&&(tt=Ee,Ee=tt.as,Fe=tt.extend),Ee&&tt&&tt.noChildContext){var Ze=typeof le=="function"&&!c.O(le);return new c.fa(ge,this,null,function(st){Fe&&Fe(st),st[Ee]=Ze?le():le},tt)}return new c.fa(le,this,Ee,function(st,At){st.$parentContext=At,st.$parent=At.$data,st.$parents=(At.$parents||[]).slice(0),st.$parents.unshift(st.$parent),Fe&&Fe(st)},tt)},c.fa.prototype.extend=function(le,Ee){return new c.fa(ge,this,null,function(Fe){c.a.extend(Fe,typeof le=="function"?le(Fe):le)},Ee)};var Re=c.a.g.Z();w.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},w.prototype.sd=function(le){c.a.Pa(this.kb,le),!this.kb.length&&this.H&&this.Cc()},w.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,c.a.K.yb(this.node,b),c.i.ma(this.node,c.i.pa),this.Tc())},c.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(le,Ee,Fe,tt,Ze){var st=c.a.g.Ub(le,Re,{});return st.Fa||(st.Fa=new c.T),Ze&&Ze.notifyImmediately&&st.Zb[Ee]&&c.u.G(Fe,tt,[le]),st.Fa.subscribe(Fe,tt,Ee)},ma:function(le,Ee){var Fe=c.a.g.get(le,Re);if(Fe&&(Fe.Zb[Ee]=!0,Fe.Fa&&Fe.Fa.notifySubscribers(le,Ee),Ee==c.i.H)){if(Fe.N)Fe.N.Cc();else if(Fe.N===t&&Fe.Fa&&Fe.Fa.Wa(c.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")}},Cb:function(le,Ee){var Fe=c.a.g.Ub(le,Re,{});return Fe.N||(Fe.N=new w(le,Fe,Ee[P])),Ee[P]==Fe?Ee:Ee.extend(function(tt){tt[P]=Fe})}},c.Td=function(le){return(le=c.a.g.get(le,Re))&&le.context},c.ib=function(le,Ee,Fe){return le.nodeType===1&&c.h.Sc(le),X(le,Ee,J(Fe))},c.ld=function(le,Ee,Fe){return Fe=J(Fe),c.ib(le,z(Ee,Fe,le),Fe)},c.Oa=function(le,Ee){Ee.nodeType!==1&&Ee.nodeType!==8||q(J(le),Ee)},c.vc=function(le,Ee,Fe){if(!r&&e.jQuery&&(r=e.jQuery),2>arguments.length){if(Ee=i.body,!Ee)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!Ee||Ee.nodeType!==1&&Ee.nodeType!==8)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");V(J(le,Fe),Ee)},c.Dc=function(le){return!le||le.nodeType!==1&&le.nodeType!==8?t:c.Td(le)},c.Ec=function(le){return(le=c.Dc(le))?le.$data:t},c.b("bindingHandlers",c.c),c.b("bindingEvent",c.i),c.b("bindingEvent.subscribe",c.i.subscribe),c.b("bindingEvent.startPossiblyAsyncContentBinding",c.i.Cb),c.b("applyBindings",c.vc),c.b("applyBindingsToDescendants",c.Oa),c.b("applyBindingAccessorsToNode",c.ib),c.b("applyBindingsToNode",c.ld),c.b("contextFor",c.Dc),c.b("dataFor",c.Ec)}(),function(b){function w(K,q){var V=Object.prototype.hasOwnProperty.call(B,K)?B[K]:b,L;V?V.subscribe(q):(V=B[K]=new c.T,V.subscribe(q),A(K,function(X,J){var ae=!(!J||!J.synchronous);z[K]={definition:X,Gd:ae},delete B[K],L||ae?V.notifySubscribers(X):c.na.zb(function(){V.notifySubscribers(X)})}),L=!0)}function A(K,q){R("getConfig",[K],function(V){V?R("loadComponent",[K,V],function(L){q(L,V)}):q(null,null)})}function R(K,q,V,L){L||(L=c.j.loaders.slice(0));var X=L.shift();if(X){var J=X[K];if(J){var ae=!1;if(J.apply(X,q.concat(function(P){ae?V(null):P!==null?V(P):R(K,q,V,L)}))!==b&&(ae=!0,!X.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else R(K,q,V,L)}else V(null)}var B={},z={};c.j={get:function(K,q){var V=Object.prototype.hasOwnProperty.call(z,K)?z[K]:b;V?V.Gd?c.u.G(function(){q(V.definition)}):c.na.zb(function(){q(V.definition)}):w(K,q)},Bc:function(K){delete z[K]},oc:R},c.j.loaders=[],c.b("components",c.j),c.b("components.get",c.j.get),c.b("components.clearCachedDefinition",c.j.Bc)}(),function(){function b(V,L,X,J){function ae(){--Q===0&&J(P)}var P={},Q=2,Z=X.template;X=X.viewModel,Z?B(L,Z,function(ge){c.j.oc("loadTemplate",[V,ge],function(Re){P.template=Re,ae()})}):ae(),X?B(L,X,function(ge){c.j.oc("loadViewModel",[V,ge],function(Re){P[q]=Re,ae()})}):ae()}function w(V,L,X){if(typeof L=="function")X(function(ae){return new L(ae)});else if(typeof L[q]=="function")X(L[q]);else if("instance"in L){var J=L.instance;X(function(){return J})}else"viewModel"in L?w(V,L.viewModel,X):V("Unknown viewModel value: "+L)}function A(V){switch(c.a.R(V)){case"script":return c.a.ua(V.text);case"textarea":return c.a.ua(V.value);case"template":if(R(V.content))return c.a.Ca(V.content.childNodes)}return c.a.Ca(V.childNodes)}function R(V){return e.DocumentFragment?V instanceof DocumentFragment:V&&V.nodeType===11}function B(V,L,X){typeof L.require=="string"?a||e.require?(a||e.require)([L.require],function(J){J&&typeof J=="object"&&J.Xd&&J.default&&(J=J.default),X(J)}):V("Uses require, but no AMD loader is present"):X(L)}function z(V){return function(L){throw Error("Component '"+V+"': "+L)}}var K={};c.j.register=function(V,L){if(!L)throw Error("Invalid configuration for "+V);if(c.j.tb(V))throw Error("Component "+V+" is already registered");K[V]=L},c.j.tb=function(V){return Object.prototype.hasOwnProperty.call(K,V)},c.j.unregister=function(V){delete K[V],c.j.Bc(V)},c.j.Fc={getConfig:function(V,L){L(c.j.tb(V)?K[V]:null)},loadComponent:function(V,L,X){var J=z(V);B(J,L,function(ae){b(V,J,ae,X)})},loadTemplate:function(V,L,X){if(V=z(V),typeof L=="string")X(c.a.ua(L));else if(L instanceof Array)X(L);else if(R(L))X(c.a.la(L.childNodes));else if(L.element)if(L=L.element,e.HTMLElement?L instanceof HTMLElement:L&&L.tagName&&L.nodeType===1)X(A(L));else if(typeof L=="string"){var J=i.getElementById(L);J?X(A(J)):V("Cannot find element with ID "+L)}else V("Unknown element type: "+L);else V("Unknown template value: "+L)},loadViewModel:function(V,L,X){w(z(V),L,X)}};var q="createViewModel";c.b("components.register",c.j.register),c.b("components.isRegistered",c.j.tb),c.b("components.unregister",c.j.unregister),c.b("components.defaultLoader",c.j.Fc),c.j.loaders.push(c.j.Fc),c.j.dd=K}(),function(){function b(A,R){var B=A.getAttribute("params");if(B){var B=w.parseBindingsString(B,R,A,{valueAccessors:!0,bindingParams:!0}),B=c.a.Ga(B,function(q){return c.o(q,null,{l:A})}),z=c.a.Ga(B,function(q){var V=q.v();return q.ja()?c.o({read:function(){return c.a.f(q())},write:c.Za(V)&&function(L){q()(L)},l:A}):V});return Object.prototype.hasOwnProperty.call(z,"$raw")||(z.$raw=B),z}return{$raw:{}}}c.j.getComponentNameForNode=function(A){var R=c.a.R(A);if(c.j.tb(R)&&(R.indexOf("-")!=-1||""+A=="[object HTMLUnknownElement]"||8>=c.a.W&&A.tagName===R))return R},c.j.tc=function(A,R,B,z){if(R.nodeType===1){var K=c.j.getComponentNameForNode(R);if(K){if(A=A||{},A.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var q={name:K,params:b(R,B)};A.component=z?function(){return q}:q}}return A};var w=new c.ga;9>c.a.W&&(c.j.register=function(A){return function(R){return A.apply(this,arguments)}}(c.j.register),i.createDocumentFragment=function(A){return function(){var R=A(),B=c.j.dd,z;for(z in B);return R}}(i.createDocumentFragment))}(),function(){function b(R,B,z){if(B=B.template,!B)throw Error("Component '"+R+"' has no template");R=c.a.Ca(B),c.h.va(z,R)}function w(R,B,z){var K=R.createViewModel;return K?K.call(R,B,z):B}var A=0;c.c.component={init:function(R,B,z,K,q){function V(){var P=L&&L.dispose;typeof P=="function"&&P.call(L),J&&J.s(),X=L=J=null}var L,X,J,ae=c.a.la(c.h.childNodes(R));return c.h.Ea(R),c.a.K.za(R,V),c.o(function(){var P=c.a.f(B()),Q,Z;if(typeof P=="string"?Q=P:(Q=c.a.f(P.name),Z=c.a.f(P.params)),!Q)throw Error("No component name specified");var ge=c.i.Cb(R,q),Re=X=++A;c.j.get(Q,function(le){if(X===Re){if(V(),!le)throw Error("Unknown component '"+Q+"'");b(Q,le,R);var Ee=w(le,Z,{element:R,templateNodes:ae});le=ge.createChildContext(Ee,{extend:function(Fe){Fe.$component=Ee,Fe.$componentTemplateNodes=ae}}),Ee&&Ee.koDescendantsComplete&&(J=c.i.subscribe(R,c.i.pa,Ee.koDescendantsComplete,Ee)),L=Ee,c.Oa(le,R)}})},null,{l:R}),{controlsDescendantBindings:!0}}},c.h.ea.component=!0}();var we={class:"className",for:"htmlFor"};c.c.attr={update:function(b,w){var A=c.a.f(w())||{};c.a.P(A,function(R,B){B=c.a.f(B);var z=R.indexOf(":"),z="lookupNamespaceURI"in b&&0<z&&b.lookupNamespaceURI(R.substr(0,z)),K=B===!1||B===null||B===t;K?z?b.removeAttributeNS(z,R):b.removeAttribute(R):B=B.toString(),8>=c.a.W&&R in we?(R=we[R],K?b.removeAttribute(R):b[R]=B):K||(z?b.setAttributeNS(z,R,B):b.setAttribute(R,B)),R==="name"&&c.a.Yc(b,K?"":B)})}},function(){c.c.checked={after:["value","attr"],init:function(b,w,A){function R(){var P=b.checked,Q=z();if(!c.S.Ya()&&(P||!q&&!c.S.qa())){var Z=c.u.G(w);if(L){var ge=X?Z.v():Z,Re=ae;ae=Q,Re!==Q?P&&(c.a.Na(ge,Q,!0),c.a.Na(ge,Re,!1)):c.a.Na(ge,Q,P),X&&c.Za(Z)&&Z(ge)}else K&&(Q===t?Q=P:P||(Q=t)),c.m.eb(Z,A,"checked",Q,!0)}}function B(){var P=c.a.f(w()),Q=z();L?(b.checked=0<=c.a.A(P,Q),ae=Q):b.checked=K&&Q===t?!!P:z()===P}var z=c.xb(function(){if(A.has("checkedValue"))return c.a.f(A.get("checkedValue"));if(J)return A.has("value")?c.a.f(A.get("value")):b.value}),K=b.type=="checkbox",q=b.type=="radio";if(K||q){var V=w(),L=K&&c.a.f(V)instanceof Array,X=!(L&&V.push&&V.splice),J=q||L,ae=L?z():t;q&&!b.name&&c.c.uniqueName.init(b,function(){return!0}),c.o(R,null,{l:b}),c.a.B(b,"click",R),c.o(B,null,{l:b}),V=t}}},c.m.wa.checked=!0,c.c.checkedValue={update:function(b,w){b.value=c.a.f(w())}}}(),c.c.class={update:function(b,w){var A=c.a.Db(c.a.f(w()));c.a.Eb(b,b.__ko__cssValue,!1),b.__ko__cssValue=A,c.a.Eb(b,A,!0)}},c.c.css={update:function(b,w){var A=c.a.f(w());A!==null&&typeof A=="object"?c.a.P(A,function(R,B){B=c.a.f(B),c.a.Eb(b,R,B)}):c.c.class.update(b,w)}},c.c.enable={update:function(b,w){var A=c.a.f(w());A&&b.disabled?b.removeAttribute("disabled"):A||b.disabled||(b.disabled=!0)}},c.c.disable={update:function(b,w){c.c.enable.update(b,function(){return!c.a.f(w())})}},c.c.event={init:function(b,w,A,R,B){var z=w()||{};c.a.P(z,function(K){typeof K=="string"&&c.a.B(b,K,function(q){var V,L=w()[K];if(L){try{var X=c.a.la(arguments);R=B.$data,X.unshift(R),V=L.apply(R,X)}finally{V!==!0&&(q.preventDefault?q.preventDefault():q.returnValue=!1)}A.get(K+"Bubble")===!1&&(q.cancelBubble=!0,q.stopPropagation&&q.stopPropagation())}})})}},c.c.foreach={Rc:function(b){return function(){var w=b(),A=c.a.bc(w);return!A||typeof A.length=="number"?{foreach:w,templateEngine:c.ba.Ma}:(c.a.f(w),{foreach:A.data,as:A.as,noChildContext:A.noChildContext,includeDestroyed:A.includeDestroyed,afterAdd:A.afterAdd,beforeRemove:A.beforeRemove,afterRender:A.afterRender,beforeMove:A.beforeMove,afterMove:A.afterMove,templateEngine:c.ba.Ma})}},init:function(b,w){return c.c.template.init(b,c.c.foreach.Rc(w))},update:function(b,w,A,R,B){return c.c.template.update(b,c.c.foreach.Rc(w),A,R,B)}},c.m.Ra.foreach=!1,c.h.ea.foreach=!0,c.c.hasfocus={init:function(b,w,A){function R(K){b.__ko_hasfocusUpdating=!0;var q=b.ownerDocument;if("activeElement"in q){var V;try{V=q.activeElement}catch{V=q.body}K=V===b}q=w(),c.m.eb(q,A,"hasfocus",K,!0),b.__ko_hasfocusLastValue=K,b.__ko_hasfocusUpdating=!1}var B=R.bind(null,!0),z=R.bind(null,!1);c.a.B(b,"focus",B),c.a.B(b,"focusin",B),c.a.B(b,"blur",z),c.a.B(b,"focusout",z),b.__ko_hasfocusLastValue=!1},update:function(b,w){var A=!!c.a.f(w());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===A||(A?b.focus():b.blur(),!A&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),c.u.G(c.a.Fb,null,[b,A?"focusin":"focusout"]))}},c.m.wa.hasfocus=!0,c.c.hasFocus=c.c.hasfocus,c.m.wa.hasFocus="hasfocus",c.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,w){c.a.fc(b,w())}},function(){function b(w,A,R){c.c[w]={init:function(B,z,K,q,V){var L,X,J={},ae,P,Q;if(A){q=K.get("as");var Z=K.get("noChildContext");Q=!(q&&Z),J={as:q,noChildContext:Z,exportDependencies:Q}}return P=(ae=K.get("completeOn")=="render")||K.has(c.i.pa),c.o(function(){var ge=c.a.f(z()),Re=!R!=!ge,le=!X,Ee;(Q||Re!==L)&&(P&&(V=c.i.Cb(B,V)),Re&&((!A||Q)&&(J.dataDependency=c.S.o()),Ee=A?V.createChildContext(typeof ge=="function"?ge:z,J):c.S.qa()?V.extend(null,J):V),le&&c.S.qa()&&(X=c.a.Ca(c.h.childNodes(B),!0)),Re?(le||c.h.va(B,c.a.Ca(X)),c.Oa(Ee,B)):(c.h.Ea(B),ae||c.i.ma(B,c.i.H)),L=Re)},null,{l:B}),{controlsDescendantBindings:!0}}},c.m.Ra[w]=!1,c.h.ea[w]=!0}b("if"),b("ifnot",!1,!0),b("with",!0)}(),c.c.let={init:function(b,w,A,R,B){return w=B.extend(w),c.Oa(w,b),{controlsDescendantBindings:!0}}},c.h.ea.let=!0;var We={};c.c.options={init:function(b){if(c.a.R(b)!=="select")throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,w,A){function R(){return c.a.jb(b.options,function(Z){return Z.selected})}function B(Z,ge,Re){var le=typeof ge;return le=="function"?ge(Z):le=="string"?Z[ge]:Re}function z(Z,ge){if(P&&L)c.i.ma(b,c.i.H);else if(ae.length){var Re=0<=c.a.A(ae,c.w.M(ge[0]));c.a.Zc(ge[0],Re),P&&!Re&&c.u.G(c.a.Fb,null,[b,"change"])}}var K=b.multiple,q=b.length!=0&&K?b.scrollTop:null,V=c.a.f(w()),L=A.get("valueAllowUnset")&&A.has("value"),X=A.get("optionsIncludeDestroyed");w={};var J,ae=[];L||(K?ae=c.a.Mb(R(),c.w.M):0<=b.selectedIndex&&ae.push(c.w.M(b.options[b.selectedIndex]))),V&&(typeof V.length>"u"&&(V=[V]),J=c.a.jb(V,function(Z){return X||Z===t||Z===null||!c.a.f(Z._destroy)}),A.has("optionsCaption")&&(V=c.a.f(A.get("optionsCaption")),V!==null&&V!==t&&J.unshift(We)));var P=!1;if(w.beforeRemove=function(Z){b.removeChild(Z)},V=z,A.has("optionsAfterRender")&&typeof A.get("optionsAfterRender")=="function"&&(V=function(Z,ge){z(0,ge),c.u.G(A.get("optionsAfterRender"),null,[ge[0],Z!==We?Z:t])}),c.a.ec(b,J,function(Z,ge,Re){return Re.length&&(ae=!L&&Re[0].selected?[c.w.M(Re[0])]:[],P=!0),ge=b.ownerDocument.createElement("option"),Z===We?(c.a.Bb(ge,A.get("optionsCaption")),c.w.cb(ge,t)):(Re=B(Z,A.get("optionsValue"),Z),c.w.cb(ge,c.a.f(Re)),Z=B(Z,A.get("optionsText"),Re),c.a.Bb(ge,Z)),[ge]},w,V),!L){var Q;K?Q=ae.length&&R().length<ae.length:Q=ae.length&&0<=b.selectedIndex?c.w.M(b.options[b.selectedIndex])!==ae[0]:ae.length||0<=b.selectedIndex,Q&&c.u.G(c.a.Fb,null,[b,"change"])}(L||c.S.Ya())&&c.i.ma(b,c.i.H),c.a.wd(b),q&&20<Math.abs(q-b.scrollTop)&&(b.scrollTop=q)}},c.c.options.$b=c.a.g.Z(),c.c.selectedOptions={init:function(b,w,A){function R(){var K=w(),q=[];c.a.D(b.getElementsByTagName("option"),function(V){V.selected&&q.push(c.w.M(V))}),c.m.eb(K,A,"selectedOptions",q)}function B(){var K=c.a.f(w()),q=b.scrollTop;K&&typeof K.length=="number"&&c.a.D(b.getElementsByTagName("option"),function(V){var L=0<=c.a.A(K,c.w.M(V));V.selected!=L&&c.a.Zc(V,L)}),b.scrollTop=q}if(c.a.R(b)!="select")throw Error("selectedOptions binding applies only to SELECT elements");var z;c.i.subscribe(b,c.i.H,function(){z?R():(c.a.B(b,"change",R),z=c.o(B,null,{l:b}))},null,{notifyImmediately:!0})},update:function(){}},c.m.wa.selectedOptions=!0,c.c.style={update:function(b,w){var A=c.a.f(w()||{});c.a.P(A,function(R,B){if(B=c.a.f(B),(B===null||B===t||B===!1)&&(B=""),r)r(b).css(R,B);else if(/^--/.test(R))b.style.setProperty(R,B);else{R=R.replace(/-(\w)/g,function(K,q){return q.toUpperCase()});var z=b.style[R];b.style[R]=B,B===z||b.style[R]!=z||isNaN(B)||(b.style[R]=B+"px")}})}},c.c.submit={init:function(b,w,A,R,B){if(typeof w()!="function")throw Error("The value for a submit binding must be a function");c.a.B(b,"submit",function(z){var K,q=w();try{K=q.call(B.$data,b)}finally{K!==!0&&(z.preventDefault?z.preventDefault():z.returnValue=!1)}})}},c.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,w){c.a.Bb(b,w())}},c.h.ea.text=!0,function(){if(e&&e.navigator){var b=function(J){if(J)return parseFloat(J[1])},w=e.navigator.userAgent,A,R,B,z,K;(A=e.opera&&e.opera.version&&parseInt(e.opera.version()))||(K=b(w.match(/Edge\/([^ ]+)$/)))||b(w.match(/Chrome\/([^ ]+)/))||(R=b(w.match(/Version\/([^ ]+) Safari/)))||(B=b(w.match(/Firefox\/([^ ]+)/)))||(z=c.a.W||b(w.match(/MSIE ([^ ]+)/)))||(z=b(w.match(/rv:([^ )]+)/)))}if(8<=z&&10>z)var q=c.a.g.Z(),V=c.a.g.Z(),L=function(J){var ae=this.activeElement;(ae=ae&&c.a.g.get(ae,V))&&ae(J)},X=function(J,ae){var P=J.ownerDocument;c.a.g.get(P,q)||(c.a.g.set(P,q,!0),c.a.B(P,"selectionchange",L)),c.a.g.set(J,V,ae)};c.c.textInput={init:function(J,ae,P){function Q(st,At){c.a.B(J,st,At)}function Z(){var st=c.a.f(ae());(st===null||st===t)&&(st=""),Fe!==t&&st===Fe?c.a.setTimeout(Z,4):J.value!==st&&(Ze=!0,J.value=st,Ze=!1,le=J.value)}function ge(){Ee||(Fe=J.value,Ee=c.a.setTimeout(Re,4))}function Re(){clearTimeout(Ee),Fe=Ee=t;var st=J.value;le!==st&&(le=st,c.m.eb(ae(),P,"textInput",st))}var le=J.value,Ee,Fe,tt=c.a.W==9?ge:Re,Ze=!1;z&&Q("keypress",Re),11>z&&Q("propertychange",function(st){Ze||st.propertyName!=="value"||tt(st)}),z==8&&(Q("keyup",Re),Q("keydown",Re)),X&&(X(J,tt),Q("dragend",ge)),(!z||9<=z)&&Q("input",tt),5>R&&c.a.R(J)==="textarea"?(Q("keydown",ge),Q("paste",ge),Q("cut",ge)):11>A?Q("keydown",ge):4>B?(Q("DOMAutoComplete",Re),Q("dragdrop",Re),Q("drop",Re)):K&&J.type==="number"&&Q("keydown",ge),Q("change",Re),Q("blur",Re),c.o(Z,null,{l:J})}},c.m.wa.textInput=!0,c.c.textinput={preprocess:function(J,ae,P){P("textInput",J)}}}(),c.c.uniqueName={init:function(b,w){if(w()){var A="ko_unique_"+ ++c.c.uniqueName.rd;c.a.Yc(b,A)}}},c.c.uniqueName.rd=0,c.c.using={init:function(b,w,A,R,B){var z;return A.has("as")&&(z={as:A.get("as"),noChildContext:A.get("noChildContext")}),w=B.createChildContext(w,z),c.Oa(w,b),{controlsDescendantBindings:!0}}},c.h.ea.using=!0,c.c.value={init:function(b,w,A){var R=c.a.R(b),B=R=="input";if(!B||b.type!="checkbox"&&b.type!="radio"){var z=[],K=A.get("valueUpdate"),q=!1,V=null;K&&(typeof K=="string"?z=[K]:z=c.a.wc(K),c.a.Pa(z,"change"));var L=function(){V=null,q=!1;var ae=w(),P=c.w.M(b);c.m.eb(ae,A,"value",P)};!c.a.W||!B||b.type!="text"||b.autocomplete=="off"||b.form&&b.form.autocomplete=="off"||c.a.A(z,"propertychange")!=-1||(c.a.B(b,"propertychange",function(){q=!0}),c.a.B(b,"focus",function(){q=!1}),c.a.B(b,"blur",function(){q&&L()})),c.a.D(z,function(ae){var P=L;c.a.Ud(ae,"after")&&(P=function(){V=c.w.M(b),c.a.setTimeout(L,0)},ae=ae.substring(5)),c.a.B(b,ae,P)});var X;if(X=B&&b.type=="file"?function(){var ae=c.a.f(w());ae===null||ae===t||ae===""?b.value="":c.u.G(L)}:function(){var ae=c.a.f(w()),P=c.w.M(b);V!==null&&ae===V?c.a.setTimeout(X,0):(ae!==P||P===t)&&(R==="select"?(P=A.get("valueAllowUnset"),c.w.cb(b,ae,P),P||ae===c.w.M(b)||c.u.G(L)):c.w.cb(b,ae))},R==="select"){var J;c.i.subscribe(b,c.i.H,function(){J?A.get("valueAllowUnset")?X():L():(c.a.B(b,"change",L),J=c.o(X,null,{l:b}))},null,{notifyImmediately:!0})}else c.a.B(b,"change",L),c.o(X,null,{l:b})}else c.ib(b,{checkedValue:w})},update:function(){}},c.m.wa.value=!0,c.c.visible={update:function(b,w){var A=c.a.f(w()),R=b.style.display!="none";A&&!R?b.style.display="":!A&&R&&(b.style.display="none")}},c.c.hidden={update:function(b,w){c.c.visible.update(b,function(){return!c.a.f(w())})}},function(b){c.c[b]={init:function(w,A,R,B,z){return c.c.event.init.call(this,w,function(){var K={};return K[b]=A(),K},R,B,z)}}}("click"),c.ca=function(){},c.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},c.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},c.ca.prototype.makeTemplateSource=function(b,w){if(typeof b=="string"){w=w||i;var A=w.getElementById(b);if(!A)throw Error("Cannot find template with ID "+b);return new c.C.F(A)}if(b.nodeType==1||b.nodeType==8)return new c.C.ia(b);throw Error("Unknown template type: "+b)},c.ca.prototype.renderTemplate=function(b,w,A,R){return b=this.makeTemplateSource(b,R),this.renderTemplateSource(b,w,A,R)},c.ca.prototype.isTemplateRewritten=function(b,w){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(b,w).data("isRewritten")},c.ca.prototype.rewriteTemplate=function(b,w,A){b=this.makeTemplateSource(b,A),w=w(b.text()),b.text(w),b.data("isRewritten",!0)},c.b("templateEngine",c.ca),c.kc=function(){function b(R,B,z,K){R=c.m.ac(R);for(var q=c.m.Ra,V=0;V<R.length;V++){var L=R[V].key;if(Object.prototype.hasOwnProperty.call(q,L)){var X=q[L];if(typeof X=="function"){if(L=X(R[V].value))throw Error(L)}else if(!X)throw Error("This template engine does not support the '"+L+"' binding within its templates")}}return z="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+c.m.vb(R,{valueAccessors:!0})+" } })()},'"+z.toLowerCase()+"')",K.createJavaScriptEvaluatorBlock(z)+B}var w=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,A=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(R,B,z){B.isTemplateRewritten(R,z)||B.rewriteTemplate(R,function(K){return c.kc.Ld(K,B)},z)},Ld:function(R,B){return R.replace(w,function(z,K,q,V,L){return b(L,K,q,B)}).replace(A,function(z,K){return b(K,"<!-- ko -->","#comment",B)})},md:function(R,B){return c.aa.Xb(function(z,K){var q=z.nextSibling;q&&q.nodeName.toLowerCase()===B&&c.ib(q,R,K)})}}}(),c.b("__tr_ambtns",c.kc.md),function(){c.C={},c.C.F=function(A){if(this.F=A){var R=c.a.R(A);this.ab=R==="script"?1:R==="textarea"?2:R=="template"&&A.content&&A.content.nodeType===11?3:4}},c.C.F.prototype.text=function(){var A=this.ab===1?"text":this.ab===2?"value":"innerHTML";if(arguments.length==0)return this.F[A];var R=arguments[0];A==="innerHTML"?c.a.fc(this.F,R):this.F[A]=R};var b=c.a.g.Z()+"_";c.C.F.prototype.data=function(A){if(arguments.length===1)return c.a.g.get(this.F,b+A);c.a.g.set(this.F,b+A,arguments[1])};var w=c.a.g.Z();c.C.F.prototype.nodes=function(){var A=this.F;if(arguments.length==0){var R=c.a.g.get(A,w)||{},B=R.lb||(this.ab===3?A.content:this.ab===4?A:t);if(!B||R.jd){var z=this.text();z&&z!==R.bb&&(B=c.a.Md(z,A.ownerDocument),c.a.g.set(A,w,{lb:B,bb:z,jd:!0}))}return B}R=arguments[0],this.ab!==t&&this.text(""),c.a.g.set(A,w,{lb:R})},c.C.ia=function(A){this.F=A},c.C.ia.prototype=new c.C.F,c.C.ia.prototype.constructor=c.C.ia,c.C.ia.prototype.text=function(){if(arguments.length==0){var A=c.a.g.get(this.F,w)||{};return A.bb===t&&A.lb&&(A.bb=A.lb.innerHTML),A.bb}c.a.g.set(this.F,w,{bb:arguments[0]})},c.b("templateSources",c.C),c.b("templateSources.domElement",c.C.F),c.b("templateSources.anonymousTemplate",c.C.ia)}(),function(){function b(V,L,X){var J;for(L=c.h.nextSibling(L);V&&(J=V)!==L;)V=c.h.nextSibling(J),X(J,V)}function w(V,L){if(V.length){var X=V[0],J=V[V.length-1],ae=X.parentNode,P=c.ga.instance,Q=P.preprocessNode;if(Q){if(b(X,J,function(Z,ge){var Re=Z.previousSibling,le=Q.call(P,Z);le&&(Z===X&&(X=le[0]||ge),Z===J&&(J=le[le.length-1]||Re))}),V.length=0,!X)return;X===J?V.push(X):(V.push(X,J),c.a.Ua(V,ae))}b(X,J,function(Z){Z.nodeType!==1&&Z.nodeType!==8||c.vc(L,Z)}),b(X,J,function(Z){Z.nodeType!==1&&Z.nodeType!==8||c.aa.cd(Z,[L])}),c.a.Ua(V,ae)}}function A(V){return V.nodeType?V:0<V.length?V[0]:null}function R(V,L,X,J,ae){ae=ae||{};var P=(V&&A(V)||X||{}).ownerDocument,Q=ae.templateEngine||z;if(c.kc.xd(X,Q,P),X=Q.renderTemplate(X,J,ae,P),typeof X.length!="number"||0<X.length&&typeof X[0].nodeType!="number")throw Error("Template engine must return an array of DOM nodes");switch(P=!1,L){case"replaceChildren":c.h.va(V,X),P=!0;break;case"replaceNode":c.a.Xc(V,X),P=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+L)}return P&&(w(X,J),ae.afterRender&&c.u.G(ae.afterRender,null,[X,J[ae.as||"$data"]]),L=="replaceChildren"&&c.i.ma(V,c.i.H)),X}function B(V,L,X){return c.O(V)?V():typeof V=="function"?V(L,X):V}var z;c.gc=function(V){if(V!=t&&!(V instanceof c.ca))throw Error("templateEngine must inherit from ko.templateEngine");z=V},c.dc=function(V,L,X,J,ae){if(X=X||{},(X.templateEngine||z)==t)throw Error("Set a template engine before calling renderTemplate");if(ae=ae||"replaceChildren",J){var P=A(J);return c.$(function(){var Z=L&&L instanceof c.fa?L:new c.fa(L,null,null,null,{exportDependencies:!0}),Q=B(V,Z.$data,Z),Z=R(J,ae,Q,Z,X);ae=="replaceNode"&&(J=Z,P=A(J))},null,{Sa:function(){return!P||!c.a.Sb(P)},l:P&&ae=="replaceNode"?P.parentNode:P})}return c.aa.Xb(function(Q){c.dc(V,L,X,Q,"replaceNode")})},c.Qd=function(V,L,X,J,ae){function P(Fe,tt){c.u.G(c.a.ec,null,[J,Fe,Z,X,Q,tt]),c.i.ma(J,c.i.H)}function Q(Fe,tt){w(tt,ge),X.afterRender&&X.afterRender(tt,Fe),ge=null}function Z(Fe,tt){ge=ae.createChildContext(Fe,{as:Re,noChildContext:X.noChildContext,extend:function(st){st.$index=tt,Re&&(st[Re+"Index"]=tt)}});var Ze=B(V,Fe,ge);return R(J,"ignoreTargetNode",Ze,ge,X)}var ge,Re=X.as,le=X.includeDestroyed===!1||c.options.foreachHidesDestroyed&&!X.includeDestroyed;if(le||X.beforeRemove||!c.Pc(L))return c.$(function(){var Fe=c.a.f(L)||[];typeof Fe.length>"u"&&(Fe=[Fe]),le&&(Fe=c.a.jb(Fe,function(tt){return tt===t||tt===null||!c.a.f(tt._destroy)})),P(Fe)},null,{l:J});P(L.v());var Ee=L.subscribe(function(Fe){P(L(),Fe)},null,"arrayChange");return Ee.l(J),Ee};var K=c.a.g.Z(),q=c.a.g.Z();c.c.template={init:function(V,L){var X=c.a.f(L());if(typeof X=="string"||"name"in X)c.h.Ea(V);else if("nodes"in X){if(X=X.nodes||[],c.O(X))throw Error('The "nodes" option must be a plain, non-observable array.');var J=X[0]&&X[0].parentNode;J&&c.a.g.get(J,q)||(J=c.a.Yb(X),c.a.g.set(J,q,!0)),new c.C.ia(V).nodes(J)}else if(X=c.h.childNodes(V),0<X.length)J=c.a.Yb(X),new c.C.ia(V).nodes(J);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(V,L,X,J,ae){var P=L();L=c.a.f(P),X=!0,J=null,typeof L=="string"?L={}:(P="name"in L?L.name:V,"if"in L&&(X=c.a.f(L.if)),X&&"ifnot"in L&&(X=!c.a.f(L.ifnot)),X&&!P&&(X=!1)),"foreach"in L?J=c.Qd(P,X&&L.foreach||[],L,V,ae):X?(X=ae,"data"in L&&(X=ae.createChildContext(L.data,{as:L.as,noChildContext:L.noChildContext,exportDependencies:!0})),J=c.dc(P,X,L,V)):c.h.Ea(V),ae=J,(L=c.a.g.get(V,K))&&typeof L.s=="function"&&L.s(),c.a.g.set(V,K,!ae||ae.ja&&!ae.ja()?t:ae)}},c.m.Ra.template=function(V){return V=c.m.ac(V),V.length==1&&V[0].unknown||c.m.Id(V,"name")?null:"This template engine does not support anonymous templates nested within its templates"},c.h.ea.template=!0}(),c.b("setTemplateEngine",c.gc),c.b("renderTemplate",c.dc),c.a.Kc=function(b,w,A){if(b.length&&w.length){var R,B,z,K,q;for(R=B=0;(!A||R<A)&&(K=b[B]);++B){for(z=0;q=w[z];++z)if(K.value===q.value){K.moved=q.index,q.moved=K.index,w.splice(z,1),R=z=0;break}R+=z}}},c.a.Pb=function(){function b(w,A,R,B,z){var K=Math.min,q=Math.max,V=[],L,X=w.length,J,ae=A.length,P=ae-X||1,Q=X+ae+1,Z,ge,Re;for(L=0;L<=X;L++)for(ge=Z,V.push(Z=[]),Re=K(ae,L+P),J=q(0,L-1);J<=Re;J++)Z[J]=J?L?w[L-1]===A[J-1]?ge[J-1]:K(ge[J]||Q,Z[J-1]||Q)+1:J+1:L+1;for(K=[],q=[],P=[],L=X,J=ae;L||J;)ae=V[L][J]-1,J&&ae===V[L][J-1]?q.push(K[K.length]={status:R,value:A[--J],index:J}):L&&ae===V[L-1][J]?P.push(K[K.length]={status:B,value:w[--L],index:L}):(--J,--L,z.sparse||K.push({status:"retained",value:A[J]}));return c.a.Kc(P,q,!z.dontLimitMoves&&10*X),K.reverse()}return function(w,A,R){return R=typeof R=="boolean"?{dontLimitMoves:R}:R||{},w=w||[],A=A||[],w.length<A.length?b(w,A,"added","deleted",R):b(A,w,"deleted","added",R)}}(),c.b("utils.compareArrays",c.a.Pb),function(){function b(R,B,z,K,q){var V=[],L=c.$(function(){var X=B(z,q,c.a.Ua(V,R))||[];0<V.length&&(c.a.Xc(V,X),K&&c.u.G(K,null,[z,X,q])),V.length=0,c.a.Nb(V,X)},null,{l:R,Sa:function(){return!c.a.kd(V)}});return{Y:V,$:L.ja()?L:t}}var w=c.a.g.Z(),A=c.a.g.Z();c.a.ec=function(R,B,z,K,q,V){function L(Je){Ze={Aa:Je,pb:c.ta(ge++)},Q.push(Ze),P||tt.push(Ze)}function X(Je){Ze=ae[Je],ge!==Ze.pb.v()&&Fe.push(Ze),Ze.pb(ge++),c.a.Ua(Ze.Y,R),Q.push(Ze)}function J(Je,wi){if(Je)for(var $e=0,ue=wi.length;$e<ue;$e++)c.a.D(wi[$e].Y,function(Ri){Je(Ri,$e,wi[$e].Aa)})}B=B||[],typeof B.length>"u"&&(B=[B]),K=K||{};var ae=c.a.g.get(R,w),P=!ae,Q=[],Z=0,ge=0,Re=[],le=[],Ee=[],Fe=[],tt=[],Ze,st=0;if(P)c.a.D(B,L);else{if(!V||ae&&ae._countWaitingForRemove){var At=c.a.Mb(ae,function(Je){return Je.Aa});V=c.a.Pb(At,B,{dontLimitMoves:K.dontLimitMoves,sparse:!0})}for(var At=0,gn,Ni,xr;gn=V[At];At++)switch(Ni=gn.moved,xr=gn.index,gn.status){case"deleted":for(;Z<xr;)X(Z++);Ni===t&&(Ze=ae[Z],Ze.$&&(Ze.$.s(),Ze.$=t),c.a.Ua(Ze.Y,R).length&&(K.beforeRemove&&(Q.push(Ze),st++,Ze.Aa===A?Ze=null:Ee.push(Ze)),Ze&&Re.push.apply(Re,Ze.Y))),Z++;break;case"added":for(;ge<xr;)X(Z++);Ni!==t?(le.push(Q.length),X(Ni)):L(gn.value)}for(;ge<B.length;)X(Z++);Q._countWaitingForRemove=st}c.a.g.set(R,w,Q),J(K.beforeMove,Fe),c.a.D(Re,K.beforeRemove?c.oa:c.removeNode);var Xi,at,dt;try{dt=R.ownerDocument.activeElement}catch{}if(le.length)for(;(At=le.shift())!=t;){for(Ze=Q[At],Xi=t;At;)if((at=Q[--At].Y)&&at.length){Xi=at[at.length-1];break}for(B=0;Z=Ze.Y[B];Xi=Z,B++)c.h.Wb(R,Z,Xi)}for(At=0;Ze=Q[At];At++){for(Ze.Y||c.a.extend(Ze,b(R,z,Ze.Aa,q,Ze.pb)),B=0;Z=Ze.Y[B];Xi=Z,B++)c.h.Wb(R,Z,Xi);!Ze.Ed&&q&&(q(Ze.Aa,Ze.Y,Ze.pb),Ze.Ed=!0,Xi=Ze.Y[Ze.Y.length-1])}for(dt&&R.ownerDocument.activeElement!=dt&&dt.focus(),J(K.beforeRemove,Ee),At=0;At<Ee.length;++At)Ee[At].Aa=A;J(K.afterMove,Fe),J(K.afterAdd,tt)}}(),c.b("utils.setDomNodeChildrenFromArrayMapping",c.a.ec),c.ba=function(){this.allowTemplateRewriting=!1},c.ba.prototype=new c.ca,c.ba.prototype.constructor=c.ba,c.ba.prototype.renderTemplateSource=function(b,w,A,R){return(w=!(9>c.a.W)&&b.nodes?b.nodes():null)?c.a.la(w.cloneNode(!0).childNodes):(b=b.text(),c.a.ua(b,R))},c.ba.Ma=new c.ba,c.gc(c.ba.Ma),c.b("nativeTemplateEngine",c.ba),function(){c.$a=function(){var w=this.Hd=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch{}return 1}();this.renderTemplateSource=function(A,R,B,z){if(z=z||i,B=B||{},2>w)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var K=A.data("precompiled");return K||(K=A.text()||"",K=r.template(null,"{{ko_with $item.koBindingContext}}"+K+"{{/ko_with}}"),A.data("precompiled",K)),A=[R.$data],R=r.extend({koBindingContext:R},B.templateOptions),R=r.tmpl(K,A,R),R.appendTo(z.createElement("div")),r.fragments={},R},this.createJavaScriptEvaluatorBlock=function(A){return"{{ko_code ((function() { return "+A+" })()) }}"},this.addTemplate=function(A,R){i.write("<script type='text/html' id='"+A+"'>"+R+"<\/script>")},0<w&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},c.$a.prototype=new c.ca,c.$a.prototype.constructor=c.$a;var b=new c.$a;0<b.Hd&&c.gc(b),c.b("jqueryTmplTemplateEngine",c.$a)}()})})()})()});var wH=null;var XS=1,QS=Symbol("SIGNAL");function Go(t){let e=wH;return wH=t,e}var IH={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $re(t){if(!(tw(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===XS)){if(!t.producerMustRecompute(t)&&!ZS(t)){t.dirty=!1,t.lastCleanEpoch=XS;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=XS}}function TH(t){return t&&(t.nextProducerIndex=0),Go(t)}function MH(t,e){if(Go(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(tw(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ew(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ZS(t){vx(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||($re(i),n!==i.version))return!0}return!1}function AH(t){if(vx(t),tw(t))for(let e=0;e<t.producerNode.length;e++)ew(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ew(t,e){if(Gre(t),vx(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)ew(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];vx(r),r.producerIndexOfThis[n]=e}}function tw(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function vx(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Gre(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ure(){throw new Error}var Kre=Ure;function RH(t){Kre=t}function ii(t){return typeof t=="function"}function _p(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var _x=_p(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Dc(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Gn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let o of i)o.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(ii(n))try{n()}catch(o){e=o instanceof _x?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{FH(o)}catch(s){e=e??[],s instanceof _x?e=[...e,...s.errors]:e.push(s)}}if(e)throw new _x(e)}}add(e){var i;if(e&&e!==this)if(this.closed)FH(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&Dc(i,e)}remove(e){let{_finalizers:i}=this;i&&Dc(i,e),e instanceof t&&e._removeParent(this)}};Gn.EMPTY=(()=>{let t=new Gn;return t.closed=!0,t})();var iw=Gn.EMPTY;function Cx(t){return t instanceof Gn||t&&"closed"in t&&ii(t.remove)&&ii(t.add)&&ii(t.unsubscribe)}function FH(t){ii(t)?t():t.unsubscribe()}var Ks={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cp={setTimeout(t,e,...i){let{delegate:n}=Cp;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=Cp;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xx(t){Cp.setTimeout(()=>{let{onUnhandledError:e}=Ks;if(e)e(t);else throw t})}function xm(){}var PH=nw("C",void 0,void 0);function kH(t){return nw("E",void 0,t)}function NH(t){return nw("N",t,void 0)}function nw(t,e,i){return{kind:t,value:e,error:i}}var Oc=null;function xp(t){if(Ks.useDeprecatedSynchronousErrorHandling){let e=!Oc;if(e&&(Oc={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=Oc;if(Oc=null,i)throw n}}else t()}function LH(t){Ks.useDeprecatedSynchronousErrorHandling&&Oc&&(Oc.errorThrown=!0,Oc.error=t)}var Ec=class extends Gn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cx(e)&&e.add(this)):this.destination=Yre}static create(e,i,n){return new yp(e,i,n)}next(e){this.isStopped?ow(NH(e),this):this._next(e)}error(e){this.isStopped?ow(kH(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ow(PH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qre=Function.prototype.bind;function rw(t,e){return qre.call(t,e)}var sw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){yx(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){yx(n)}else yx(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){yx(i)}}},yp=class extends Ec{constructor(e,i,n){super();let r;if(ii(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let o;this&&Ks.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&rw(e.next,o),error:e.error&&rw(e.error,o),complete:e.complete&&rw(e.complete,o)}):r=e}this.destination=new sw(r)}};function yx(t){Ks.useDeprecatedSynchronousErrorHandling?LH(t):xx(t)}function Jre(t){throw t}function ow(t,e){let{onStoppedNotification:i}=Ks;i&&Cp.setTimeout(()=>i(t,e))}var Yre={closed:!0,next:xm,error:Jre,complete:xm};var bp=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Uo(t){return t}function aw(...t){return lw(t)}function lw(t){return t.length===0?Uo:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var Ai=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let o=Qre(i)?i:new yp(i,n,r);return xp(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=BH(n),new n((r,o)=>{let s=new yp({next:a=>{try{i(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[bp](){return this}pipe(...i){return lw(i)(this)}toPromise(i){return i=BH(i),new i((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function BH(t){var e;return(e=t??Ks.Promise)!==null&&e!==void 0?e:Promise}function Xre(t){return t&&ii(t.next)&&ii(t.error)&&ii(t.complete)}function Qre(t){return t&&t instanceof Ec||Xre(t)&&Cx(t)}function dw(t){return ii(t?.lift)}function Ti(t){return e=>{if(dw(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function vi(t,e,i,n,r){return new uw(t,e,i,n,r)}var uw=class extends Ec{constructor(e,i,n,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=i?function(a){try{i(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Dp(){return Ti((t,e)=>{let i=null;t._refCount++;let n=vi(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,o=i;i=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var Op=class extends Ai{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,dw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gn;let i=this.getSubject();e.add(this.source.subscribe(vi(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gn.EMPTY)}return e}refCount(){return Dp()(this)}};var VH=_p(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var so=(()=>{class t extends Ai{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new bx(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new VH}next(i){xp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){xp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){xp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:o}=this;return n||r?iw:(this.currentObservers=null,o.push(i),new Gn(()=>{this.currentObservers=null,Dc(o,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:o}=this;n?i.error(r):o&&i.complete()}asObservable(){let i=new Ai;return i.source=this,i}}return t.create=(e,i)=>new bx(e,i),t})(),bx=class extends so{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:iw}};var pr=class extends so{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var cw={now(){return(cw.delegate||Date).now()},delegate:void 0};var Dx=class extends Gn{constructor(e,i){super()}schedule(e,i=0){return this}};var ym={setInterval(t,e,...i){let{delegate:n}=ym;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=ym;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ox=class extends Dx{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,i),this}requestAsyncId(e,i,n=0){return ym.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&ym.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,Dc(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var Ep=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};Ep.now=cw.now;var Ex=class extends Ep{constructor(e,i=Ep.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var HH=new Ex(Ox);var cs=new Ai(t=>t.complete());function zH(t){return t&&ii(t.schedule)}function WH(t){return t[t.length-1]}function Sx(t){return ii(WH(t))?t.pop():void 0}function Xd(t){return zH(WH(t))?t.pop():void 0}function $H(t,e,i,n){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{d(n.next(u))}catch(h){s(h)}}function l(u){try{d(n.throw(u))}catch(h){s(h)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((n=n.apply(t,e||[])).next())})}function jH(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sc(t){return this instanceof Sc?(this.v=t,this):new Sc(t)}function GH(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(p){n[p]&&(r[p]=function(m){return new Promise(function(c,x){o.push([p,m,c,x])>1||a(p,m)})})}function a(p,m){try{l(n[p](m))}catch(c){h(o[0][3],c)}}function l(p){p.value instanceof Sc?Promise.resolve(p.value.v).then(d,u):h(o[0][2],p)}function d(p){a("next",p)}function u(p){a("throw",p)}function h(p,m){p(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function UH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof jH=="function"?jH(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(o){i[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var wx=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ix(t){return ii(t?.then)}function Tx(t){return ii(t[bp])}function Mx(t){return Symbol.asyncIterator&&ii(t?.[Symbol.asyncIterator])}function Ax(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Zre(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rx=Zre();function Fx(t){return ii(t?.[Rx])}function Px(t){return GH(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield Sc(i.read());if(r)return yield Sc(void 0);yield yield Sc(n)}}finally{i.releaseLock()}})}function kx(t){return ii(t?.getReader)}function Qn(t){if(t instanceof Ai)return t;if(t!=null){if(Tx(t))return eoe(t);if(wx(t))return toe(t);if(Ix(t))return ioe(t);if(Mx(t))return KH(t);if(Fx(t))return noe(t);if(kx(t))return roe(t)}throw Ax(t)}function eoe(t){return new Ai(e=>{let i=t[bp]();if(ii(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function toe(t){return new Ai(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function ioe(t){return new Ai(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,xx)})}function noe(t){return new Ai(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function KH(t){return new Ai(e=>{ooe(t,e).catch(i=>e.error(i))})}function roe(t){return KH(Px(t))}function ooe(t,e){var i,n,r,o;return $H(this,void 0,void 0,function*(){try{for(i=UH(t);n=yield i.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=i.return)&&(yield o.call(i))}finally{if(r)throw r.error}}e.complete()})}function wo(t,e,i,n=0,r=!1){let o=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!r)return o}function Nx(t,e=0){return Ti((i,n)=>{i.subscribe(vi(n,r=>wo(n,t,()=>n.next(r),e),()=>wo(n,t,()=>n.complete(),e),r=>wo(n,t,()=>n.error(r),e)))})}function Lx(t,e=0){return Ti((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function qH(t,e){return Qn(t).pipe(Lx(e),Nx(e))}function JH(t,e){return Qn(t).pipe(Lx(e),Nx(e))}function YH(t,e){return new Ai(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function XH(t,e){return new Ai(i=>{let n;return wo(i,e,()=>{n=t[Rx](),wo(i,e,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){i.error(s);return}o?i.complete():i.next(r)},0,!0)}),()=>ii(n?.return)&&n.return()})}function Bx(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ai(i=>{wo(i,e,()=>{let n=t[Symbol.asyncIterator]();wo(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function QH(t,e){return Bx(Px(t),e)}function ZH(t,e){if(t!=null){if(Tx(t))return qH(t,e);if(wx(t))return YH(t,e);if(Ix(t))return JH(t,e);if(Mx(t))return Bx(t,e);if(Fx(t))return XH(t,e);if(kx(t))return QH(t,e)}throw Ax(t)}function _n(t,e){return e?ZH(t,e):Qn(t)}function Ft(...t){let e=Xd(t);return _n(t,e)}function Sp(t,e){let i=ii(t)?t:()=>t,n=r=>r.error(i());return new Ai(e?r=>e.schedule(n,0,r):n)}function hw(t){return!!t&&(t instanceof Ai||ii(t.lift)&&ii(t.subscribe))}var qs=_p(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pw(t,e){let i=typeof e=="object";return new Promise((n,r)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?n(s):i?n(e.defaultValue):r(new qs)}})})}function Ut(t,e){return Ti((i,n)=>{let r=0;i.subscribe(vi(n,o=>{n.next(t.call(e,o,r++))}))})}var{isArray:soe}=Array;function aoe(t,e){return soe(e)?t(...e):t(e)}function Vx(t){return Ut(e=>aoe(t,e))}var{isArray:loe}=Array,{getPrototypeOf:doe,prototype:uoe,keys:coe}=Object;function Hx(t){if(t.length===1){let e=t[0];if(loe(e))return{args:e,keys:null};if(hoe(e)){let i=coe(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function hoe(t){return t&&typeof t=="object"&&doe(t)===uoe}function zx(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function wc(...t){let e=Xd(t),i=Sx(t),{args:n,keys:r}=Hx(t);if(n.length===0)return _n([],e);let o=new Ai(poe(n,e,r?s=>zx(r,s):Uo));return i?o.pipe(Vx(i)):o}function poe(t,e,i=Uo){return n=>{ez(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)ez(e,()=>{let d=_n(t[l],e),u=!1;d.subscribe(vi(n,h=>{o[l]=h,u||(u=!0,a--),a||n.next(i(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function ez(t,e,i){t?wo(i,t,e):e()}function tz(t,e,i,n,r,o,s,a){let l=[],d=0,u=0,h=!1,p=()=>{h&&!l.length&&!d&&e.complete()},m=x=>d<n?c(x):l.push(x),c=x=>{o&&e.next(x),d++;let D=!1;Qn(i(x,u++)).subscribe(vi(e,T=>{r?.(T),o?m(T):e.next(T)},()=>{D=!0},void 0,()=>{if(D)try{for(d--;l.length&&d<n;){let T=l.shift();s?wo(e,s,()=>c(T)):c(T)}p()}catch(T){e.error(T)}}))};return t.subscribe(vi(e,m,()=>{h=!0,p()})),()=>{a?.()}}function Mn(t,e,i=1/0){return ii(e)?Mn((n,r)=>Ut((o,s)=>e(n,o,r,s))(Qn(t(n,r))),i):(typeof e=="number"&&(i=e),Ti((n,r)=>tz(n,r,t,i)))}function wp(t=1/0){return Mn(Uo,t)}function iz(){return wp(1)}function Qd(...t){return iz()(_n(t,Xd(t)))}function Ip(t){return new Ai(e=>{Qn(t()).subscribe(e)})}function fw(...t){let e=Sx(t),{args:i,keys:n}=Hx(t),r=new Ai(o=>{let{length:s}=i;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let u=0;u<s;u++){let h=!1;Qn(i[u]).subscribe(vi(o,p=>{h||(h=!0,d--),a[u]=p},()=>l--,void 0,()=>{(!l||!h)&&(d||o.next(n?zx(n,a):a),o.complete())}))}});return e?r.pipe(Vx(e)):r}function $r(t,e){return Ti((i,n)=>{let r=0;i.subscribe(vi(n,o=>t.call(e,o,r++)&&n.next(o)))})}function Zd(t){return Ti((e,i)=>{let n=null,r=!1,o;n=e.subscribe(vi(i,void 0,void 0,s=>{o=Qn(t(s,Zd(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(i))})}function nz(t,e,i,n,r){return(o,s)=>{let a=i,l=e,d=0;o.subscribe(vi(s,u=>{let h=d++;l=a?t(l,u,h):(a=!0,u),n&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function kl(t,e){return ii(e)?Mn(t,e,1):Mn(t,1)}function gw(t,e=HH){return Ti((i,n)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let d=o;o=null,n.next(d)}};function l(){let d=s+t,u=e.now();if(u<d){r=this.schedule(void 0,d-u),n.add(r);return}a()}i.subscribe(vi(n,d=>{o=d,s=e.now(),r||(r=e.schedule(l,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}function eu(t){return Ti((e,i)=>{let n=!1;e.subscribe(vi(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function Js(t){return t<=0?()=>cs:Ti((e,i)=>{let n=0;e.subscribe(vi(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function mw(t){return Ut(()=>t)}function Wx(t=foe){return Ti((e,i)=>{let n=!1;e.subscribe(vi(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function foe(){return new qs}function tu(t){return Ti((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function ka(t,e){let i=arguments.length>=2;return n=>n.pipe(t?$r((r,o)=>t(r,o,n)):Uo,Js(1),i?eu(e):Wx(()=>new qs))}function Tp(t){return t<=0?()=>cs:Ti((e,i)=>{let n=[];e.subscribe(vi(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function vw(t,e){let i=arguments.length>=2;return n=>n.pipe(t?$r((r,o)=>t(r,o,n)):Uo,Tp(1),i?eu(e):Wx(()=>new qs))}function _w(t,e){return Ti(nz(t,e,arguments.length>=2,!0))}function Cw(t){return $r((e,i)=>t<=i)}function bm(...t){let e=Xd(t);return Ti((i,n)=>{(e?Qd(t,i,e):Qd(t,i)).subscribe(n)})}function Io(t,e){return Ti((i,n)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&n.complete();i.subscribe(vi(n,l=>{r?.unsubscribe();let d=0,u=o++;Qn(t(l,u)).subscribe(r=vi(n,h=>n.next(e?e(l,h,u,d++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Dm(t){return Ti((e,i)=>{Qn(t).subscribe(vi(i,()=>i.complete(),xm)),!i.closed&&e.subscribe(i)})}function fr(t,e,i){let n=ii(t)||e||i?{next:t,error:e,complete:i}:t;return n?Ti((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(vi(o,l=>{var d;(d=n.next)===null||d===void 0||d.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var d;a=!1,(d=n.error)===null||d===void 0||d.call(n,l),o.error(l)},()=>{var l,d;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(d=n.finalize)===null||d===void 0||d.call(n)}))}):Uo}var goe="https://g.co/ng/security#xss",bt=class extends Error{constructor(e,i){super(xy(e,i)),this.code=e}};function xy(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var kw=class extends so{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,i,n){let r=e,o=i||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=xw(o),r&&(r=xw(r)),s&&(s=xw(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Gn&&e.add(a),a}};function xw(t){return e=>{setTimeout(t,void 0,e)}}var Vi=kw;var _i=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_i||{});function lo(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lo).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function Nw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var zz=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zz||{}),Ba=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ba||{});function Lm(t){return{toString:t}.toString()}var Ko=globalThis;var Np={},To=[];function on(t){for(let e in t)if(t[e]===on)return e;throw Error("Could not find renamed property on target object.")}function moe(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}var voe=on({\u0275cmp:on}),_oe=on({\u0275dir:on}),Coe=on({\u0275pipe:on}),xoe=on({\u0275mod:on}),Zx=on({\u0275fac:on}),Om=on({__NG_ELEMENT_ID__:on}),rz=on({__NG_ENV_ID__:on}),Va=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Va||{});function Wz(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===n||t.charCodeAt(r+o)<=32)return r}i=r+1}}function Lw(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let o=i[n++],s=i[n++],a=i[n++];t.setAttribute(e,s,a,o)}else{let o=r,s=i[++n];boe(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function yoe(t){return t===3||t===4||t===6}function boe(t){return t.charCodeAt(0)===64}function Sm(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?oz(t,i,r,null,e[++n]):oz(t,i,r,null,null))}}return t}function oz(t,e,i,n,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[o+1]=r);return}else if(n===t[o+1]){t[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,i),n!==null&&t.splice(o++,0,n),r!==null&&t.splice(o++,0,r)}var jz="ng-template";function Doe(t,e,i){let n=0,r=!0;for(;n<t.length;){let o=t[n++];if(typeof o=="string"&&r){let s=t[n++];if(i&&o==="class"&&Wz(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;n<t.length&&typeof(o=t[n++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function $z(t){return t.type===4&&t.value!==jz}function Ooe(t,e,i){let n=t.type===4&&!i?jz:t.value;return e===n}function Eoe(t,e,i){let n=4,r=t.attrs||[],o=Ioe(r),s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Ys(n)&&!Ys(l))return!1;if(s&&Ys(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!Ooe(t,l,i)||l===""&&e.length===1){if(Ys(n))return!1;s=!0}}else{let d=n&8?l:e[++a];if(n&8&&t.attrs!==null){if(!Doe(t.attrs,d,i)){if(Ys(n))return!1;s=!0}continue}let u=n&8?"class":l,h=Soe(u,r,$z(t),i);if(h===-1){if(Ys(n))return!1;s=!0;continue}if(d!==""){let p;h>o?p="":p=r[h+1].toLowerCase();let m=n&8?p:null;if(m&&Wz(m,d,0)!==-1||n&2&&d!==p){if(Ys(n))return!1;s=!0}}}}return Ys(n)||s}function Ys(t){return(t&1)===0}function Soe(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Toe(e,t)}function Gz(t,e,i=!1){for(let n=0;n<e.length;n++)if(Eoe(t,e[n],i))return!0;return!1}function woe(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function Ioe(t){for(let e=0;e<t.length;e++){let i=t[e];if(yoe(i))return e}return t.length}function Toe(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function Moe(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function sz(t,e){return t?":not("+e.trim()+")":e}function Aoe(t){let e=t[0],i=1,n=2,r="",o=!1;for(;i<t.length;){let s=t[i];if(typeof s=="string")if(n&2){let a=t[++i];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+s:n&4&&(r+=" "+s);else r!==""&&!Ys(s)&&(e+=sz(o,r),r=""),n=s,o=o||!Ys(n);i++}return r!==""&&(e+=sz(o,r)),e}function Roe(t){return t.map(Aoe).join(",")}function Foe(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++n]):r===8&&i.push(o);else{if(!Ys(r))break;r=o}n++}return{attrs:e,classes:i}}function rt(t){return Lm(()=>{let e=Yz(t),i=nn(ht({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zz.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ba.Emulated,styles:t.styles||To,_:null,schemas:t.schemas||null,tView:null,id:""});Xz(i);let n=t.dependencies;return i.directiveDefs=lz(n,!1),i.pipeDefs=lz(n,!0),i.id=Noe(i),i})}function Poe(t){return ru(t)||Uz(t)}function koe(t){return t!==null}function _e(t){return Lm(()=>({type:t.type,bootstrap:t.bootstrap||To,declarations:t.declarations||To,imports:t.imports||To,exports:t.exports||To,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function az(t,e){if(t==null)return Np;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o,s,a=Va.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(i[o]=a!==Va.None?[n,a]:n,e[o]=s):i[o]=n}return i}function ia(t){return Lm(()=>{let e=Yz(t);return Xz(e),e})}function ru(t){return t[voe]||null}function Uz(t){return t[_oe]||null}function Kz(t){return t[Coe]||null}function qz(t){let e=ru(t)||Uz(t)||Kz(t);return e!==null?e.standalone:!1}function Jz(t,e){let i=t[xoe]||null;if(!i&&e===!0)throw new Error(`Type ${lo(t)} does not have '\u0275mod' property.`);return i}function Yz(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Np,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||To,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:az(t.inputs,e),outputs:az(t.outputs),debugInfo:null}}function Xz(t){t.features?.forEach(e=>e(t))}function lz(t,e){if(!t)return null;let i=e?Kz:Poe;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(koe)}function Noe(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Vl=0,hi=1,jt=2,Ar=3,Qs=4,Jo=5,wm=6,Im=7,Zs=8,Lp=9,ou=10,kn=11,Tm=12,dz=13,Gp=14,ea=15,Bm=16,Mp=17,Nl=18,yy=19,Qz=20,nu=21,yw=22,Mc=23,ta=25,Zz=1;var Ac=7,ey=8,Bp=9,qo=10,MI=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(MI||{});function Ic(t){return Array.isArray(t)&&typeof t[Zz]=="object"}function Hl(t){return Array.isArray(t)&&t[Zz]===!0}function AI(t){return(t.flags&4)!==0}function by(t){return t.componentOffset>-1}function Dy(t){return(t.flags&1)===1}function su(t){return!!t.template}function Loe(t){return(t[jt]&512)!==0}var Boe="svg",Voe="math",Hoe=!1;function zoe(){return Hoe}function Ha(t){for(;Array.isArray(t);)t=t[Vl];return t}function eW(t,e){return Ha(e[t])}function na(t,e){return Ha(e[t.index])}function tW(t,e){return t.data[e]}function Woe(t,e){return t[e]}function du(t,e){let i=e[t];return Ic(i)?i:i[Vl]}function joe(t){return(t[jt]&4)===4}function RI(t){return(t[jt]&128)===128}function $oe(t){return Hl(t[Ar])}function Vp(t,e){return e==null?null:t[e]}function iW(t){t[Mp]=0}function Goe(t){t[jt]&1024||(t[jt]|=1024,RI(t)&&Mm(t))}function Uoe(t,e){for(;t>0;)e=e[Gp],t--;return e}function FI(t){return!!(t[jt]&9216||t[Mc]?.dirty)}function Bw(t){FI(t)?Mm(t):t[jt]&64&&(zoe()?(t[jt]|=1024,Mm(t)):t[ou].changeDetectionScheduler?.notify())}function Mm(t){t[ou].changeDetectionScheduler?.notify();let e=Am(t);for(;e!==null&&!(e[jt]&8192||(e[jt]|=8192,!RI(e)));)e=Am(e)}function nW(t,e){if((t[jt]&256)===256)throw new bt(911,!1);t[nu]===null&&(t[nu]=[]),t[nu].push(e)}function Koe(t,e){if(t[nu]===null)return;let i=t[nu].indexOf(e);i!==-1&&t[nu].splice(i,1)}function Am(t){let e=t[Ar];return Hl(e)?e[Ar]:e}var pi={lFrame:hW(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qoe(){return pi.lFrame.elementDepthCount}function Joe(){pi.lFrame.elementDepthCount++}function Yoe(){pi.lFrame.elementDepthCount--}function rW(){return pi.bindingsEnabled}function oW(){return pi.skipHydrationRootTNode!==null}function Xoe(t){return pi.skipHydrationRootTNode===t}function Qoe(){pi.skipHydrationRootTNode=null}function Pi(){return pi.lFrame.lView}function Zn(){return pi.lFrame.tView}function Bc(t){return pi.lFrame.contextLView=t,t[Zs]}function Vc(t){return pi.lFrame.contextLView=null,t}function co(){let t=sW();for(;t!==null&&t.type===64;)t=t.parent;return t}function sW(){return pi.lFrame.currentTNode}function Zoe(){let t=pi.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hc(t,e){let i=pi.lFrame;i.currentTNode=t,i.isParent=e}function PI(){return pi.lFrame.isParent}function kI(){pi.lFrame.isParent=!1}function ese(){return pi.lFrame.contextLView}function aW(){let t=pi.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tse(t){return pi.lFrame.bindingIndex=t}function NI(){return pi.lFrame.bindingIndex++}function lW(t){let e=pi.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function ise(){return pi.lFrame.inI18n}function nse(t,e){let i=pi.lFrame;i.bindingIndex=i.bindingRootIndex=t,Vw(e)}function rse(){return pi.lFrame.currentDirectiveIndex}function Vw(t){pi.lFrame.currentDirectiveIndex=t}function ose(t){let e=pi.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function dW(){return pi.lFrame.currentQueryIndex}function LI(t){pi.lFrame.currentQueryIndex=t}function sse(t){let e=t[hi];return e.type===2?e.declTNode:e.type===1?t[Jo]:null}function uW(t,e,i){if(i&_i.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(i&_i.Host);)if(r=sse(o),r===null||(o=o[Gp],r.type&10))break;if(r===null)return!1;e=r,t=o}let n=pi.lFrame=cW();return n.currentTNode=e,n.lView=t,!0}function BI(t){let e=cW(),i=t[hi];pi.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function cW(){let t=pi.lFrame,e=t===null?null:t.child;return e===null?hW(t):e}function hW(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pW(){let t=pi.lFrame;return pi.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fW=pW;function VI(){let t=pW();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ase(t){return(pi.lFrame.contextLView=Uoe(t,pi.lFrame.contextLView))[Zs]}function zc(){return pi.lFrame.selectedIndex}function Rc(t){pi.lFrame.selectedIndex=t}function HI(){let t=pi.lFrame;return tW(t.tView,t.selectedIndex)}function lse(){return pi.lFrame.currentNamespace}var gW=!0;function Oy(){return gW}function Ey(t){gW=t}function dse(){return Up(co(),Pi())}function Up(t,e){return new Xt(na(t,e))}var Xt=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=dse;let t=e;return t})();function use(t){return t instanceof Xt?t.nativeElement:t}function cse(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=e[n];if(i&&(r=i(r),o=i(o)),o!==r)return!1}return!0}function hse(t){return t.flat(Number.POSITIVE_INFINITY)}function zI(t,e){t.forEach(i=>Array.isArray(i)?zI(i,e):e(i))}function mW(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function ty(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pse(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function fse(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=i,t[e+1]=n}}function WI(t,e,i){let n=Vm(t,e);return n>=0?t[n|1]=i:(n=~n,fse(t,n,e,i)),n}function bw(t,e){let i=Vm(t,e);if(i>=0)return t[i|1]}function Vm(t,e){return gse(t,e,1)}function gse(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let o=n+(r-n>>1),s=t[o<<i];if(e===s)return o<<i;s>e?r=o:n=o+1}return~(r<<i)}function mse(){return this._results[Symbol.iterator]()}var Hw=class t{get changes(){return this._changes??=new Vi}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=mse)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=hse(e);(this._changesDetected=!cse(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function vW(t){return(t.flags&128)===128}var zw;function _W(t){zw=t}function CW(){if(zw!==void 0)return zw;if(typeof document<"u")return document;throw new bt(210,!1)}function Qe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ce(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sy(t){return uz(t,yW)||uz(t,bW)}function xW(t){return Sy(t)!==null}function uz(t,e){return t.hasOwnProperty(e)?t[e]:null}function vse(t){let e=t&&(t[yW]||t[bW]);return e||null}function cz(t){return t&&(t.hasOwnProperty(hz)||t.hasOwnProperty(_se))?t[hz]:null}var yW=on({\u0275prov:on}),hz=on({\u0275inj:on}),bW=on({ngInjectableDef:on}),_se=on({ngInjectorDef:on}),Dt=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=Qe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Hm=new Dt("",{providedIn:"root",factory:()=>Cse}),Cse="ng",jI=new Dt(""),ni=new Dt("",{providedIn:"platform",factory:()=>"unknown"});var zm=new Dt("",{providedIn:"root",factory:()=>CW().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xse=on({__forward_ref__:on});function Wa(t){return t.__forward_ref__=Wa,t.toString=function(){return lo(this())},t}function ao(t){return DW(t)?t():t}function DW(t){return typeof t=="function"&&t.hasOwnProperty(xse)&&t.__forward_ref__===Wa}function OW(t){return t&&!!t.\u0275providers}function EW(t){return typeof t=="string"?t:t==null?"":String(t)}function yse(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():EW(t)}function bse(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new bt(-200,t)}function $I(t,e){throw new bt(-201,!1)}var Ww;function SW(){return Ww}function hs(t){let e=Ww;return Ww=t,e}function wW(t,e,i){let n=Sy(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&_i.Optional)return null;if(e!==void 0)return e;$I(t,"Injector")}var Dse={},Rm=Dse,jw="__NG_DI_FLAG__",iy="ngTempTokenPath",Ose="ngTokenPath",Ese=/\n/gm,Sse="\u0275",pz="__source",Pp;function wse(){return Pp}function iu(t){let e=Pp;return Pp=t,e}function Ise(t,e=_i.Default){if(Pp===void 0)throw new bt(-203,!1);return Pp===null?wW(t,void 0,e):Pp.get(t,e&_i.Optional?null:void 0,e)}function Ue(t,e=_i.Default){return(SW()||Ise)(ao(t),e)}function Xe(t,e=_i.Default){return Ue(t,wy(e))}function wy(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $w(t){let e=[];for(let i=0;i<t.length;i++){let n=ao(t[i]);if(Array.isArray(n)){if(n.length===0)throw new bt(900,!1);let r,o=_i.Default;for(let s=0;s<n.length;s++){let a=n[s],l=Tse(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(Ue(r,o))}else e.push(Ue(n))}return e}function IW(t,e){return t[jw]=e,t.prototype[jw]=e,t}function Tse(t){return t[jw]}function Mse(t,e,i,n){let r=t[iy];throw e[pz]&&r.unshift(e[pz]),t.message=Ase(`
`+t.message,r,i,n),t[Ose]=r,t[iy]=null,t}function Ase(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Sse?t.slice(2):t;let r=lo(e);if(Array.isArray(e))r=e.map(lo).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):lo(a)))}r=`{${o.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(Ese,`
  `)}`}function GI(t){return t}function Rse(){let t=new Iy;return Xe(ni)==="browser"&&(t.store=Fse(CW(),Xe(Hm))),t}var Iy=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=Qe({token:e,providedIn:"root",factory:Rse});let t=e;return t})();function Fse(t,e){let i=t.getElementById(e+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}var Pse="h",kse="b";var Nse=()=>null;function UI(t,e,i=!1){return Nse(t,e,i)}var jx="__parameters__";function Lse(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function TW(t,e,i){return Lm(()=>{let n=Lse(e);function r(...o){if(this instanceof r)return n.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,u){let h=l.hasOwnProperty(jx)?l[jx]:Object.defineProperty(l,jx,{value:[]})[jx];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ty=IW(TW("Optional"),8);var KI=IW(TW("SkipSelf"),4);function Hp(t,e){let i=t.hasOwnProperty(Zx);return i?t[Zx]:null}var zp=new Dt(""),MW=new Dt("",-1),AW=new Dt(""),ny=class{get(e,i=Rm){if(i===Rm){let n=new Error(`NullInjectorError: No provider for ${lo(e)}!`);throw n.name="NullInjectorError",n}return i}};function My(t){return{\u0275providers:t}}function Bse(...t){return{\u0275providers:RW(!0,t),\u0275fromNgModule:!0}}function RW(t,...e){let i=[],n=new Set,r,o=s=>{i.push(s)};return zI(e,s=>{let a=s;Gw(a,o,[],n)&&(r||=[],r.push(a))}),r!==void 0&&FW(r,o),i}function FW(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];qI(r,o=>{e(o,n)})}}function Gw(t,e,i,n){if(t=ao(t),!t)return!1;let r=null,o=cz(t),s=!o&&ru(t);if(!o&&!s){let l=t.ngModule;if(o=cz(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Gw(d,e,i,n)}}else if(o){if(o.imports!=null&&!a){n.add(r);let d;try{zI(o.imports,u=>{Gw(u,e,i,n)&&(d||=[],d.push(u))})}finally{}d!==void 0&&FW(d,e)}if(!a){let d=Hp(r)||(()=>new r);e({provide:r,useFactory:d,deps:To},r),e({provide:AW,useValue:r,multi:!0},r),e({provide:zp,useValue:()=>Ue(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=t;qI(l,u=>{e(u,d)})}}else return!1;return r!==t&&t.providers!==void 0}function qI(t,e){for(let i of t)OW(i)&&(i=i.\u0275providers),Array.isArray(i)?qI(i,e):e(i)}var Vse=on({provide:String,useValue:on});function PW(t){return t!==null&&typeof t=="object"&&Vse in t}function Hse(t){return!!(t&&t.useExisting)}function zse(t){return!!(t&&t.useFactory)}function Wp(t){return typeof t=="function"}function Wse(t){return!!t.useClass}var Ay=new Dt(""),Kx={},jse={},Dw;function JI(){return Dw===void 0&&(Dw=new ny),Dw}var uo=class{},Fm=class extends uo{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kw(e,s=>this.processProvider(s)),this.records.set(MW,Ap(void 0,this)),r.has("environment")&&this.records.set(uo,Ap(void 0,this));let o=this.records.get(Ay);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(AW,To,_i.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=iu(this),n=hs(void 0),r;try{return e()}finally{iu(i),hs(n)}}get(e,i=Rm,n=_i.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(rz))return e[rz](this);n=wy(n);let r,o=iu(this),s=hs(void 0);try{if(!(n&_i.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=qse(e)&&Sy(e);d&&this.injectableDefInScope(d)?l=Ap(Uw(e),Kx):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&_i.Self?JI():this.parent;return i=n&_i.Optional&&i===Rm?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[iy]=a[iy]||[]).unshift(lo(e)),o)throw a;return Mse(a,e,"R3InjectorError",this.source)}else throw a}finally{hs(s),iu(o)}}resolveInjectorInitializers(){let e=iu(this),i=hs(void 0),n;try{let r=this.get(zp,To,_i.Self);for(let o of r)o()}finally{iu(e),hs(i)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(lo(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new bt(205,!1)}processProvider(e){e=ao(e);let i=Wp(e)?e:ao(e&&e.provide),n=Gse(e);if(!Wp(e)&&e.multi===!0){let r=this.records.get(i);r||(r=Ap(void 0,Kx,!0),r.factory=()=>$w(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){return i.value===Kx&&(i.value=jse,i.value=i.factory()),typeof i.value=="object"&&i.value&&Kse(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(e){if(!e.providedIn)return!1;let i=ao(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function Uw(t){let e=Sy(t),i=e!==null?e.factory:Hp(t);if(i!==null)return i;if(t instanceof Dt)throw new bt(204,!1);if(t instanceof Function)return $se(t);throw new bt(204,!1)}function $se(t){if(t.length>0)throw new bt(204,!1);let i=vse(t);return i!==null?()=>i.factory(t):()=>new t}function Gse(t){if(PW(t))return Ap(void 0,t.useValue);{let e=kW(t);return Ap(e,Kx)}}function kW(t,e,i){let n;if(Wp(t)){let r=ao(t);return Hp(r)||Uw(r)}else if(PW(t))n=()=>ao(t.useValue);else if(zse(t))n=()=>t.useFactory(...$w(t.deps||[]));else if(Hse(t))n=()=>Ue(ao(t.useExisting));else{let r=ao(t&&(t.useClass||t.provide));if(Use(t))n=()=>new r(...$w(t.deps));else return Hp(r)||Uw(r)}return n}function Ap(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function Use(t){return!!t.deps}function Kse(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function qse(t){return typeof t=="function"||typeof t=="object"&&t instanceof Dt}function Kw(t,e){for(let i of t)Array.isArray(i)?Kw(i,e):i&&OW(i)?Kw(i.\u0275providers,e):e(i)}function ja(t,e){t instanceof Fm&&t.assertNotDestroyed();let i,n=iu(t),r=hs(void 0);try{return e()}finally{iu(n),hs(r)}}function Jse(t){if(!SW()&&!wse())throw new bt(-203,!1)}function Yse(t){let e=Ko.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Xse(t){return typeof t=="function"}var qw=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function NW(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function cn(){return LW}function LW(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zse),Qse}cn.ngInherit=!0;function Qse(){let t=VW(this),e=t?.current;if(e){let i=t.previous;if(i===Np)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function Zse(t,e,i,n,r){let o=this.declaredInputs[n],s=VW(t)||eae(t,{previous:Np,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new qw(d&&d.currentValue,i,l===Np),NW(t,e,r,i)}var BW="__ngSimpleChanges__";function VW(t){return t[BW]||null}function eae(t,e){return t[BW]=e}var fz=null;var Na=function(t,e,i){fz?.(t,e,i)};function tae(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(n){let s=LW(e);(i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s)}r&&(i.preOrderHooks??=[]).push(0-t,r),o&&((i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o))}function Ry(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let o=t.data[i].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-i,s),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),l&&(t.viewHooks??=[]).push(-i,l),d&&((t.viewHooks??=[]).push(i,d),(t.viewCheckHooks??=[]).push(i,d)),u!=null&&(t.destroyHooks??=[]).push(i,u)}}function qx(t,e,i){HW(t,e,3,i)}function Jx(t,e,i,n){(t[jt]&3)===i&&HW(t,e,i,n)}function Ow(t,e){let i=t[jt];(i&3)===e&&(i&=16383,i+=1,t[jt]=i)}function HW(t,e,i,n){let r=n!==void 0?t[Mp]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[Mp]+=65536),(a<o||o==-1)&&(iae(t,i,e,l),t[Mp]=(t[Mp]&4294901760)+l+2),l++}function gz(t,e){Na(4,t,e);let i=Go(null);try{e.call(t)}finally{Go(i),Na(5,t,e)}}function iae(t,e,i,n){let r=i[n]<0,o=i[n+1],s=r?-i[n]:i[n],a=t[s];r?t[jt]>>14<t[Mp]>>16&&(t[jt]&3)===e&&(t[jt]+=16384,gz(a,o)):gz(a,o)}var kp=-1,Fc=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function nae(t){return t instanceof Fc}function rae(t){return(t.flags&8)!==0}function oae(t){return(t.flags&16)!==0}function zW(t){return t!==kp}function ry(t){return t&32767}function sae(t){return t>>16}function oy(t,e){let i=sae(t),n=e;for(;i>0;)n=n[Gp],i--;return n}var Jw=!0;function mz(t){let e=Jw;return Jw=t,e}var aae=256,WW=aae-1,jW=5,lae=0,La={};function dae(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(Om)&&(n=i[Om]),n==null&&(n=i[Om]=lae++);let r=n&WW,o=1<<r;e.data[t+(r>>jW)]|=o}function sy(t,e){let i=$W(t,e);if(i!==-1)return i;let n=e[hi];n.firstCreatePass&&(t.injectorIndex=e.length,Ew(n.data,t),Ew(e,null),Ew(n.blueprint,null));let r=YI(t,e),o=t.injectorIndex;if(zW(r)){let s=ry(r),a=oy(r,e),l=a[hi].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=r,o}function Ew(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $W(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function YI(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=JW(r),n===null)return kp;if(i++,r=r[Gp],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return kp}function Yw(t,e,i){dae(t,e,i)}function GW(t,e,i){if(i&_i.Optional||t!==void 0)return t;$I(e,"NodeInjector")}function UW(t,e,i,n){if(i&_i.Optional&&n===void 0&&(n=null),!(i&(_i.Self|_i.Host))){let r=t[Lp],o=hs(void 0);try{return r?r.get(e,n,i&_i.Optional):wW(e,n,i&_i.Optional)}finally{hs(o)}}return GW(n,e,i)}function KW(t,e,i,n=_i.Default,r){if(t!==null){if(e[jt]&2048&&!(n&_i.Self)){let s=pae(t,e,i,n,La);if(s!==La)return s}let o=qW(t,e,i,n,La);if(o!==La)return o}return UW(e,i,n,r)}function qW(t,e,i,n,r){let o=cae(i);if(typeof o=="function"){if(!uW(e,t,n))return n&_i.Host?GW(r,i,n):UW(e,i,n,r);try{let s;if(s=o(n),s==null&&!(n&_i.Optional))$I(i);else return s}finally{fW()}}else if(typeof o=="number"){let s=null,a=$W(t,e),l=kp,d=n&_i.Host?e[ea][Jo]:null;for((a===-1||n&_i.SkipSelf)&&(l=a===-1?YI(t,e):e[a+8],l===kp||!_z(n,!1)?a=-1:(s=e[hi],a=ry(l),e=oy(l,e)));a!==-1;){let u=e[hi];if(vz(o,a,u.data)){let h=uae(a,e,i,s,n,d);if(h!==La)return h}l=e[a+8],l!==kp&&_z(n,e[hi].data[a+8]===d)&&vz(o,a,e)?(s=u,a=ry(l),e=oy(l,e)):a=-1}}return r}function uae(t,e,i,n,r,o){let s=e[hi],a=s.data[t+8],l=n==null?by(a)&&Jw:n!=s&&(a.type&3)!==0,d=r&_i.Host&&o===a,u=Yx(a,s,i,l,d);return u!==null?Pc(e,s,u,a):La}function Yx(t,e,i,n,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,u=o>>20,h=n?a:a+u,p=r?a+u:d;for(let m=h;m<p;m++){let c=s[m];if(m<l&&i===c||m>=l&&c.type===i)return m}if(r){let m=s[l];if(m&&su(m)&&m.type===i)return l}return null}function Pc(t,e,i,n){let r=t[i],o=e.data;if(nae(r)){let s=r;s.resolving&&bse(yse(o[i]));let a=mz(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?hs(s.injectImpl):null,u=uW(t,n,_i.Default);try{r=t[i]=s.factory(void 0,o,t,n),e.firstCreatePass&&i>=n.directiveStart&&tae(i,o[i],e)}finally{d!==null&&hs(d),mz(a),s.resolving=!1,fW()}}return r}function cae(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Om)?t[Om]:void 0;return typeof e=="number"?e>=0?e&WW:hae:e}function vz(t,e,i){let n=1<<t;return!!(i[e+(t>>jW)]&n)}function _z(t,e){return!(t&_i.Self)&&!(t&_i.Host&&e)}var Tc=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return KW(this._tNode,this._lView,e,wy(n),i)}};function hae(){return new Tc(co(),Pi())}function Yo(t){return Lm(()=>{let e=t.prototype.constructor,i=e[Zx]||Xw(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let o=r[Zx]||Xw(r);if(o&&o!==i)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Xw(t){return DW(t)?()=>{let e=Xw(ao(t));return e&&e()}:Hp(t)}function pae(t,e,i,n,r){let o=t,s=e;for(;o!==null&&s!==null&&s[jt]&2048&&!(s[jt]&512);){let a=qW(o,s,i,n|_i.Self,La);if(a!==La)return a;let l=o.parent;if(!l){let d=s[Qz];if(d){let u=d.get(i,La,n);if(u!==La)return u}l=JW(s),s=s[Gp]}o=l}return r}function JW(t){let e=t[hi],i=e.type;return i===2?e.declTNode:i===1?t[Jo]:null}function Cz(t,e=null,i=null,n){let r=YW(t,e,i,n);return r.resolveInjectorInitializers(),r}function YW(t,e=null,i=null,n,r=new Set){let o=[i||To,Bse(t)];return n=n||(typeof t=="object"?void 0:lo(t)),new Fm(o,e||JI(),n||null,r)}var ra=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return Cz({name:""},r,n,"");{let o=n.name??"";return Cz({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=Rm,e.NULL=new ny,e.\u0275prov=Qe({token:e,providedIn:"any",factory:()=>Ue(MW)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),fae="ngOriginalError";function Sw(t){return t[fae]}var za=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&Sw(e);for(;i&&Sw(i);)i=Sw(i);return i||null}},XW=new Dt("",{providedIn:"root",factory:()=>Xe(za).handleError.bind(void 0)});var QW=!1,gae=new Dt("",{providedIn:"root",factory:()=>QW});var Qw=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${goe})`}};function Fy(t){return t instanceof Qw?t.changingThisBreaksApplicationSecurity:t}var mae=/^>|^->|<!--|-->|--!>|<!-$/g,vae=/(<|>)/g,_ae="\u200B$1\u200B";function Cae(t){return t.replace(mae,e=>e.replace(vae,_ae))}var ZW=new Map,xae=0;function yae(){return xae++}function bae(t){ZW.set(t[yy],t)}function Dae(t){ZW.delete(t[yy])}var xz="__ngContext__";function au(t,e){Ic(e)?(t[xz]=e[yy],bae(e)):t[xz]=e}function ej(t){return t instanceof Function?t():t}function Oae(t){return(t??Xe(ra)).get(ni)==="browser"}var Ll=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ll||{}),Eae;function XI(t,e){return Eae(t,e)}function Rp(t,e,i,n,r){if(n!=null){let o,s=!1;Hl(n)?o=n:Ic(n)&&(s=!0,n=n[Vl]);let a=Ha(n);t===0&&i!==null?r==null?sj(e,i,a):ay(e,i,a,r||null,!0):t===1&&i!==null?ay(e,i,a,r||null,!0):t===2?zae(e,a,s):t===3&&e.destroyNode(a),o!=null&&jae(e,t,o,i,r)}}function Sae(t,e){return t.createText(e)}function wae(t,e,i){t.setValue(e,i)}function Iae(t,e){return t.createComment(Cae(e))}function tj(t,e,i){return t.createElement(e,i)}function Tae(t,e){ij(t,e),e[Vl]=null,e[Jo]=null}function Mae(t,e,i,n,r,o){n[Vl]=r,n[Jo]=e,ky(t,n,i,1,r,o)}function ij(t,e){ky(t,e,e[kn],2,null,null)}function Aae(t){let e=t[Tm];if(!e)return ww(t[hi],t);for(;e;){let i=null;if(Ic(e))i=e[Tm];else{let n=e[qo];n&&(i=n)}if(!i){for(;e&&!e[Qs]&&e!==t;)Ic(e)&&ww(e[hi],e),e=e[Ar];e===null&&(e=t),Ic(e)&&ww(e[hi],e),i=e&&e[Qs]}e=i}}function Rae(t,e,i,n){let r=qo+n,o=i.length;n>0&&(i[r-1][Qs]=e),n<o-qo?(e[Qs]=i[r],mW(i,qo+n,e)):(i.push(e),e[Qs]=null),e[Ar]=i;let s=e[Bm];s!==null&&i!==s&&Fae(s,e);let a=e[Nl];a!==null&&a.insertView(t),Bw(e),e[jt]|=128}function Fae(t,e){let i=t[Bp],r=e[Ar][Ar][ea];e[ea]!==r&&(t[jt]|=MI.HasTransplantedViews),i===null?t[Bp]=[e]:i.push(e)}function nj(t,e){let i=t[Bp],n=i.indexOf(e);i.splice(n,1)}function Zw(t,e){if(t.length<=qo)return;let i=qo+e,n=t[i];if(n){let r=n[Bm];r!==null&&r!==t&&nj(r,n),e>0&&(t[i-1][Qs]=n[Qs]);let o=ty(t,qo+e);Tae(n[hi],n);let s=o[Nl];s!==null&&s.detachView(o[hi]),n[Ar]=null,n[Qs]=null,n[jt]&=-129}return n}function rj(t,e){if(!(e[jt]&256)){let i=e[kn];i.destroyNode&&ky(t,e,i,3,null,null),Aae(e)}}function ww(t,e){if(!(e[jt]&256)){e[jt]&=-129,e[jt]|=256,e[Mc]&&AH(e[Mc]),kae(t,e),Pae(t,e),e[hi].type===1&&e[kn].destroy();let i=e[Bm];if(i!==null&&Hl(e[Ar])){i!==e[Ar]&&nj(i,e);let n=e[Nl];n!==null&&n.detachView(t)}Dae(e)}}function Pae(t,e){let i=t.cleanup,n=e[Im];if(i!==null)for(let o=0;o<i.length-1;o+=2)if(typeof i[o]=="string"){let s=i[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[i[o+1]];i[o].call(s)}n!==null&&(e[Im]=null);let r=e[nu];if(r!==null){e[nu]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function kae(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Fc)){let o=i[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Na(4,a,l);try{l.call(a)}finally{Na(5,a,l)}}else{Na(4,r,o);try{o.call(r)}finally{Na(5,r,o)}}}}}function oj(t,e,i){return Nae(t,e.parent,i)}function Nae(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[Vl];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=t.data[n.directiveStart+r];if(o===Ba.None||o===Ba.Emulated)return null}return na(n,i)}}function ay(t,e,i,n,r){t.insertBefore(e,i,n,r)}function sj(t,e,i){t.appendChild(e,i)}function yz(t,e,i,n,r){n!==null?ay(t,e,i,n,r):sj(t,e,i)}function Lae(t,e,i,n){t.removeChild(e,i,n)}function QI(t,e){return t.parentNode(e)}function Bae(t,e){return t.nextSibling(e)}function aj(t,e,i){return Hae(t,e,i)}function Vae(t,e,i){return t.type&40?na(t,i):null}var Hae=Vae,bz;function Py(t,e,i,n){let r=oj(t,n,e),o=e[kn],s=n.parent||e[Jo],a=aj(s,n,e);if(r!=null)if(Array.isArray(i))for(let l=0;l<i.length;l++)yz(o,r,i[l],a,!1);else yz(o,r,i,a,!1);bz!==void 0&&bz(o,n,e,i,r)}function Xx(t,e){if(e!==null){let i=e.type;if(i&3)return na(e,t);if(i&4)return eI(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return Xx(t,n);{let r=t[e.index];return Hl(r)?eI(-1,r):Ha(r)}}else{if(i&32)return XI(e,t)()||Ha(t[e.index]);{let n=lj(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=Am(t[ea]);return Xx(r,n)}else return Xx(t,e.next)}}}return null}function lj(t,e){if(e!==null){let n=t[ea][Jo],r=e.projection;return n.projection[r]}return null}function eI(t,e){let i=qo+t+1;if(i<e.length){let n=e[i],r=n[hi].firstChild;if(r!==null)return Xx(n,r)}return e[Ac]}function zae(t,e,i){let n=QI(t,e);n&&Lae(t,n,e,i)}function ZI(t,e,i,n,r,o,s){for(;i!=null;){let a=n[i.index],l=i.type;if(s&&e===0&&(a&&au(Ha(a),n),i.flags|=2),(i.flags&32)!==32)if(l&8)ZI(t,e,i.child,n,r,o,!1),Rp(e,t,r,a,o);else if(l&32){let d=XI(i,n),u;for(;u=d();)Rp(e,t,r,u,o);Rp(e,t,r,a,o)}else l&16?dj(t,e,n,i,r,o):Rp(e,t,r,a,o);i=s?i.projectionNext:i.next}}function ky(t,e,i,n,r,o){ZI(i,n,t.firstChild,e,r,o,!1)}function Wae(t,e,i){let n=e[kn],r=oj(t,i,e),o=i.parent||e[Jo],s=aj(o,i,e);dj(n,0,e,i,r,s)}function dj(t,e,i,n,r,o){let s=i[ea],l=s[Jo].projection[n.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let u=l[d];Rp(e,t,r,u,o)}else{let d=l,u=s[Ar];vW(n)&&(d.flags|=128),ZI(t,e,d,u,r,o,!0)}}function jae(t,e,i,n,r){let o=i[Ac],s=Ha(i);o!==s&&Rp(e,t,n,o,r);for(let a=qo;a<i.length;a++){let l=i[a];ky(l[hi],l,t,e,n,o)}}function $ae(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let o=n.indexOf("-")===-1?void 0:Ll.DashCase;r==null?t.removeStyle(i,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ll.Important),t.setStyle(i,n,r,o))}}function Gae(t,e,i){t.setAttribute(e,"style",i)}function uj(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function cj(t,e,i){let{mergedAttrs:n,classes:r,styles:o}=i;n!==null&&Lw(t,e,n),r!==null&&uj(t,e,r),o!==null&&Gae(t,e,o)}var oa={};function zt(t=1){hj(Zn(),Pi(),zc()+t,!1)}function hj(t,e,i,n){if(!n)if((e[jt]&3)===3){let o=t.preOrderCheckHooks;o!==null&&qx(e,o,i)}else{let o=t.preOrderHooks;o!==null&&Jx(e,o,0,i)}Rc(i)}function oe(t,e=_i.Default){let i=Pi();if(i===null)return Ue(t,e);let n=co();return KW(n,i,ao(t),e)}function pj(){let t="invalid";throw new Error(t)}function fj(t,e,i,n,r,o){let s=Go(null);try{let a=null;r&Va.SignalBased&&(a=e[n][QS]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Va.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,i,n):NW(e,a,n,o)}finally{Go(s)}}function Uae(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)Rc(~r);else{let o=r,s=i[++n],a=i[++n];nse(s,o);let l=e[o];a(2,l)}}}finally{Rc(-1)}}function Ny(t,e,i,n,r,o,s,a,l,d,u){let h=e.blueprint.slice();return h[Vl]=r,h[jt]=n|4|128|8|64,(d!==null||t&&t[jt]&2048)&&(h[jt]|=2048),iW(h),h[Ar]=h[Gp]=t,h[Zs]=i,h[ou]=s||t&&t[ou],h[kn]=a||t&&t[kn],h[Lp]=l||t&&t[Lp]||null,h[Jo]=o,h[yy]=yae(),h[wm]=u,h[Qz]=d,h[ea]=e.type==2?t[ea]:h,h}function Kp(t,e,i,n,r){let o=t.data[e];if(o===null)o=Kae(t,e,i,n,r),ise()&&(o.flags|=32);else if(o.type&64){o.type=i,o.value=n,o.attrs=r;let s=Zoe();o.injectorIndex=s===null?-1:s.injectorIndex}return Hc(o,!0),o}function Kae(t,e,i,n,r){let o=sW(),s=PI(),a=s?o:o&&o.parent,l=t.data[e]=Zae(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function gj(t,e,i,n){if(i===0)return-1;let r=e.length;for(let o=0;o<i;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function mj(t,e,i,n,r){let o=zc(),s=n&2;try{Rc(-1),s&&e.length>ta&&hj(t,e,ta,!1),Na(s?2:0,r),i(n,r)}finally{Rc(o),Na(s?3:1,r)}}function eT(t,e,i){if(AI(e)){let n=Go(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=i[s];a.contentQueries(1,l,s)}}}finally{Go(n)}}}function tT(t,e,i){rW()&&(ole(t,e,i,na(i,e)),(i.flags&64)===64&&Cj(t,e,i))}function iT(t,e,i=na){let n=e.localNames;if(n!==null){let r=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?i(e,t):t[s];t[r++]=a}}}function vj(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=nT(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function nT(t,e,i,n,r,o,s,a,l,d,u){let h=ta+n,p=h+r,m=qae(h,p),c=typeof d=="function"?d():d;return m[hi]={type:t,blueprint:m,template:i,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1,ssrId:u}}function qae(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:oa);return i}function Jae(t,e,i,n){let o=n.get(gae,QW)||i===Ba.ShadowDom,s=t.selectRootElement(e,o);return Yae(s),s}function Yae(t){Xae(t)}var Xae=()=>null;function Qae(t,e,i,n){let r=bj(e);r.push(i),t.firstCreatePass&&Dj(t).push(n,r.length-1)}function Zae(t,e,i,n,r,o){let s=e?e.injectorIndex:-1,a=0;return oW()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Dz(t,e,i,n,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=Va.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(r!==null){if(!r.hasOwnProperty(o))continue;d=r[o]}t===0?Oz(n,i,d,a,l):Oz(n,i,d,a)}return n}function Oz(t,e,i,n,r){let o;t.hasOwnProperty(i)?(o=t[i]).push(e,n):o=t[i]=[e,n],r!==void 0&&o.push(r)}function ele(t,e,i){let n=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,d=null;for(let u=n;u<r;u++){let h=o[u],p=i?i.get(h):null,m=p?p.inputs:null,c=p?p.outputs:null;l=Dz(0,h.inputs,u,l,m),d=Dz(1,h.outputs,u,d,c);let x=l!==null&&s!==null&&!$z(e)?fle(l,u,s):null;a.push(x)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}function tle(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function rT(t,e,i,n,r,o,s,a){let l=na(e,i),d=e.inputs,u;!a&&d!=null&&(u=d[n])?(sT(t,i,u,n,r),by(e)&&ile(i,e.index)):e.type&3?(n=tle(n),r=s!=null?s(r,e.value||"",n):r,o.setProperty(l,n,r)):e.type&12}function ile(t,e){let i=du(e,t);i[jt]&16||(i[jt]|=64)}function oT(t,e,i,n){if(rW()){let r=n===null?null:{"":-1},o=ale(t,i),s,a;o===null?s=a=null:[s,a]=o,s!==null&&_j(t,e,i,s,r,a),r&&lle(i,n,r)}i.mergedAttrs=Sm(i.mergedAttrs,i.attrs)}function _j(t,e,i,n,r,o){for(let d=0;d<n.length;d++)Yw(sy(i,e),t,n[d].type);ule(i,t.data.length,n.length);for(let d=0;d<n.length;d++){let u=n[d];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=gj(t,e,n.length,null);for(let d=0;d<n.length;d++){let u=n[d];i.mergedAttrs=Sm(i.mergedAttrs,u.hostAttrs),cle(t,i,e,l,u),dle(l,u,r),u.contentQueries!==null&&(i.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(i.flags|=64);let h=u.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}ele(t,i,o)}function nle(t,e,i,n,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;rle(s)!=a&&s.push(a),s.push(i,n,o)}}function rle(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function ole(t,e,i,n){let r=i.directiveStart,o=i.directiveEnd;by(i)&&hle(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||sy(i,e),au(n,e);let s=i.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],d=Pc(e,t,a,i);if(au(d,e),s!==null&&ple(e,a-r,d,l,i,s),su(l)){let u=du(i.index,e);u[Zs]=Pc(e,t,a,i)}}}function Cj(t,e,i){let n=i.directiveStart,r=i.directiveEnd,o=i.index,s=rse();try{Rc(o);for(let a=n;a<r;a++){let l=t.data[a],d=e[a];Vw(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&sle(l,d)}}finally{Rc(-1),Vw(s)}}function sle(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ale(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let o=0;o<i.length;o++){let s=i[o];if(Gz(e,s.selectors,!1))if(n||(n=[]),su(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s);let l=a.length;tI(t,e,l)}else n.unshift(s),tI(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return n===null?null:[n,r]}function tI(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function lle(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=i[e[r+1]];if(o==null)throw new bt(-301,!1);n.push(e[r],o)}}}function dle(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;su(e)&&(i[""]=t)}}function ule(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function cle(t,e,i,n,r){t.data[n]=r;let o=r.factory||(r.factory=Hp(r.type,!0)),s=new Fc(o,su(r),oe);t.blueprint[n]=s,i[n]=s,nle(t,e,n,gj(t,i,r.hostVars,oa),r)}function hle(t,e,i){let n=na(e,t),r=vj(i),o=t[ou].rendererFactory,s=16;i.signals?s=4096:i.onPush&&(s=64);let a=Ly(t,Ny(t,r,null,s,n,e,null,o.createRenderer(n,i),null,null,null));t[e.index]=a}function ple(t,e,i,n,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],u=s[a++],h=s[a++];fj(n,i,l,d,u,h)}}function fle(t,e,i){let n=null,r=0;for(;r<i.length;){let o=i[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],i[r+1]);break}}r+=2}return n}function xj(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function yj(t,e){let i=t.contentQueries;if(i!==null){let n=Go(null);try{for(let r=0;r<i.length;r+=2){let o=i[r],s=i[r+1];if(s!==-1){let a=t.data[s];LI(o),a.contentQueries(2,e[s],s)}}}finally{Go(n)}}}function Ly(t,e){return t[Tm]?t[dz][Qs]=e:t[Tm]=e,t[dz]=e,e}function iI(t,e,i){LI(0);let n=Go(null);try{e(t,i)}finally{Go(n)}}function bj(t){return t[Im]||(t[Im]=[])}function Dj(t){return t.cleanup||(t.cleanup=[])}function Oj(t,e){let i=t[Lp],n=i?i.get(za,null):null;n&&n.handleError(e)}function sT(t,e,i,n,r){for(let o=0;o<i.length;){let s=i[o++],a=i[o++],l=i[o++],d=e[s],u=t.data[s];fj(u,d,n,a,l,r)}}function gle(t,e,i){let n=eW(e,t);wae(t[kn],n,i)}function mle(t,e){let i=du(e,t),n=i[hi];vle(n,i);let r=i[Vl];r!==null&&i[wm]===null&&(i[wm]=UI(r,i[Lp])),aT(n,i,i[Zs])}function vle(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function aT(t,e,i){BI(e);try{let n=t.viewQuery;n!==null&&iI(1,n,i);let r=t.template;r!==null&&mj(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[Nl]?.finishViewCreation(t),t.staticContentQueries&&yj(t,e),t.staticViewQueries&&iI(2,t.viewQuery,i);let o=t.components;o!==null&&_le(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[jt]&=-5,VI()}}function _le(t,e){for(let i=0;i<e.length;i++)mle(t,e[i])}function Cle(t,e,i,n){let r=e.tView,s=t[jt]&4096?4096:16,a=Ny(t,r,i,s,null,e,null,null,null,n?.injector??null,n?.dehydratedView??null),l=t[e.index];a[Bm]=l;let d=t[Nl];return d!==null&&(a[Nl]=d.createEmbeddedView(r)),aT(r,a,i),a}function Ez(t,e){return!e||e.firstChild===null||vW(t)}function xle(t,e,i,n=!0){let r=e[hi];if(Rae(r,e,t,i),n){let s=eI(i,t),a=e[kn],l=QI(a,t[Ac]);l!==null&&Mae(r,t[Jo],a,e,l,s)}let o=e[wm];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ly(t,e,i,n,r=!1){for(;i!==null;){let o=e[i.index];o!==null&&n.push(Ha(o)),Hl(o)&&yle(o,n);let s=i.type;if(s&8)ly(t,e,i.child,n);else if(s&32){let a=XI(i,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=lj(e,i);if(Array.isArray(a))n.push(...a);else{let l=Am(e[ea]);ly(l[hi],l,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function yle(t,e){for(let i=qo;i<t.length;i++){let n=t[i],r=n[hi].firstChild;r!==null&&ly(n[hi],n,r,e)}t[Ac]!==t[Vl]&&e.push(t[Ac])}var Ej=[];function ble(t){return t[Mc]??Dle(t)}function Dle(t){let e=Ej.pop()??Object.create(Ele);return e.lView=t,e}function Ole(t){t.lView[Mc]!==t&&(t.lView=null,Ej.push(t))}var Ele=nn(ht({},IH),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Mm(t.lView)},consumerOnSignalRead(){this.lView[Mc]=this}});function Sj(t){return Ij(t[Tm])}function wj(t){return Ij(t[Qs])}function Ij(t){for(;t!==null&&!Hl(t);)t=t[Qs];return t}var Tj=100;function Mj(t,e=!0,i=0){let n=t[ou],r=n.rendererFactory,o=!1;o||r.begin?.();try{Sle(t,i)}catch(s){throw e&&Oj(t,s),s}finally{o||(r.end?.(),n.inlineEffectRunner?.flush())}}function Sle(t,e){nI(t,e);let i=0;for(;FI(t);){if(i===Tj)throw new bt(103,!1);i++,nI(t,1)}}function wle(t,e,i,n){let r=e[jt];if((r&256)===256)return;let o=!1;!o&&e[ou].inlineEffectRunner?.flush(),BI(e);let s=null,a=null;!o&&Ile(t)&&(a=ble(e),s=TH(a));try{iW(e),tse(t.bindingStartIndex),i!==null&&mj(t,e,i,2,n);let l=(r&3)===3;if(!o)if(l){let h=t.preOrderCheckHooks;h!==null&&qx(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Jx(e,h,0,null),Ow(e,0)}if(Tle(e),Aj(e,0),t.contentQueries!==null&&yj(t,e),!o)if(l){let h=t.contentCheckHooks;h!==null&&qx(e,h)}else{let h=t.contentHooks;h!==null&&Jx(e,h,1),Ow(e,1)}Uae(t,e);let d=t.components;d!==null&&Fj(e,d,0);let u=t.viewQuery;if(u!==null&&iI(2,u,n),!o)if(l){let h=t.viewCheckHooks;h!==null&&qx(e,h)}else{let h=t.viewHooks;h!==null&&Jx(e,h,2),Ow(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[yw]){for(let h of e[yw])h();e[yw]=null}o||(e[jt]&=-73)}catch(l){throw Mm(e),l}finally{a!==null&&(MH(a,s),Ole(a)),VI()}}function Ile(t){return t.type!==2}function Aj(t,e){for(let i=Sj(t);i!==null;i=wj(i))for(let n=qo;n<i.length;n++){let r=i[n];Rj(r,e)}}function Tle(t){for(let e=Sj(t);e!==null;e=wj(e)){if(!(e[jt]&MI.HasTransplantedViews))continue;let i=e[Bp];for(let n=0;n<i.length;n++){let r=i[n],o=r[Ar];Goe(r)}}}function Mle(t,e,i){let n=du(e,t);Rj(n,i)}function Rj(t,e){RI(t)&&nI(t,e)}function nI(t,e){let n=t[hi],r=t[jt],o=t[Mc],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&ZS(o)),o&&(o.dirty=!1),t[jt]&=-9217,s)wle(n,t,n.template,t[Zs]);else if(r&8192){Aj(t,1);let a=n.components;a!==null&&Fj(t,a,1)}}function Fj(t,e,i){for(let n=0;n<e.length;n++)Mle(t,e[n],i)}function lT(t){for(t[ou].changeDetectionScheduler?.notify();t;){t[jt]|=64;let e=Am(t);if(Loe(t)&&!e)return t;t=e}return null}var kc=class{get rootNodes(){let e=this._lView,i=e[hi];return ly(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zs]}set context(e){this._lView[Zs]=e}get destroyed(){return(this._lView[jt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ar];if(Hl(e)){let i=e[ey],n=i?i.indexOf(this):-1;n>-1&&(Zw(e,n),ty(i,n))}this._attachedToViewContainer=!1}rj(this._lView[hi],this._lView)}onDestroy(e){nW(this._lView,e)}markForCheck(){lT(this._cdRefInjectingView||this._lView)}detach(){this._lView[jt]&=-129}reattach(){Bw(this._lView),this._lView[jt]|=128}detectChanges(){this._lView[jt]|=1024,Mj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new bt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ij(this._lView[hi],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new bt(902,!1);this._appRef=e,Bw(this._lView)}},Bl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Fle;let t=e;return t})(),Ale=Bl,Rle=class extends Ale{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=Cle(this._declarationLView,this._declarationTContainer,e,{injector:i,dehydratedView:n});return new kc(r)}};function Fle(){return By(co(),Pi())}function By(t,e){return t.type&4?new Rle(e,t,Up(t,e)):null}var $4e=new RegExp(`^(\\d+)*(${kse}|${Pse})*(.*)`);var Ple=()=>null;function Sz(t,e){return Ple(t,e)}var rI=class{},oI=class{},dy=class{};function kle(t){let e=Error(`No component factory found for ${lo(t)}.`);return e[Nle]=t,e}var Nle="ngComponent";var sI=class{resolveComponentFactory(e){throw kle(e)}},Vy=(()=>{let e=class e{};e.NULL=new sI;let t=e;return t})(),Pm=class{},zl=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Lle();let t=e;return t})();function Lle(){let t=Pi(),e=co(),i=du(e.index,t);return(Ic(i)?i:t)[kn]}var Ble=(()=>{let e=class e{};e.\u0275prov=Qe({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Iw={};function Vle(t){return typeof t=="function"&&t[QS]!==void 0}var wz=new Set;function Hy(t){wz.has(t)||(wz.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Pj(t){return Vle(t)&&typeof t.set=="function"}function kj(t){return zle(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Hle(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function zle(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var aI=class{constructor(){}supports(e){return kj(e)}create(e){return new lI(e)}},Wle=(t,e)=>e,lI=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Wle}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,r=0,o=null;for(;i||n;){let s=!n||i&&i.currentIndex<Iz(n,r,o)?i:n,a=Iz(s,r,o),l=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(i=i._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,u=l-r;if(d!=u){for(let p=0;p<d;p++){let m=p<o.length?o[p]:o[p]=0,c=m+p;u<=c&&c<d&&(o[p]=m+1)}let h=s.previousIndex;o[h]=u-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!kj(e))throw new bt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),i===null||!Object.is(i.trackById,s)?(i=this._mismatch(i,o,s,a),n=!0):(n&&(i=this._verifyReinsertion(i,o,s,a)),Object.is(i.item,o)||this._addIdentityChange(i,o)),i=i._next}else r=0,Hle(e,a=>{s=this._trackByFn(r,a),i===null||!Object.is(i.trackById,s)?(i=this._mismatch(i,a,s,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,s,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,o,r)):e=this._addAfter(new dI(i,n),o,r)),e}_verifyReinsertion(e,i,n,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let r=i===null?this._itHead:i._next;return e._next=r,e._prev=i,r===null?this._itTail=e:r._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new uy),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new uy),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dI=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},uI=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},uy=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new uI,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,r=this.map.get(n);return r?r.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Iz(t,e,i){let n=t.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}function Tz(){return new Wm([new aI])}var Wm=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Tz()),deps:[[e,new KI,new Ty]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new bt(901,!1)}};e.\u0275prov=Qe({token:e,providedIn:"root",factory:Tz});let t=e;return t})();var qp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jle;let t=e;return t})();function jle(t){return $le(co(),Pi(),(t&16)===16)}function $le(t,e,i){if(by(t)&&!i){let n=du(t.index,e);return new kc(n,n)}else if(t.type&47){let n=e[ea];return new kc(n,e)}return null}var Nj=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gle,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),cI=class extends Nj{constructor(e){super(),this._lView=e}onDestroy(e){return nW(this._lView,e),()=>Koe(this._lView,e)}};function Gle(){return new cI(Pi())}function Mz(...t){}function Ule(){let t=typeof Ko.requestAnimationFrame=="function",e=Ko[t?"requestAnimationFrame":"setTimeout"],i=Ko[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var gt=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vi(!1),this.onMicrotaskEmpty=new Vi(!1),this.onStable=new Vi(!1),this.onError=new Vi(!1),typeof Zone>"u")throw new bt(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=Ule().nativeRequestAnimationFrame,Jle(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new bt(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new bt(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Kle,Mz,Mz);try{return o.runTask(s,i,n)}finally{o.cancelTask(s)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},Kle={};function dT(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qle(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ko,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hI(t),t.isCheckStableRunning=!0,dT(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hI(t))}function Jle(t){let e=()=>{qle(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,o,s,a)=>{if(Yle(a))return i.invokeTask(r,o,s,a);try{return Az(t),i.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Rz(t)}},onInvoke:(i,n,r,o,s,a,l)=>{try{return Az(t),i.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Rz(t)}},onHasTask:(i,n,r,o)=>{i.hasTask(r,o),n===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,hI(t),dT(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,n,r,o)=>(i.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function hI(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Az(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rz(t){t._nesting--,dT(t)}var pI=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vi,this.onMicrotaskEmpty=new Vi,this.onStable=new Vi,this.onError=new Vi}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function Yle(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Xle(t="zone.js",e){return t==="noop"?new pI:t==="zone.js"?new gt(e):t}var Fp=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Fp||{}),Qle={destroy(){}};function uT(t,e){!e&&Jse(uT);let i=e?.injector??Xe(ra);if(!Oae(i))return Qle;Hy("NgAfterNextRender");let n=i.get(cT),r=n.handler??=new gI,o=e?.phase??Fp.MixedReadWrite,s=()=>{r.unregister(l),a()},a=i.get(Nj).onDestroy(s),l=new fI(i,o,()=>{s(),t()});return r.register(l),{destroy:s}}var fI=class{constructor(e,i,n){this.phase=i,this.callbackFn=n,this.zone=e.get(gt),this.errorHandler=e.get(za,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},gI=class{constructor(){this.executingCallbacks=!1,this.buckets={[Fp.EarlyRead]:new Set,[Fp.Write]:new Set,[Fp.MixedReadWrite]:new Set,[Fp.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},cT=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function cy(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Nw(r,a);else if(o==2){let l=a,d=e[++s];n=Nw(n,l+": "+d+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var hy=class extends Vy{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=ru(e);return new jp(i,this.ngModule)}};function Fz(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function Zle(t){let e=t.toLowerCase();return e==="svg"?Boe:e==="math"?Voe:null}var mI=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=wy(n);let r=this.injector.get(e,Iw,n);return r!==Iw||i===Iw?r:this.parentInjector.get(e,i,n)}},jp=class extends dy{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=Fz(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return Fz(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=Roe(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){r=r||this.ngModule;let o=r instanceof uo?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new mI(e,o):e,a=s.get(Pm,null);if(a===null)throw new bt(407,!1);let l=s.get(Ble,null),d=s.get(cT,null),u=s.get(rI,null),h={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:u},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",c=n?Jae(p,n,this.componentDef.encapsulation,s):tj(p,m,Zle(m)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let D=null;c!==null&&(D=UI(c,s,!0));let T=nT(0,null,null,1,0,null,null,null,null,null,null),N=Ny(null,T,null,x,null,null,h,p,s,null,D);BI(N);let G,U;try{let re=this.componentDef,_,Oe=null;re.findHostDirectiveDefs?(_=[],Oe=new Map,re.findHostDirectiveDefs(re,_,Oe),_.push(re)):_=[re];let fe=ede(N,c),we=tde(fe,c,re,_,N,h,p);U=tW(T,ta),c&&rde(p,re,c,n),i!==void 0&&ode(U,this.ngContentSelectors,i),G=nde(we,re,_,Oe,N,[sde]),aT(T,N,null)}finally{VI()}return new vI(this.componentType,G,Up(U,N),N,U)}},vI=class extends oI{constructor(e,i,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new kc(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let o=this._rootLView;sT(o[hi],o,r,e,i),this.previousInputValues.set(e,i);let s=du(this._tNode.index,o);lT(s)}}get injector(){return new Tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ede(t,e){let i=t[hi],n=ta;return t[n]=e,Kp(i,n,2,"#host",null)}function tde(t,e,i,n,r,o,s){let a=r[hi];ide(n,t,e,s);let l=null;e!==null&&(l=UI(e,r[Lp]));let d=o.rendererFactory.createRenderer(e,i),u=16;i.signals?u=4096:i.onPush&&(u=64);let h=Ny(r,vj(i),null,u,r[t.index],t,o,d,null,null,l);return a.firstCreatePass&&tI(a,t,n.length-1),Ly(r,h),r[t.index]=h}function ide(t,e,i,n){for(let r of t)e.mergedAttrs=Sm(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(cy(e,e.mergedAttrs,!0),i!==null&&cj(n,i,e))}function nde(t,e,i,n,r,o){let s=co(),a=r[hi],l=na(s,r);_j(a,r,s,i,null,n);for(let u=0;u<i.length;u++){let h=s.directiveStart+u,p=Pc(r,a,h,s);au(p,r)}Cj(a,r,s),l&&au(l,r);let d=Pc(r,a,s.directiveStart+s.componentOffset,s);if(t[Zs]=r[Zs]=d,o!==null)for(let u of o)u(d,e);return eT(a,s,r),d}function rde(t,e,i,n){if(n)Lw(t,i,["ng-version","17.2.3"]);else{let{attrs:r,classes:o}=Foe(e.selectors[0]);r&&Lw(t,i,r),o&&o.length>0&&uj(t,i,o.join(" "))}}function ode(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let o=i[r];n.push(o!=null?Array.from(o):null)}}function sde(){let t=co();Ry(Pi()[hi],t)}var $a=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ade;let t=e;return t})();function ade(){let t=co();return Bj(t,Pi())}var lde=$a,Lj=class extends lde{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return Up(this._hostTNode,this._hostLView)}get injector(){return new Tc(this._hostTNode,this._hostLView)}get parentInjector(){let e=YI(this._hostTNode,this._hostLView);if(zW(e)){let i=oy(e,this._hostLView),n=ry(e),r=i[hi].data[n+8];return new Tc(r,i)}else return new Tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=Pz(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-qo}createEmbeddedView(e,i,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let s=Sz(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},o,s);return this.insertImpl(a,r,Ez(this._hostTNode,s)),a}createComponent(e,i,n,r,o){let s=e&&!Xse(e),a;if(s)a=i;else{let c=i||{};a=c.index,n=c.injector,r=c.projectableNodes,o=c.environmentInjector||c.ngModuleRef}let l=s?e:new jp(ru(e)),d=n||this.parentInjector;if(!o&&l.ngModule==null){let x=(s?d:this.parentInjector).get(uo,null);x&&(o=x)}let u=ru(l.componentType??{}),h=Sz(this._lContainer,u?.id??null),p=h?.firstChild??null,m=l.create(d,r,p,o);return this.insertImpl(m.hostView,a,Ez(this._hostTNode,h)),m}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if($oe(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Ar],d=new Lj(l,l[Jo],l[Ar]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(i),s=this._lContainer;return xle(s,r,o,n),e.attachToViewContainerRef(),mW(Tw(s),o,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=Pz(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=Zw(this._lContainer,i);n&&(ty(Tw(this._lContainer),i),rj(n[hi],n))}detach(e){let i=this._adjustIndex(e,-1),n=Zw(this._lContainer,i);return n&&ty(Tw(this._lContainer),i)!=null?new kc(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function Pz(t){return t[ey]}function Tw(t){return t[ey]||(t[ey]=[])}function Bj(t,e){let i,n=e[t.index];return Hl(n)?i=n:(i=xj(n,e,null,t),e[t.index]=i,Ly(e,i)),ude(i,e,t,n),new Lj(i,t,e)}function dde(t,e){let i=t[kn],n=i.createComment(""),r=na(e,t),o=QI(i,r);return ay(i,o,n,Bae(i,r),!1),n}var ude=pde,cde=()=>!1;function hde(t,e,i){return cde(t,e,i)}function pde(t,e,i,n){if(t[Ac])return;let r;i.type&8?r=Ha(n):r=dde(e,i),t[Ac]=r}var _I=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},CI=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let o=0;o<n;o++){let s=i.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)hT(e,i).matches!==null&&this.queries[i].setDirty()}},py=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=yde(e):this.predicate=e}},xI=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,i!==null?i.push(o):i=[o])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},yI=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(e,i,fde(i,o)),this.matchTNodeWithReadOption(e,i,Yx(i,e,o,!1,!1))}else n===Bl?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,Yx(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===Xt||r===$a||r===Bl&&i.type&4)this.addMatch(i.index,-2);else{let o=Yx(i,e,r,!1,!1);o!==null&&this.addMatch(i.index,o)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function fde(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function gde(t,e){return t.type&11?Up(t,e):t.type&4?By(t,e):null}function mde(t,e,i,n){return i===-1?gde(e,t):i===-2?vde(t,e,n):Pc(t,t[hi],i,e)}function vde(t,e,i){if(i===Xt)return Up(e,t);if(i===Bl)return By(e,t);if(i===$a)return Bj(e,t)}function Vj(t,e,i,n){let r=e[Nl].queries[n];if(r.matches===null){let o=t.data,s=i.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let u=o[d];a.push(mde(e,u,s[l+1],i.metadata.read))}}r.matches=a}return r.matches}function bI(t,e,i,n){let r=t.queries.getByIndex(i),o=r.matches;if(o!==null){let s=Vj(t,e,r,i);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let d=o[a+1],u=e[-l];for(let h=qo;h<u.length;h++){let p=u[h];p[Bm]===p[Ar]&&bI(p[hi],p,d,n)}if(u[Bp]!==null){let h=u[Bp];for(let p=0;p<h.length;p++){let m=h[p];bI(m[hi],m,d,n)}}}}}return n}function _de(t,e){return t[Nl].queries[e].queryList}function Hj(t,e,i){let n=new Hw((i&4)===4);return Qae(t,e,n,n.destroy),(e[Nl]??=new CI).queries.push(new _I(n))-1}function Cde(t,e,i){let n=Zn();return n.firstCreatePass&&(zj(n,new py(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),Hj(n,Pi(),e)}function xde(t,e,i,n){let r=Zn();if(r.firstCreatePass){let o=co();zj(r,new py(e,i,n),o.index),bde(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return Hj(r,Pi(),i)}function yde(t){return t.split(",").map(e=>e.trim())}function zj(t,e,i){t.queries===null&&(t.queries=new xI),t.queries.track(new yI(e,i))}function bde(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function hT(t,e){return t.queries.getByIndex(e)}function Dde(t,e){let i=t[hi],n=hT(i,e);return n.crossesNgTemplate?bI(i,t,e,[]):Vj(i,t,n,e)}function Ode(t){let e=[],i=new Map;function n(r){let o=i.get(r);if(!o){let s=t(r);i.set(r,o=s.then(Ide))}return o}return fy.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(n(r.templateUrl).then(d=>{r.template=d}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let d=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((h,p)=>{a.push(""),s.push(n(h).then(m=>{a[d+p]=m,u.splice(u.indexOf(h),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(n(r.styleUrl).then(d=>{a.push(d),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>Tde(o));e.push(l)}),Sde(),Promise.all(e).then(()=>{})}var fy=new Map,Ede=new Set;function Sde(){let t=fy;return fy=new Map,t}function wde(){return fy.size===0}function Ide(t){return typeof t=="string"?t:t.text()}function Tde(t){Ede.delete(t)}function Mde(t){return Object.getPrototypeOf(t.prototype).constructor}function Pt(t){let e=Mde(t.type),i=!0,n=[t];for(;e;){let r;if(su(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new bt(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let s=t;s.inputs=$x(t.inputs),s.inputTransforms=$x(t.inputTransforms),s.declaredInputs=$x(t.declaredInputs),s.outputs=$x(t.outputs);let a=r.hostBindings;a&&kde(t,a);let l=r.viewQuery,d=r.contentQueries;if(l&&Fde(t,l),d&&Pde(t,d),Ade(t,r),moe(t.outputs,r.outputs),su(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Pt&&(i=!1)}}e=Object.getPrototypeOf(e)}Rde(n)}function Ade(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function Rde(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=Sm(r.hostAttrs,i=Sm(i,r.hostAttrs))}}function $x(t){return t===Np?{}:t===To?[]:t}function Fde(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function Pde(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,o)=>{e(n,r,o),i(n,r,o)}:t.contentQueries=e}function kde(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}var lu=class{},km=class{};var gy=class extends lu{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hy(this);let r=Jz(e);this._bootstrapComponents=ej(r.bootstrap),this._r3Injector=YW(e,i,[{provide:lu,useValue:this},{provide:Vy,useValue:this.componentFactoryResolver},...n],lo(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},my=class extends km{constructor(e){super(),this.moduleType=e}create(e){return new gy(this.moduleType,e,[])}};function Nde(t,e,i){return new gy(t,e,i)}var DI=class extends lu{constructor(e){super(),this.componentFactoryResolver=new hy(this),this.instance=null;let i=new Fm([...e.providers,{provide:lu,useValue:this},{provide:Vy,useValue:this.componentFactoryResolver}],e.parent||JI(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zy(t,e,i=null){return new DI({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var Wc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wj(t,e,i){return t[e]=i}function Lde(t,e){return t[e]}function Jp(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function Bde(t,e,i,n,r,o,s,a,l){let d=e.consts,u=Kp(e,t,4,s||null,Vp(d,a));oT(e,i,u,Vp(d,l)),Ry(e,u);let h=u.tView=nT(2,u,n,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function er(t,e,i,n,r,o,s,a){let l=Pi(),d=Zn(),u=t+ta,h=d.firstCreatePass?Bde(u,d,l,e,i,n,r,o,s):d.data[u];Hc(h,!1);let p=Vde(d,l,h,t);Oy()&&Py(d,l,p,h),au(p,l);let m=xj(p,l,p,h);return l[u]=m,Ly(l,m),hde(m,h,l),Dy(h)&&tT(d,l,h),s!=null&&iT(l,h,a),er}var Vde=Hde;function Hde(t,e,i,n){return Ey(!0),e[kn].createComment("")}function jj(t,e,i,n){return Jp(t,NI(),i)?e+EW(i)+n:oa}function Gx(t,e){return t<<17|e<<2}function Nc(t){return t>>17&32767}function zde(t){return(t&2)==2}function Wde(t,e){return t&131071|e<<17}function OI(t){return t|2}function $p(t){return(t&131068)>>2}function Mw(t,e){return t&-131069|e<<2}function jde(t){return(t&1)===1}function EI(t){return t|1}function $de(t,e,i,n,r,o){let s=o?e.classBindings:e.styleBindings,a=Nc(s),l=$p(s);t[n]=i;let d=!1,u;if(Array.isArray(i)){let h=i;u=h[1],(u===null||Vm(h,u)>0)&&(d=!0)}else u=i;if(r)if(l!==0){let p=Nc(t[a+1]);t[n+1]=Gx(p,a),p!==0&&(t[p+1]=Mw(t[p+1],n)),t[a+1]=Wde(t[a+1],n)}else t[n+1]=Gx(a,0),a!==0&&(t[a+1]=Mw(t[a+1],n)),a=n;else t[n+1]=Gx(l,0),a===0?a=n:t[l+1]=Mw(t[l+1],n),l=n;d&&(t[n+1]=OI(t[n+1])),kz(t,u,n,!0),kz(t,u,n,!1),Gde(e,u,t,n,o),s=Gx(a,l),o?e.classBindings=s:e.styleBindings=s}function Gde(t,e,i,n,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Vm(o,e)>=0&&(i[n+1]=EI(i[n+1]))}function kz(t,e,i,n){let r=t[i+1],o=e===null,s=n?Nc(r):$p(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];Ude(l,e)&&(a=!0,t[s+1]=n?EI(d):OI(d)),s=n?Nc(d):$p(d)}a&&(t[i+1]=n?OI(r):EI(r))}function Ude(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Vm(t,e)>=0:!1}var Xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kde(t){return t.substring(Xs.key,Xs.keyEnd)}function qde(t){return Jde(t),$j(t,Gj(t,0,Xs.textEnd))}function $j(t,e){let i=Xs.textEnd;return i===e?-1:(e=Xs.keyEnd=Yde(t,Xs.key=e,i),Gj(t,e,i))}function Jde(t){Xs.key=0,Xs.keyEnd=0,Xs.value=0,Xs.valueEnd=0,Xs.textEnd=t.length}function Gj(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function Yde(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function ri(t,e,i){let n=Pi(),r=NI();if(Jp(n,r,e)){let o=Zn(),s=HI();rT(o,s,n,t,e,n[kn],i,!1)}return ri}function SI(t,e,i,n,r){let o=e.inputs,s=r?"class":"style";sT(t,i,o[s],s,n)}function pT(t,e){return Qde(t,e,null,!0),pT}function Uj(t){Zde(oue,Xde,t,!0)}function Xde(t,e){for(let i=qde(e);i>=0;i=$j(e,i))WI(t,Kde(e),!0)}function Qde(t,e,i,n){let r=Pi(),o=Zn(),s=lW(2);if(o.firstUpdatePass&&qj(o,t,s,n),e!==oa&&Jp(r,s,e)){let a=o.data[zc()];Jj(o,a,r,r[kn],t,r[s+1]=aue(e,i),n,s)}}function Zde(t,e,i,n){let r=Zn(),o=lW(2);r.firstUpdatePass&&qj(r,null,o,n);let s=Pi();if(i!==oa&&Jp(s,o,i)){let a=r.data[zc()];if(Yj(a,n)&&!Kj(r,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(i=Nw(l,i||"")),SI(r,a,s,i,n)}else sue(r,a,s,s[kn],s[o+1],s[o+1]=rue(t,e,i),n,o)}}function Kj(t,e){return e>=t.expandoStartIndex}function qj(t,e,i,n){let r=t.data;if(r[i+1]===null){let o=r[zc()],s=Kj(t,i);Yj(o,n)&&e===null&&!s&&(e=!1),e=eue(r,o,e,n),$de(r,o,e,i,s,n)}}function eue(t,e,i,n){let r=ose(t),o=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=Aw(null,t,e,i,n),i=Nm(i,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(i=Aw(r,t,e,i,n),o===null){let l=tue(t,e,n);l!==void 0&&Array.isArray(l)&&(l=Aw(null,t,e,l[1],n),l=Nm(l,e.attrs,n),iue(t,e,n,l))}else o=nue(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),i}function tue(t,e,i){let n=i?e.classBindings:e.styleBindings;if($p(n)!==0)return t[Nc(n)]}function iue(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[Nc(r)]=n}function nue(t,e,i){let n,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;n=Nm(n,s,i)}return Nm(n,e.attrs,i)}function Aw(t,e,i,n,r){let o=null,s=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<s&&(o=e[a],n=Nm(n,o.hostAttrs,r),o!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function Nm(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),WI(t,s,i?!0:e[++o]))}return t===void 0?null:t}function rue(t,e,i){if(i==null||i==="")return To;let n=[],r=Fy(i);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(n,o,r[o]);else typeof r=="string"&&e(n,r);return n}function oue(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&WI(t,n,i)}function sue(t,e,i,n,r,o,s,a){r===oa&&(r=To);let l=0,d=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;u!==null||h!==null;){let p=l<r.length?r[l+1]:void 0,m=d<o.length?o[d+1]:void 0,c=null,x;u===h?(l+=2,d+=2,p!==m&&(c=h,x=m)):h===null||u!==null&&u<h?(l+=2,c=u):(d+=2,c=h,x=m),c!==null&&Jj(t,e,i,n,c,x,s,a),u=l<r.length?r[l]:null,h=d<o.length?o[d]:null}}function Jj(t,e,i,n,r,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],u=jde(d)?Nz(l,e,i,r,$p(d),s):void 0;if(!vy(u)){vy(o)||zde(d)&&(o=Nz(l,null,i,r,a,s));let h=eW(zc(),i);$ae(n,s,h,r,o)}}function Nz(t,e,i,n,r,o){let s=e===null,a;for(;r>0;){let l=t[r],d=Array.isArray(l),u=d?l[1]:l,h=u===null,p=i[r+1];p===oa&&(p=h?To:void 0);let m=h?bw(p,n):u===n?p:void 0;if(d&&!vy(m)&&(m=bw(l,n)),vy(m)&&(a=m,s))return a;let c=t[r+1];r=s?Nc(c):$p(c)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=bw(l,n))}return a}function vy(t){return t!==void 0}function aue(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lo(Fy(t)))),t}function Yj(t,e){return(t.flags&(e?8:16))!==0}function lue(t,e,i,n,r,o){let s=e.consts,a=Vp(s,r),l=Kp(e,t,2,n,a);return oT(e,i,l,Vp(s,o)),l.attrs!==null&&cy(l,l.attrs,!1),l.mergedAttrs!==null&&cy(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function mt(t,e,i,n){let r=Pi(),o=Zn(),s=ta+t,a=r[kn],l=o.firstCreatePass?lue(s,o,r,e,i,n):o.data[s],d=due(o,r,l,a,e,t);r[s]=d;let u=Dy(l);return Hc(l,!0),cj(a,d,l),(l.flags&32)!==32&&Oy()&&Py(o,r,d,l),qoe()===0&&au(d,r),Joe(),u&&(tT(o,r,l),eT(o,l,r)),n!==null&&iT(r,l),mt}function Ot(){let t=co();PI()?kI():(t=t.parent,Hc(t,!1));let e=t;Xoe(e)&&Qoe(),Yoe();let i=Zn();return i.firstCreatePass&&(Ry(i,t),AI(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&rae(e)&&SI(i,e,Pi(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&oae(e)&&SI(i,e,Pi(),e.stylesWithoutHost,!1),Ot}function si(t,e,i,n){return mt(t,e,i,n),Ot(),si}var due=(t,e,i,n,r,o)=>(Ey(!0),tj(n,r,lse()));function uue(t,e,i,n,r){let o=e.consts,s=Vp(o,n),a=Kp(e,t,8,"ng-container",s);s!==null&&cy(a,s,!0);let l=Vp(o,r);return oT(e,i,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function fT(t,e,i){let n=Pi(),r=Zn(),o=t+ta,s=r.firstCreatePass?uue(o,r,n,e,i):r.data[o];Hc(s,!0);let a=cue(r,n,s,t);return n[o]=a,Oy()&&Py(r,n,a,s),au(a,n),Dy(s)&&(tT(r,n,s),eT(r,s,n)),i!=null&&iT(n,s),fT}function gT(){let t=co(),e=Zn();return PI()?kI():(t=t.parent,Hc(t,!1)),e.firstCreatePass&&(Ry(e,t),AI(t)&&e.queries.elementEnd(t)),gT}var cue=(t,e,i,n)=>(Ey(!0),Iae(e[kn],""));function Yp(){return Pi()}var Lz={};function Xj(t,e,i){typeof e!="string"&&(i=e,e=t[_y.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Lz[e]=t,i&&(Lz[e][_y.ExtraData]=i)}var _y=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_y||{});var Cy="en-US";var hue=Cy;function pue(t){typeof t=="string"&&(hue=t.toLowerCase().replace(/_/g,"-"))}function Nn(t,e,i,n){let r=Pi(),o=Zn(),s=co();return Qj(o,r,r[kn],s,t,e,n),Nn}function fue(t,e,i,n){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===i&&r[o+1]===n){let a=e[Im],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Qj(t,e,i,n,r,o,s){let a=Dy(n),d=t.firstCreatePass&&Dj(t),u=e[Zs],h=bj(e),p=!0;if(n.type&3||s){let x=na(n,e),D=s?s(x):x,T=h.length,N=s?U=>s(Ha(U[n.index])):n.index,G=null;if(!s&&a&&(G=fue(t,e,r,n.index)),G!==null){let U=G.__ngLastListenerFn__||G;U.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,p=!1}else{o=Vz(n,e,u,o,!1);let U=i.listen(D,r,o);h.push(o,U),d&&d.push(r,N,T,T+1)}}else o=Vz(n,e,u,o,!1);let m=n.outputs,c;if(p&&m!==null&&(c=m[r])){let x=c.length;if(x)for(let D=0;D<x;D+=2){let T=c[D],N=c[D+1],re=e[T][N].subscribe(o),_=h.length;if(h.push(o,re),d){let Oe=typeof re=="function"?_+1:-(_+1);d.push(r,n.index,_,Oe)}}}}function Bz(t,e,i,n){try{return Na(6,e,i),i(n)!==!1}catch(r){return Oj(t,r),!1}finally{Na(7,e,i)}}function Vz(t,e,i,n,r){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?du(t.index,e):e;lT(a);let l=Bz(e,i,n,s),d=o.__ngNextListenerFn__;for(;d;)l=Bz(e,i,d,s)&&l,d=d.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function gr(t=1){return ase(t)}function gue(t,e){let i=null,n=woe(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){i=r;continue}if(n===null?Gz(t,o,!0):Moe(n,o))return r}return i}function tr(t){let e=Pi()[ea][Jo];if(!e.projection){let i=t?t.length:1,n=e.projection=pse(i,null),r=n.slice(),o=e.child;for(;o!==null;){let s=t?gue(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function Un(t,e=0,i){let n=Pi(),r=Zn(),o=Kp(r,ta+t,16,null,i||null);o.projection===null&&(o.projection=e),kI(),(!n[wm]||oW())&&(o.flags&32)!==32&&Wae(r,n,o)}function mT(t,e,i){return Zj(t,"",e,"",i),mT}function Zj(t,e,i,n,r){let o=Pi(),s=jj(o,e,i,n);if(s!==oa){let a=Zn(),l=HI();rT(a,l,o,t,s,o[kn],r,!1)}return Zj}function Hi(t,e,i,n){xde(t,e,i,n)}function jm(t,e,i){Cde(t,e,i)}function Di(t){let e=Pi(),i=Zn(),n=dW();LI(n+1);let r=hT(i,n);if(t.dirty&&joe(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=Dde(e,n);t.reset(o,use),t.notifyOnChanges()}return!0}return!1}function Oi(){return _de(Pi(),dW())}function e$(t){let e=ese();return Woe(e,ta+t)}function Rr(t,e=""){let i=Pi(),n=Zn(),r=t+ta,o=n.firstCreatePass?Kp(n,r,1,e,null):n.data[r],s=mue(n,i,o,e,t);i[r]=s,Oy()&&Py(n,i,s,o),Hc(o,!1)}var mue=(t,e,i,n,r)=>(Ey(!0),Sae(e[kn],n));function Ga(t){return $m("",t,""),Ga}function $m(t,e,i){let n=Pi(),r=jj(n,t,e,i);return r!==oa&&gle(n,zc(),r),$m}function jc(t,e,i){Pj(e)&&(e=e());let n=Pi(),r=NI();if(Jp(n,r,e)){let o=Zn(),s=HI();rT(o,s,n,t,e,n[kn],i,!1)}return jc}function Xp(t,e){let i=Pj(t);return i&&t.set(e),i}function $c(t,e){let i=Pi(),n=Zn(),r=co();return Qj(n,i,i[kn],r,t,e),$c}function vue(t,e,i){let n=Zn();if(n.firstCreatePass){let r=su(t);wI(i,n.data,n.blueprint,r,!0),wI(e,n.data,n.blueprint,r,!1)}}function wI(t,e,i,n,r){if(t=ao(t),Array.isArray(t))for(let o=0;o<t.length;o++)wI(t[o],e,i,n,r);else{let o=Zn(),s=Pi(),a=co(),l=Wp(t)?t:ao(t.provide),d=kW(t),u=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(Wp(t)||!t.multi){let m=new Fc(d,r,oe),c=Fw(l,e,r?u:u+p,h);c===-1?(Yw(sy(a,s),o,l),Rw(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(m),s.push(m)):(i[c]=m,s[c]=m)}else{let m=Fw(l,e,u+p,h),c=Fw(l,e,u,u+p),x=m>=0&&i[m],D=c>=0&&i[c];if(r&&!D||!r&&!x){Yw(sy(a,s),o,l);let T=xue(r?Cue:_ue,i.length,r,n,d);!r&&D&&(i[c].providerFactory=T),Rw(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(T),s.push(T)}else{let T=t$(i[r?c:m],d,!r&&n);Rw(o,t,m>-1?m:c,T)}!r&&n&&D&&i[c].componentProviders++}}}function Rw(t,e,i,n){let r=Wp(e),o=Wse(e);if(r||o){let l=(o?ao(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=d.indexOf(i);u===-1?d.push(i,[n,l]):d[u+1].push(n,l)}else d.push(i,l)}}}function t$(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function Fw(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function _ue(t,e,i,n){return II(this.multi,[])}function Cue(t,e,i,n){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Pc(i,i[hi],this.providerFactory.index,n);o=a.slice(0,s),II(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],II(r,o);return o}function II(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function xue(t,e,i,n,r){let o=new Fc(t,i,oe);return o.multi=[],o.index=e,o.componentProviders=0,t$(o,r,n&&!i),o}function oi(t,e=[]){return i=>{i.providersResolver=(n,r)=>vue(n,r?r(t):t,e)}}var yue=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=RW(!1,n.type),o=r.length>0?zy([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Qe({token:e,providedIn:"environment",factory:()=>new e(Ue(uo))});let t=e;return t})();function i$(t){Hy("NgStandalone"),t.getStandaloneInjector=e=>e.get(yue).getOrCreateStandaloneInjector(t)}function Ua(t,e,i){let n=aW()+t,r=Pi();return r[n]===oa?Wj(r,n,i?e.call(i):e()):Lde(r,n)}function Qp(t,e,i,n){return Due(Pi(),aW(),t,e,i,n)}function bue(t,e){let i=t[e];return i===oa?void 0:i}function Due(t,e,i,n,r,o){let s=e+i;return Jp(t,s,r)?Wj(t,s+1,o?n.call(o,r):n(r)):bue(t,s+1)}function n$(t,e){return By(t,e)}var Ux=null;function Oue(t){Ux!==null&&(t.defaultEncapsulation!==Ux.defaultEncapsulation||t.preserveWhitespaces!==Ux.preserveWhitespaces)||(Ux=t)}var Lc=class{constructor(e){this.full=e;let i=e.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}},r$=new Lc("17.2.3"),Wy=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var vT=new Dt(""),Gm=new Dt(""),jy=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,_T||(Eue(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(Ue(gt),Ue($y),Ue(Gm))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),$y=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return _T?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Eue(t){_T=t}var _T;function Gc(t){return!!t&&typeof t.then=="function"}function o$(t){return!!t&&typeof t.subscribe=="function"}var Gy=new Dt(""),s$=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Xe(Gy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(Gc(s))n.push(s);else if(o$(s)){let a=new Promise((l,d)=>{s.subscribe({complete:l,error:d})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uy=new Dt("");function Sue(){RH(()=>{throw new bt(600,!1)})}function wue(t){return t.isBoundToModule}function Iue(t,e,i){try{let n=i();return Gc(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function a$(t,e){return Array.isArray(e)?e.reduce(a$,t):ht(ht({},t),e)}var Uc=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xe(XW),this.afterRenderEffectManager=Xe(cT),this.componentTypes=[],this.components=[],this.isStable=Xe(Wc).hasPendingTasks.pipe(Ut(n=>!n)),this._injector=Xe(uo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof dy;if(!this._injector.get(s$).done){let m=!o&&qz(n),c=!1;throw new bt(405,c)}let a;o?a=n:a=this._injector.get(Vy).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=wue(a)?void 0:this._injector.get(lu),d=r||a.selector,u=a.create(ra.NULL,[],d,l),h=u.location.nativeElement,p=u.injector.get(vT,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Qx(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new bt(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let n=0,r=this.afterRenderEffectManager;for(;;){if(n===Tj)throw new bt(103,!1);let o=n===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!Pw(s)||this.detectChangesInView(s,a,o);if(n++,r.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Pw(s))&&(r.execute(),!this._views.some(({_lView:s})=>Pw(s))))break}}detectChangesInView(n,r,o){let s;o?(s=0,n[jt]|=1024):n[jt]&64?s=0:s=1,Mj(n,r,s)}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Qx(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Uy,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qx(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new bt(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qx(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function Pw(t){return FI(t)}var TI=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},Ky=(()=>{let e=class e{compileModuleSync(n){return new my(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Jz(n),s=ej(o.declarations).reduce((a,l)=>{let d=ru(l);return d&&a.push(new jp(d)),a},[]);return new TI(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tue=new Dt("");function Mue(t,e,i){let n=new my(i);return Promise.resolve(n)}function Hz(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Aue=(()=>{let e=class e{constructor(){this.zone=Xe(gt),this.applicationRef=Xe(Uc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rue(t){return[{provide:gt,useFactory:t},{provide:zp,multi:!0,useFactory:()=>{let e=Xe(Aue,{optional:!0});return()=>e.initialize()}},{provide:zp,multi:!0,useFactory:()=>{let e=Xe(kue);return()=>{e.initialize()}}},{provide:XW,useFactory:Fue}]}function Fue(){let t=Xe(gt),e=Xe(za);return i=>t.runOutsideAngular(()=>e.handleError(i))}function Pue(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var kue=(()=>{let e=class e{constructor(){this.subscription=new Gn,this.initialized=!1,this.zone=Xe(gt),this.pendingTasks=Xe(Wc)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{gt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{gt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nue(){return typeof $localize<"u"&&$localize.locale||Cy}var CT=new Dt("",{providedIn:"root",factory:()=>Xe(CT,_i.Optional|_i.SkipSelf)||Nue()});var l$=new Dt(""),d$=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let o=Xle(r?.ngZone,Pue({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=Nde(n.moduleType,this.injector,Rue(()=>o)),a=s.injector.get(za,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:d=>{a.handleError(d)}});s.onDestroy(()=>{Qx(this._modules,s),l.unsubscribe()})}),Iue(a,o,()=>{let l=s.injector.get(s$);return l.runInitializers(),l.donePromise.then(()=>{let d=s.injector.get(CT,Cy);return pue(d||Cy),this._moduleDoBootstrap(s),s})})})}bootstrapModule(n,r=[]){let o=a$({},r);return Mue(this.injector,o,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){let r=n.injector.get(Uc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new bt(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new bt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(l$,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(Ue(ra))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Em=null,u$=new Dt("");function Lue(t){if(Em&&!Em.get(u$,!1))throw new bt(400,!1);Sue(),Em=t;let e=t.get(d$);return Hue(t),e}function xT(t,e,i=[]){let n=`Platform: ${e}`,r=new Dt(n);return(o=[])=>{let s=c$();if(!s||s.injector.get(u$,!1)){let a=[...i,...o,{provide:r,useValue:!0}];t?t(a):Lue(Bue(a,n))}return Vue(r)}}function Bue(t=[],e){return ra.create({name:e,providers:[{provide:Ay,useValue:"platform"},{provide:l$,useValue:new Set([()=>Em=null])},...t]})}function Vue(t){let e=c$();if(!e)throw new bt(401,!1);return e}function c$(){return Em?.get(d$)??null}function Hue(t){t.get(jI,null)?.forEach(i=>i())}var h$=xT(null,"core",[]),p$=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(Ue(Uc))},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})();function f$(t){let e=ru(t);if(!e)return null;let i=new jp(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var x$=null;function Kc(){return x$}function y$(t){x$??=t}var qy=class{};var An=new Dt(""),ET=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:()=>Xe(jue),providedIn:"platform"});let t=e;return t})(),b$=new Dt(""),jue=(()=>{let e=class e extends ET{constructor(){super(),this._doc=Xe(An),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kc().getBaseHref(this._doc)}onPopState(n){let r=Kc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Kc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ST(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function g$(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function Wl(t){return t&&t[0]!=="?"?"?"+t:t}var jl=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:()=>Xe(wT),providedIn:"root"});let t=e;return t})(),D$=new Dt(""),wT=(()=>{let e=class e extends jl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Xe(An).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ST(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Wl(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+Wl(s));this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+Wl(s));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(Ue(ET),Ue(D$,8))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jy=(()=>{let e=class e extends jl{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ST(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+Wl(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+Wl(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(Ue(ET),Ue(D$,8))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),Zp=(()=>{let e=class e{constructor(n){this._subject=new Vi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Uue(g$(m$(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Wl(r))}normalize(n){return e.stripTrailingSlash(Gue(this._basePath,m$(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wl(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}};e.normalizeQueryParams=Wl,e.joinWithSlash=ST,e.stripTrailingSlash=g$,e.\u0275fac=function(r){return new(r||e)(Ue(jl))},e.\u0275prov=Qe({token:e,factory:()=>$ue(),providedIn:"root"});let t=e;return t})();function $ue(){return new Zp(Ue(jl))}function Gue(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function m$(t){return t.replace(/\/index.html$/,"")}function Uue(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}function IT(t,e,i){return Xj(t,e,i)}function Yy(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,o]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var yT=class{constructor(e,i,n,r){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},O$=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new yT(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),v$(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);v$(s,o)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(oe($a),oe(Bl),oe(Wm))},e.\u0275dir=ia({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function v$(t,e){t.context.$implicit=e.item}var ef=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new bT,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){_$("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){_$("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(oe($a),oe(Bl))},e.\u0275dir=ia({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),bT=class{constructor(){this.$implicit=null,this.ngIf=null}};function _$(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${lo(e)}'.`)}var Mo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})(),TT="browser",Kue="server";function MT(t){return t===TT}function Um(t){return t===Kue}var E$=(()=>{let e=class e{};e.\u0275prov=Qe({token:e,providedIn:"root",factory:()=>MT(Xe(ni))?new DT(Xe(An),window):new OT});let t=e;return t})(),DT=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=que(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function que(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=n.nextNode()}}return null}var OT=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},uu=class{};var qm=class{},Qy=class{},qc=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=e.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var RT=class{encodeKey(e){return S$(e)}encodeValue(e){return S$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Jue(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var Yue=/%(\d[a-f0-9])/gi,Xue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function S$(t){return encodeURIComponent(t).replace(Yue,(e,i)=>Xue[i]??e)}function Xy(t){return`${t}`}var cu=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RT,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Jue(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(Xy):[Xy(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Xy(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(Xy(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var FT=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Que(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function w$(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function I$(t){return typeof Blob<"u"&&t instanceof Blob}function T$(t){return typeof FormData<"u"&&t instanceof FormData}function Zue(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Km=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Que(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new qc,this.context??=new FT,!this.params)this.params=new cu,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:w$(this.body)||I$(this.body)||T$(this.body)||Zue(this.body)||typeof this.body=="string"?this.body:this.body instanceof cu?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||T$(this.body)?null:I$(this.body)?this.body.type||null:w$(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof cu?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),d)),new t(i,n,o,{params:d,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}},nf=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(nf||{}),Jm=class{constructor(e,i=tb.Ok,n="OK"){this.headers=e.headers||new qc,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},PT=class t extends Jm{constructor(e={}){super(e),this.type=nf.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Zy=class t extends Jm{constructor(e={}){super(e),this.type=nf.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},eb=class extends Jm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},tb=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(tb||{});function AT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ym=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Km)s=n;else{let d;o.headers instanceof qc?d=o.headers:d=new qc(o.headers);let u;o.params&&(o.params instanceof cu?u=o.params:u=new cu({fromObject:o.params})),s=new Km(n,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Ft(s).pipe(kl(d=>this.handler.handle(d)));if(n instanceof Km||o.observe==="events")return a;let l=a.pipe($r(d=>d instanceof Zy));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Ut(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(Ut(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(Ut(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(Ut(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new cu().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,AT(o,r))}post(n,r,o={}){return this.request("POST",n,AT(o,r))}put(n,r,o={}){return this.request("PUT",n,AT(o,r))}};e.\u0275fac=function(r){return new(r||e)(Ue(qm))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();function F$(t,e){return e(t)}function ece(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function tce(t,e,i){return(n,r)=>ja(i,()=>e(n,o=>t(o,r)))}var kT=new Dt(""),NT=new Dt(""),ice=new Dt(""),nce=new Dt("");function rce(){let t=null;return(e,i)=>{t===null&&(t=(Xe(kT,{optional:!0})??[]).reduceRight(ece,F$));let n=Xe(Wc),r=n.add();return t(e,i).pipe(tu(()=>n.remove(r)))}}var M$=(()=>{let e=class e extends qm{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=Xe(Wc);let o=Xe(nce,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(NT),...this.injector.get(ice,[])]));this.chain=o.reduceRight((s,a)=>tce(s,a,this.injector),F$)}let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(tu(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(Ue(Qy),Ue(uo))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();var oce=/^\)\]\}',?\n/;function sce(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var A$=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new bt(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?_n(r.\u0275loadImpl()):Ft(null)).pipe(Io(()=>new Ai(s=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((D,T)=>a.setRequestHeader(D,T.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let D=n.detectContentTypeHeader();D!==null&&a.setRequestHeader("Content-Type",D)}if(n.responseType){let D=n.responseType.toLowerCase();a.responseType=D!=="json"?D:"text"}let l=n.serializeBody(),d=null,u=()=>{if(d!==null)return d;let D=a.statusText||"OK",T=new qc(a.getAllResponseHeaders()),N=sce(a)||n.url;return d=new PT({headers:T,status:a.status,statusText:D,url:N}),d},h=()=>{let{headers:D,status:T,statusText:N,url:G}=u(),U=null;T!==tb.NoContent&&(U=typeof a.response>"u"?a.responseText:a.response),T===0&&(T=U?tb.Ok:0);let re=T>=200&&T<300;if(n.responseType==="json"&&typeof U=="string"){let _=U;U=U.replace(oce,"");try{U=U!==""?JSON.parse(U):null}catch(Oe){U=_,re&&(re=!1,U={error:Oe,text:U})}}re?(s.next(new Zy({body:U,headers:D,status:T,statusText:N,url:G||void 0})),s.complete()):s.error(new eb({error:U,headers:D,status:T,statusText:N,url:G||void 0}))},p=D=>{let{url:T}=u(),N=new eb({error:D,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});s.error(N)},m=!1,c=D=>{m||(s.next(u()),m=!0);let T={type:nf.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(T.total=D.total),n.responseType==="text"&&a.responseText&&(T.partialText=a.responseText),s.next(T)},x=D=>{let T={type:nf.UploadProgress,loaded:D.loaded};D.lengthComputable&&(T.total=D.total),s.next(T)};return a.addEventListener("load",h),a.addEventListener("error",p),a.addEventListener("timeout",p),a.addEventListener("abort",p),n.reportProgress&&(a.addEventListener("progress",c),l!==null&&a.upload&&a.upload.addEventListener("progress",x)),a.send(l),s.next({type:nf.Sent}),()=>{a.removeEventListener("error",p),a.removeEventListener("abort",p),a.removeEventListener("load",h),a.removeEventListener("timeout",p),n.reportProgress&&(a.removeEventListener("progress",c),l!==null&&a.upload&&a.upload.removeEventListener("progress",x)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(Ue(uu))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),P$=new Dt(""),ace="XSRF-TOKEN",lce=new Dt("",{providedIn:"root",factory:()=>ace}),dce="X-XSRF-TOKEN",uce=new Dt("",{providedIn:"root",factory:()=>dce}),ib=class{},cce=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yy(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(Ue(An),Ue(ni),Ue(lce))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();function hce(t,e){let i=t.url.toLowerCase();if(!Xe(P$)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=Xe(ib).getToken(),r=Xe(uce);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var k$=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(k$||{});function pce(t,e){return{\u0275kind:t,\u0275providers:e}}function fce(...t){let e=[Ym,A$,M$,{provide:qm,useExisting:M$},{provide:Qy,useExisting:A$},{provide:NT,useValue:hce,multi:!0},{provide:P$,useValue:!0},{provide:ib,useClass:cce}];for(let i of t)e.push(...i.\u0275providers);return My(e)}var R$=new Dt("");function gce(){return pce(k$.LegacyInterceptors,[{provide:R$,useFactory:rce},{provide:NT,useExisting:R$,multi:!0}])}var N$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({providers:[fce(gce())]});let t=e;return t})();var VT=class extends qy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},HT=class t extends VT{static makeCurrent(){y$(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=mce();return i==null?null:vce(i)}resetBaseElement(){Xm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yy(document.cookie,e)}},Xm=null;function mce(){return Xm=Xm||document.querySelector("base"),Xm?Xm.getAttribute("href"):null}function vce(t){return new URL(t,document.baseURI).pathname}var zT=class{addToWindow(e){Ko.getAngularTestability=(n,r=!0)=>{let o=e.findTestabilityInTree(n,r);if(o==null)throw new bt(5103,!1);return o},Ko.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ko.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=Ko.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&n()};r.forEach(a=>{a.whenStable(s)})};Ko.frameworkStabilizers||(Ko.frameworkStabilizers=[]),Ko.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?Kc().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},_ce=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),WT=new Dt(""),z$=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new bt(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(Ue(WT),Ue(gt))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),nb=class{constructor(e){this._doc=e}},LT="ng-app-id",W$=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Um(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${LT}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(LT),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(LT,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(Ue(An),Ue(Hm),Ue(zm,8),Ue(ni))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),BT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$T=/%COMP%/g,j$="%COMP%",Cce=`_nghost-${j$}`,xce=`_ngcontent-${j$}`,yce=!0,bce=new Dt("",{providedIn:"root",factory:()=>yce});function Dce(t){return xce.replace($T,t)}function Oce(t){return Cce.replace($T,t)}function $$(t,e){return e.map(i=>i.replace($T,t))}var B$=(()=>{let e=class e{constructor(n,r,o,s,a,l,d,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Um(l),this.defaultRenderer=new Qm(n,a,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ba.ShadowDom&&(r=nn(ht({},r),{encapsulation:Ba.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof rb?o.applyToHost(n):o instanceof Zm&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,d=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Ba.Emulated:s=new rb(d,u,r,this.appId,h,a,l,p);break;case Ba.ShadowDom:return new jT(d,u,n,r,a,l,this.nonce,p);default:s=new Zm(d,u,r,h,a,l,p);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(Ue(z$),Ue(W$),Ue(Hm),Ue(bce),Ue(An),Ue(ni),Ue(gt),Ue(zm))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),Qm=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(BT[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(V$(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(V$(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new bt(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let o=BT[r];o?e.setAttributeNS(o,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=BT[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Ll.DashCase|Ll.Important)?e.style.setProperty(i,n,r&Ll.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Ll.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=Kc().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function V$(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jT=class extends Qm{constructor(e,i,n,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=$$(r.id,r.styles);for(let u of d){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zm=class extends Qm{constructor(e,i,n,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?$$(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rb=class extends Zm{constructor(e,i,n,r,o,s,a,l){let d=r+"-"+n.id;super(e,i,n,o,s,a,l,d),this.contentAttr=Dce(d),this.hostAttr=Oce(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},Ece=(()=>{let e=class e extends nb{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(Ue(An))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),H$=["alt","control","meta","shift"],Sce={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wce={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ice=(()=>{let e=class e extends nb{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),H$.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=a,d}static matchEventFullKeyCode(n,r){let o=Sce[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),H$.forEach(a=>{if(a!==o){let l=wce[a];l(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(Ue(An))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();function Tce(){HT.makeCurrent()}function Mce(){return new za}function Ace(){return _W(document),document}var Rce=[{provide:ni,useValue:TT},{provide:jI,useValue:Tce,multi:!0},{provide:An,useFactory:Ace,deps:[]}],G$=xT(h$,"browser",Rce),Fce=new Dt(""),Pce=[{provide:Gm,useClass:zT,deps:[]},{provide:vT,useClass:jy,deps:[gt,$y,Gm]},{provide:jy,useClass:jy,deps:[gt,$y,Gm]}],kce=[{provide:Ay,useValue:"root"},{provide:za,useFactory:Mce,deps:[]},{provide:WT,useClass:Ece,multi:!0,deps:[An,gt,ni]},{provide:WT,useClass:Ice,multi:!0,deps:[An]},B$,W$,z$,{provide:Pm,useExisting:B$},{provide:uu,useClass:_ce,deps:[]},[]],ob=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Hm,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(Ue(Fce,12))},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({providers:[...kce,...Pce],imports:[Mo,p$]});let t=e;return t})();var U$=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(Ue(An))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K$=GI,Ji=Iy;var Nce={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},ir=function(t){if(t===null)return"null";var e=Object.prototype.toString.call(t);return typeof t=="object"?Nce[e]||"object":typeof t},hu=function(t){return typeof t=="boolean"},sb=function(t){return It(t)&&t.toString().indexOf("e")!==-1},Dn=function(t){return ir(t)==="date"},O=function(t){return t!=null},ce=function(t){return typeof t=="function"},Se=function(t){return typeof t=="string"},It=function(t){return typeof t=="number"&&isFinite(t)||!isNaN(t-parseFloat(t))},ke=function(t){return ir(t)==="object"},Zi=function(t){var e;for(e in t)return!1;return!0},Ve=function(t){if(!t||ir(t)!=="object")return!1;var e=Object.getPrototypeOf(t);if(!e)return!0;var i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof i=="function"&&Object.toString.call(i)===Object.toString.call(Object)},pu=function(t){return["object","array","function"].indexOf(ir(t))===-1},fi=function(t){return t!=null&&t===t.window},Ln=function(t){return!!t&&!!(t.jquery||t.dxRenderer)},Ka=function(t){return!!t&&ce(t.then)},rf=function(t){return!!t&&ce(t.done)&&ce(t.fail)},q$=function(t){return!!(t&&t.preventDefault)};var J$=function(t,e,i){t=t||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];(!(n in t)||i)&&(t[n]=r)}return t},y=function t(e){e=e||{};var i=1,n=!1;for(typeof e=="boolean"&&(n=e,e=arguments[1]||{},i++);i<arguments.length;i++){var r=arguments[i];if(r!=null)for(var o in r){var s=e[o],a=r[o],l=!1,d=void 0;o==="__proto__"||o==="constructor"||e===a||(n&&a&&(Ve(a)||(l=Array.isArray(a)))?(l?d=s&&Array.isArray(s)?s:[]:d=s&&Ve(s)?s:{},e[o]=t(n,d,a)):a!==void 0&&(e[o]=a))}}return e};var gi=(t,e)=>{if(Array.isArray(t))return t.map(e);var i=[];for(var n in t)i.push(e(t[n],n));return i},F=(t,e)=>{if(t){if("length"in t)for(var i=0;i<t.length&&e.call(t[i],i,t[i])!==!1;i++);else for(var n in t)if(e.call(t[n],n,t[n])===!1)break;return t}};var Lce=function(){},ab=function(t){return typeof console>"u"||!ce(console[t])?Lce:console[t].bind(console)},fu={log:ab("log"),info:ab("info"),warn:ab("warn"),error:ab("error")};var lb=function(){var t=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(t[0],"&amp;").replace(t[1],"&quot;").replace(t[2],"&#39;").replace(t[3],"&lt;").replace(t[4],"&gt;")}}(),Bce=function(t){switch(typeof t){case"string":return t.split(/\s+/,4);case"object":return[t.x||t.h||t.left,t.y||t.v||t.top,t.x||t.h||t.right,t.y||t.v||t.bottom];case"number":return[t];default:return t}},X$=function(t){var e=Bce(t),i=parseInt(e&&e[0],10),n=parseInt(e&&e[1],10),r=parseInt(e&&e[2],10),o=parseInt(e&&e[3],10);return isFinite(i)||(i=0),isFinite(n)||(n=i),isFinite(r)||(r=i),isFinite(o)||(o=n),{top:n,right:r,bottom:o,left:i}};function yr(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return ce(t)?t(...i):(i.forEach((r,o)=>{Se(r)&&(r=r.replace(/\$/g,"$$$$"));var s=new RegExp("\\{"+o+"\\}","gm");t=t.replace(s,r)}),t)}var of=function(){var t=/\s/g;return function(e){return!e||!e.replace(t,"")}}();var db="23.2.4";var Vce="https://js.devexpress.com/error/"+db.split(".").slice(0,2).join("_")+"/";function sf(t,e){var i={ERROR_MESSAGES:y(e,t),Error:function(){return s([].slice.call(arguments))},log:function(l){var d="log";/^E\d+$/.test(l)?d="error":/^W\d+$/.test(l)&&(d="warn"),fu[d](d==="log"?l:n([].slice.call(arguments)))}};function n(l){var d=l[0];return l=l.slice(1),o(d,r(d,l))}function r(l,d){return d=[i.ERROR_MESSAGES[l]].concat(d),yr.apply(this,d).replace(/\.*\s*?$/,"")}function o(l,d){var u=l!=null&&l.startsWith("W")?"warning":"error";return yr.apply(this,[`{0} - {1}.

For additional information on this {2} message, see: {3}`,l,d,u,a(l)])}function s(l){var d=l[0];l=l.slice(1);var u=r(d,l),h=a(d),p=o(d,u);return y(new Error(p),{__id:d,__details:u,url:h})}function a(l){return Vce+l}return i}var xt=sf({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2',W0019:`DevExtreme: Unable to Locate a Valid License Key.

If you are using a 30-day trial version of DevExtreme, you must uninstall all copies of DevExtreme once your 30-day trial period expires. For terms and conditions that govern use of DevExtreme UI components/libraries, please refer to the DevExtreme End User License Agreement: https://js.devexpress.com/EULAs/DevExtremeComplete.

To use DevExtreme in a commercial project, you must purchase a license. For pricing/licensing options, please visit: https://js.devexpress.com/Buy.

If you have licensing-related questions or need help with a purchase, please email clientservices@devexpress.com.

`,W0020:`DevExtreme: License Key Has Expired.

A mismatch exists between the license key used and the DevExtreme version referenced in this project.

To proceed, you can:
\u2022 use a version of DevExtreme linked to your license key: https://www.devexpress.com/ClientCenter/DownloadManager
\u2022 renew your DevExpress Subscription: https://www.devexpress.com/buy/renew (once you renew your subscription, you will be entitled to product updates and support service as defined in the DevExtreme End User License Agreement)

If you have licensing-related questions or need help with a renewal, please email clientservices@devexpress.com.

`,W0021:`DevExtreme: License Key Verification Has Failed.

To verify your DevExtreme license, make certain to specify a correct key in the GlobalConfig. If you continue to encounter this error, please visit https://www.devexpress.com/ClientCenter/DownloadManager to obtain a valid license key.

If you have a valid license and this problem persists, please submit a support ticket via the DevExpress Support Center. We will be happy to follow-up: https://supportcenter.devexpress.com/ticket/create.

`,W0022:`DevExtreme: Pre-release software. Not suitable for commercial use.

Pre-release software may contain deficiencies and as such, should not be considered for use or integrated in any mission critical application.

`});var Hce=function(t,e,i){return function(){var n=this.callBase;this.callBase=t[e];try{return i.apply(this,arguments)}finally{this.callBase=n}}},zce=function(t){var e=function(){};return e.prototype=t.prototype,new e},Wce=function(t){var e,i,n;if(!t)return this;for(i in t)n=t[i],e=typeof this.prototype[i]=="function"&&typeof n=="function",this.prototype[i]=e?Hce(this.parent.prototype,i,n):n;return this},jce=function(){var t=this,e,i,n,r=Object.prototype.hasOwnProperty.bind(t),o=!r("_includedCtors")&&!r("_includedPostCtors");for(o&&(t._includedCtors=t._includedCtors.slice(0),t._includedPostCtors=t._includedPostCtors.slice(0)),n=0;n<arguments.length;n++){e=arguments[n],e.ctor&&t._includedCtors.push(e.ctor),e.postCtor&&t._includedPostCtors.push(e.postCtor);for(i in e)i==="ctor"||i==="postCtor"||i==="default"||(t.prototype[i]=e[i])}return t},$ce=function(t){var e=Object.prototype.hasOwnProperty.bind(this)("parent"),i=!e&&this.parent;if(i){var n=Object.getPrototypeOf(this);return n===t||n.subclassOf(t)}else return this.parent===t?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(t)},Q$=function(){throw xt.Error("E0001")},Gce=function(){var t=Object.prototype.hasOwnProperty;return function(e,i){for(var n in e){if(!t.call(e,n))return;i[n]=e[n]}}}(),GT=function(){};GT.inherit=function(t){var e=function(){if(!this||fi(this)||typeof this.constructor!="function")throw xt.Error("E0003");var i=this,n=i.ctor,r=i.constructor._includedCtors,o=i.constructor._includedPostCtors,s;for(s=0;s<r.length;s++)r[s].call(i);for(n&&n.apply(i,arguments),s=0;s<o.length;s++)o[s].call(i)};return e.prototype=zce(this),Gce(this,e),e.inherit=this.inherit,e.abstract=Q$,e.redefine=Wce,e.include=jce,e.subclassOf=$ce,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(t),e};GT.abstract=Q$;var ot=GT;function On(t){var e=ot.inherit(t),i=e,n=new i(t),r={},o=function(s,a){F(s,function(l){ce(n[l])?(a||!t[l])&&(t[l]=function(){return n[l].apply(t,arguments)}):(a&&(r[l]=t[l]),t[l]=n[l])})};return o(t,!0),t.inject=function(s){i=i.inherit(s),n=new i,o(s)},t.resetInjection=function(){y(t,r),i=e,n=new e},t}function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},te.apply(this,arguments)}var Z$={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:t=>{t.trim().charAt(0)!=="{"&&(t="{"+t+"}");try{return JSON.parse(t)}catch(e){try{return JSON.parse(Uce(t))}catch{throw xt.Error("E3018",e,t)}}}},Uce=t=>t.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),Kce=["decimalSeparator","thousandsSeparator"],e2=function(){if(!arguments.length)return Z$;var t=arguments.length<=0?void 0:arguments[0];Kce.forEach(e=>{if(t[e]){var i="Now, the ".concat(e," is selected based on the specified locale.");xt.log("W0003","config",e,"19.2",i)}}),y(Z$,t)};typeof DevExpress<"u"&&DevExpress.config&&e2(DevExpress.config);var _t=e2;var qce=ot.inherit({ctor:function(t){t&&(t=String(t)),this._value=this._normalize(t||this._generate())},_normalize:function(t){for(t=t.replace(/[^a-f0-9]/gi,"").toLowerCase();t.length<32;)t+="0";return[t.substr(0,8),t.substr(8,4),t.substr(12,4),t.substr(16,4),t.substr(20,12)].join("-")},_generate:function(){for(var t="",e=0;e<32;e++)t+=Math.round(15*Math.random()).toString(16);return t},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),kt=qce;var $l=function(t){this._options=t||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};$l.prototype._fireCore=function(t,e){var i=this._firingIndexes,n=this._list,r=this._options.stopOnFalse,o=i.length;for(i[o]=0;i[o]<n.length;i[o]++){var s=n[i[o]].apply(t,e);if(s===!1&&r)break}i.pop()};$l.prototype.add=function(t){return typeof t=="function"&&(!this._options.unique||!this.has(t))&&this._list.push(t),this};$l.prototype.remove=function(t){var e=this._list,i=this._firingIndexes,n=e.indexOf(t);if(n>-1&&(e.splice(n,1),this._firing&&i.length))for(var r=0;r<i.length;r++)n<=i[r]&&i[r]--;return this};$l.prototype.has=function(t){var e=this._list;return t?e.indexOf(t)>-1:!!e.length};$l.prototype.empty=function(t){return this._list=[],this};$l.prototype.fireWith=function(t,e){var i=this._queue;if(e=e||[],e=e.slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(t,e);else{if(i.push([t,e]),this._firing)return;for(this._firing=!0;i.length;){var n=i.shift();this._fireCore(n[0],n[1])}}return this._firing=!1,this._fired=!0,this};$l.prototype.fire=function(){this.fireWith(this,arguments)};$l.prototype.fired=function(){return this._fired};var Jce=function(t){return new $l(t)},vt=Jce;var t2=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],af=function(){var t=this;this._state="pending",this._promise={},t2.forEach((function(e){var i=e.method;this[i+"Callbacks"]=vt(),this[i]=(function(){return this[i+"With"](this._promise,arguments)}).bind(this),this._promise[e.handler]=function(n){if(!n)return this;var r=t[i+"Callbacks"];return r.fired()?n.apply(t[i+"Context"],t[i+"Args"]):r.add((function(o,s){n.apply(o,s)}).bind(this)),this}}).bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,i){var n=new af;return["done","fail"].forEach((function(r){var o=r==="done"?e:i;this[r](function(){if(!o){n[r==="done"?"resolve":"reject"].apply(this,arguments);return}var s=o&&o.apply(this,arguments);rf(s)?s.done(n.resolve).fail(n.reject):Ka(s)?s.then(n.resolve,n.reject):n.resolve.apply(this,O(s)?[s]:arguments)})}).bind(this)),n.promise()},this._promise.state=function(){return t._state},this._promise.promise=function(e){return e?y(e,t._promise):t._promise},this._promise.promise(this)};t2.forEach(function(t){var e=t.method,i=t.state;af.prototype[e+"With"]=function(n,r){var o=this[e+"Callbacks"];return this.state()==="pending"&&(this[e+"Args"]=r,this[e+"Context"]=n,i&&(this._state=i),o.fire(n,r)),this}});function rn(t,e){if(rf(t))return t;if(Ka(t)){var i=new af;return t.then(function(){i.resolveWith.apply(i,[e].concat([[].slice.call(arguments)]))},function(){i.rejectWith.apply(i,[e].concat([[].slice.call(arguments)]))}),i}return new af().resolveWith(e,[t])}var Yce=function(){if(arguments.length===1)return rn(arguments[0]);for(var t=[].slice.call(arguments),e=[],i=0,n=new af,r=function(s){return function(a){e[s]=this,t[s]=arguments.length>1?[].slice.call(arguments):a,i++,i===t.length&&n.resolveWith(e,t)}},o=0;o<t.length;o++)rf(t[o])?t[o].promise().done(r(o)).fail(n.reject):i++;return i===t.length&&n.resolveWith(e,t),n.promise()};function H(){return new af}function ye(){return Yce.apply(this,arguments)}var En=On({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(t){return t},unwrap:function(t){return t},assign:function(){fu.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});var ev=function(t,e){var i=[],n,r;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.push(n);for(i.sort(function(o,s){var a=It(o),l=It(s);return a&&l?o-s:a&&!l?-1:!a&&l?1:o<s?-1:o>s?1:0}),r=0;r<i.length;r++)n=i[r],e(n,t[n])},Xce=function(t,e,i,n){!n&&En.isWrapped(t[e])?En.assign(t[e],i):t[e]=i},Gr=function t(e,i,n,r){var o,s;for(var a in i)if(o=e[a],s=i[a],!(a==="__proto__"||a==="constructor"||e===s)){if(Ve(s)){var l=n?ke(o):Ve(o);s=t(l?o:{},s,n,r)}s!==void 0&&o!==s&&Xce(e,a,s,r)}return e};var Qce=En.unwrap,n2=En.isWrapped,Zce=En.assign,ehe=function(t){return t.replace(/\[/g,".").replace(/\]/g,"")},ps=function(t){return ehe(t).split(".")},the=function(t,e,i){return i=i||{},tv(e==="this"?t:t[e],i)},r2=function(t,e,i,n){if(e==="this")throw new xt.Error("E4016");var r=t[e];n.unwrapObservables&&n2(r)?Zce(r,i):t[e]=i},o2=function(t){return t=t||{},t.unwrapObservables=t.unwrapObservables!==void 0?t.unwrapObservables:!0,t};function tv(t,e){return e.unwrapObservables?Qce(t):t}var Tt=function(t){if(arguments.length>1&&(t=[].slice.call(arguments)),!t||t==="this")return function(i){return i};if(typeof t=="string"){var e=ps(t);return function(i,n){n=o2(n);for(var r=n.functionsAsIs,o=("defaultValue"in n),s=tv(i,n),a=0;a<e.length;a++){if(!s){if(s==null&&o)return n.defaultValue;break}var l=e[a];if(o&&ke(s)&&!(l in s))return n.defaultValue;var d=tv(s[l],n);!r&&ce(d)&&(d=d.call(s)),s=d}return s}}if(Array.isArray(t))return ihe(t);if(ce(t))return t};function ihe(t){for(var e={},i=0,n=t.length;i<n;i++){var r=t[i];e[r]=Tt(r)}return function(o,s){var a;return F(e,function(l){var d=this(o,s);if(d!==void 0){for(var u=a||(a={}),h=l.split("."),p=h.length-1,m=0;m<p;m++){var c=h[m];c in u||(u[c]={}),u=u[c]}u[h[p]]=d}}),a}}var i2=function(t,e,i,n){if(O(i))return i;var r={};return r2(t,e,r,n),r},lf=function(t){t=ps(t||"this");var e=t.length-1;return function(i,n,r){r=o2(r);var o=tv(i,r);t.forEach(function(s,a){var l=the(o,s,r),d=!r.functionsAsIs&&ce(l)&&!n2(l);a===e?r.merge&&Ve(n)&&(!O(l)||Ve(l))?(l=i2(o,s,l,r),Gr(l,n,!1,!0)):d?o[s](n):r2(o,s,n,r):(l=i2(o,s,l,r),d&&(l=l.call(o)),o=l)})}},Cn=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t instanceof Date)return t.getTime();if(t&&t instanceof ot&&t.valueOf)return t.valueOf();if(!e&&typeof t=="string"){var n;if((i==null||(n=i.collatorOptions)===null||n===void 0?void 0:n.sensitivity)==="base"){var r=/[\u0300-\u036f]/g;t=t.normalize("NFD").replace(r,"")}return i!=null&&i.locale?t.toLocaleLowerCase(i.locale):t.toLowerCase()}return t};var Qt=function(t,e){return O(t)?t:e},uf=function(t,e){var i=new H,n=e||this,r={promise:i.promise(),abort:function(){clearTimeout(s),i.rejectWith(n)}},o=function(){var a=t.call(n);a&&a.done&&ce(a.done)?a.done(function(){i.resolveWith(n)}):i.resolveWith(n)},s=(arguments[2]||setTimeout)(o,typeof e=="number"?e:0);return r},UT=[],s2=[],iv=[],df,ub=function(t,e,i){if(df&&df!==t)return UT.push(e),s2.push(t),i=i||new H,iv.push(i),i;var n=df,r=iv.length;df=t;var o=e();return o||(iv.length>r?o=ye.apply(this,iv.slice(r)):i&&i.resolve()),df=n,i&&o&&o.done&&o.done(i.resolve).fail(i.reject),!df&&UT.length&&(s2.shift()==="render"?zi:Kn)(UT.shift(),iv.shift()),o||ye()},zi=function(t,e){return ub("render",t,e)},Kn=function(t,e){return ub("update",t,e)},qa=function(t){return function(){var e=this;return ub("render",function(){return t.call(e)})}},KT=function(t){return function(){var e=this;return ub("update",function(){return t.call(e)})}},cb=function(t,e,i){var n=[],r=0;return F(e,(o,s)=>{var a=0,l=i?i(s):s;F(t,(d,u)=>{var h=l[d];if(h!==void 0){if(nhe(h,u)){a++;return}return a=-1,!1}}),!(a<r)&&(a>r&&(n.length=0,r=a),n.push(s))}),n},nhe=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){var i=!1;return F(t,(n,r)=>{if(r!==e[n])return i=!0,!1}),!i}return t===e},Ja=function(t){var e,i;switch(ir(t)){case"string":return t.split(/\s+/,2);case"object":return[(e=t.x)!==null&&e!==void 0?e:t.h,(i=t.y)!==null&&i!==void 0?i:t.v];case"number":return[t];case"array":return t;default:return null}};var cf=function(t,e){var i=Ja(t),n=e?parseFloat(i&&i[0]):parseInt(i&&i[0],10),r=e?parseFloat(i&&i[1]):parseInt(i&&i[1],10);return isFinite(n)||(n=0),isFinite(r)||(r=n),{h:n,v:r}},Ur=function(t){if(t instanceof kt)return t.toString();if(ke(t)||Array.isArray(t))try{var e=JSON.stringify(t);return e==="{}"?t:e}catch{return t}return t},fs=function(t){return t.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},l2=function(t){var e=_t().serverDecimalSeparator;return O(t)&&(t=t.toString().replace(".",e)),t},W=function(){},hb=function(){return new H().resolve().promise()},Sn=function(t,e,i){for(var n=[],r,o=!i,s=0;s<t.length;s++)r=!!e(t[s],s),r===o&&n.push(t[s]);return n},rhe=(t,e,i,n)=>t.length!==e.length?!1:!t.some((r,o)=>!qT(r,e[o],i+1,te({},n,{strict:!0}))),ohe=(t,e,i,n)=>{var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;var s=new Set(o);return!r.some(a=>!s.has(a)||!qT(t[a],e[a],i+1,n))},a2={maxDepth:3,strict:!0},qT=(t,e,i,n)=>{var{strict:r,maxDepth:o}=n,s=Cn(t,!0),a=Cn(e,!0),l=r?s===a:s==a;switch(!0){case l:case i>=o:return!0;case(ke(s)&&ke(a)):return ohe(s,a,i,n);case(Array.isArray(s)&&Array.isArray(a)):return rhe(s,a,i,n);default:return!1}},Rt=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a2,n=te({},a2,i);return qT(t,e,0,n)};var JT="dx-",pb=null;function d2(t){try{return new CSSStyleSheet}catch{var e=t.ownerDocument.createElement("style");return t.appendChild(e),e.sheet}}function u2(t,e,i){for(var n=0;n<e.length;n++){var r=e[n];try{for(var o=0;o<r.cssRules.length;o++)she(t,r.cssRules[o],i)}catch{}}}function she(t,e,i){var n,r,o,s,a,l,d=i||((n=e.selectorText)===null||n===void 0?void 0:n.includes(JT))||((r=e.cssRules)===null||r===void 0||(o=r[0])===null||o===void 0||(s=o.selectorText)===null||s===void 0?void 0:s.includes(JT))||((a=e.name)===null||a===void 0?void 0:a.startsWith(JT))||((l=e.style)===null||l===void 0?void 0:l.fontFamily)==="DXIcons";d&&t.insertRule(e.cssText,t.cssRules.length)}function c2(t){var e,i=t.get(0),n=(e=i.getRootNode)===null||e===void 0?void 0:e.call(i);if(n!=null&&n.host){pb||(pb=d2(n),u2(pb,i.ownerDocument.styleSheets,!1));var r=d2(n);u2(r,n.styleSheets,!0),n.adoptedStyleSheets=[pb,r]}}function ahe(t,e,i){var n=t.getBoundingClientRect();return n&&e>=n.left&&e<n.right&&i>=n.top&&i<n.bottom}function lhe(){var t=0,e=[];return{push(i){return e.push(i),this},shift(){return t++,e[t-1]},get length(){return e.length-t},get items(){return e}}}function h2(t,e,i){for(var n=lhe().push(i);n.length;)for(var r=n.shift(),o=0;o<r.childNodes.length;o++){var s=r.childNodes[o];s.nodeType===Node.ELEMENT_NODE&&ahe(s,t,e)&&getComputedStyle(s).pointerEvents!=="none"&&n.push(s)}var a=n.items.reverse();return a.pop(),a}var dhe=1,uhe=3,che=9,hhe=11,phe={querySelectorAll:(t,e)=>t.querySelectorAll(e),elementMatches(t,e){var i=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||(n=>{var r=t.document||t.ownerDocument;if(!r)return!1;for(var o=this.querySelectorAll(r,n),s=0;s<o.length;s++)if(o[s]===t)return!0});return i.call(t,e)},createElement(t,e){return e=e||this._document,e.createElement(t)},createElementNS(t,e,i){return i=i||this._document,i.createElementNS(t,e)},createTextNode(t,e){return e=e||this._document,e.createTextNode(t)},createAttribute(t,e){return e=e||this._document,e.createAttribute(t)},isNode:t=>t&&typeof t=="object"&&"nodeType"in t&&"nodeName"in t,isElementNode:t=>t&&t.nodeType===dhe,isTextNode:t=>t&&t.nodeType===uhe,isDocument:t=>t&&t.nodeType===che,isDocumentFragment:t=>t&&t.nodeType===hhe,removeElement(t){var e=t&&t.parentNode;e&&e.removeChild(t)},insertElement(t,e,i){t&&e&&t!==e&&(i?t.insertBefore(e,i):t.appendChild(e))},getAttribute:(t,e)=>t.getAttribute(e),setAttribute(t,e,i){e==="style"?t.style.cssText=i:t.setAttribute(e,i)},removeAttribute(t,e){t.removeAttribute(e)},setProperty(t,e,i){t[e]=i},setText(t,e){t&&(t.textContent=e)},setClass(t,e,i){t.nodeType===1&&e&&(i?t.classList.add(e):t.classList.remove(e))},setStyle(t,e,i){t.style[e]=i||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(t){var e=this.getRootNode(t);return e.activeElement},getRootNode(t){var e,i;return(e=t==null||(i=t.getRootNode)===null||i===void 0?void 0:i.call(t))!==null&&e!==void 0?e:this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(t){return t in this._document},listen(t,e,i,n){return!t||!("addEventListener"in t)?W:(t.addEventListener(e,i,n),()=>{t.removeEventListener(e,i)})},elementsFromPoint(t,e,i){var n=this.getRootNode(i);return n.host?h2(t,e,n):n.elementsFromPoint(t,e)}},ie=On(phe);var fhe=typeof window<"u",Ne=()=>fhe,Jc=Ne()?window:void 0;Jc||(Jc={},Jc.window=Jc);var Le=()=>Jc;var YT=t=>Ne()&&t in Jc,nv=t=>t<768?"xs":t<992?"sm":t<1200?"md":"lg",fb=t=>{var e=t||nv,i=ie.getDocumentElement().clientWidth;return e(i)},Gl=()=>Ne()?Jc.navigator:{userAgent:""};var gb=Le(),ghe=["auto","none","inherit","initial"],XT=function(t,e){var i=0;return e.forEach(function(n){i+=parseFloat(t[n])||0}),i},g2=function(t,e){var i=t==="width"?"Left":"Top",n=t==="width"?"Right":"Bottom";return{padding:XT(e,["padding"+i,"padding"+n]),border:XT(e,["border"+i+"Width","border"+n+"Width"]),margin:XT(e,["margin"+i,"margin"+n])}},m2=function(t){var e,i=(t==null||(e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||gb;return i.getComputedStyle&&i.getComputedStyle(t)},QT=function(t,e,i,n){var r;return e?.[i]||((r=t.style)===null||r===void 0?void 0:r[i])||n},hf={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},p2={width:["left","right"],height:["top","bottom"]};function rv(t,e,i,n){var r=(s,a,l)=>parseFloat(QT(s,a,l,"0"))||0,o=i==="border"?"-width":"";return r(t,n,"".concat(i,"-").concat(p2[e][0]).concat(o))+r(t,n,"".concat(i,"-").concat(p2[e][1]).concat(o))}var mhe=function(t,e,i){var n=e==="width"?"offsetWidth":"offsetHeight",r=m2(t),o=QT(t,r,e);(o===""||o==="auto")&&(o=t[n]),o=parseFloat(o)||0;var s=QT(t,r,"boxSizing","content-box"),a=i||s,l=hf[a],d=hf[s];if(l===void 0||d===void 0)throw new Error;if(d===l)return o;var u=Math.sign(l-d),h=!1,p=!1,m=!1,c=!1;u===1&&(l+=1,d+=1);for(var x=d;x!==l;x+=u)switch(x){case hf.content:break;case hf.padding:h=u*rv(t,e,"padding",r);break;case hf.border:p=u*rv(t,e,"border",r);break;case hf.margin:m=u*rv(t,e,"margin",r)}if(h||p){var D=(h===!1?u*rv(t,e,"padding",r):h)+(p===!1?u*rv(t,e,"border",r):p);c=u*Math.max(0,Math.floor(t[n]-o-u*D))||0}return o+m+h+p+c},vhe=function(t){return fi(t)?t.innerHeight:t.offsetHeight},_he=function(t,e,i){return t.indexOf("px")>0?t=parseInt(t.replace("px","")):t.indexOf("%")>0?t=parseInt(t.replace("%",""))*vhe(e)/100:isNaN(t)?t.indexOf("vh")>0?t=gb.innerHeight/100*parseInt(t.replace("vh","")):i&&t.indexOf("em")>0&&(t=parseFloat(t.replace("em",""))*parseFloat(gb.getComputedStyle(i).fontSize)):t=parseInt(t),t},v2=function(t,e,i){if(!t)return null;if(ghe.indexOf(t)>-1)return e?null:t;if(Se(t)&&(t=_he(t,i)),It(t))return Math.max(0,t+e);var n=e<0?" - ":" ";return"calc("+t+n+Math.abs(e)+"px)"},_2=function(t,e,i){var n=v2(t,e,i);return n!==null?n:"none"},C2=function(t,e,i){var n=v2(t,e,i);return n!==null?n:0},mb=function(t,e){if(!t)return 0;var i=g2("height",gb.getComputedStyle(t));return i.padding+i.border+(e?i.margin:0)},ZT=function(t){if(t){var e=t.getBoundingClientRect();if(e.height)return e.height}return 0},Ya={getWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("width",...e)},setWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("width",...e)},getHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("height",...e)},setHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("height",...e)},getOuterWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("outerWidth",...e)},setOuterWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("outerWidth",...e)},getOuterHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("outerHeight",...e)},setOuterHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("outerHeight",...e)},getInnerWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("innerWidth",...e)},setInnerWidth:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("innerWidth",...e)},getInnerHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("innerHeight",...e)},setInnerHeight:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return gs("innerHeight",...e)}};function gs(t,e,i){return arguments.length===2?f2(e,t):f2(e,t,i)}var Ae=t=>Ya.getWidth(t),Ao=(t,e)=>Ya.setWidth(t,e),je=t=>Ya.getHeight(t),nr=(t,e)=>Ya.setHeight(t,e),it=(t,e)=>Ya.getOuterWidth(t,e||!1),eM=(t,e)=>Ya.setOuterWidth(t,e),et=(t,e)=>Ya.getOuterHeight(t,e||!1),tM=(t,e)=>Ya.setOuterHeight(t,e),pf=t=>Ya.getInnerWidth(t);var Yc=t=>Ya.getInnerHeight(t);var f2=function t(e,i,n){var r=i.toLowerCase().indexOf("width")>=0?"Width":"Height",o=r.toLowerCase(),s=i.indexOf("outer")===0,a=i.indexOf("inner")===0,l=arguments.length===2||typeof n=="boolean";if(Ln(e)){if(e.length>1&&!l){for(var d=0;d<e.length;d++)t(e[d],i,n);return}e=e[0]}if(e){if(fi(e))return s?e["inner"+r]:ie.getDocumentElement()["client"+r];if(ie.isDocument(e)){var u=ie.getDocumentElement(),h=ie.getBody();return Math.max(h["scroll"+r],h["offset"+r],u["scroll"+r],u["offset"+r],u["client"+r])}if(l){var p="content";return s&&(p=n?"margin":"border"),a&&(p="padding"),mhe(e,o,p)}if(It(n)){var m=m2(e),c=g2(o,m),x=m.boxSizing==="border-box";n=Number(n),s?n-=x?0:c.border+c.padding:a?n+=x?c.border:-c.padding:x&&(n+=c.border+c.padding)}return n+=It(n)?"px":"",ie.setStyle(e,o,n),null}},iM=t=>fi(t)?t:t.defaultView,ff=t=>{if(!t.getClientRects().length)return{top:0,left:0};var e=t.getBoundingClientRect(),i=iM(t.ownerDocument),n=t.ownerDocument.documentElement;return{top:e.top+i.pageYOffset-n.clientTop,left:e.left+i.pageXOffset-n.clientLeft}};var gu=class{constructor(){this.memory=[],this.callbacks=vt()}add(e){F(this.memory,(i,n)=>e.apply(e,n)),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.memory.push(i),this.callbacks.fire.apply(this.callbacks,i)}};var ov=new gu;var Che=["pageX","pageY","screenX","screenY","clientX","clientY"],xhe=function(t,e){if(e[t]&&!e.touches||!e.touches)return e[t];var i=e.touches.length?e.touches:e.changedTouches;if(i.length)return i[0][t]};function x2(t){Che.forEach(function(e){t(e,function(i){return xhe(e,i)})},this)}var yhe=function(t){var e,i=function(){return e=t.apply(this,arguments),i=function(){return e},e};return function(){return i.apply(this,arguments)}},Kr=yhe;var oM=Le(),vb="dxEmptyEventType",y2={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},bhe={focusin:"focus",focusout:"blur"},Dhe=["blur","focus","load"],E2=["touchmove","wheel","mousewheel","touchstart"],Ohe=["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"];function Ehe(t,e){return!fi(t)&&t.nodeName!=="#document"&&ie.elementMatches(t,e)}var nM=new WeakMap,S2=0,_b,mu=function(){var t={};return ov.add(function(e,i){t[e]=i}),{getField:function(e,i){return t[e]&&t[e][i]},callMethod:function(e,i,n,r){return t[e]&&t[e][i]&&t[e][i].apply(n,r)}}}(),wn=On({on:sv(rM(O2(function(t,e,i,n,r){var o=gf(t,e);o.addHandler(r,i,n)}))),one:sv(rM(function(t,e,i,n,r){wn.on(t,e,i,n,function o(){wn.off(t,e,i,o),r.apply(this,arguments)})})),off:sv(Ihe(O2(function(t,e,i,n){var r=gf(t,e);r.removeHandler(n,i)}))),trigger:sv(D2(function(t,e,i){var n=e.type,r=gf(t,e.type);mu.callMethod(n,"trigger",t,[e,i]),r.callHandlers(e,i);var o=mu.getField(n,"noBubble")||e.isPropagationStopped()||Dhe.indexOf(n)!==-1;if(!o){var s=[];(function d(u){var h,p=(h=u.parentNode)!==null&&h!==void 0?h:ke(u.host)?u.host:null;p&&(s.push(p),d(p))})(t),s.push(oM);for(var a=0;s[a]&&!e.isPropagationStopped();){var l=gf(s[a],e.type);l.callHandlers(y(e,{currentTarget:s[a]}),i),a++}}(t.nodeType||fi(t))&&(mu.callMethod(n,"_default",t,[e,i]),Mhe(n,t))})),triggerHandler:sv(D2(function(t,e,i){var n=gf(t,e.type);n.callHandlers(e,i)}))});function sM(t,e){var i=t[0];if(i)if(ie.isNode(i)||fi(i))e.apply(wn,t);else if(!Se(i)&&"length"in i){var n=Array.prototype.slice.call(t,0);Array.prototype.forEach.call(i,function(r){n[0]=r,sM(n,e)})}else throw xt.Error("E0025")}function sv(t){return function(){sM(arguments,t)}}function She(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});oM.addEventListener("test",null,e)}catch{}return t}var w2=Kr(She),I2=(t,e)=>fi(t)?I2(t.document,e):t.contains?t.contains(e):!!(e.compareDocumentPosition(t)&e.DOCUMENT_POSITION_CONTAINS);function gf(t,e){var i=nM.get(t);e=e||"";var n=e.split("."),r=n.slice(1),o=!!n[0];e=n[0]||vb,i||(i={},nM.set(t,i)),i[e]||(i[e]={handleObjects:[],nativeHandler:null});var s=i[e];return{addHandler:function(a,l,d){var u=function(x,D){var T=[x],N=x.currentTarget,G=x.relatedTarget,U,re;e in y2&&(U=G&&N&&(G===N||I2(N,G))),D!==void 0&&T.push(D),mu.callMethod(e,"handle",t,[x,d]),U||(re=a.apply(N,T)),re===!1&&(x.preventDefault(),x.stopPropagation())},h={handler:a,wrappedHandler:function(x,D){if(!(_b&&x.type===_b))if(x.data=d,x.delegateTarget=t,l)for(var T=x.target;T&&T!==t;)Ehe(T,l)&&(x.currentTarget=T,u(x,D)),T=T.parentNode;else x.currentTarget=x.delegateTarget||x.target,u(x,D)},selector:l,type:e,data:d,namespace:r.join("."),namespaces:r,guid:++S2};s.handleObjects.push(h);var p=s.handleObjects.length===1,m=p&&o,c;m&&(m=!mu.callMethod(e,"setup",t,[d,r,a])),m&&(s.nativeHandler=whe(e),w2()&&E2.indexOf(e)>-1&&(c={passive:!1}),s.removeListener=ie.listen(t,y2[e]||e,s.nativeHandler,c)),mu.callMethod(e,"add",t,[h])},removeHandler:function(a,l){var d=function(p){var m=i[p];if(!m.handleObjects.length){delete i[p];return}var c;m.handleObjects=m.handleObjects.filter(function(T){var N=r.length&&!b2(T.namespaces,r)||a&&T.handler!==a||l&&T.selector!==l;return N||(c=T.handler,mu.callMethod(p,"remove",t,[T])),N});var x=!m.handleObjects.length,D=x&&p!==vb;D&&(mu.callMethod(p,"teardown",t,[r,c]),m.nativeHandler&&m.removeListener(),delete i[p])};if(o)d(e);else for(var u in i)d(u);var h=Object.keys(i).length===0;h&&nM.delete(t)},callHandlers:function(a,l){var d=!1,u=function(h){d||(!r.length||b2(h.namespaces,r))&&(h.wrappedHandler(a,l),d=a.isImmediatePropagationStopped())};s.handleObjects.forEach(u),r.length&&i[vb]&&i[vb].handleObjects.forEach(u)}}}function whe(t){return function(e,i){var n=gf(this,t);e=wn.Event(e),n.callHandlers(e,i)}}function b2(t,e){for(var i=0;i<e.length;i++)if(t.indexOf(e[i])<0)return!1;return!0}function rM(t){return function(e,i,n,r,o){o||(o=r,r=void 0),typeof n!="string"&&(r=n,n=void 0),!o&&typeof i=="string"&&(o=r||n,n=void 0,r=void 0),t(e,i,n,r,o)}}function Ihe(t){return function(e,i,n,r){typeof n=="function"&&(r=n,n=void 0),t(e,i,n,r)}}function D2(t){return function(e,i,n){typeof i=="string"&&(i={type:i}),i.target||(i.target=e),i.currentTarget=e,i.delegateTarget||(i.delegateTarget=e),!i.type&&i.originalEvent&&(i.type=i.originalEvent.type),t(e,i instanceof wn.Event?i:wn.Event(i),n)}}function The(t){return wn.Event=function(e,i){if(!(this instanceof wn.Event))return new wn.Event(e,i);e||(e={}),typeof e=="string"&&(e={type:e}),i||(i={}),t.call(this,e,i)},te(wn.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),wn.Event}function O2(t){var e=function(i,n){if(n&&n.indexOf(" ")>-1){var r=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(o){r[1]=o,t.apply(this,r)})}else t.apply(this,arguments)};return function(i,n){if(typeof n=="object"){var r=Array.prototype.slice.call(arguments,0);for(var o in n)r[1]=o,r[r.length-1]=n[o],e.apply(this,r)}else e.apply(this,arguments)}}function Mhe(t,e){var i=bhe[t]||t;(function(n,r){return n==="click"&&r.localName==="a"})(t,e)||ce(e[i])&&(_b=t,e[i](),_b=void 0)}function Ahe(t){return function(e){return e.which==null&&e.type.indexOf("key")===0}(t)?t.charCode!=null?t.charCode:t.keyCode:function(e){return!e.which&&e.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(t)?{1:1,2:3,3:1,4:2}[t.button]:t.which}function T2(t){t&&(wn.Event=t,wn.Event.prototype=t.prototype)}T2(The(function(t,e){var i,n=t instanceof wn.Event||Ne()&&t instanceof oM.Event||((i=t.view)===null||i===void 0?void 0:i.Event)&&t instanceof t.view.Event;n?(this.originalEvent=t,this.type=t.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(t,"isTrusted")&&(this.isTrusted=t.isTrusted),this.timeStamp=t.timeStamp||Date.now()):te(this,t),aM("which",Ahe,this),t.type.indexOf("touch")===0&&(delete e.pageX,delete e.pageY),te(this,e),this.guid=++S2}));function aM(t,e,i){Object.defineProperty(i||wn.Event.prototype,t,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&e(this.originalEvent)},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})}Ohe.forEach(t=>aM(t,e=>e[t]));x2(aM);var M2=vt(),A2=vt();wn.set=function(t){M2.fire(),wn.inject(t),T2(t.Event),A2.fire()};wn.subscribeGlobal=function(){sM(arguments,rM(function(){var t=arguments;wn.on.apply(this,t),M2.add(function(){var e=Array.prototype.slice.call(t,0);e.splice(3,1),wn.off.apply(this,e)}),A2.add(function(){wn.on.apply(this,t)})}))};wn.forcePassiveFalseEventNames=E2;wn.passiveEventHandlersSupported=w2;var S=wn;var av=new WeakMap,Xc,Rhe=new gu,R2=function(){},Fhe=function(){},Phe=function(t){Rhe.fire(t),Xc=t;var e=Xc.cleanData;Xc.cleanData=function(i){R2(i);var n=e.call(this,i);return Fhe(i),n}};Phe({data:function(){var t=arguments[0],e=arguments[1],i=arguments[2];if(t){var n=av.get(t);return n||(n={},av.set(t,n)),e===void 0?n:arguments.length===2?n[e]:(n[e]=i,i)}},removeData:function(t,e){if(t)if(e===void 0)av.delete(t);else{var i=av.get(t);i&&delete i[e]}},cleanData:function(t){for(var e=0;e<t.length;e++)S.off(t[e]),av.delete(t[e])}});function ui(){return Xc.data.apply(this,arguments)}function F2(t){R2=t}function vu(t,e){return Xc.removeData.call(this,t,e)}function _u(t,e){if(ie.isElementNode(t)){var i=t.getElementsByTagName("*");Xc.cleanData(i),e&&Xc.cleanData([t])}}var P2=function(t){return t==null?"":String(t)},lM=function(t){return P2(t).charAt(0).toUpperCase()+t.substr(1)},dM=function(t){return P2(t).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},lv=function(t){return gi(dM(t),function(e){return e.toLowerCase()}).join("-")};var ho=function(t,e){return gi(dM(t),function(i,n){return i=i.toLowerCase(),(e||n>0)&&(i=lM(i)),i}).join("")},k2=function(t){return lM(lv(t).replace(/-/g," "))},Cu=function(t){return gi(dM(t),function(e){return lM(e.toLowerCase())}).join(" ")},khe=["0","1","2","3","4","5","6","7","8","9"],ms=function(t){var e=[],i,n,r=!1,o=!1;for(i=0;i<t.length;i++)n=t.charAt(i),o=n===n.toUpperCase()&&n!=="-"&&n!==")"&&n!=="/"||n in khe,n==="_"||n==="."?(n=" ",o=!0):i===0?(n=n.toUpperCase(),o=!0):!r&&o&&e.length>0&&e.push(" "),e.push(n),r=o;return e.join("")};var Cb=["","Webkit","Moz","O","Ms"],Nhe={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},uM=Kr(function(){return ie.createElement("dx").style}),Lhe=function(t,e){t=ho(t,!0);for(var i,n=0,r=Cb.length;n<r;n++){var o=Cb[n],s=o+t,a=ho(s);if(i=e(a,o),i===void 0&&(i=e(s,o)),i!==void 0)break}return i||""},sa=function(t){if(t in uM())return t;var e=t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var i=1;i<Cb.length;i++){var n=Cb[i].toLowerCase()+t;if(n in uM())return n}return e},mf=function(t){return Lhe(t,function(e,i){if(e in uM())return Nhe[i]})},Bhe=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"];var Xa=function(t,e){return It(e)&&Bhe.indexOf(t)===-1&&(e+="px"),e},N2=function(t,e,i){if(t){i=It(i)?i+="px":i;for(var n=0;n<t.length;++n)t[n].style[e]=i}},dv=function(t,e){N2(t,"width",e)},xb=function(t,e){N2(t,"height",e)},yb=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(i){var n=[].slice.call(t.style);n.forEach(r=>{t.style.removeProperty(r)})}e.split(";").forEach(r=>{var o=r.split(":").map(l=>l.trim());if(o.length===2){var[s,a]=o;t.style[s]=a}})};var L2=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,Qa={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};Qa.tbody=Qa.colgroup=Qa.caption=Qa.tfoot=Qa.thead;Qa.th=Qa.td;var uv=function(t){if(typeof t!="string")return null;var e=ie.createDocumentFragment(),i=e.appendChild(ie.createElement("div")),n=L2.exec(t),r=n&&n[1].toLowerCase(),o=Qa[r]||Qa.default;i.innerHTML=o.startTags+t+o.endTags;for(var s=0;s<o.tagsCount;s++)i=i.lastChild;return[...i.childNodes]},B2=function(t){var e=L2.exec(t);return e&&e[1]in Qa};var Vhe=Le(),Zt,yt=function(t,e){return t?typeof t=="string"?t==="body"?(this[0]=e?e.body:ie.getBody(),this.length=1,this):(e=e||ie.getDocument(),t[0]==="<"?(this[0]=ie.createElement(t.slice(1,-1),e),this.length=1,this):([].push.apply(this,ie.querySelectorAll(e,t)),this)):ie.isNode(t)||fi(t)?(this[0]=t,this.length=1,this):Array.isArray(t)?([].push.apply(this,t),this):Zt(t.toArray?t.toArray():[t]):(this.length=0,this)};Zt=function(t,e){return new yt(t,e)};Zt.fn={dxRenderer:!0};yt.prototype=Zt.fn;var vf=function(t,e){for(var i=0;i<this.length;i++){var n=Zt(this[i]);n[t].apply(n,e)}return this},cM=function(t,e,i){i!=null&&i!==!1?ie.setAttribute(t,e,i):ie.removeAttribute(t,e)};yt.prototype.show=function(){return this.toggle(!0)};yt.prototype.hide=function(){return this.toggle(!1)};yt.prototype.toggle=function(t){return this[0]&&this.toggleClass("dx-state-invisible",!t),this};yt.prototype.attr=function(t,e){if(this.length>1&&arguments.length>1)return vf.call(this,"attr",arguments);if(!this[0])return ke(t)||e!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(t,e);if(typeof t=="string"&&arguments.length===1){var i=this[0].getAttribute(t);return i??void 0}else if(Ve(t))for(var n in t)this.attr(n,t[n]);else cM(this[0],t,e);return this};yt.prototype.removeAttr=function(t){return this[0]&&ie.removeAttribute(this[0],t),this};yt.prototype.prop=function(t,e){if(!this[0])return this;if(typeof t=="string"&&arguments.length===1)return this[0][t];if(Ve(t))for(var i in t)this.prop(i,t[i]);else ie.setProperty(this[0],t,e);return this};yt.prototype.addClass=function(t){return this.toggleClass(t,!0)};yt.prototype.removeClass=function(t){return this.toggleClass(t,!1)};yt.prototype.hasClass=function(t){if(!this[0]||this[0].className===void 0)return!1;for(var e=t.split(" "),i=0;i<e.length;i++)if(this[0].classList){if(this[0].classList.contains(e[i]))return!0}else{var n=Se(this[0].className)?this[0].className:ie.getAttribute(this[0],"class");if((n||"").split(" ").indexOf(e[i])>=0)return!0}return!1};yt.prototype.toggleClass=function(t,e){if(this.length>1)return vf.call(this,"toggleClass",arguments);if(!this[0]||!t)return this;e=e===void 0?!this.hasClass(t):e;for(var i=t.split(" "),n=0;n<i.length;n++)ie.setClass(this[0],i[n],e);return this};yt.prototype.html=function(t){return arguments.length?(this.empty(),typeof t=="string"&&!B2(t)||typeof t=="number"?(this[0].innerHTML=t,this):this.append(uv(t))):this[0].innerHTML};var z2=function(t,e){if(!(!this[0]||!t)){typeof t=="string"?t=uv(t):t.nodeType?t=[t]:It(t)&&(t=[ie.createTextNode(t)]);for(var i=0;i<t.length;i++){var n=t[i],r=this[0],o=r.tagName==="TABLE"&&n.tagName==="TR";o&&r.tBodies&&r.tBodies.length&&(r=r.tBodies[0]),ie.insertElement(r,n.nodeType?n:n[0],e)}}},V2=function(t,e){if(!(!this[0]||!this[0].style)&&!(e===null||typeof e=="number"&&isNaN(e))){t=sa(t);for(var i=0;i<this.length;i++)this[i].style[t]=Xa(t,e)}};yt.prototype.css=function(t,e){if(Se(t))if(arguments.length===2)V2.call(this,t,e);else{if(!this[0])return;t=sa(t);var i=Vhe.getComputedStyle(this[0])[t]||this[0].style[t];return It(i)?i.toString():i}else if(Ve(t))for(var n in t)V2.call(this,n,t[n]);return this};yt.prototype.prepend=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return z2.apply(this,[t,this[0].firstChild]),this};yt.prototype.append=function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return z2.apply(this,[t]),this};yt.prototype.prependTo=function(t){if(this.length>1){for(var e=this.length-1;e>=0;e--)Zt(this[e]).prependTo(t);return this}return t=Zt(t),t[0]&&ie.insertElement(t[0],this[0],t[0].firstChild),this};yt.prototype.appendTo=function(t){return this.length>1?vf.call(this,"appendTo",arguments):(ie.insertElement(Zt(t)[0],this[0]),this)};yt.prototype.insertBefore=function(t){return t&&t[0]&&ie.insertElement(t[0].parentNode,this[0],t[0]),this};yt.prototype.insertAfter=function(t){return t&&t[0]&&ie.insertElement(t[0].parentNode,this[0],t[0].nextSibling),this};yt.prototype.before=function(t){return this[0]&&ie.insertElement(this[0].parentNode,t[0],this[0]),this};yt.prototype.after=function(t){return this[0]&&ie.insertElement(this[0].parentNode,t[0],this[0].nextSibling),this};yt.prototype.wrap=function(t){if(this[0]){var e=Zt(t);e.insertBefore(this),e.append(this)}return this};yt.prototype.wrapInner=function(t){var e=this.contents();return e.length?e.wrap(t):this.append(t),this};yt.prototype.replaceWith=function(t){if(t&&t[0])return t.is(this)?this:(t.insertBefore(this),this.remove(),t)};yt.prototype.remove=function(){return this.length>1?vf.call(this,"remove",arguments):(_u(this[0],!0),ie.removeElement(this[0]),this)};yt.prototype.detach=function(){return this.length>1?vf.call(this,"detach",arguments):(ie.removeElement(this[0]),this)};yt.prototype.empty=function(){return this.length>1?vf.call(this,"empty",arguments):(_u(this[0]),ie.setText(this[0],""),this)};yt.prototype.clone=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e].cloneNode(!0));return Zt(t)};yt.prototype.text=function(t){if(!arguments.length){for(var e="",i=0;i<this.length;i++)e+=this[i]&&this[i].textContent||"";return e}var n=ce(t)?t():t;return _u(this[0],!1),ie.setText(this[0],O(n)?n:""),this};yt.prototype.val=function(t){return arguments.length===1?this.prop("value",O(t)?t:""):this.prop("value")};yt.prototype.contents=function(){if(!this[0])return Zt();var t=[];return t.push.apply(t,this[0].childNodes),Zt(t)};yt.prototype.find=function(t){var e=Zt();if(!t)return e;var i=[],n;if(typeof t=="string")for(t=t.trim(),n=0;n<this.length;n++){var r=this[n];if(ie.isElementNode(r)){var o=r.getAttribute("id"),s=o||"dx-query-children";o||cM(r,"id",s),s="[id='"+s+"'] ";var a=s+t.replace(/([^\\])(,)/g,"$1, "+s);i.push.apply(i,ie.querySelectorAll(r,a)),cM(r,"id",o)}else(ie.isDocument(r)||ie.isDocumentFragment(r))&&i.push.apply(i,ie.querySelectorAll(r,t))}else for(n=0;n<this.length;n++)t=ie.isNode(t)?t:t[0],this[n]!==t&&this[n].contains(t)&&i.push(t);return e.add(i)};var H2=function(t,e){var i;return e=(i=e.host)!==null&&i!==void 0?i:e,e.nodeType?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!0};yt.prototype.filter=function(t){if(!t)return Zt();if(t===":visible")return this.filter(H2);if(t===":hidden")return this.filter(function(o,s){return!H2(o,s)});for(var e=[],i=0;i<this.length;i++){var n=this[i];if(ie.isElementNode(n)&&ir(t)==="string")ie.elementMatches(n,t)&&e.push(n);else if(ie.isNode(t)||fi(t))t===n&&e.push(n);else if(ce(t))t.call(n,i,n)&&e.push(n);else for(var r=0;r<t.length;r++)t[r]===n&&e.push(n)}return Zt(e)};yt.prototype.not=function(t){for(var e=[],i=this.filter(t).toArray(),n=0;n<this.length;n++)i.indexOf(this[n])===-1&&e.push(this[n]);return Zt(e)};yt.prototype.is=function(t){return!!this.filter(t).length};yt.prototype.children=function(t){for(var e=[],i=0;i<this.length;i++)for(var n=this[i]?this[i].childNodes:[],r=0;r<n.length;r++)ie.isElementNode(n[r])&&e.push(n[r]);return e=Zt(e),t?e.filter(t):e};yt.prototype.siblings=function(){var t=this[0];if(!t||!t.parentNode)return Zt();for(var e=[],i=t.parentNode.childNodes||[],n=0;n<i.length;n++){var r=i[n];ie.isElementNode(r)&&r!==t&&e.push(r)}return Zt(e)};yt.prototype.each=function(t){for(var e=0;e<this.length&&t.call(this[e],e,this[e])!==!1;e++);};yt.prototype.index=function(t){return t?(t=Zt(t),this.toArray().indexOf(t[0])):this.parent().children().index(this)};yt.prototype.get=function(t){return this[t<0?this.length+t:t]};yt.prototype.eq=function(t){return t=t<0?this.length+t:t,Zt(this[t])};yt.prototype.first=function(){return this.eq(0)};yt.prototype.last=function(){return this.eq(-1)};yt.prototype.select=function(){for(var t=0;t<this.length;t+=1)this[t].select&&this[t].select();return this};yt.prototype.parent=function(t){if(!this[0])return Zt();var e=Zt(this[0].parentNode);return!t||e.is(t)?e:Zt()};yt.prototype.parents=function(t){for(var e=[],i=this.parent();i&&i[0]&&!ie.isDocument(i[0]);)ie.isElementNode(i[0])&&(!t||i.is(t))&&e.push(i.get(0)),i=i.parent();return Zt(e)};yt.prototype.closest=function(t){if(this.is(t))return this;for(var e=this.parent();e&&e.length;){if(e.is(t))return e;e=e.parent()}return Zt()};yt.prototype.next=function(t){if(!this[0])return Zt();var e=Zt(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(t))return e;e=e.next()}return Zt()};yt.prototype.prev=function(){return this[0]?Zt(this[0].previousSibling):Zt()};yt.prototype.add=function(t){for(var e=Zt(t),i=this.toArray(),n=0;n<e.length;n++){var r=e[n];i.indexOf(r)===-1&&i.push(r)}return Zt(i)};var hM=[];yt.prototype.splice=function(){return Zt(hM.splice.apply(this,arguments))};yt.prototype.slice=function(){return Zt(hM.slice.apply(this,arguments))};yt.prototype.toArray=function(){return hM.slice.call(this)};yt.prototype.offset=function(){if(this[0])return ff(this[0])};yt.prototype.offsetParent=function(){if(!this[0])return Zt();for(var t=Zt(this[0].offsetParent);t[0]&&t.css("position")==="static";)t=Zt(t[0].offsetParent);return t=t[0]?t:Zt(ie.getDocumentElement()),t};yt.prototype.position=function(){if(this[0]){var t,e=parseFloat(this.css("marginTop")),i=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return t=this[0].getBoundingClientRect(),{top:t.top-e,left:t.left-i};t=this.offset();var n=this.offsetParent(),r={top:0,left:0};return n[0].nodeName!=="HTML"&&(r=n.offset()),r={top:r.top+parseFloat(n.css("borderTopWidth")),left:r.left+parseFloat(n.css("borderLeftWidth"))},{top:t.top-r.top-e,left:t.left-r.left-i}}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(t,e){t.scrollTo(e,t.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(t,e){t.scrollTo(t.pageXOffset,e)}}].forEach(function(t){var e=t.name;yt.prototype[e]=function(i){if(this[0]){var n=iM(this[0]);return i===void 0?n?n[t.offsetProp]:this[0][e]:(n?t.scrollWindow(n,i):this[0][e]=i,this)}}});yt.prototype.data=function(t,e){if(this[0])return arguments.length<2?ui.call(Zt,this[0],t):(ui.call(Zt,this[0],t,e),this)};yt.prototype.removeData=function(t){return this[0]&&vu(this[0],t),this};var W2=function(){return Zt.apply(this,arguments)};Object.defineProperty(W2,"fn",{enumerable:!0,configurable:!0,get:function(){return Zt.fn},set:function(t){Zt.fn=t}});var j2={set:function(t){Zt=t},get:function(){return W2}};var g=j2.get();var pM=[],Hhe=Kr(()=>{var t=ie.listen(ie.getDocument(),"DOMContentLoaded",()=>{$2.fire(),t()})}),$2={add:t=>{var e=Ne();e&&ie.getReadyState()!=="loading"?t():(pM.push(t),e&&Hhe())},fire:()=>{pM.forEach(t=>t()),pM=[]}},sn=On($2);var zhe=function(){var t,e=vt(),i=e.add,n=e.remove;if(!Ne())return e;var r=function(){var l=Le();return{width:l.innerWidth,height:l.innerHeight}},o=function(){var l=r();if(!(l.width===t.width&&l.height===t.height)){var d;l.width===t.width&&(d="height"),l.height===t.height&&(d="width"),t=l,e.fire(d)}},s=Kr(function(){t=r()}),a;return e.add=function(){var l=i.apply(e,arguments);return s(),sn.add(function(){!a&&e.has()&&(a=ie.listen(Le(),"resize",o))}),l},e.remove=function(){var l=n.apply(e,arguments);return!e.has()&&a&&(a(),a=void 0),l},e}(),aa=zhe;var vs=class t{constructor(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=i}static create(e,i){return i?ce(i)?i(e):i:new t(e)}hasEvent(e){var i=this._events[e];return i?i.has():!1}fireEvent(e,i){var n=this._events[e];return n&&n.fireWith(this._owner,i),this._owner}on(e,i){if(Ve(e))F(e,(o,s)=>{this.on(o,s)});else{var n=this._events[e];n||(n=vt({syncStrategy:this._options.syncStrategy}),this._events[e]=n);var r=n.originalAdd||n.add;r.call(n,i)}}off(e,i){var n=this._events[e];n&&(ce(i)?n.remove(i):n.empty())}dispose(){F(this._events,(e,i)=>{i.empty()})}};var Whe=Le(),bb=function(){var t;try{t=Whe.sessionStorage}catch{}return t};var jhe=sn.add,Qc=vt(),G2=g(),qr=function(){var t;return function(e){if(!arguments.length)return t;var i=g(e);G2=i;var n=!!i.length,r=qr();t=n?i:g("body"),Qc.fire(n?qr():g(),r)}}();jhe(function(){qr(".dx-viewport")});function Db(){return G2}var J2=Le(),$he={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},U2={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},fM={generic(t){var e=/windows phone/i.test(t)||t.match(/WPDesktop/),i=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(t),n=!e&&!i&&/msapphost/i.test(t),r=/((intel|ppc) mac os x)/.test(t.toLowerCase());return e||i||n||r?{deviceType:e?"phone":i?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:r}:null},appleTouchDevice(t){var e=Gl(),i=/Macintosh/i.test(t)&&e?.maxTouchPoints>2,n=/ip(hone|od|ad)/i.test(t);if(!n&&!i)return null;var r=/ip(hone|od)/i.test(t),o=t.match(/os\s{0,}X? (\d+)_(\d+)_?(\d+)?/i),s=o?[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3]||0,10)]:[],a=J2.screen.height===480,l=a?"B":"A";return{deviceType:r?"phone":"tablet",platform:"ios",version:s,grade:l}},android(t){var e=/android|htc_|silk/i.test(t),i=/windows phone/i.test(t);if(!e||i)return null;var n=/mobile/i.test(t),r=t.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),o=r?[parseInt(r[1],10),parseInt(r[2]||0,10),parseInt(r[3]||0,10)]:[],s=o.length>1&&(o[0]<4||o[0]===4&&o[1]<4),a=s?"B":"A";return{deviceType:n?"phone":"tablet",platform:"android",version:o,grade:a}}},K2=[fM.appleTouchDevice,fM.android,fM.generic],gM=class{constructor(e){this._window=e?.window||J2,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new vs(this),this.changed=vt(),Ne()&&(sn.add(this._recalculateOrientation.bind(this)),aa.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return y({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){var i=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(i.push("dx-device-".concat(e.deviceType)),e.deviceType!=="desktop"&&i.push("dx-device-mobile")),i.push("dx-device-".concat(n.platform)),n.version&&n.version.length&&i.push("dx-device-".concat(n.platform,"-").concat(n.version[0])),this.isSimulator()&&i.push("dx-simulator"),_t().rtlEnabled&&i.push("dx-rtl"),i}attachCssClasses(e,i){this._deviceClasses=this._getCssClasses(i).join(" "),g(e).addClass(this._deviceClasses)}detachCssClasses(e){g(e).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||Ne()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),Ve(e))return this._fromConfig(e);var i;if(e){if(i=$he[e],!i)throw xt.Error("E0005")}else{var n=Gl();i=n.userAgent}return this._fromUA(i)}_getDeviceOrNameFromWindowScope(){var e;return Ne()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e}_getDeviceNameFromSessionStorage(){var e=bb();if(e){var i=e.getItem("dx-force-device");try{return JSON.parse(i)}catch{return i}}}_fromConfig(e){var i=y({},U2,this._currentDevice,e),n={phone:i.deviceType==="phone",tablet:i.deviceType==="tablet",android:i.platform==="android",ios:i.platform==="ios",generic:i.platform==="generic"};return y(i,n)}_fromUA(e){for(var i=0;i<K2.length;i+=1){var n=K2[i],r=n(e);if(r)return this._fromConfig(r)}return U2}_changeOrientation(){var e=g(this._window),i=je(e)>Ae(e)?"portrait":"landscape";this._currentOrientation!==i&&(this._currentOrientation=i,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:i}]))}_recalculateOrientation(){var e=Ae(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,i){return this._eventsStrategy.on(e,i),this}off(e,i){return this._eventsStrategy.off(e,i),this}},Ob=new gM,q2=qr();q2&&Ob.attachCssClasses(q2);Qc.add((t,e)=>{Ob.detachCssClasses(e),Ob.attachCssClasses(t)});var be=Ob;var xu=vt();var Ke=sf(xt.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" and "endDayHour" options must be integers in the [0, 24] range, with "endDayHour" being greater than "startDayHour".',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",E1061:'The "offset" option must be an integer in the [-1440, 1440] range, divisible by 5 without a remainder.',E1062:'The "cellDuration" must be a positive integer, evenly dividing the ("endDayHour" - "startDayHour") interval into minutes.',W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:`The '{0}' is not rendered because none of the DOM elements match the value of the "container" property.`,W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly.",W1024:"The client-side export is enabled. Implement the 'onExporting' function.",W1025:"'scrolling.mode' is set to 'virtual' or 'infinite'. Specify the height of the component."});var Q2=Le(),Ghe=sn.add,Uhe=qr,Khe=Qc,Zc=new H,Z2="link[rel=dx-theme]",qhe="data-theme",Jhe="data-active",Y2="dx-hairlines",eG="any",Kl,cv,ql,Ro,Ul,vM=15e3,mM="dx.";function xM(){if(!Ne())return null;var t=g("<div>",Kl).addClass("dx-theme-marker").appendTo(Kl.documentElement),e;try{return e=Q2.getComputedStyle(t.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,mM.length)!==mM)?null:e.substr(mM.length)}finally{t.remove()}}function _M(t){var e,i,n=!0;Ul=t;function r(){Ul=null,clearInterval(i),n=!0,xu.fire(),xu.empty(),Zc.resolve()}if(CM()||!vM)r();else{if(!n){Ul&&(Ul=t);return}e=Date.now(),n=!1,i=setInterval(function(){var o=CM(),s=!o&&Date.now()-e>vM;s&&Ke.log("W0004",Ul),(o||s)&&r()},10)}}function CM(){if(!Ul)return!0;var t=Ul===eG;if(Zc.state()==="resolved"&&t)return!0;var e=xM();return e&&t?!0:e===Ul}function Yhe(){var t=g(Z2,Kl);t.length&&(ql={},cv=g(uv("<link rel=stylesheet>"),Kl),t.each(function(){var e=g(this,Kl),i=e.attr(qhe),n=e.attr("href"),r=e.attr(Jhe)==="true";ql[i]={url:n,isActive:r}}),t.last().after(cv),t.remove())}function Xhe(t){var e=t?t.split("."):[],i=null;if(ql){if(t in ql)return t;F(ql,function(n,r){var o=n.split(".");if(!(e[0]&&o[0]!==e[0])&&!(e[1]&&e[1]!==o[1])&&!(e[2]&&e[2]!==o[2])&&((!i||r.isActive)&&(i=n),r.isActive))return!1})}return i}function Qhe(t){try{t!==Kl&&(ql=null)}catch{ql=null}Kl=t}function tG(t){t=t||{},Qhe(t.context||ie.getDocument()),Kl&&(Yhe(),Ro=void 0,an(t))}function an(t){if(!arguments.length)return Ro=Ro||xM(),Ro;bM(Uhe()),t=t||{},typeof t=="string"&&(t={theme:t});var e=t._autoInit,i=t.loadCallback,n;if(Ro=Xhe(t.theme||Ro),Ro&&(n=ql[Ro]),i&&xu.add(i),n)cv.attr("href",ql[Ro].url),(xu.has()||Zc.state()!=="resolved"||t._forceTimeout)&&_M(Ro);else if(e)Ne()&&_M(eG),xu.fire(),xu.empty();else throw Ke.Error("E0021",Ro);Zc.done(()=>yM(Db(),Ro))}function Zhe(t){t=t||an();var e=[],i=t&&t.split(".");return i&&(e.push("dx-theme-"+i[0],"dx-theme-"+i[0]+"-typography"),i.length>1&&e.push("dx-color-scheme-"+i[1]+(ki(t)?"-"+i[2]:""))),e}var Eb;function yM(t,e){Eb=Zhe(e).join(" "),g(t).addClass(Eb),function(){var i=Ne()&&Q2.devicePixelRatio;if(!(!i||i<2)){var n=g("<div>");n.css("border",".5px solid transparent"),g("body").append(n),et(n)===1&&(g(t).addClass(Y2),Eb+=" "+Y2),n.remove()}}()}function bM(t){g(t).removeClass(Eb)}function epe(t){xu.add(t)}function hv(t,e){return e||(e=Ro||xM()),new RegExp(t).test(e)}function ki(t){return mi(t)||Ui(t)}function mi(t){return hv("material",t)}function Ui(t){return hv("fluent",t)}function pv(t){return hv("generic",t)}function tpe(t){return hv("dark",t)}function Za(t){return hv("compact",t)}function iG(t,e){var i=ie.getDocument(),n=i.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=t,i.body.appendChild(n);var r=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";var o=n.offsetWidth;return n.parentNode.removeChild(n),r!==o}function DM(t,e){return new Promise(i=>{var n=()=>{clearInterval(r),clearTimeout(o),i()},r=setInterval(()=>{iG(t,e)&&n()},15),o=setTimeout(n,2e3)})}function X2(){if(tG({_autoInit:!0,_forceTimeout:!0}),g(Z2,Kl).length)throw Ke.Error("E0022")}Ne()?X2():Ghe(X2);Khe.add(function(t,e){Zc.done(function(){bM(e),yM(t)})});be.changed.add(function(){tG({_autoInit:!0})});function ipe(){cv&&cv.attr("href","about:blank"),Ro=null,Ul=null,Zc=new H}function npe(t){Zc.done(t)}function rpe(t){vM=t}var OM={setDefaultTimeout:rpe,initialized:npe,resetTheme:ipe,ready:epe,waitWebFont:DM,isWebFontLoaded:iG,isCompact:Za,isDark:tpe,isGeneric:pv,isMaterial:mi,isFluent:Ui,isMaterialBased:ki,detachCssClasses:bM,attachCssClasses:yM,current:an,waitForThemeLoad:_M,isPendingThemeLoaded:CM};var yu={production:!0,apiUrl:"https://wyre.xtrace.app/",notifyDisplayTime:1500};var Sb=(()=>{let e=class e{constructor(){}get title(){return"xTrace.Scan"}get currentYear(){return new Date().getFullYear()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();var wM={};Wre(wM,{animation:()=>Ib,inputType:()=>eh,nativeScrolling:()=>Cs,pointerEvents:()=>oG,styleProp:()=>sa,stylePropPrefix:()=>mf,supportProp:()=>EM,touch:()=>_s,touchEvents:()=>rG,transition:()=>wb,transitionEndEventName:()=>SM});var{maxTouchPoints:nG}=Gl(),ope={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},EM=function(t){return!!sa(t)},spe=function(){var{platform:t,mac:e}=be.real(),i=t==="ios"||t==="android"||e;return i},eh=function(t){if(t==="text")return!0;var e=ie.createElement("input");try{return e.setAttribute("type",t),e.value="wrongValue",!e.value}catch{return!1}},ape=function(t,e){return(t("ontouchstart")||!!e)&&!t("callPhantom")},lpe=function(t){return t("PointerEvent")},rG=ape(YT,nG),oG=lpe(YT),dpe=!!nG;var _s=rG||oG&&dpe,wb=Kr(function(){return EM("transition")}),SM=Kr(function(){return ope[sa("transition")]}),Ib=Kr(function(){return EM("animation")}),Cs=spe();var sG=function(t,e){var i={};"noBubble"in e&&(i.noBubble=e.noBubble),"bindType"in e&&(i.bindType=e.bindType),"delegateType"in e&&(i.delegateType=e.delegateType),F(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(n,r){e[r]&&(i[r]=function(){var o=[].slice.call(arguments);return o.unshift(this),e[r].apply(e,o)})}),ov.fire(t,i)};sG.callbacks=ov;var mr=sG;var upe=Gl(),cpe=/(webkit)[ /]([\w.]+)/,hpe=/(mozilla)(?:.*? rv:([\w.]+))/,aG=t=>{t=t.toLowerCase();var e={},i=cpe.exec(t)||t.indexOf("compatible")<0&&hpe.exec(t)||[],n=i[1],r=i[2];return n==="webkit"&&(e.webkit=!0,t.indexOf("chrome")>=0||t.indexOf("crios")>=0?(n="chrome",r=/(?:chrome|crios)\/(\d+\.\d+)/.exec(t),r=r&&r[1]):t.indexOf("fxios")>=0?(n="mozilla",r=/fxios\/(\d+\.\d+)/.exec(t),r=r&&r[1]):t.indexOf("safari")>=0&&/version|phantomjs/.test(t)?(n="safari",r=/(?:version|phantomjs)\/([0-9.]+)/.exec(t),r=r&&r[1]):(n="unknown",r=/applewebkit\/([0-9.]+)/.exec(t),r=r&&r[1])),n&&(e[n]=!0,e.version=r),e},Nt=y({_fromUA:aG},aG(upe.userAgent));var IM=(t,e)=>{if(!e)throw xt.Error("E0017");return Array.isArray(t)?t.map(i=>IM(i,e)).join(" "):t.indexOf(" ")!==-1?IM(t.split(/\s+/g),e):"".concat(t,".").concat(e)},lG=IM;var dG=function(t,e){if(!ppe(t))return!1;var i=t.nodeName.toLowerCase(),n=!isNaN(e),r=t.disabled,o=/^(input|select|textarea|button|object|iframe)$/.test(i),s=i==="a",a,l=t.isContentEditable;return o||l?a=!r:s?a=t.href||n:a=n,a};function ppe(t){var e=g(t);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}var fv=function(t,e){return dG(e,g(e).attr("tabIndex"))},TM=function(t,e){var i=g(e).attr("tabIndex");return(isNaN(i)||i>=0)&&dG(e,i)},Fo=function(t){var e=g(t).get(0);return ie.getActiveElement(e)===e};var fpe={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},gpe={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},mpe={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},vpe=t=>t,_pe=t=>vpe(S.Event(t,t),t),MM=t=>_f(t)==="dx",Cpe=t=>_f(t)==="mouse",uG=t=>_f(t)==="touch",_f=t=>{var{type:e}=t,i="other";return F(mpe,function(n){if(this.test(e))return i=n,!1}),i},cG=t=>_f(t)==="pointer",Po=t=>Cpe(t)||(cG(t)||MM(t))&&t.pointerType==="mouse",rr=t=>t&&t.type==="dxmousewheel",Jl=t=>uG(t)||(cG(t)||MM(t))&&t.pointerType==="touch";var Bi=t=>{var{pageX:e,pageY:i,timeStamp:n}=t;return{x:e,y:i,time:n}},el=(t,e)=>({x:e.x-t.x,y:e.y-t.y,time:e.time-t.time||1}),hG=t=>{var{originalEvent:e,pointers:i}=t;return uG(t)?(e.touches||[]).length:MM(t)?(i||[]).length:0},xpe=!1;var Tb=t=>{if(xpe)return!0;var{target:e}=t,i=g(e),n=e?.isContentEditable||e?.hasAttribute("contenteditable"),r=i.is("input, textarea, select")||n;if(rr(t)){var o=i.is("textarea")&&i.hasClass("dx-texteditor-input");if(o||n)return!1;var s=i.is("input[type='number'], textarea, select")&&i.is(":focus");return s}if(Po(t))return r||t.which>1;if(Jl(t))return r&&Fo(i)};var la=(t,e)=>{var i=_pe(t);return e&&y(i,e),i},Jr=t=>{var{originalEvent:e,delegateTarget:i}=t,n=la(e,t);return S.trigger(i||n.target,n),n},qt=t=>{var{key:e,which:i}=t,n=fpe[e?.toLowerCase()]||e,r=gpe[i];return r&&n===e?r:!n&&i?String.fromCharCode(i):n},gv=t=>{var{key:e,which:i}=t;return e||String.fromCharCode(i)},ne=lG,Wi=t=>{var{ctrlKey:e,metaKey:i}=t;return e||i};var pG="dxPointerEvents",ype=ot.inherit({ctor:function(t,e){this._eventName=t,this._originalEvents=ne(e,pG),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var t=this._eventName;return t==="dxpointerenter"||t==="dxpointerleave"},_handler:function(t){var e,i=this._getDelegateTarget(t),n={type:this._eventName,pointerType:t.pointerType||_f(t),originalEvent:t,delegateTarget:i,timeStamp:Nt.mozilla?new Date().getTime():t.timeStamp},r=t.originalEvent;if(r!=null&&(e=r.target)!==null&&e!==void 0&&e.shadowRoot){var o,s,a=(o=r.path)!==null&&o!==void 0?o:(s=r.composedPath)===null||s===void 0?void 0:s.call(r);n.target=a[0]}return this._fireEvent(n)},_getDelegateTarget:function(t){var e;return this.noBubble&&(e=t.delegateTarget),e},_fireEvent:function(t){return Jr(t)},_setSelector:function(t){this._selector=this.noBubble&&t?t.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(t,e){if(this._handlerCount<=0||this.noBubble){t=this.noBubble?t:ie.getDocument(),this._setSelector(e);var i=this;S.on(t,this._originalEvents,this._getSelector(),function(n){i._handler(n)})}this.noBubble||this._handlerCount++},remove:function(t){this._setSelector(t),this.noBubble||this._handlerCount--},teardown:function(t){this._handlerCount&&!this.noBubble||(t=this.noBubble?t:ie.getDocument(),this._originalEvents!=="."+pG&&S.off(t,this._originalEvents,this._getSelector()))},dispose:function(t){t=this.noBubble?t:ie.getDocument(),S.off(t,this._originalEvents)}}),Cf=ype;var bpe={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},fG=function(t){var e=[];return F(t.touches,function(i,n){e.push(y({pointerId:n.identifier},n))}),{pointers:e,pointerId:t.changedTouches[0].identifier}},Dpe=function(t){return be.real().platform==="ios"&&(t==="dxpointerdown"||t==="dxpointerup")},AM=Cf.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(t){if(Dpe(this._eventName)){var e=t.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase(y(fG(t.originalEvent),t))}});AM.map=bpe;AM.normalize=fG;var mv=AM;var Mb=function(t,e){sn.add(function(){t.split(" ").forEach(function(i){ie.listen(ie.getDocument(),i,e,!0)})})},Ope=function(t,e,i){i=i||function(){};var n=[],r=function(s){var a=-1;return F(n,function(l,d){return e(s,d)?(a=l,!1):!0}),a},o=function(s){var a=r(s);a>-1&&n.splice(a,1)};Mb(t.dxpointerdown,function(s){r(s)===-1&&(i(s),n.push(s))}),Mb(t.dxpointermove,function(s){n[r(s)]=s}),Mb(t.dxpointerup,o),Mb(t.dxpointercancel,o),this.pointers=function(){return n},this.reset=function(){n=[]}},gG=Ope;var vG={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},_G=function(t){return t.pointerId=1,{pointers:RM.pointers(),pointerId:1}},RM,mG=!1,CG=function(){mG||(RM=new gG(vG,function(){return!0}),mG=!0)},vv=Cf.inherit({ctor:function(){this.callBase.apply(this,arguments),CG()},_fireEvent:function(t){return this.callBase(y(_G(t.originalEvent),t))}});vv.map=vG;vv.normalize=_G;vv.activate=CG;vv.resetObserver=function(){RM.reset()};var th=vv;var Epe={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},xG=!1,Spe=function(){xG||(th.activate(),xG=!0)},FM=Cf.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),Spe()},_handler:function(t){var e=Po(t);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);var i=this;this._unlockMouseTimer=setTimeout(function(){i._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(t)}},_fireEvent:function(t){var e=Po(t.originalEvent)?th.normalize:mv.normalize;return this.callBase(y(e(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});FM.map=Epe;FM.resetObserver=th.resetObserver;var PM=FM;var wpe=(t,e)=>{var{tablet:i,phone:n}=e,r=Tpe();return r||(t.touch&&!(i||n)?PM:t.touch?mv:th)},yG=wpe(wM,be.real());F(yG.map,(t,e)=>{mr(t,new yG(t,e))});var Ipe={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"};function Tpe(){var t=_t().pointerEventStrategy;return{"mouse-and-touch":PM,touch:mv,mouse:th}[t]}var nt=Ipe;var kM=new gu;var xn="dxremove",NM="dxRemoveEvent";F2(function(t){t=[].slice.call(t);for(var e=0;e<t.length;e++){var i=g(t[e]);i.prop(NM)&&(i[0][NM]=null,S.triggerHandler(i,xn))}});mr(xn,{noBubble:!0,setup:function(t){g(t).prop(NM,!0)}});var LM="dxComponents",Mpe="dxPrivateComponent",Ab=new WeakMap,Ape=0,bu=function(t,e){if(O(e)){Ab.set(t,e);return}if(!Ab.has(t)){var i=Mpe+Ape++;return Ab.set(t,i),i}return Ab.get(t)};function Rb(t,e,i){var n=ui(t.get(0)),r=bu(e.constructor);n[r]=e,i&&S.one(t,xn,function(){i.call(e)}),n[LM]||(n[LM]=[]),n[LM].push(r)}function Fb(t,e){var i=bu(e);return ui(t.get(0),i)}var Rpe=function(t,e,i){i?e[t]=i:i=e,bu(i,t),kM.fire(t,i)},Fpe=function(t,e){g.fn[t]=function(i){var n=typeof i=="string",r;if(n){var o=i,s=[].slice.call(arguments).slice(1);this.each(function(){var a=e.getInstance(this);if(!a)throw xt.Error("E0009",t);var l=a[o],d=l.apply(a,s);r===void 0&&(r=d)})}else this.each(function(){var a=e.getInstance(this);a?a.option(i):new e(this,i)}),r=this;return r}};kM.add(Fpe);var Be=Rpe;var Ppe=function(t){return t&&t.get(0)};function Pe(t){return Ppe(t)}var BM="dxTranslator",kpe=/matrix(3d)?\((.+?)\)/,Npe=/translate(?:3d)?\((.+?)\)/,In=function(t){t=g(t);var e=_v(t);return{left:e.x,top:e.y}};function Pb(t){return ir(t)==="string"&&t[t.length-1]==="%"}function bG(t,e){t.length&&ui(t.get(0),BM,e)}var kb=function(t){t.length&&vu(t.get(0),BM)},xf=function(t){t.x=t.x||0,t.y=t.y||0;var e=Pb(t.x)?t.x:t.x+"px",i=Pb(t.y)?t.y:t.y+"px";return"translate("+e+", "+i+")"},_v=function(t){var e=t.length?ui(t.get(0),BM):null;if(!e){var i=t.css("transform")||xf({x:0,y:0}),n=i.match(kpe),r=n&&n[1];n?(n=n[2].split(","),r==="3d"?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},bG(t,e)}return e},Vt=function(t,e){t=g(t);var i=e.left,n=e.top,r;i===void 0?(r=_v(t),r.y=n||0):n===void 0?(r=_v(t),r.x=i||0):(r={x:i||0,y:n||0,z:0},bG(t,r)),t.css({transform:xf(r)}),(Pb(i)||Pb(n))&&kb(t)},tl=function(t,e){t=g(t);var i,n={left:0,top:0,transform:"none"};e&&(i=t.css("transition"),n.transition="none"),t.css(n),kb(t),e&&(t.get(0).offsetHeight,t.css("transition",i))},DG=function(t){var e=t.match(Npe);if(!(!e||!e[1]))return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])},e};var OG=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,EG={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},Lpe=function(t,e,i,n){var r=3*t,o=3*(i-t)-r,s=1-r-o,a=3*e,l=3*(n-e)-a,d=1-a-l,u=function(p){return p*(r+p*(o+p*s))},h=function(p){return r+p*(2*o+3*p*s)};return function(p){return function(m){return m*(a+m*(l+m*d))}(function(m){for(var c=m,x=0,D;x<14&&(D=u(c)-m,!(Math.abs(D)<.001));)c-=D/h(c),x++;return c}(p))}},VM={},SG=function(t){t=EG[t]||t;var e=t.match(OG),i;e||(i="linear",e=EG[i].match(OG)),e=e.slice(1,5);for(var n=0;n<e.length;n++)e[n]=parseFloat(e[n]);var r=i||"cubicbezier_"+e.join("_").replace(/\./g,"p");return ce(VM[r])||(VM[r]=function(o,s,a,l,d){return l*Lpe(e[0],e[1],e[2],e[3])(s/d)+a}),r};function wG(t){return VM[t]}var xs=Ne()?Le():{},Bpe=1e3/60,IG=function(t){return setTimeout(t,Bpe)},TG=function(t){clearTimeout(t)},MG=Kr(function(){var t=xs.requestAnimationFrame||xs.webkitRequestAnimationFrame||xs.mozRequestAnimationFrame||xs.oRequestAnimationFrame||xs.msRequestAnimationFrame,e=xs.cancelAnimationFrame||xs.webkitCancelAnimationFrame||xs.mozCancelAnimationFrame||xs.oCancelAnimationFrame||xs.msCancelAnimationFrame;t&&e&&(IG=t,TG=e)});function Du(){return MG(),IG.apply(xs,arguments)}function Xo(){MG(),TG.apply(xs,arguments)}var Yr=t=>{var e=t??_t().rtlEnabled;return e?"right":"left"},Jt=t=>fi(t)?{width:t.outerWidth,height:t.outerHeight}:t.getBoundingClientRect();var AG=Le(),Vpe=/left|right/,Hpe=/top|bottom/,RG=/fit|flip|none/,zpe=/scale\(.+?\)/,Wpe=Nt.safari,HM=function(t){var e={h:"center",v:"center"},i=Ja(t);return i&&F(i,function(){var n=String(this).toLowerCase();Vpe.test(n)?e.h=n:Hpe.test(n)&&(e.v=n)}),e},FG=function(t,e){return cf(t,e)},jpe=function(t){var e=Ja(t),i=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return RG.test(i)||(i="none"),RG.test(n)||(n=i),{h:i,v:n}},PG=function(t){switch(t){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},zM=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},WM=function(t,e){var i=0;return t.myLocation<e.min&&(i+=e.min-t.myLocation),t.myLocation>e.max&&(i+=t.myLocation-e.max),i},kG=function(t,e,i){return e.myLocation<i.min?t==="h"?"left":"top":e.myLocation>i.max?t==="h"?"right":"bottom":"none"},jM=function(t){t.myLocation=t.atLocation+PG(t.atAlign)*t.atSize-PG(t.myAlign)*t.mySize+t.offset},Nb={fit:function(t,e){var i=!1;t.myLocation>e.max&&(t.myLocation=e.max,i=!0),t.myLocation<e.min&&(t.myLocation=e.min,i=!0),t.fit=i},flip:function(t,e){if(t.flip=!1,!(t.myAlign==="center"&&t.atAlign==="center")&&(t.myLocation<e.min||t.myLocation>e.max)){var i=y({},t,{myAlign:zM(t.myAlign),atAlign:zM(t.atAlign),offset:-t.offset});jM(i),i.oversize=WM(i,e),(i.myLocation>=e.min&&i.myLocation<=e.max||t.oversize>i.oversize)&&(t.myLocation=i.myLocation,t.oversize=i.oversize,t.flip=!0)}},flipfit:function(t,e){this.flip(t,e),this.fit(t,e)},none:function(t){t.oversize=0}},LG,BG=function(){var t=g("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(g("body")),e=t.get(0).offsetWidth-t.get(0).clientWidth;t.remove(),LG=e},$pe={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},VG=function(t,e){var i=g(t),n=i.offset(),r=y(!0,{},$pe,{h:{location:n.left},v:{location:n.top}});if(!e)return r;var o=HM(e.my),s=HM(e.at),a=g(e.of).length&&e.of||AG,l=FG(e.offset,e.precise),d=jpe(e.collision),u=e.boundary,h=FG(e.boundaryOffset,e.precise),p={mySize:it(i),myAlign:o.h,atAlign:s.h,offset:l.h,collision:d.h,boundaryOffset:h.h},m={mySize:et(i),myAlign:o.v,atAlign:s.v,offset:l.v,collision:d.v,boundaryOffset:h.v};if(a.preventDefault)p.atLocation=a.pageX,m.atLocation=a.pageY,p.atSize=0,m.atSize=0;else if(a=g(a),fi(a[0]))p.atLocation=a.scrollLeft(),m.atLocation=a.scrollTop(),be.real().deviceType==="phone"&&a[0].visualViewport?(p.atLocation=Math.max(p.atLocation,a[0].visualViewport.offsetLeft),m.atLocation=Math.max(m.atLocation,a[0].visualViewport.offsetTop),p.atSize=a[0].visualViewport.width,m.atSize=a[0].visualViewport.height):(p.atSize=a[0].innerWidth>a[0].outerWidth?a[0].innerWidth:Ae(a),m.atSize=a[0].innerHeight>a[0].outerHeight||Wpe?a[0].innerHeight:je(a));else if(a[0].nodeType===9)p.atLocation=0,m.atLocation=0,p.atSize=Ae(a),m.atSize=je(a);else{var c=Jt(a.get(0)),x=HG(a);p.atLocation=x.left,m.atLocation=x.top,p.atSize=Math.max(c.width,it(a)),m.atSize=Math.max(c.height,et(a))}jM(p),jM(m);var D=function(){var N=g(AG),G=Ae(N),U=je(N),re=N.scrollLeft(),_=N.scrollTop(),Oe=ie.getDocumentElement(),fe=_s?Oe.clientWidth/G:1,we=_s?Oe.clientHeight/U:1;LG===void 0&&BG();var We=G,b=U;if(u&&!fi(u)){var w=g(u),A=w.offset();re=A.left,_=A.top,We=Ae(w),b=je(w)}return{h:{min:re+p.boundaryOffset,max:re+We/fe-p.mySize-p.boundaryOffset},v:{min:_+m.boundaryOffset,max:_+b/we-m.mySize-m.boundaryOffset}}}();p.oversize=WM(p,D.h),m.oversize=WM(m,D.v),p.collisionSide=kG("h",p,D.h),m.collisionSide=kG("v",m,D.v),Nb[p.collision]&&Nb[p.collision](p,D.h),Nb[m.collision]&&Nb[m.collision](m,D.v);var T=function(N){return e.precise?N:Math.round(N)};return y(!0,r,{h:{location:T(p.myLocation),oversize:T(p.oversize),fit:p.fit,flip:p.flip,collisionSide:p.collisionSide},v:{location:T(m.myLocation),oversize:T(m.oversize),fit:m.fit,flip:m.flip,collisionSide:m.collisionSide},precise:e.precise}),r},NG=function(t,e,i,n){var r=O(t.style)&&!ie.isNode(t.style),o=n?i.replace(e,""):i;if(r)yb(t,o,!1);else{var s=ie.createAttribute("style");s.value=o,t.setAttributeNode(s)}},HG=function t(e){var i,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=r.get(0);if(!o)return e.offset();var s=((i=o.getAttribute)===null||i===void 0?void 0:i.call(o,"style"))||"",a=(n=s.match(zpe))===null||n===void 0?void 0:n[0],l;return a?(NG(o,a,s,!0),l=t(e,r.parent()),NG(o,a,s,!1)):l=t(e,r.parent()),l},Cv=function(t,e){var i=g(t);if(!e)return i.offset();tl(i,!0);var n=HG(i),r=e.h&&e.v?e:VG(i,e),o=function(s){return e.precise?s:Math.round(s)};return Vt(i,{left:r.h.location-o(n.left),top:r.v.location-o(n.top)}),r},Gpe=function(t){return t=g(t).get(0),fi(t)?null:t&&"pageY"in t&&"pageX"in t?{top:t.pageY,left:t.pageX}:g(t).offset()};Cv.inverseAlign||(Cv.inverseAlign=zM);Cv.normalizeAlign||(Cv.normalizeAlign=HM);var en={calculateScrollbarWidth:BG,calculate:VG,setup:Cv,offset:Gpe};var WG=Le(),xv=ne(xn,"dxFX"),Upe=/^([+-])=(.*)/i,yv="dxAnimData",JM="dxAnimQueue",da="transform",Kpe={initAnimation:function(t,e){t.css({transitionProperty:"none"}),typeof e.from=="string"?t.addClass(e.from):qM(t,e.from);var i=this,n=new H,r=e.cleanupWhen;e.transitionAnimation={deferred:n,finish:function(){i._finishTransition(t),r?ye(n,r).always(function(){i._cleanup(t,e)}):i._cleanup(t,e),n.resolveWith(t,[e,t])}},this._completeAnimationCallback(t,e).done(function(){e.transitionAnimation.finish()}).fail(function(){n.rejectWith(t,[e,t])}),e.duration||e.transitionAnimation.finish(),t.css("transform")},animate:function(t,e){return this._startAnimation(t,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(t,e){var i=this,n=Date.now()+e.delay,r=new H,o=new H,s=new H,a,l=SM()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(a),clearTimeout(d),S.off(t,l),S.off(t,xv)},S.one(t,l,function(){Date.now()-n>=e.duration&&o.reject()}),S.off(t,xv),S.on(t,xv,function(){i.stop(t,e),r.reject()});var d=setTimeout(function(){a=setTimeout(function(){s.reject()},e.duration+e.delay+bv._simulatedTransitionEndDelay),ye(o,s).fail((function(){r.resolve()}).bind(this))});return r.promise()},_startAnimation:function(t,e){t.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),typeof e.to=="string"?t[0].className+=" "+e.to:e.to&&qM(t,e.to)},_finishTransition:function(t){t.css("transition","none")},_cleanup:function(t,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(t.removeClass(e.from),t.removeClass(e.to))},stop:function(t,e,i){e&&(i?e.transitionAnimation.finish():(Ve(e.to)&&F(e.to,function(n){t.css(n,t.css(n))}),this._finishTransition(t),this._cleanup(t,e)))}},zG={initAnimation:function(t,e){qM(t,e.from)},animate:function(t,e){var i=new H,n=this;return e?(F(e.to,function(r){e.from[r]===void 0&&(e.from[r]=n._normalizeValue(t.css(r)))}),e.to[da]&&(e.from[da]=n._parseTransform(e.from[da]),e.to[da]=n._parseTransform(e.to[da])),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:SG(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),Xo(e.frameAnimation.animationFrameId),i.resolve()},draw:function(){if(e.draw){e.draw(this.currentValue);return}var r=y({},this.currentValue);r[da]&&(r[da]=gi(r[da],function(o,s){if(s==="translate")return xf(o);if(s==="scale")return"scale("+o+")";if(s.substr(0,s.length-1)==="rotate")return s+"("+o+"deg)"}).join(" ")),t.css(r)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(function(){n._startAnimation(t,e)},e.delay)):n._startAnimation(t,e),i.promise()):i.reject().promise()},_startAnimation:function(t,e){S.off(t,xv),S.on(t,xv,function(){e.frameAnimation&&Xo(e.frameAnimation.animationFrameId)}),this._animationStep(t,e)},_parseTransform:function(t){var e={};return F(t.match(/\w+\d*\w*\([^)]*\)\s*/g),function(i,n){var r=DG(n),o=n.match(/scale\((.+?)\)/),s=n.match(/(rotate.)\((.+)deg\)/);r&&(e.translate=r),o&&o[1]&&(e.scale=parseFloat(o[1])),s&&s[1]&&(e[s[1]]=parseFloat(s[2]))}),e},stop:function(t,e,i){var n=e&&e.frameAnimation;n&&(Xo(n.animationFrameId),clearTimeout(n.delayTimeout),i&&n.finish(),delete e.frameAnimation)},_animationStep:function(t,e){var i=e&&e.frameAnimation;if(i){var n=new Date().valueOf();if(n>=i.startTime+i.duration){i.finish();return}i.currentValue=this._calcStepValue(i,n-i.startTime),i.draw();var r=this;i.animationFrameId=Du(function(){r._animationStep(t,e)})}},_calcStepValue:function(t,e){return function i(n,r){var o=Array.isArray(r)?[]:{};return F(r,function(s,a){if(typeof a=="string"&&parseFloat(a)===!1)return!0;o[s]=typeof a=="object"?i(n[s],a):function(l){var d=e/t.duration,u=e,h=1*n[l],p=r[l]-n[l],m=t.duration;return wG(t.easing)(d,u,h,p,m)}(s)}),o}(t.from,t.to)},_normalizeValue:function(t){var e=parseFloat(t);return e===!1?t:e}},qpe={initAnimation:function(){},animate:function(){return new H().resolve().promise()},stop:W,isSynchronous:!0},Jpe=function(t){t=t||{};var e={transition:wb()?Kpe:zG,frame:zG,noAnimation:qpe},i=t.strategy||"transition";return t.type==="css"&&!wb()&&(i="noAnimation"),e[i]},jG=function(t,e,i,n){F(["from","to"],function(){if(!i(t[this]))throw xt.Error("E0010",e,this,n)})},$G=function(t,e){return jG(t,e,function(i){return Ve(i)},"a plain object")},Ype=function(t,e){return jG(t,e,function(i){return typeof i=="string"},"a string")},Xpe={setup:function(){}},Qpe={validateConfig:function(t){Ype(t,"css")},setup:function(){}},Zpe={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},$M={validateConfig:function(t){$G(t,"slide")},setup:function(t,e){var i=In(t);if(e.type!=="slide"){var n=e.type==="slideIn"?e.from:e.to;n.position=y({of:WG},Zpe[e.direction]),KM(t,n)}this._setUpConfig(i,e.from),this._setUpConfig(i,e.to),kb(t)},_setUpConfig:function(t,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(t,e)},_initNewPosition:function(t,e){var i={left:e.left,top:e.top};delete e.left,delete e.top;var n=this._getRelativeValue(i.left);n!==void 0?i.left=n+t.left:e.left=0,n=this._getRelativeValue(i.top),n!==void 0?i.top=n+t.top:e.top=0,e[da]=xf({x:i.left,y:i.top})},_getRelativeValue:function(t){var e;if(typeof t=="string"&&(e=Upe.exec(t)))return parseInt(e[1]+"1")*e[2]}},GM={setup:function(t,e){var i,n,r=e.from,o=e.to,s=e.type==="fadeOut"?1:0,a=e.type==="fadeOut"?0:1,l=Ve(r)?String((i=r.opacity)!==null&&i!==void 0?i:s):String(r),d=Ve(o)?String((n=o.opacity)!==null&&n!==void 0?n:a):String(o);switch(e.skipElementInitialStyles||(l=t.css("opacity")),e.type){case"fadeIn":d=1;break;case"fadeOut":d=0}e.from={visibility:"visible",opacity:l},e.to={opacity:d}}},efe={validateConfig:function(t){$G(t,"pop")},setup:function(t,e){var i=e.from,n=e.to,r="opacity"in i?i.opacity:t.css("opacity"),o="opacity"in n?n.opacity:1,s="scale"in i?i.scale:0,a="scale"in n?n.scale:1;e.from={opacity:r};var l=_v(t);e.from[da]=this._getCssTransform(l,s),e.to={opacity:o},e.to[da]=this._getCssTransform(l,a)},_getCssTransform:function(t,e){return xf(t)+"scale("+e+")"}},GG={custom:Xpe,slide:$M,slideIn:$M,slideOut:$M,fade:GM,fadeIn:GM,fadeOut:GM,pop:efe,css:Qpe},tfe=function(t){var e=GG[t.type];if(!e)throw xt.Error("E0011",t.type);return e},ife={type:"custom",from:{},to:{},duration:400,start:W,complete:W,easing:"ease",delay:0},nfe={duration:400,easing:"ease",delay:0};function rfe(){var t=this.element,e=this.config;if(KM(t,e.from),KM(t,e.to),this.configurator.setup(t,e),t.data(yv,this),bv.off&&(e.duration=0,e.delay=0),this.strategy.initAnimation(t,e),e.start){var i=Pe(t);e.start.apply(this,[i,e])}}var ofe=function(t){var e=t.element,i=t.config;if(e.removeData(yv),i.complete){var n=Pe(e);i.complete.apply(this,[n,i])}t.deferred.resolveWith(this,[e,i])},sfe=function(){var t=this,e=t.element,i=t.config;return t.isStarted=!0,t.strategy.animate(e,i).done(function(){ofe(t)}).fail(function(){t.deferred.rejectWith(this,[e,i])})},afe=function(t){var e=this.element,i=this.config;clearTimeout(this.startTimeout),this.isStarted||this.start(),this.strategy.stop(e,i,t)},UM=ne(xn,"dxFXStartAnimation"),lfe=function(t){S.off(t.element,UM),S.on(t.element,UM,function(){bv.stop(t.element)}),t.deferred.always(function(){S.off(t.element,UM)})},UG=function(t,e){var i=e.type==="css"?nfe:ife,n=y(!0,{},i,e),r=tfe(n),o=Jpe(n),s={element:g(t),config:n,configurator:r,strategy:o,isSynchronous:o.isSynchronous,setup:rfe,start:sfe,stop:afe,deferred:new H};return ce(r.validateConfig)&&r.validateConfig(n),lfe(s),s},dfe=function(t,e){var i=g(t);if(!i.length)return new H().resolve().promise();var n=UG(i,e);return ufe(i,n),n.deferred.promise()};function ufe(t,e){var i=YM(t);cfe(t,i),i.push(e),Lb(t)||XM(t,i)}function YM(t){return t.data(JM)||[]}function cfe(t,e){t.data(JM,e)}var KG=function(t){t.removeData(JM)};function Lb(t){return!!t.data(yv)}function XM(t,e){if(e=YM(t),!!e.length){var i=e.shift();e.length===0&&KG(t),hfe(i).done(function(){Lb(t)||XM(t)})}}function hfe(t){return t.setup(),bv.off||t.isSynchronous?t.start():t.startTimeout=setTimeout(function(){t.start()}),t.deferred.promise()}function KM(t,e){if(!(!e||!e.position)){var i=g(WG),n=0,r=0,o=en.calculate(t,e.position),s=t.offset(),a=t.position();a.top>s.top&&(r=i.scrollTop()),a.left>s.left&&(n=i.scrollLeft()),y(e,{left:o.h.location-s.left+a.left-n,top:o.v.location-s.top+a.top-r}),delete e.position}}function qM(t,e){F(e,function(i,n){try{t.css(i,ce(n)?n():n)}catch{}})}var pfe=function(t,e){var i=g(t),n=YM(i);F(n,function(o,s){s.config.delay=0,s.config.duration=0,s.isSynchronous=!0}),Lb(i)||XM(i,n);var r=i.data(yv);r&&r.stop(e),i.removeData(yv),KG(i)},bv={off:!1,animationTypes:GG,animate:dfe,createAnimation:UG,isAnimating:Lb,stop:pfe,_simulatedTransitionEndDelay:100},Et=bv;var QM=Le(),ffe=t=>{if(t.getRootNode){var e=t.getRootNode().host;if(!Se(e))return e}},ys=()=>{var t=ie.getActiveElement();if(t&&t!==ie.getBody()){var e;(e=t.blur)===null||e===void 0||e.call(t)}},qG=()=>{var t=QM.getSelection();if(t&&t.type!=="Caret"){if(t.empty)t.empty();else if(t.removeAllRanges)try{t.removeAllRanges()}catch{}}},JG=(t,e)=>{var i=g(t),n=g(e);if(i[0]===n[0])return i[0];for(var r=i.parents(),o=n.parents(),s=Math.min(r.length,o.length),a=-s;a<0;a++)if(r.get(a)===o.get(a))return r.get(a)};var ih=t=>{var e=O(t)&&(t.nodeType||Ln(t))?g(t):g("<div>").html(t).contents();return e.length===1&&(e.is("script")?e=ih(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},Dv=(t,e)=>{var i=t.originalEvent&&t.originalEvent.clipboardData||QM.clipboardData;if(!e)return i&&i.getData("Text");i&&i.setData("Text",e)},ko=(t,e)=>e?fi(t)?ko(t.document,e):t.contains(e)||ko(t,ffe(e)):!1,YG=(t,e,i)=>{var n=QM.getComputedStyle(g(t).get(0)),r=i&&i.includePaddings;return g("<div>").text(e).css({fontStyle:n.fontStyle,fontVariant:n.fontVariant,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFamily:n.fontFamily,letterSpacing:n.letterSpacing,border:n.border,paddingTop:r?n.paddingTop:"",paddingRight:r?n.paddingRight:"",paddingBottom:r?n.paddingBottom:"",paddingLeft:r?n.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},gfe=(t,e)=>(e&&ie.insertElement(t.parentNode,e,t),t),XG=(t,e)=>{if(e&&e[0])return e.is(t)?t:(F(e,(i,n)=>{gfe(t[0],n)}),t.remove(),e)},Ou=t=>{var e=t?.get(0),i=e?.getRootNode().host;return!!g(i||e).closest(Le().document).length};var ZM=function(t){return function(e){for(var i=g(e||"body"),n=i.filter(".dx-visibility-change-handler").add(i.find(".dx-visibility-change-handler")),r=0;r<n.length;r++)S.triggerHandler(n[r],t)}},yf=ZM("dxshown"),QG=ZM("dxhiding"),Pr=ZM("dxresize");var mfe=vt({syncStrategy:!0}),po=class{render(e){e=e||{};var i=e.onRendered;delete e.onRendered;var n;return e.renovated&&e.transclude&&this._element?n=g("<div>").append(this._element).contents():n=this._renderCore(e),this._ensureResultInContainer(n,e.container),mfe.fire(n,e.container),i&&i(),n}_ensureResultInContainer(e,i){if(i){var n=g(i),r=ko(n.get(0),e.get(0));if(n.append(e),!r){var o=ie.getBody().contains(n.get(0));o&&yf(e)}}}_renderCore(){throw xt.Error("E0001")}};var kr=class extends po{_renderCore(){return g()}};function vfe(t){return t.reduce((e,i)=>{var n,r=((n=e.get(i))!==null&&n!==void 0?n:0)+1;return e.set(i,r),e},new Map)}var ZG=function(t){return Array.isArray(t)?t:[t]},eU=function(t){return[...new Set(t)]};var eA=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=vfe(e);return t.filter(n=>{var r=i.get(n);return r&&i.set(n,r-1),!r})},nh=function(t,e,i,n){var r={},{useLegacyVisibleIndex:o}=_t(),s=0,a=l=>!O(l[e])&&(!n||n(l));t.forEach(l=>{var d=l[e];d>=0?(r[d]=r[d]||[],l===i?r[d].unshift(l):r[d].push(l)):l[e]=void 0}),o||t.forEach(l=>{if(a(l)){for(;r[s];)s++;r[s]=[l],s++}}),s=0,ev(r,function(l,d){d.forEach(u=>{l>=0&&(u[e]=s++)})}),o&&t.forEach(l=>{a(l)&&(l[e]=s++)})},tU=(t,e)=>t.reduce((i,n)=>{var r,o=e(n);return i[o]=(r=i[o])!==null&&r!==void 0?r:[],i[o].push(n),i},{});var ua=function(t){return t===0?0:t/Math.abs(t)},ln=function(t,e,i){var n=!e&&e!==0,r=!i&&i!==0;return n&&(e=r?t:Math.min(t,i)),r&&(i=n?t:Math.max(t,e)),Math.min(Math.max(t,e),i)},No=function(t,e,i){return t>=e&&t<=i};function iU(t){return Math.abs(parseInt(t.toExponential().split("e")[1]))}function _fe(t){var e=t.toExponential().split("e"),i=parseFloat(e[0]),n=parseInt(e[1]);return{exponent:n,mantissa:i}}function Bb(t,e){var i=_fe(t);return parseFloat("".concat(i.mantissa,"e").concat(i.exponent+e))}function Cfe(){return 3e-4.toPrecision(3)!=="0.000300"}function Ov(t,e){var i=xfe(e||0)+2,n=t.toString().split("."),r=t,o=Math.abs(t),s,a=sb(t),l=o>1?10:0;return n.length===1?t:(a||(sb(e)&&(i=n[0].length+iU(e)),t=o,t=t-Math.floor(t)+l),i=Cfe()&&iU(t)>6||i>7?15:7,!a&&(s=parseFloat(t.toPrecision(i)).toString().split("."),s[0]===l.toString())?parseFloat(n[0]+"."+s[1]):parseFloat(r.toPrecision(i)))}function xfe(t){var e=t.toString();if(e.indexOf(".")<0)return 0;var i=e.split("."),n=i[1].indexOf("e");return n>=0?n:i[1].length}var yfe=ot.inherit({ctor:function(t){this._$element=g(t),this._cancelCallback=vt(),this._acceptCallback=vt()},getElement:function(){return this._$element},validate:function(t){return!rr(t)},validatePointers:function(t){return hG(t)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(t){y(this,t)},addCancelCallback:function(t){this._cancelCallback.add(t)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(t){this._cancelCallback.fire(this,t)},addAcceptCallback:function(t){this._acceptCallback.add(t)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(t){this._acceptCallback.fire(this,t)},_requestAccept:function(t){this._acceptRequestEvent=t},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:W,move:W,end:W,cancel:W,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,e,i){var n=y({type:t,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},i);return e=Jr(n),e.cancel&&this._cancel(e),e},_getEmitterTarget:function(t){return(this.delegateSelector?g(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:W}),Eu=yfe;var bfe=sn.add,nU=Math.abs,tA=0,iA=1,Ev=2,Vb=10,Dfe=0,Ofe=180,Efe=function(){return sa("pointer-events")},Sfe=Kr(function(){var t=be.real().deviceType==="desktop";if(!Efe()||!t)return W;var e=g("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return S.subscribeGlobal(e,"dxmousewheel",function(i){i.preventDefault()}),bfe(function(){e.appendTo("body")}),function(i,n){e.css("pointerEvents",i?"all":"none"),i&&e.css("cursor",n)}}),wfe=function(t,e){var i=Sfe();i(t,e)},nA=Eu.inherit({gesture:!0,configure:function(t){this.getElement().css("msTouchAction",t.immediate?"pinch-zoom":""),this.callBase(t)},allowInterruptionByMouseWheel:function(){return this._stage!==Ev},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=tA},start:function(t){if(t._needSkipEvent||Tb(t)){this._cancel(t);return}this._startEvent=la(t),this._startEventData=Bi(t),this._stage=iA,this._init(t),this._setupImmediateTimer()},_setupImmediateTimer:function(){var t;if(clearTimeout(this._immediateTimer),this._immediateAccepted=!1,!!this.immediate){if(this.immediateTimeout===0){this._immediateAccepted=!0;return}this._immediateTimer=setTimeout((function(){this._immediateAccepted=!0}).bind(this),(t=this.immediateTimeout)!==null&&t!==void 0?t:Ofe)}},move:function(t){if(this._stage===iA&&this._directionConfirmed(t)){if(this._stage=Ev,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(t),this._adjustStartEvent(t),this._start(this._startEvent),this._stage===tA)return;this._requestAccept(t),this._move(t),this._forgetAccept()}else this._stage===Ev&&(this._clearSelection(t),this._move(t))},_directionConfirmed:function(t){var e=this._getTouchBoundary(t),i=el(this._startEventData,Bi(t)),n=nU(i.x),r=nU(i.y),o=this._validateMove(e,n,r),s=this._validateMove(e,r,n),a=this.getDirection(t),l=a==="both"&&(o||s),d=a==="horizontal"&&o,u=a==="vertical"&&s;return l||d||u||this._immediateAccepted},_validateMove:function(t,e,i){return e&&e>=t&&(this.immediate?e>=i:!0)},_getTouchBoundary:function(t){return this.immediate||rr(t)?Dfe:Vb},_adjustStartEvent:function(t){var e=this._getTouchBoundary(t),i=el(this._startEventData,Bi(t));this._startEvent.pageX+=ua(i.x)*e,this._startEvent.pageY+=ua(i.y)*e},_resetActiveElement:function(){be.real().platform==="ios"&&this.getElement().find(":focus").length&&ys()},_toggleGestureCover:function(t){this._toggleGestureCoverImpl(t)},_toggleGestureCoverImpl:function(t){var e=this._stage===Ev;e&&wfe(t,this.getElement().css("cursor"))},_clearSelection:function(t){rr(t)||Jl(t)||qG()},end:function(t){this._toggleGestureCover(!1),this._stage===Ev?this._end(t):this._stage===iA&&this._stop(t),this._stage=tA},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:W,_start:W,_move:W,_stop:W,_end:W});nA.initialTouchBoundary=Vb;nA.touchBoundary=function(t){if(O(t)){Vb=t;return}return Vb};var bf=nA;var Su="dxmousewheel",rU="dxWheel",Ife="wheel",oU=0,Tfe=30,rA={setup:function(t){var e=g(t);S.on(e,ne(Ife,rU),rA._wheelHandler.bind(rA))},teardown:function(t){S.off(t,".".concat(rU))},_wheelHandler:function(t){var{deltaMode:e,deltaY:i,deltaX:n,deltaZ:r}=t.originalEvent;Jr({type:Su,originalEvent:t,delta:this._normalizeDelta(i,e),deltaX:n,deltaY:i,deltaZ:r,deltaMode:e,pointerType:"mouse"}),t.stopPropagation()},_normalizeDelta(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oU;return e===oU?-t:-Tfe*t}};mr(Su,rA);var Hb="dxEventManager",Sv="dxEmitter",Mfe=ot.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){sn.add((function(){var t=ie.getDocument();S.subscribeGlobal(t,ne(nt.down,Hb),this._pointerDownHandler.bind(this)),S.subscribeGlobal(t,ne(nt.move,Hb),this._pointerMoveHandler.bind(this)),S.subscribeGlobal(t,ne([nt.up,nt.cancel].join(" "),Hb),this._pointerUpHandler.bind(this)),S.subscribeGlobal(t,ne(Su,Hb),this._mouseWheelHandler.bind(this))}).bind(this))},_eachEmitter:function(t){for(var e=this._activeEmitters||[],i=0;e.length>i;){var n=e[i];if(t(n)===!1)break;e[i]===n&&i++}},_applyToEmitters:function(t,e){this._eachEmitter(function(i){i[t].call(i,e)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(t){this._proxiedCancelHandler(t)},_pointerDownHandler:function(t){Po(t)&&t.which>1||this._updateEmitters(t)},_updateEmitters:function(t){this._isSetChanged(t)&&(this._cleanEmitters(t),this._fetchEmitters(t))},_isSetChanged:function(t){var e=this._closestEmitter(t),i=this._emittersSet||[],n=e.length!==i.length;return F(e,function(r,o){return n=n||i[r]!==o,!n}),this._emittersSet=e,n},_closestEmitter:function(t){var e=this,i=[],n=g(t.target);function r(s,a){a&&a.validatePointers(t)&&a.validate(t)&&(a.addCancelCallback(e._proxiedCancelHandler),a.addAcceptCallback(e._proxiedAcceptHandler),i.push(a))}for(;n.length;){var o=ui(n.get(0),Sv)||[];F(o,r),n=n.parent()}return i},_acceptHandler:function(t,e){var i=this;this._eachEmitter(function(n){n!==t&&i._cancelEmitter(n,e)})},_cancelHandler:function(t,e){this._cancelEmitter(t,e)},_cancelEmitter:function(t,e){var i=this._activeEmitters;e?t.cancel(e):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback();var n=i.indexOf(t);n>-1&&i.splice(n,1)},_cleanEmitters:function(t){this._applyToEmitters("end",t),this.reset(t)},_fetchEmitters:function(t){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",t)},_pointerMoveHandler:function(t){this._applyToEmitters("move",t)},_pointerUpHandler:function(t){this._updateEmitters(t)},_mouseWheelHandler:function(t){this._allowInterruptionByMouseWheel()&&(t.pointers=[null],this._pointerDownHandler(t),this._adjustWheelEvent(t),this._pointerMoveHandler(t),t.pointers=[],this._pointerUpHandler(t))},_allowInterruptionByMouseWheel:function(){var t=!0;return this._eachEmitter(function(e){return t=e.allowInterruptionByMouseWheel()&&t,t}),t},_adjustWheelEvent:function(t){var e=null;if(this._eachEmitter(function(o){if(o.gesture){var s=o.getDirection(t);if(s!=="horizontal"&&!t.shiftKey||s!=="vertical"&&t.shiftKey)return e=o,!1}}),!!e){var i=e.getDirection(t),n=i==="both"&&!t.shiftKey||i==="vertical",r=n?"pageY":"pageX";t[r]+=t.delta}},isActive:function(t){var e=!1;return this._eachEmitter(function(i){e=e||i.getElement().is(t)}),e}}),sU=new Mfe,oA="dxEmitterSubscription",Afe=function(t){var e=t.emitter,i=t.events[0],n=t.events;F(n,function(r,o){mr(o,{noBubble:!t.bubble,setup:function(s){var a=ui(s,oA)||{},l=ui(s,Sv)||{},d=l[i]||new e(s);a[o]=!0,l[i]=d,ui(s,Sv,l),ui(s,oA,a)},add:function(s,a){var l=ui(s,Sv),d=l[i];d.configure(y({delegateSelector:a.selector},a.data),a.type)},teardown:function(s){var a=ui(s,oA),l=ui(s,Sv),d=l[i];delete a[o];var u=!0;F(n,function(h,p){return u=u&&!a[p],u}),u&&(sU.isActive(s)&&sU.resetEmitter(d),d&&d.dispose(),delete l[i])}})})},bs=Afe;var ca="dxdragstart",Qo="dxdrag",ha="dxdragend",wv="dxdragenter",Iv="dxdragleave",aA="dxdrop",zb="dxDragEventsCount",Yl=[],Df=[],sA=[],lA={setup:function(t,e){var i=Yl.includes(t);i||(Yl.push(t),Df.push([]),sA.push(e||{}))},add:function(t,e){var i=Yl.indexOf(t);this.updateEventsCounter(t,e.type,1);var n=e.selector;Df[i].includes(n)||Df[i].push(n)},updateEventsCounter:function(t,e,i){if([wv,Iv,aA].indexOf(e)>-1){var n=ui(t,zb)||0;ui(t,zb,Math.max(0,n+i))}},remove:function(t,e){this.updateEventsCounter(t,e.type,-1)},teardown:function(t){var e=ui(t,zb);if(!e){var i=Yl.indexOf(t);Yl.splice(i,1),Df.splice(i,1),sA.splice(i,1),vu(t,zb)}}};mr(wv,lA);mr(Iv,lA);mr(aA,lA);var Rfe=function(t){var e=Yl.indexOf(t.get(0)),i=Df[e].filter(r=>r),n=t.find(i.join(", "));return Df[e].includes(void 0)&&(n=n.add(t)),n},Ffe=function(t){var e=Yl.indexOf(t.get(0));return sA[e]},Pfe=function(t,e){return t.itemPositionFunc?t.itemPositionFunc(e):e.offset()},kfe=function(t,e){return t.itemSizeFunc?t.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},Nfe=bf.inherit({ctor:function(t){this.callBase(t),this.direction="both"},_init:function(t){this._initEvent=t},_start:function(t){if(t=this._fireEvent(ca,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset,t.targetElements||t.targetElements===null){var e=ZG(t.targetElements||[]);this._dropTargets=gi(e,function(i){return g(i).get(0)})}else this._dropTargets=Yl},_move:function(t){var e=Bi(t),i=this._calculateOffset(e);t=this._fireEvent(Qo,t,{offset:i}),this._processDropTargets(t),t._cancelPreventDefault||t.preventDefault()},_calculateOffset:function(t){return{x:this._calculateXOffset(t),y:this._calculateYOffset(t)}},_calculateXOffset:function(t){if(this.direction!=="vertical"){var e=t.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(t){if(this.direction!=="horizontal"){var e=t.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(t,e,i){return e!=null&&(t=Math.max(t,-e)),i!=null&&(t=Math.min(t,i)),t},_processDropTargets:function(t){var e=this._findDropTarget(t),i=e===this._currentDropTarget;i||(this._fireDropTargetEvent(t,Iv),this._currentDropTarget=e,this._fireDropTargetEvent(t,wv))},_fireDropTargetEvent:function(t,e){if(this._currentDropTarget){var i={type:e,originalEvent:t,draggingElement:this._$element.get(0),target:this._currentDropTarget};Jr(i)}},_findDropTarget:function(t){var e=this,i;return F(Yl,function(n,r){if(e._checkDropTargetActive(r)){var o=g(r);F(Rfe(o),function(s,a){var l=g(a);e._checkDropTarget(Ffe(o),l,g(i),t)&&(i=a)})}}),i},_checkDropTargetActive:function(t){var e=!1;return F(this._dropTargets,function(i,n){return e=e||n===t||ko(n,t),!e}),e},_checkDropTarget:function(t,e,i,n){var r=e.get(0)===g(n.target).get(0);if(r)return!1;var o=Pfe(t,e);if(n.pageX<o.left||n.pageY<o.top)return!1;var s=kfe(t,e);return n.pageX>o.left+s.width||n.pageY>o.top+s.height||i.length&&i.closest(e).length||t.checkDropTarget&&!t.checkDropTarget(e,n)?!1:e},_end:function(t){var e=Bi(t);this._fireEvent(ha,t,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(t,aA),delete this._currentDropTarget}});bs({emitter:Nfe,events:[ca,Qo,ha]});var aU="compositionstart",Lfe="compositionend",Bfe="keydown",dA="KeyboardProcessor",lU=t=>({keyName:qt(t),key:t.key,code:t.code,ctrl:t.ctrlKey,location:t.location,metaKey:t.metaKey,shift:t.shiftKey,alt:t.altKey,which:t.which,originalEvent:t}),dU=ot.inherit({_keydown:ne(Bfe,dA),_compositionStart:ne(aU,dA),_compositionEnd:ne(Lfe,dA),ctor:function(t){t=t||{},t.element&&(this._element=g(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._element&&(this._processFunction=e=>{var i=g(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!i.includes(e.target),r=this._isComposingJustFinished&&e.which===229||this._isComposing||n;this._isComposingJustFinished=!1,r||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),S.on(this._element,this._keydown,this._processFunction),S.on(this._element,this._compositionStart,this._toggleProcessingWithContext),S.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(S.off(this._element,this._keydown,this._processFunction),S.off(this._element,this._compositionStart,this._toggleProcessingWithContext),S.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(t){this._handler(lU(t))},toggleProcessing:function(t){var{type:e}=t;this._isComposing=e===aU,this._isComposingJustFinished=!this._isComposing}});dU.createKeyDownOptions=lU;var Wb=dU;function Bn(t,e){return e?ne(t,e):t}function uA(t,e){return typeof t=="function"?t(e):t.execute(e)}var cA={on:(t,e,i,n)=>{var{selector:r,showTimeout:o,hideTimeout:s,namespace:a}=n;S.on(t,Bn("dxactive",a),r,{timeout:o},l=>uA(e,{event:l,element:l.currentTarget})),S.on(t,Bn("dxinactive",a),r,{timeout:s},l=>uA(i,{event:l,element:l.currentTarget}))},off:(t,e)=>{var{namespace:i,selector:n}=e;S.off(t,Bn("dxactive",i),n),S.off(t,Bn("dxinactive",i),n)}},Of={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S.on(t,Bn("dxresize",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.off(t,Bn("dxresize",e))}},hA={on:(t,e,i,n)=>{var{selector:r,namespace:o}=n;S.on(t,Bn("dxhoverend",o),r,s=>i(s)),S.on(t,Bn("dxhoverstart",o),r,s=>uA(e,{element:s.target,event:s}))},off:(t,e)=>{var{selector:i,namespace:n}=e;S.off(t,Bn("dxhoverstart",n),i),S.off(t,Bn("dxhoverend",n),i)}},Ef={on:(t,e,i,n)=>{var{namespace:r}=n;S.on(t,Bn("dxhiding",r),i),S.on(t,Bn("dxshown",r),e)},off:(t,e)=>{var{namespace:i}=e;S.off(t,Bn("dxhiding",i)),S.off(t,Bn("dxshown",i))}},Sf={on:(t,e,i,n)=>{var{namespace:r}=n;S.on(t,Bn("focusin",r),e),S.on(t,Bn("focusout",r),i)},off:(t,e)=>{var{namespace:i}=e;S.off(t,Bn("focusin",i)),S.off(t,Bn("focusout",i))},trigger:t=>S.trigger(t,"focus")},pA={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S.on(t,Bn("dxclick",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.off(t,Bn("dxclick",e))}},fA={on:function(t,e){var{namespace:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};S.on(t,Bn("click",i),e)},off:function(t){var{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};S.off(t,Bn("click",e))}},Vfe=0,Tv={},Hfe=()=>"keyboardProcessorId".concat(Vfe++),Ds={on:(t,e,i)=>{var n=Hfe();return Tv[n]=new Wb({element:t,focusTarget:e,handler:i}),n},off:t=>{t&&Tv[t]&&(Tv[t].dispose(),delete Tv[t])},_getProcessor:t=>Tv[t]};var gA=function(){var t=[];return{add:function(e){t.includes(e)||t.push(e)},remove:function(e){var i=t.indexOf(e);i!==-1&&t.splice(i,1)},fire:function(){var e=t.pop(),i=!!e;return i&&e(),i},hasCallback:function(){return t.length>0}}}();var pa=(()=>{class t{constructor(i,n){n=n||{},this._action=i,this._context=n.context||Le(),this._beforeExecute=n.beforeExecute,this._afterExecute=n.afterExecute,this._component=n.component,this._validatingTargetName=n.validatingTargetName;var r=this._excludeValidators={};if(n.excludeValidators)for(var o=0;o<n.excludeValidators.length;o++)r[n.excludeValidators[o]]=!0}execute(){var i={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},n=this._beforeExecute,r=this._afterExecute,o=i.args[0]||{};if(this._validateAction(i)&&(n?.call(this._context,i),!i.cancel)){var s=this._executeAction(i);if(!o.cancel)return r?.call(this._context,i),s}}_validateAction(i){var n=this._excludeValidators,{executors:r}=t;for(var o in r)if(!n[o]){var s,a=r[o];if((s=a.validate)===null||s===void 0||s.call(a,i),i.cancel)return!1}return!0}_executeAction(i){var n,{executors:r}=t;for(var o in r){var s,a=r[o];if((s=a.execute)===null||s===void 0||s.call(a,i),i.handled){n=i.result;break}}return n}static registerExecutor(i,n){if(Ve(i)){F(i,t.registerExecutor);return}t.executors[i]=n}static unregisterExecutor(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];F(n,function(){delete t.executors[this]})}}return t.executors={},t})();var uU=t=>e=>{if(e.args.length){var i=e.args[0],n=i[e.validatingTargetName]||i.element;n&&t(g(n))&&(e.cancel=!0)}};pa.registerExecutor({disabled:{validate:uU(t=>t.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:uU(t=>t.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:t=>{t.action||(t.result=void 0,t.handled=!0)}},func:{execute:t=>{ce(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}}});var zfe=function(t,e){return 1/t===1/e},cU=function(t,e){if(t=Cn(t,!0),e=Cn(e,!0),t&&e&&Ln(t)&&Ln(e))return e.is(t);var i=t!==t,n=e!==e;return i&&n?!0:t===0&&e===0?zfe(t,e):t===null||typeof t!="object"||ie.isElementNode(t)?t===e:!1};var mA={},fa=t=>{var e=be.current();return t.reduce((i,n)=>{var{device:r,options:o}=n,s=r||{},a=ce(s)?s(e):Wfe(e,s);return a&&y(!0,i,o),i},{})},hU=(t,e)=>typeof t!="string"?t:{[t]:e},Wfe=(t,e)=>Zi(e)||cb(t,[e]).length>0,vA=t=>t.substr(t.lastIndexOf(".")+1),_A=t=>t.substr(0,t.lastIndexOf(".")),pU=function(t,e){return mA[e]=mA[e]||Tt(e),mA[e](t,{functionsAsIs:!0})},fU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t};var CA={},xA={},jb=class{constructor(e,i){this._options=e,this._optionsByReference=i,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(e,i){y(!0,e,i);for(var n in this._optionsByReference)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}_setPreparedValue(e,i,n,r){var o=this.get(this._options,e,!1);if(!cU(o,i)){var s=ps(e);!r&&this._changingCallback(e,o,i),xA[e]=xA[e]||lf(e),xA[e](this._options,i,{functionsAsIs:!0,merge:O(n)?n:!this._optionsByReference[e],unwrapObservables:s.length>1&&!!this._optionsByReference[s[0]]}),!r&&this._changedCallback(e,i,o)}}_prepareRelevantNames(e,i,n,r){if(Ve(n))for(var o in n)this._prepareRelevantNames(e,"".concat(i,".").concat(o),n[o]);this._namePreparedCallbacks(e,i,n,r)}get(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return CA[i]=CA[i]||Tt(i),CA[i](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,i,n,r){e=hU(e,i);for(var o in e)this._prepareRelevantNames(e,o,e[o],r);for(var s in e)this._setPreparedValue(s,e[s],n,r)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}dispose(){this._changingCallback=W,this._changedCallback=W}};var $b=class{constructor(e,i,n,r){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=i,this._deprecated=r,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new jb(e,n),this._optionManager.onRelevantNamesPrepared((o,s,a,l)=>this._setRelevantNames(o,s,a,l)),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){var e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(var e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,fa(e)}_notifyDeprecated(e){var i=this._deprecated[e];i&&this._deprecatedCallback(e,i)}_setRelevantNames(e,i,n,r){if(i){var o=this._normalizeName(i,r);o&&o!==i&&(this._setField(e,o,n),this._clearField(e,i))}}_setField(e,i,n){var r="",o=null;do r=r?".".concat(r):"",r=vA(i)+r,i=_A(i),o=i?this._optionManager.get(e,i,!1):e;while(!o);o[r]=n}_clearField(e,i){delete e[i];var n=_A(i),r=n?this._optionManager.get(e,n,!1):e;r&&delete r[vA(i)]}_normalizeName(e,i){if(this._deprecatedNames.length&&e){for(var n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){var r=this._deprecated[e];if(r)return!i&&this._notifyDeprecated(e),r.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){var i=this._getByRules(e);this.silent(i)}dispose(){this._deprecatedCallback=W,this._startChangeCallback=W,this._endChangeCallback=W,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){var i=this.silent(e),n=this.initial(e),r=ce(i)&&ce(n);return r?i.toString()===n.toString():Rt(i,n)}initial(e){return pU(this._initial,e)}option(e,i){var n=arguments.length<2&&ir(e)!=="object";if(n)return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,i)}finally{this._endChangeCallback()}}silent(e,i){var n=arguments.length<2&&ir(e)!=="object";if(n)return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,i,void 0,!0)}reset(e){if(e){var i=ps(e),n=i.reduce((o,s)=>o?o[s]:this.initial(s),null),r=ke(n)?te({},n):n;this._optionManager.set(e,r,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(i=>e===this._deprecated[i].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,i){var n=arguments.length<2;if(n)return this._cachedOptions[e];this._cachedOptions[e]=y(this._cachedOptions[e],i)}};var Gb=class{constructor(){this._postponedOperations={}}add(e,i,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{var r=new H;this._postponedOperations[e]={fn:i,completePromise:r,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(var e in this._postponedOperations){var i=this._postponedOperations[e];O(i)&&(i.promises&&i.promises.length?ye(...i.promises).done(i.fn).then(i.completePromise.resolve):i.fn().done(i.completePromise.resolve))}this._postponedOperations={}}};var gU=t=>t.charAt(2).toLowerCase()+t.substr(3),jfe=t=>t.indexOf("_",0)===0,yA=ot.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(t){this._options.applyRules(t)},_convertRulesToOptions:t=>fa(t),_isInitialOptionValue(t){return this._options.isInitial(t)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:e,_disposingCallbacks:i}=t;this.NAME=bu(this.constructor),this._eventsStrategy=vs.create(this,t.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||vt(),this._disposingCallbacks=i||vt(),this.postponedOperations=new Gb,this._createOptions(t)},_createOptions(t){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new $b(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((e,i,n)=>this._initialized&&this._optionChanging(e,i,n)),this._options.onDeprecated((e,i)=>this._logDeprecatedOptionWarning(e,i)),this._options.onChanged((e,i,n)=>this._notifyOptionChanged(e,i,n)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),t&&t.onInitializing&&t.onInitializing.apply(this,[t]),this._setOptionsByDevice(t.defaultOptionsRules),this._initOptions(t)}finally{this.endUpdate()}},_initOptions(t){this.option(t)},_init(){this._createOptionChangedAction(),this.on("disposing",t=>{this._disposingCallbacks.fireWith(this,[t])})},_logDeprecatedOptionWarning(t,e){var i=e.message||"Use the '".concat(e.alias,"' option instead");xt.log("W0001",this.NAME,t,e.since,i)},_logDeprecatedComponentWarning(t,e){xt.log("W0000",this.NAME,t,"Use the '".concat(e,"' widget instead"))},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(t){switch(t.name){case"onDisposing":case"onInitialized":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:W,_notifyOptionChanged(t,e,i){if(this._initialized)for(var n=[t].concat(this._options.getAliasesByName(t)),r=0;r<n.length;r++){var o=n[r],s={name:ps(o)[0],fullName:o,value:e,previousValue:i};jfe(o)||(this._optionChangedCallbacks.fireWith(this,[y(this._defaultActionArgs(),s)]),this._optionChangedAction(y({},s))),!this._disposed&&this._cancelOptionChange!==o&&this._optionChanged(s)}},initialOption(t){return this._options.initial(t)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(t,e){var i;return n=>(O(n)||(n={}),Ve(n)||(n={actionValue:n}),i=i||new pa(t,y({},e,this._defaultActionConfig())),i.execute.call(i,y(n,this._defaultActionArgs())))},_createActionByOption(t,e){var i=this,n,r,o;e=y({},e);var s=function(){if(!r){if(e=e||{},typeof t!="string")throw xt.Error("E0008");t.indexOf("on")===0&&(r=gU(t)),o=i.option(t)}if(!(!n&&!o&&!e.beforeExecute&&!e.afterExecute&&!i._eventsStrategy.hasEvent(r))){if(!n){var l=e.beforeExecute;e.beforeExecute=function(){for(var c=arguments.length,x=new Array(c),D=0;D<c;D++)x[D]=arguments[D];l&&l.apply(i,x),i._eventsStrategy.fireEvent(r,x[0].args)},n=i._createAction(o,e)}for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];if(_t().wrapActionsBeforeExecute){var p=i.option("beforeActionExecute")||W,m=p(i,n,e)||n;return m.apply(i,u)}return n.apply(i,u)}};if(_t().wrapActionsBeforeExecute)return s;var a=this.option("onActionCreated")||W;return a(this,s,e)||s},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this},hasActionSubscription:function(t){return!!this._options.silent(t)||this._eventsStrategy.hasEvent(gU(t))},isOptionDeprecated(t){return this._options.isDeprecated(t)},_setOptionWithoutOptionChange(t,e){this._cancelOptionChange=t,this.option(t,e),this._cancelOptionChange=!1},_getOptionValue(t,e){var i=this.option(t);return ce(i)?i.bind(e)():i},option(){return this._options.option(...arguments)},resetOption(t){this.beginUpdate(),this._options.reset(t),this.endUpdate()}});var Os=class extends po{constructor(e){super(),this._render=e}_renderCore(e){return ih(this._render(e))}};var wu=class extends po{constructor(e){super(),this.name=e}};var mU={},Ub;function vU(t,e){mU[t]=e}function _U(t){if(Se(t)){if(Ub=mU[t],!Ub)throw xt.Error("E0020",t)}else Ub=t}function bA(){return Ub}vU("default",{compile:t=>ih(t),render:(t,e,i)=>t.clone()});_U("default");var Kb=class extends po{constructor(e){super(),this._element=e}_renderCore(e){var i=e.transclude;return!i&&!this._compiledTemplate&&(this._compiledTemplate=bA().compile(this._element)),g("<div>").append(i?this._element:bA().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return g(this._element).clone()}};var qb=(t,e)=>{var i=g(t).contents().filter("[".concat("data-options",'*="').concat(e,'"]'));return[].slice.call(i).map(n=>{var r=g(n).attr("data-options")||"";return{element:n,options:_t().optionsParser(r)[e]}}).filter(n=>!!n.options)},CU=t=>{var e=tU(t,n=>n.options.name);if(e[void 0])throw xt.Error("E0023");var i={};return Object.keys(e).forEach(n=>{var r,o=(r=cb(be.current(),e[n],s=>s.options)[0])===null||r===void 0?void 0:r.element;o&&(i[n]=o)}),i},xU=t=>{var e=t.render.bind(t);return y({},t,{render(i){var n=e(i);return i&&i.onRendered&&i.onRendered(),n}})},$fe=t=>{var e=t.render.bind(t);return y({},t,{render(i){var n=g(i.container);return e(te({},i,{container:Pe(n)}))}})},yU=t=>{var e=[];return"model"in t&&e.push(t.model),"index"in t&&e.push(t.index),e.push(t.container),e},bU=t=>typeof t=="string"?ih(t):t,DA=t=>Ln(t)&&t[0]||t,DU=t=>new Kb(t),Gfe=(t,e,i,n)=>{var r=null;return(!n||n.indexOf(t)===-1)&&(r=e[t],r&&!(r instanceof po)&&(ce(r.render)&&(r=$fe(r)),i||(r=xU(r)))),r},OA=(t,e,i,n,r,o)=>t==null?new kr:t instanceof wu?o[t.name]:t instanceof po?t:ce(t.render)&&!Ln(t)?n?t:xU(t):t.nodeType||Ln(t)?e(g(t)):Gfe(t,i,n,r)||o[t]||e(t);var Ufe=3,Kfe="template",qfe="dxTemplate",Jfe="dx-template-wrapper",Yfe=new Os(t=>{var{model:e,parent:i}=t,n=e.widget;if(!n)return g();var r=g("<div>"),o=e.options||{};return i?i._createComponent(r,n,o):r[n](o),r}),Mv=class{constructor(e,i){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=i||Kfe,this._createElement=e||DU,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.skipImmediate||i(e()),W},templates:{"dx-polymorph-widget":Yfe},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=y({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){var i=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:i,anonymousTemplateMeta:n}}_extractTemplates(e){var i=qb(e,qfe),n=CU(i);return i.forEach(r=>{var{element:o,options:{name:s}}=r;o===n[s]?g(o).addClass(Jfe).detach():g(o).remove()}),Object.keys(n).map(r=>({name:r,template:this._createTemplate(n[r])}))}_extractAnonymousTemplate(e){var i=e.contents().detach(),n=i.filter((r,o)=>{var s=o.nodeType===Ufe,a=g(o).text().trim().length<1;return!(s&&a)});return n.length>0?{template:this._createTemplate(i),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){var i=this._tempTemplates.filter(r=>r.source===DA(e))[0];if(i)return i.template;var n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:DA(e)}),n}_createTemplate(e){return this._createElement(bU(e))}getTemplate(e,i,n,r){var{isAsyncTemplate:o,skipTemplates:s}=n;return ce(e)?new Os(a=>{var l=e.apply(r,yU(a));if(!O(l))return new kr;var d=!1,u=OA(l,p=>p.nodeType||Ln(p)&&!g(p).is("script")?new Os(()=>p):(d=!0,this._createTemplate(p)),i,o,s,this._defaultTemplates),h=u.render(a);return d&&u.dispose&&u.dispose(),h}):OA(e,this._createTemplateIfNeeded,i,o,s,this._defaultTemplates)}};function OU(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}function EU(t){var e,i;return new Uint8Array((i=(e=t.match(/.{1,2}/g))===null||e===void 0?void 0:e.map(n=>parseInt(n,16)))!==null&&i!==void 0?i:[])}function SU(t){for(var e=new Uint8Array(t.length),i=0;i<t.length;i+=1)e[i]=255&t.charCodeAt(i);return e}function wU(t){for(var e=new Uint8Array(4*t.length),i=0;i<e.length;i+=1)e[i]=t[i>>2]>>>8*(3-i%4);return e}function IU(t){for(var e=new Uint32Array(1+(t.length-1>>2)),i=0;i<t.length;i+=1)e[i>>2]|=t[i]<<8*(3-i%4);return e}function EA(t,e){return(t<<e|t>>>32-e)>>>0}function SA(t,e){var i=new Uint8Array(t.length+e.length);return i.set(t,0),i.set(e,t.length),i}var Jb={e:65537,n:new Uint8Array([200,219,153,203,140,7,228,253,193,243,62,137,139,60,68,242,48,142,113,88,185,235,253,105,80,74,32,170,96,74,111,250,7,205,154,3,146,115,153,53,45,132,123,56,61,208,184,201,63,24,109,223,0,179,169,102,139,224,73,233,45,173,138,66,98,88,69,76,177,111,113,218,192,33,101,152,25,134,34,173,32,82,230,44,247,200,253,170,192,246,30,12,96,205,100,249,181,93,0,231])},TU="2D293FRQFEus9BTrBCkD5A";var Xfe="3021300906052b0e03021a05000414";function MU(t){var e=(8*Jb.n.length+6)/8,i=SA(EU(Xfe),t);if(i.length+10>e)throw Error("Key is too short for SHA1 signing algorithm");var n=new Uint8Array(e-i.length);return n.fill(255,0,n.length-1),n[0]=0,n[1]=1,n[n.length-1]=0,SA(n,i)}function AU(t){try{var e=BigInt(0),i=BigInt(1),n=BigInt(8),r=u=>u.reduce((h,p)=>(h<<n)+BigInt(p),e),o=r(t.actual),s=r(t.signature),a=BigInt(t.key.e),l=r(t.key.n),d=((u,h,p)=>{for(var m=i,c=u,x=h;x;)x&i&&(m=m*c%p),c=c*c%p,x>>=i;return m})(s,a,l);return d===o}catch{return!0}}function Qfe(t){var e=new Uint8Array(t.length+1);e.set(SU(t)),e[e.length-1]=128;var i=IU(new Uint8Array(e)),n=new Uint32Array(16*Math.ceil((i.length+2)/16));return n.set(i,0),n[n.length-1]=8*(e.length-1),n}function RU(t){for(var e=Qfe(t),i=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),n=0;n<e.length;n+=16){for(var r=new Uint32Array(80),o=0;o<16;o+=1)r[o]=e[n+o];for(var s=16;s<80;s+=1){var a=r[s-3]^r[s-8]^r[s-14]^r[s-16];r[s]=a<<1|a>>>31}for(var l=i[0],d=i[1],u=i[2],h=i[3],p=i[4],m=0;m<80;m+=1){var[c,x]=m<20?[d&u|~d&h,1518500249]:m<40?[d^u^h,1859775393]:m<60?[d&u|d&h|u&h,2400959708]:[d^u^h,3395469782],D=EA(l,5)+c+p+x+r[m];p=h,h=u,u=EA(d,30),d=l,l=D}i[0]+=l,i[1]+=d,i[2]+=u,i[3]+=h,i[4]+=p}return wU(i)}var Zo;(function(t){t.corrupted="corrupted",t.verified="verified",t.internal="internal"})(Zo||(Zo={}));var Zfe=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i},ege=".",tge=1,ige=3,FU={kind:Zo.corrupted,error:"general"},nge={kind:Zo.corrupted,error:"verification"},rge={kind:Zo.corrupted,error:"decoding"},oge={kind:Zo.corrupted,error:"deserialization"},sge={kind:Zo.corrupted,error:"payload"},age={kind:Zo.corrupted,error:"version"},wA=!1;function lge(t){var{text:e,signature:i}=t;return AU({key:Jb,signature:OU(i),actual:MU(RU(e))})}function dge(t){if(t===void 0)return FU;var e=t.split(ege);if(e.length!==2||e[0].length===0||e[1].length===0)return FU;if(!lge({text:e[0],signature:e[1]}))return nge;var i="";try{i=atob(e[0])}catch{return rge}var n={};try{n=JSON.parse(i)}catch{return oge}var{customerId:r,maxVersionAllowed:o,format:s,internalUsageId:a}=n,l=Zfe(n,["customerId","maxVersionAllowed","format","internalUsageId"]);return a!==void 0?{kind:Zo.internal,internalUsageId:a}:r===void 0||o===void 0||s===void 0?sge:s!==tge?age:{kind:Zo.verified,payload:te({customerId:r,maxVersionAllowed:o},l)}}function uge(t){var{licenseKey:e,version:i}=t,n=!1;try{var[r,o,s]=i.split(".").map(Number);if(n=isNaN(s)||s<ige,!e)return{preview:n,error:"W0019"};var a=dge(e);return a.kind===Zo.corrupted?{preview:n,error:"W0021"}:a.kind===Zo.internal?{preview:n,internal:!0,error:a.internalUsageId===TU?void 0:"W0020"}:r&&o?10*r+o>a.payload.maxVersionAllowed?{preview:n,error:"W0020"}:{preview:n,error:void 0}:{preview:n,error:"W0021"}}catch{return{preview:n,error:"W0021"}}}function cge(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:db;if(!wA){wA=!0;var{preview:i,internal:n,error:r}=uge({licenseKey:t,version:e});if(r){xt.log(i?"W0022":r);return}i&&!n&&xt.log("W0022")}}function IA(){return wA}var PU={validateLicense:cge};var{abstract:Yb}=yA,TA=yA.inherit({_getDefaultOptions(){return y(this.callBase(),{width:void 0,height:void 0,rtlEnabled:_t().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?Mv.createDefaultOptions():{})},ctor(t,e){this._customClass=null,this._createElement(t),Rb(this._$element,this,this._dispose),this.callBase(e);var i=IA();PU.validateLicense(_t().licenseKey),!i&&IA()&&_t({licenseKey:""})},_createElement(t){this._$element=g(t)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(t){this.option("_ignoreFunctionValueDeprecation")||t.forEach(e=>{ce(this.option(e))&&xt.log("W0017",e)})},_visibilityChanged:Yb,_dimensionChanged:Yb,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(t){this.callBase([].concat(this.constructor._classCustomRules||[],t||[]))},_isInitialOptionValue(t){var e=this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),t);return!e&&this.callBase(t)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=this._dimensionChanged.bind(this);aa.add(t)}},_isDimensionChangeSupported(){return this._dimensionChanged!==Yb},_renderComponent(){this._initMarkup(),Ne()&&this._render()},_initMarkup(){var{rtlEnabled:t}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(t),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers(),c2(this.$element())},_renderElementAttributes(){var{elementAttr:t}=this.option()||{},e=y({},t),i=e.class;delete e.class,this.$element().attr(e).removeClass(this._customClass).addClass(i),this._customClass=i},_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){var t=this.$element();t.addClass("dx-visibility-change-handler")}},_renderDimensions(){var t=this.$element(),e=t.get(0),i=this._getOptionValue("width",e),n=this._getOptionValue("height",e);this._isCssUpdateRequired(e,n,i)&&t.css({width:i===null?"":i,height:n===null?"":n})},_isCssUpdateRequired:(t,e,i)=>!!(O(i)||O(e)||t.style.width||t.style.height),_attachDimensionChangeHandlers(){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");Of.off(t,{namespace:e}),Of.on(t,()=>this._dimensionChanged(),{namespace:e})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){var t=this.$element(),e="".concat(this.NAME,"VisibilityChange");this._isHidden=!this._isVisible(),Ef.off(t,{namespace:e}),Ef.on(t,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:e})}},_isVisible(){var t=this.$element();return t.is(":visible")},_checkVisibilityChanged(t){var e=this._isVisible();e&&(t==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):t==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==Yb&&Ne()},_clean:W,_modelByElement(){var{modelByElement:t}=this.option(),e=this.$element();return t?t(e):void 0},_invalidate(){if(this._isUpdateAllowed())throw xt.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&aa.remove(this._windowResizeCallBack)},_toggleRTLDirection(t){var e=this.$element();e.toggleClass("dx-rtl",t)},_createComponent(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Sn(this._getSynchronizableOptionsForCreateComponent(),u=>!(u in i)),{integrationOptions:r}=this.option(),{nestedComponentOptions:o}=this.option();o=o||W;var s=y({integrationOptions:r},o(this));n.forEach(u=>s[u]=this.option(u)),this._extendConfig(i,s);var a=void 0;if(Se(e)){var l=g(t)[e](i);a=l[e]("instance")}else t&&(a=e.getInstance(t),a?a.option(i):a=new e(t,i));if(a){var d=u=>{var{name:h,value:p}=u;n.includes(h)&&a.option(h,p)};this.on("optionChanged",d),a.on("disposing",()=>this.off("optionChanged",d))}return a},_extendConfig(t,e){F(e,(i,n)=>{!Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=n)})},_defaultActionConfig(){var t=this.$element(),e=this._modelByElement(t);return y(this.callBase(),{context:e})},_defaultActionArgs(){var t=this.$element(),e=this._modelByElement(t),i=this.element();return y(this.callBase(),{element:i,model:e})},_optionChanged(t){switch(t.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(t)}},_removeAttributes(t){for(var e=t.attributes,i=e.length-1;i>=0;i--){var n=e[i];if(n){var{name:r}=n;(!r.indexOf("aria-")||r.indexOf("dx-")!==-1||r==="role"||r==="style"||r==="tabindex")&&t.removeAttribute(r)}}},_removeClasses(t){t.className=t.className.split(" ").filter(e=>e.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(t){t?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){var t=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(t)},$element(){return this._$element},element(){var t=this.$element();return Pe(t)},dispose(){var t=this.$element().get(0);_u(t,!0),t.textContent="",this._removeAttributes(t),this._removeClasses(t)},resetOption(t){if(this.callBase(t),t==="width"||t==="height"){var e=this.initialOption(t);!O(e)&&this.$element().css(t,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(!(this._templateManager||!this._useTemplates())){var{integrationOptions:t={}}=this.option(),{createTemplate:e}=t;this._templateManager=new Mv(e,this._getAnonymousTemplateName()),this._initTemplates()}},_initTemplates(){var{templates:t,anonymousTemplateMeta:e}=this._templateManager.extractTemplates(this.$element()),i=this.option("integrationOptions.templates.".concat(e.name));t.forEach(n=>{var{name:r,template:o}=n;this._options.silent("integrationOptions.templates.".concat(r),o)}),e.name&&!i&&(this._options.silent("integrationOptions.templates.".concat(e.name),e.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(t){return this._getTemplate(this.option(t))},_getTemplate(t){var e=this.option("integrationOptions.templates"),i=this.option("templatesRenderAsynchronously"),n=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(t,e,{isAsyncTemplate:i,skipTemplates:n},this)},_saveTemplate(t,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+t,this._templateManager._createTemplate(e))},_useTemplates:()=>!0});TA.getInstance=function(t){return Fb(g(t),this)};TA.defaultOptions=function(t){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(t)};var Xr=TA;function Xb(t,e,i){function n(l){return typeof l=="string"?l.split("."):typeof l=="number"?[l]:l}t=n(t),e=n(e);var r=Math.max(t.length,e.length);isFinite(i)&&(r=Math.min(r,i));for(var o=0;o<r;o++){var s=parseInt(t[o]||0,10),a=parseInt(e[o]||0,10);if(s<a)return-1;if(s>a)return 1}return 0}function kU(t){return t&&[t.target,t.delegateTarget,t.relatedTarget,t.currentTarget].filter(e=>!!e)}var NU=(t,e)=>{S.one(kU(t),xn,e)},LU=(t,e)=>{S.off(kU(t),xn,e)};var lt="dxclick";var MA=null,Av=null,BU=()=>{Av=null},VU=function(t){var e=t.originalEvent,i=Av===e||e&&e.DXCLICK_FIRED,n=!t.which||t.which===1;n&&!MA&&!i&&(e&&(e.DXCLICK_FIRED=!0),LU(Av,BU),Av=e,NU(Av,BU),Jr({type:lt,originalEvent:t}))},hge=Eu.inherit({ctor:function(t){this.callBase(t),S.on(this.getElement(),"click",VU)},start:function(t){MA=null},cancel:function(){MA=!0},dispose:function(){S.off(this.getElement(),"click",VU)}});(function(){var t=be.real().generic;if(!t){var e=null,i=!1,n=ie.getDocument();S.subscribeGlobal(n,ne(nt.down,"NATIVE_CLICK_FIXER"),function(r){e=r.target,i=r.isDefaultPrevented()}),S.subscribeGlobal(n,ne("click","NATIVE_CLICK_FIXER"),function(r){var o=g(r.target);!i&&e&&!o.is(e)&&!g(e).is("label")&&(s=o,g(s).is("input, textarea, select, button ,:focus, :focus *"))&&ys();var s;e=null,i=!1})}})();bs({emitter:hge,bubble:!0,events:[lt]});var Xl="dxactive",AA="dxinactive",fge=30,gge=400,Qb=ot.inherit({ctor:function(t,e){this._timeout=t,this._fire=e},start:function(){var t=this;this._schedule(function(){t.force()})},_schedule:function(t){this.stop(),this._timer=setTimeout(t,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),ga,RA=Eu.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new Qb(0,W),this._inactive=new Qb(0,W)},configure:function(t,e){switch(e){case Xl:t.activeTimeout=t.timeout;break;case AA:t.inactiveTimeout=t.timeout}this.callBase(t)},start:function(t){if(ga){var e=ko(this.getElement().get(0),ga.getElement().get(0)),i=!ga._active.fired();if(e&&i){this._cancel();return}ga._inactive.force()}ga=this,this._initEvents(t),this._active.start()},_initEvents:function(t){var e=this,i=this._getEmitterTarget(t),n=Po(t),r=be.isSimulator(),o=r||!n,s=Qt(this.activeTimeout,fge),a=Qt(this.inactiveTimeout,gge);this._active=new Qb(o?s:0,function(){e._fireEvent(Xl,t,{target:i})}),this._inactive=new Qb(o?a:0,function(){e._fireEvent(AA,t,{target:i}),ga=null})},cancel:function(t){this.end(t)},end:function(t){var e=t.type!==nt.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),ga===this&&(ga=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),ga=null,this._cancel(),this._inactive.force.bind(this._inactive)}});RA.lock=function(t){var e=ga?ga.lockInactive():W;t.done(e)};bs({emitter:RA,events:[Xl,AA]});var HU=RA.lock;var zU="dxHoverStart",Iu="dxhoverstart",mge=ne(nt.enter,zU),WU="dxHoverEnd",Tu="dxhoverend",vge=ne(nt.leave,WU),jU=ot.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(t){ui(t,this._handlerArrayKeyPath,{})},add:function(t,e){var i=this,n=function(r){i._handler(r)};S.on(t,this._originalEventName,e.selector,n),ui(t,this._handlerArrayKeyPath)[e.guid]=n},_handler:function(t){Jl(t)||be.isSimulator()||Jr({type:this._eventName,originalEvent:t,delegateTarget:t.delegateTarget})},remove:function(t,e){var i=ui(t,this._handlerArrayKeyPath)[e.guid];S.off(t,this._originalEventName,e.selector,i)},teardown:function(t){vu(t,this._handlerArrayKeyPath)}}),_ge=jU.inherit({ctor:function(){this._eventNamespace=zU,this._eventName=Iu,this._originalEventName=mge,this.callBase()},_handler:function(t){var e=t.pointers||[];e.length||this.callBase(t)}}),Cge=jU.inherit({ctor:function(){this._eventNamespace=WU,this._eventName=Tu,this._originalEventName=vge,this.callBase()}});mr(Iu,new _ge);mr(Tu,new Cge);function $U(t,e,i){t=t==="role"||t==="id"?t:"aria-".concat(t),e=O(e)?e.toString():null,i.attr(t,e)}var FA=Xr.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return y(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=be.real(),e=t.platform,i=t.version;return e==="ios"&&Xb(i,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(t,e){var i=FA.getOptionsFromContainer(e);t&&t.option(i),this._options.cache(e.name,i)},_bindInnerWidgetOptions(t,e){var i=()=>this._options.silent(e,y({},t.option()));i(),t.on("optionChanged",i)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){var{disabled:t,visible:e}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(t),this._toggleVisibility(e),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){var{hint:t}=this.option();this.$element().attr("title",t||null)},_renderContent(){zi(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:W,_fireContentReadyAction:qa(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(t){this.$element().toggleClass("dx-state-invisible",!t)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){var t=this._focusTarget(),{accessKey:e}=this.option();t.attr("accesskey",e)},_isFocusable(){var{focusStateEnabled:t,disabled:e}=this.option();return t&&!e},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(t){var e=g(this._focusTarget()).toArray();return e.includes(t)},_findActiveTarget(t){return t.find(this._activeStateUnit).not(".dx-state-disabled")},_getActiveElement(){var t=this._eventBindingTarget();return this._activeStateUnit?this._findActiveTarget(t):t},_renderFocusTarget(){var{tabIndex:t}=this.option();this._focusTarget().attr("tabIndex",t)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(t,!0),excludeValidators:["readOnly"]})({event:t})},_focusOutHandler(t){t.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(t,!1),excludeValidators:["readOnly","disabled"]})({event:t})},_updateFocusState(t,e){var{target:i}=t;this._isFocusTarget(i)&&this._toggleFocusClass(e,g(i))},_toggleFocusClass(t,e){var i=e&&e.length?e:this._focusTarget();i.toggleClass("dx-state-focused",t)},_hasFocusClass(t){var e=g(t||this._focusTarget());return e.hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();var{focusStateEnabled:t,onKeyboardHandled:e}=this.option(),i=this._getKeyboardListeners().length,n=!!e,r=t||i||n;r&&(this._keyboardListenerId=Ds.on(this._keyboardEventBindingTarget(),this._focusTarget(),o=>this._keyboardHandler(o)))},_keyboardHandler(t,e){if(!e){var{originalEvent:i,keyName:n,which:r}=t,o=this._supportedKeys(i),s=o[n]||o[r];if(s!==void 0){var a=s.bind(this),l=a(i,t);if(!l)return!1}}var d=this._getKeyboardListeners(),{onKeyboardHandled:u}=this.option();return d.forEach(h=>h&&h._keyboardHandler(t)),u&&u(t),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){var t=this._focusTarget();t.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){Ds.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){var{hoverStateEnabled:t}=this.option(),e=this._activeStateUnit,i=this._eventBindingTarget();hA.off(i,{selector:e,namespace:"UIFeedback"}),t&&hA.on(i,new pa(n=>{var{event:r,element:o}=n;this._hoverStartHandler(r),this.option("hoveredElement",g(o))},{excludeValidators:["readOnly"]}),n=>{this.option("hoveredElement",null),this._hoverEndHandler(n)},{selector:e,namespace:"UIFeedback"})},_attachFeedbackEvents(){var{activeStateEnabled:t}=this.option(),e=this._activeStateUnit,i=this._eventBindingTarget();cA.off(i,{namespace:"UIFeedback",selector:e}),t&&cA.on(i,new pa(n=>{var{event:r,element:o}=n;return this._toggleActiveState(g(o),!0,r)}),new pa(n=>{var{event:r,element:o}=n;return this._toggleActiveState(g(o),!1,r)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:e,namespace:"UIFeedback"})},_detachFocusEvents(){var t=this._focusEventTarget();Sf.off(t,{namespace:"".concat(this.NAME,"Focus")})},_attachFocusEvents(){var t=this._focusEventTarget();Sf.on(t,e=>this._focusInHandler(e),e=>this._focusOutHandler(e),{namespace:"".concat(this.NAME,"Focus"),isFocusable:(e,i)=>g(i).is(fv)})},_hoverStartHandler:W,_hoverEndHandler:W,_toggleActiveState(t,e){this.option("isActive",e),t.toggleClass("dx-state-active",e)},_updatedHover(){var t=this._options.silent("hoveredElement");this._hover(t,t)},_findHoverTarget(t){return t&&t.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(t,e){var{hoverStateEnabled:i,disabled:n,isActive:r}=this.option();if(e=this._findHoverTarget(e),e&&e.toggleClass("dx-state-hover",!1),t&&i&&!n&&!r){var o=this._findHoverTarget(t);o&&o.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(t){this.$element().toggleClass("dx-state-disabled",!!t),this.setAria("disabled",t||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(t,e){if(this[t]){if(Ve(e[0])){F(e[0],(o,s)=>this._setWidgetOption(t,[o,s]));return}var i=e[0],n=e[1];e.length===1&&(n=this.option(i));var r=this["".concat(t,"OptionMap")];this[t].option(r?r(i):i,n)}},_optionChanged(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"disabled":this._toggleDisabledState(i),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(i,n);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(i),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(i?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(t)}},_isVisible(){var{visible:t}=this.option();return this.callBase()&&t},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(t){if(arguments.length===0)return this._isReady;this._isReady=t},setAria(){if(!Ve(arguments.length<=0?void 0:arguments[0]))$U(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{var t=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();F(arguments.length<=0?void 0:arguments[0],(e,i)=>$U(e,i,t))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){Sf.trigger(this._focusTarget())},registerKeyHandler(t,e){var i=this._supportedKeys();this._supportedKeys=()=>y(i,{[t]:e})}});FA.getOptionsFromContainer=t=>{var{name:e,fullName:i,value:n}=t,r={};if(e===i)r=n;else{var o=i.split(".").pop();r[o]=n}return r};var Ci=FA;var Zb=1500,Mu=[],GU=t=>(Zb=Qt(t,Zb),Zb),e0=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zb,e=Mu.length,i=(e?Mu[e-1]:t)+1;return Mu.push(i),i},Rv=t=>{var e=Mu.indexOf(t);e>=0&&Mu.splice(e,1)},UU=t=>Mu.length&&Mu[Mu.length-1]===t;var PA="dx-swatch-",xge=t=>{var e=g(t),i=e.closest('[class^="'.concat(PA,'"], [class*=" ').concat(PA,'"]')),n=qr();if(!i.length)return n;var r=new RegExp("(\\s|^)(".concat(PA,".*?)(\\s|$)")),o=i[0].className.match(r)[2],s=n.children("."+o);return s.length||(s=g("<div>").addClass(o).appendTo(n)),s},Au={getSwatchContainer:xge};var yge=Le(),kA={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},qU={h:0,v:0},Ru=class{constructor(e){var{position:i,container:n,visualContainer:r,$root:o,$content:s,$wrapper:a,onPositioned:l,onVisualPositionChanged:d,restorePosition:u,_fixWrapperPosition:h,_skipContentPositioning:p}=e;this._props={position:i,container:n,visualContainer:r,restorePosition:u,onPositioned:l,onVisualPositionChanged:d,_fixWrapperPosition:h,_skipContentPositioning:p},this._$root=o,this._$content=s,this._$wrapper=a,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(n),this.updatePosition(i),this.updateVisualContainer(r)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._props._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._props.restorePosition=e}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){var e=this._props.restorePosition;this.restorePositionOnNextRender(e)}updatePosition(e){this._props.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.container;this._props.container=e,this._$markupContainer=e?g(e):Au.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.visualContainer;this._props.visualContainer=e,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(Vt(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&en.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var e=fi(this.$visualContainer.get(0))||this._props._fixWrapperPosition,i=e?"fixed":"absolute";this._$wrapper.css("position",i)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=In(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),tl(this._$content);var e=this._$wrapper.css("overflow");if(this._$wrapper.css("overflow","hidden"),!this._props._skipContentPositioning){var i=en.setup(this._$content,this._position);this._initialPosition=i}this._$wrapper.css("overflow",e),this.detectVisualPositionChange()}_raisePositionedEvents(e){var i=this._previousVisualPosition,n=this._visualPosition,r=i?.top!==n.top||i?.left!==n.left;r&&this._props.onVisualPositionChanged({previousPosition:i,position:n,event:e}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){var e,i=(e=this._position)!==null&&e!==void 0?e:{boundaryOffset:qU};this._$content.css("margin","".concat(i.v,"px ").concat(i.h,"px"))}_getVisualContainer(){var e,i,n=this._props.container,r=this._props.visualContainer,o=q$((e=this._props.position)===null||e===void 0?void 0:e.of)?this._props.position.of.target:(i=this._props.position)===null||i===void 0?void 0:i.of;return r?g(r):n?g(n):o?g(o):g(yge)}_normalizePosition(e){var i={boundaryOffset:qU};return O(e)?y(!0,{},i,this._positionToObject(e)):i}_positionToObject(e){return Se(e)?y({},kA[e]):e}};var bge=sn.add,wf=Le(),JU=Qc,Dge="dx-overlay",Oge="dx-overlay-wrapper",Ege="dx-overlay-content",Sge="dx-overlay-shader",YU="dx-inner-overlay",NA="dx-state-invisible",wge="content",Ige="dx-rtl",BA=[],LA="dx-prevent-safari-scrolling",Tge="tab";bge(()=>{S.subscribeGlobal(ie.getDocument(),nt.down,t=>{for(var e=BA.length-1;e>=0;e--)if(!BA[e]._proxiedDocumentDownHandler(t))return})});var t0=Ci.inherit({_supportedKeys:function(){return y(this.callBase(),{escape:function(){this.hide()}})},_getDefaultOptions:function(){return y(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:y({},kA.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,copyRootClassesToWrapper:!1,_ignoreCopyRootClassesToWrapperDeprecation:!1,_ignoreElementAttrDeprecation:!1,_ignorePreventScrollEventsDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_hideOnParentScrollTarget:void 0,_fixWrapperPosition:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!Ne()},options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference:function(){this.callBase(),y(this._optionsByReference,{animation:!0})},$wrapper:function(){return this._$wrapper},_eventBindingTarget:function(){return this._$content},_setDeprecatedOptions(){this.callBase(),y(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor:function(t,e){this.callBase(t,e),e&&(e.copyRootClassesToWrapper&&!e._ignoreCopyRootClassesToWrapperDeprecation&&this._logDeprecatedOptionWarning("copyRootClassesToWrapper",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),e.elementAttr&&!e._ignoreElementAttrDeprecation&&this._logDeprecatedOptionWarning("elementAttr",{since:"21.2",message:'Use the "wrapperAttr" option instead'}),"preventScrollEvents"in e&&!e._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo())},_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})},_init:function(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=g("<div>").addClass(Oge),this._$content=g("<div>").addClass(Ege),this._initInnerOverlayClass();var t=this.$element();this.option("copyRootClassesToWrapper")&&this._$wrapper.addClass(t.attr("class")),t.addClass(Dge),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:e=>{this._hideOnParentsScrollHandler(e)}},this.warnPositionAsFunction()},warnPositionAsFunction(){ce(this.option("position"))&&xt.log("W0018")},_initInnerOverlayClass:function(){this._$content.toggleClass(YU,this.option("innerOverlay"))},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t},_getActionsList:function(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]},_initActions:function(){this._actions={};var t=this._getActionsList();F(t,(e,i)=>{this._actions[i]=this._createActionByOption(i,{excludeValidators:["disabled","readOnly"]})||W})},_initHideOnOutsideClickHandler:function(){var t=this;this._proxiedDocumentDownHandler=function(){return t._documentDownHandler(...arguments)}},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler:function(t){this._showAnimationProcessing&&this._stopAnimation();var e=g(wf.document).is(t.target)||ko(wf.document,t.target),i=g(t.target).closest(".".concat(YU)).length,n=e&&!i&&!(this._$content.is(t.target)||ko(this._$content.get(0),t.target));return n&&this._shouldHideOnOutsideClick(t)&&this._outsideClickHandler(t),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick:function(t){var{hideOnOutsideClick:e}=this.option();return ce(e)?e(t):e},_outsideClickHandler(t){this.option("shading")&&t.preventDefault(),this.hide()},_getAnonymousTemplateName:function(){return wge},_initTemplates:function(){this._templateManager.addDefaultTemplates({content:new kr}),this.callBase()},_isTopOverlay:function(){for(var t=this._overlayStack(),e=t.length-1;e>=0;e--){var i=t[e]._findTabbableBounds();if(i.first||i.last)return t[e]===this}return!1},_overlayStack:function(){return BA},_zIndexInitValue:function(){return t0.baseZIndex()},_toggleViewPortSubscription:function(t){var e=this;JU.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler(...arguments)},JU.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){var{wrapperAttr:t}=this.option(),e=y({},t),i=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(i),this._customWrapperClass=i},_renderVisibilityAnimate:function(t){return this._stopAnimation(),t?this._show():this._hide()},_getAnimationConfig:function(){return this._getOptionValue("animation",this)},_toggleBodyScroll:W,_animateShowing:function(){var t,e,i,n=this,r=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},o=this._normalizeAnimation(r.show,"to"),s=(e=o?.start)!==null&&e!==void 0?e:W,a=(i=o?.complete)!==null&&i!==void 0?i:W;this._animate(o,function(){if(!n._isAnimationPaused){n.option("focusStateEnabled")&&S.trigger(n._focusTarget(),"focus");for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];a.call(n,...d),n._showAnimationProcessing=!1,n._isHidden=!1,n._actions.onShown(),n._toggleSafariScrolling(),n._showingDeferred.resolve()}},function(){if(!n._isAnimationPaused){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];s.call(n,...d),n._showAnimationProcessing=!0}})},_processShowingHidingCancel:function(t,e,i){Ka(t)?t.then(n=>{n?i():e()}).catch(()=>e()):t?i():e()},_show:function(){if(this._showingDeferred=new H,this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return new H().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{var t=()=>{this._stopAnimation(),this._toggleBodyScroll(this.option("enableBodyScroll")),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass(NA,!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();var e={cancel:!1};this._actions.onShowing(e),this._processShowingHidingCancel(e.cancel,()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass(NA,!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this._toggleBodyScroll(!0),this.option("visible",!1),this._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(t)):t()}return this._showingDeferred.promise()},_normalizeAnimation:function(t,e){return t&&(t=y({type:"slide",skipElementInitialStyles:!0},t),ke(t[e])&&y(t[e],{position:this._positionController.position})),t},_animateHiding:function(){var t,e,i,n=this,r=(t=this._getAnimationConfig())!==null&&t!==void 0?t:{},o=this._normalizeAnimation(r.hide,"from"),s=(e=o?.start)!==null&&e!==void 0?e:W,a=(i=o?.complete)!==null&&i!==void 0?i:W;this._animate(o,function(){var l;n._$content.css("pointerEvents",""),n._renderVisibility(!1);for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];a.call(n,...u),n._hideAnimationProcessing=!1,(l=n._actions)===null||l===void 0||l.onHidden(),n._hidingDeferred.resolve()},function(){n._$content.css("pointerEvents","none");for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];s.call(n,...d),n._hideAnimationProcessing=!0})},_hide:function(){if(!this._currentVisible)return new H().resolve().promise();this._currentVisible=!1,this._hidingDeferred=new H;var t={cancel:!1};return this._isShowingActionCanceled?(delete this._isShowingActionCanceled,this._hidingDeferred.reject()):(this._actions.onHiding(t),this._toggleSafariScrolling(),this._toggleBodyScroll(!0),this._processShowingHidingCancel(t.cancel,()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding()},()=>{this._isHidingActionCanceled=!0,this._toggleBodyScroll(this.option("enableBodyScroll")),this.option("visible",!0),this._hidingDeferred.resolve()})),this._hidingDeferred.promise()},_forceFocusLost:function(){var t=ie.getActiveElement(),e=!!this._$content.find(t).length;e&&ys()},_animate:function(t,e,i){t?(i=i||t.start||W,Et.animate(this._$content,y({},t,{start:i,complete:e}))):e()},_stopAnimation:function(){Et.stop(this._$content,!0)},_renderVisibility:function(t){t&&this._isParentHidden()||(this._currentVisible=t,this._stopAnimation(),t||QG(this._$content),t?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),yf(this._$content),Pr(this._$content)):(this._toggleVisibility(t),this._$content.toggleClass(NA,!t),this._updateZIndexStackPosition(t),this._moveFromContainer()),this._toggleShading(t),this._toggleSubscriptions(t))},_updateZIndexStackPosition:function(t){var e=this._overlayStack(),i=e.indexOf(this);t?(i===-1&&(this._zIndex=e0(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):i!==-1&&(e.splice(i,1),Rv(this._zIndex))},_toggleShading:function(t){this._$wrapper.toggleClass(Sge,t&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(t&&this.option("shading"))},_initTabTerminatorHandler:function(){var t=this;this._proxiedTabTerminatorHandler=function(){t._tabKeyHandler(...arguments)}},_toggleTabTerminator:function(t){var e=ne("keydown",this.NAME);t?S.on(ie.getDocument(),e,this._proxiedTabTerminatorHandler):S.off(ie.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds:function(){for(var t=this._$wrapper.find("*"),e=t.length-1,i={first:null,last:null},n=0;n<=e&&(!i.first&&t.eq(n).is(TM)&&(i.first=t.eq(n)),!i.last&&t.eq(e-n).is(TM)&&(i.last=t.eq(e-n)),!(i.first&&i.last));n++);return i},_tabKeyHandler:function(t){if(!(qt(t)!==Tge||!this._isTopOverlay())){var e=this._findTabbableBounds(),i=e.first,n=e.last,r=!t.shiftKey&&t.target===n.get(0),o=t.shiftKey&&t.target===i.get(0),s=e.length===0,a=!ko(this._$wrapper.get(0),t.target);if(r||o||s||a){t.preventDefault();var l=t.shiftKey?n:i;S.trigger(l,"focusin"),S.trigger(l,"focus")}}},_toggleSubscriptions:function(t){Ne()&&(this._toggleHideTopOverlayCallback(t),this._toggleHideOnParentsScrollSubscription(t))},_toggleHideTopOverlayCallback:function(t){this._hideTopOverlayHandler&&(t?gA.add(this._hideTopOverlayHandler):gA.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription:function(t){var e,i=ne("scroll",this.NAME),{prevTargets:n,handler:r}=(e=this._parentsScrollSubscriptionInfo)!==null&&e!==void 0?e:{};S.off(n,i,r);var o=this.option("hideOnParentScroll");if(t&&o){var s=this._getHideOnParentScrollTarget().parents();be.real().deviceType==="desktop"&&(s=s.add(wf)),S.on(s,i,r),this._parentsScrollSubscriptionInfo.prevTargets=s}},_hideOnParentsScrollHandler:function(t){var e=!1,i=this.option("hideOnParentScroll");ce(i)&&(e=i(t)),!e&&!this._showAnimationProcessing&&this.hide()},_getHideOnParentScrollTarget:function(){var t=g(this.option("_hideOnParentScrollTarget"));return t.length?t:this._$wrapper},_render:function(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement:function(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent:function(){var t=!this._currentVisible&&this.option("deferRendering"),e=this.option("visible")&&this._isParentHidden();if(e){this._isHidden=!0;return}this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden:function(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;var t=this.$element().parent();if(t.is(":visible"))return!1;var e=!1;return t.add(t.parents()).each(function(){var i=g(this);if(i.css("display")==="none")return e=!0,!1}),e||!ie.getBody().contains(t.get(0))},_renderContentImpl:function(){var t=new H,e=this.option("contentTemplate"),i=this._getTemplate(e),n=this._templateManager.anonymousTemplateName===e;return i&&i.render({container:Pe(this.$content()),noModel:!0,transclude:n,onRendered:()=>{t.resolve(),this.option("templatesRenderAsynchronously")&&this._dimensionChanged()}}),this._toggleWrapperScrollEventsSubscription(this.option("preventScrollEvents")),t.done(()=>{this.option("visible")&&this._moveToContainer()}),t.promise()},_getPositionControllerConfig(){var{container:t,visualContainer:e,_fixWrapperPosition:i,restorePosition:n,_skipContentPositioning:r}=this.option();return{container:t,visualContainer:e,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:n,_fixWrapperPosition:i,_skipContentPositioning:r}},_initPositionController(){this._positionController=new Ru(this._getPositionControllerConfig())},_toggleWrapperScrollEventsSubscription:function(t){var e=ne(Qo,this.NAME);S.off(this._$wrapper,e),t&&S.on(this._$wrapper,e,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:function(i){i||this._toggleGestureCoverImpl(i)},_clearSelection:W,isNative:!0},i=>{var n=i.originalEvent.originalEvent,{type:r}=n||{},o=r==="wheel",s=r==="mousemove",a=o&&!Wi(i);i._cancelPreventDefault=!0,n&&i.cancelable!==!1&&(!s&&!o||a)&&i.preventDefault()})},_moveFromContainer:function(){this._$content.appendTo(this.$element()),this._$wrapper.detach()},_checkContainerExists(){var t=this._positionController.$container;if(t!==void 0){var e=t.length>0;e||Ke.log("W1021",this.NAME)}},_moveToContainer:function(){var t=this._positionController.$container;this._$wrapper.appendTo(t),this._$content.appendTo(this._$wrapper)},_renderGeometry:function(t){var{visible:e}=this.option();e&&Ne()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl:function(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered:function(){return fi(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling:function(){var t=this.option("visible"),e=g(ie.getBody()),i=be.real().platform==="ios"&&Nt.safari,n=this._isAllWindowCovered(),r=e.hasClass(LA),o=!r&&t&&n,s=r&&(!t||!n||this._disposed);i&&(s?(e.removeClass(LA),wf.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):o&&(this._cachedBodyScrollTop=wf.pageYOffset,e.addClass(LA)))},_renderWrapper:function(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions:function(){var t=this._positionController.$visualContainer,e=ie.getDocumentElement(),i=fi(t.get(0)),n=i?e.clientWidth:it(t),r=i?wf.innerHeight:et(t);this._$wrapper.css({width:n,height:r})},_renderDimensions:function(){var t=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",t),maxWidth:this._getOptionValue("maxWidth",t),minHeight:this._getOptionValue("minHeight",t),maxHeight:this._getOptionValue("maxHeight",t),width:this._getOptionValue("width",t),height:this._getOptionValue("height",t)})},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardListenerId=Ds.on(this._$content,null,t=>this._keyboardHandler(t))},_keyboardHandler:function(t){var e=t.originalEvent,i=g(e.target);(i.is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible:function(){return this.option("visible")},_visibilityChanged:function(t){t?this.option("visible")&&this._renderVisibilityAnimate(t):this._renderVisibilityAnimate(t)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){var t=this.option();!this._contentAlreadyRendered&&!t.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose:function(){Et.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&Rv(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection:function(t){this._$content.toggleClass(Ige,t)},_optionChanged:function(t){var{value:e,name:i}=t;if(this._getActionsList().includes(i)){this._initActions();return}switch(i){case"animation":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":this._renderGeometry();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(e).done(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.resolveWith(this)}).fail(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.reject()});break;case"container":this._positionController.updateContainer(e),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(e),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":case"_hideOnParentScrollTarget":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(t);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=e;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=e;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(e);break;default:this.callBase(t)}},toggle:function(t){t=t===void 0?!this.option("visible"):t;var e=new H;if(t===this.option("visible"))return e.resolveWith(this,[t]).promise();var i=new H;return this._animateDeferred=i,this.option("visible",t),i.promise().done(()=>{delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}).fail(()=>{delete this._animateDeferred,e.reject()}),e.promise()},$content:function(){return this._$content},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return Pe(this._$content)},repaint:function(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Pr(this._$content)):this.callBase()}});t0.baseZIndex=t=>GU(t);Be("dxOverlay",t0);var Rn=t0;var Mge=sn.add,XU="dx-toast",rh=XU+"-",Age=rh+"wrapper",Rge=rh+"content",Fge=rh+"message",Pge=rh+"icon",kge="dxToast",Nge=["info","warning","error","success"],VA=[],Lge=8e3,Bge={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}},Vge={h:0,v:0},Hge=20;Mge(function(){S.subscribeGlobal(ie.getDocument(),nt.down,function(t){for(var e=VA.length-1;e>=0;e--)if(!VA[e]._proxiedDocumentDownHandler(t))return})});var QU=Rn.inherit({_getDefaultOptions:function(){return y(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},shading:!1,height:"auto",hideTopOverlayHandler:null,preventScrollEvents:!1,closeOnSwipe:!0,closeOnClick:!1})},_defaultOptionsRules:function(){var t={displayTime:ki()?4e3:2e3,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:200,from:0,to:1},hide:{type:"fade",duration:200,from:1,to:0}}};return this.callBase().concat([{device:e=>e.deviceType==="phone",options:te({width:"calc(100vw - ".concat(2*Hge,"px)")},t)},{device:e=>e.deviceType==="tablet",options:te({width:"auto",maxWidth:"80vw"},t)},{device:e=>ki()&&e.deviceType==="desktop",options:{minWidth:344,maxWidth:568,displayTime:4e3}}])},_init:function(){this.callBase(),this._posStringToObject()},_renderContentImpl:function(){this._message=g("<div>").addClass(Fge).text(this.option("message")).appendTo(this.$content()),this.setAria("role","alert",this._message),Nge.includes(this.option("type").toLowerCase())&&this.$content().prepend(g("<div>").addClass(Pge)),this.callBase()},_render:function(){this.callBase(),this.$element().addClass(XU),this.$wrapper().addClass(Age),this.$content().addClass(rh+String(this.option("type")).toLowerCase()),this.$content().addClass(Rge),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_toggleCloseEvents:function(t){var e="dx"+t.toLowerCase();S.off(this.$content(),e),this.option("closeOn"+t)&&S.on(this.$content(),e,this.hide.bind(this))},_posStringToObject:function(){if(Se(this.option("position"))){var t=this.option("position").split(" ")[0],e=this.option("position").split(" ")[1];switch(this.option("position",y({boundaryOffset:Vge},Bge[t])),e){case"center":case"left":case"right":this.option("position").at+=" "+e,this.option("position").my+=" "+e}}},_show:function(){return this.callBase.apply(this,arguments).always((function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hide.bind(this),this.option("displayTime"))}).bind(this))},_overlayStack:function(){return VA},_zIndexInitValue:function(){return this.callBase()+Lge},_dispose:function(){clearTimeout(this._hideTimeout),this.callBase()},_optionChanged:function(t){switch(t.name){case"type":this.$content().removeClass(rh+t.previousValue),this.$content().addClass(rh+String(t.value).toLowerCase());break;case"message":this._message&&this._message.text(t.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":break;default:this.callBase(t)}}});Be(kge,QU);var ZU=QU;var e4=ZU;var t4=Le(),i4=null,n4={};function zge(t,e,i){var n=Ve(t)?t:{message:t},r=Ve(e)?e:void 0,o=Ve(e)?void 0:e,{onHidden:s}=n;if(r!=null&&r.position){var{position:a}=r,l=r.direction||Wge(a),d=Se(a)?a:"".concat(a.top,"-").concat(a.left,"-").concat(a.bottom,"-").concat(a.right),{onShowing:u}=n,h=$ge(d);Gge(h,l),y(n,{container:h,_skipContentPositioning:!0,onShowing:function(p){Uge(h,l,a),u?.(p)}})}y(n,{type:o,displayTime:i,onHidden:function(p){g(p.element).remove(),s?.(p)}}),i4=g("<div>").appendTo(qr()),new e4(i4,n).show()}var Wge=t=>Se(t)&&t.includes("top")?"down-push":"up-push",jge=t=>{var e=g("<div>").appendTo(qr());return n4[t]=e,e},$ge=t=>{var e=n4[t];return e||jge(t)},Gge=(t,e)=>{var i="dx-toast-stack dx-toast-stack-".concat(e,"-direction");t.removeAttr("class").addClass(i)},Uge=(t,e,i)=>{var{offsetWidth:n,offsetHeight:r}=t.children().first().get(0),o={toastWidth:n,toastHeight:r,windowHeight:t4.innerHeight,windowWidth:t4.innerWidth},s=Se(i)?Kge(i,o):i,a=qge(e,s,o);t.css(a)},Kge=(t,e)=>{var{toastWidth:i,toastHeight:n,windowHeight:r,windowWidth:o}=e;switch(t){case"top left":return{top:10,left:10};case"top right":return{top:10,right:10};case"bottom left":return{bottom:10,left:10};case"bottom right":return{bottom:10,right:10};case"top center":return{top:10,left:Math.round(o/2-i/2)};case"left center":return{top:Math.round(r/2-n/2),left:10};case"right center":return{top:Math.round(r/2-n/2),right:10};case"center":return{top:Math.round(r/2-n/2),left:Math.round(o/2-i/2)};case"bottom center":default:return{bottom:10,left:Math.round(o/2-i/2)}}},qge=(t,e,i)=>{var n,r,o,s,a,l,d,u,h,p,m,c,{toastWidth:x,toastHeight:D,windowHeight:T,windowWidth:N}=i;switch(t.replace(/-push|-stack/g,"")){case"up":return{bottom:(n=e.bottom)!==null&&n!==void 0?n:T-D-e.top,top:"",left:(r=e.left)!==null&&r!==void 0?r:"",right:(o=e.right)!==null&&o!==void 0?o:""};case"down":return{top:(s=e.top)!==null&&s!==void 0?s:T-D-e.bottom,bottom:"",left:(a=e.left)!==null&&a!==void 0?a:"",right:(l=e.right)!==null&&l!==void 0?l:""};case"left":return{right:(d=e.right)!==null&&d!==void 0?d:N-x-e.left,left:"",top:(u=e.top)!==null&&u!==void 0?u:"",bottom:(h=e.bottom)!==null&&h!==void 0?h:""};case"right":return{left:(p=e.left)!==null&&p!==void 0?p:N-x-e.right,right:"",top:(m=e.top)!==null&&m!==void 0?m:"",bottom:(c=e.bottom)!==null&&c!==void 0?c:""}}},i0=zge;var n0=class{constructor(e){this.error=e}getErrorMessage(){if(this.error.status==400||this.error.status==500){if(typeof this.error.error=="string")return this.error.error;if(this.error.error.errors?.Claims){let e="";return this.error.error.errors.Claims.forEach(function(i){e+=i}),e}}else if(this.error?.message)return this.error.message;return console.log(this.error),this.error?this.error:"Uknown error"}};var ai="primary",Kv=Symbol("RouteTitle"),$A=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Rf(t){return new $A(t)}function Yge(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function Xge(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!il(t[i],e[i]))return!1;return!0}function il(t,e){let i=t?GA(t):void 0,n=e?GA(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!h4(t[r],e[r]))return!1;return!0}function GA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function h4(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,o)=>n[o]===r)}else return t===e}function p4(t){return t.length>0?t[t.length-1]:null}function Lu(t){return hw(t)?t:Gc(t)?_n(Promise.resolve(t)):Ft(t)}var Qge={exact:g4,subset:m4},f4={exact:Zge,subset:eme,ignored:()=>!0};function r4(t,e,i){return Qge[i.paths](t.root,e.root,i.matrixParams)&&f4[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function Zge(t,e){return il(t,e)}function g4(t,e,i){if(!sh(t.segments,e.segments)||!s0(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!g4(t.children[n],e.children[n],i))return!1;return!0}function eme(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>h4(t[i],e[i]))}function m4(t,e,i){return v4(t,e,e.segments,i)}function v4(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!sh(r,i)||e.hasChildren()||!s0(r,i,n))}else if(t.segments.length===i.length){if(!sh(t.segments,i)||!s0(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!m4(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),o=i.slice(t.segments.length);return!sh(t.segments,r)||!s0(t.segments,r,n)||!t.children[ai]?!1:v4(t.children[ai],e,o,n)}}function s0(t,e,i){return e.every((n,r)=>f4[i](t[r].parameters,n.parameters))}var Fu=class{constructor(e=new Yi([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Rf(this.queryParams),this._queryParamMap}toString(){return nme.serialize(this)}},Yi=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return a0(this)}},oh=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=Rf(this.parameters),this._parameterMap}toString(){return C4(this)}};function tme(t,e){return sh(t,e)&&t.every((i,n)=>il(i.parameters,e[n].parameters))}function sh(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function ime(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===ai&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==ai&&(i=i.concat(e(r,n)))}),i}var qv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:()=>new Vv,providedIn:"root"});let t=e;return t})(),Vv=class{parse(e){let i=new KA(e);return new Fu(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Fv(e.root,!0)}`,n=sme(e.queryParams),r=typeof e.fragment=="string"?`#${rme(e.fragment)}`:"";return`${i}${n}${r}`}},nme=new Vv;function a0(t){return t.segments.map(e=>C4(e)).join("/")}function Fv(t,e){if(!t.hasChildren())return a0(t);if(e){let i=t.children[ai]?Fv(t.children[ai],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ai&&n.push(`${r}:${Fv(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=ime(t,(n,r)=>r===ai?[Fv(t.children[ai],!1)]:[`${r}:${Fv(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ai]!=null?`${a0(t)}/${i[0]}`:`${a0(t)}/(${i.join("//")})`}}function _4(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function r0(t){return _4(t).replace(/%3B/gi,";")}function rme(t){return encodeURI(t)}function UA(t){return _4(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function l0(t){return decodeURIComponent(t)}function o4(t){return l0(t.replace(/\+/g,"%20"))}function C4(t){return`${UA(t.path)}${ome(t.parameters)}`}function ome(t){return Object.entries(t).map(([e,i])=>`;${UA(e)}=${UA(i)}`).join("")}function sme(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${r0(i)}=${r0(r)}`).join("&"):`${r0(i)}=${r0(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var ame=/^[^\/()?;#]+/;function HA(t){let e=t.match(ame);return e?e[0]:""}var lme=/^[^\/()?;=#]+/;function dme(t){let e=t.match(lme);return e?e[0]:""}var ume=/^[^=?&#]+/;function cme(t){let e=t.match(ume);return e?e[0]:""}var hme=/^[^&#]+/;function pme(t){let e=t.match(hme);return e?e[0]:""}var KA=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yi([],{}):new Yi([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[ai]=new Yi(e,i)),n}parseSegment(){let e=HA(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new bt(4009,!1);return this.capture(e),new oh(l0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=dme(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=HA(this.remaining);r&&(n=r,this.capture(n))}e[l0(i)]=l0(n)}parseQueryParam(e){let i=cme(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=pme(this.remaining);s&&(n=s,this.capture(n))}let r=o4(i),o=o4(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=HA(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new bt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ai);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[ai]:new Yi([],s),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new bt(4011,!1)}};function x4(t){return t.segments.length>0?new Yi([],{[ai]:t}):t}function y4(t){let e={};for(let[n,r]of Object.entries(t.children)){let o=y4(r);if(n===ai&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let i=new Yi(t.segments,e);return fme(i)}function fme(t){if(t.numberOfChildren===1&&t.children[ai]){let e=t.children[ai];return new Yi(t.segments.concat(e.segments),e.children)}return t}function Ff(t){return t instanceof Fu}function gme(t,e,i=null,n=null){let r=b4(t);return D4(r,e,i,n)}function b4(t){let e;function i(o){let s={};for(let l of o.children){let d=i(l);s[l.outlet]=d}let a=new Yi(o.url,s);return o===t&&(e=a),a}let n=i(t.root),r=x4(n);return e??r}function D4(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return zA(r,r,r,i,n);let o=mme(e);if(o.toRoot())return zA(r,r,new Yi([],{}),i,n);let s=vme(o,r,t),a=s.processChildren?Nv(s.segmentGroup,s.index,o.commands):E4(s.segmentGroup,s.index,o.commands);return zA(r,s.segmentGroup,a,i,n)}function d0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Hv(t){return typeof t=="object"&&t!=null&&t.outlets}function zA(t,e,i,n,r){let o={};n&&Object.entries(n).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(u=>`${u}`):`${d}`});let s;t===e?s=i:s=O4(t,e,i);let a=x4(y4(s));return new Fu(a,o,r)}function O4(t,e,i){let n={};return Object.entries(t.children).forEach(([r,o])=>{o===e?n[r]=i:n[r]=O4(o,e,i)}),new Yi(t.segments,n)}var u0=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&d0(n[0]))throw new bt(4003,!1);let r=n.find(Hv);if(r&&r!==p4(n))throw new bt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mme(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new u0(!0,0,t);let e=0,i=!1,n=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new u0(i,e,n)}var Mf=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function vme(t,e,i){if(t.isAbsolute)return new Mf(e,!0,0);if(!i)return new Mf(e,!1,NaN);if(i.parent===null)return new Mf(i,!0,0);let n=d0(t.commands[0])?0:1,r=i.segments.length-1+n;return _me(i,r,t.numberOfDoubleDots)}function _me(t,e,i){let n=t,r=e,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new bt(4005,!1);r=n.segments.length}return new Mf(n,!1,r-o)}function Cme(t){return Hv(t[0])?t[0].outlets:{[ai]:t}}function E4(t,e,i){if(t??=new Yi([],{}),t.segments.length===0&&t.hasChildren())return Nv(t,e,i);let n=xme(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Yi(t.segments.slice(0,n.pathIndex),{});return o.children[ai]=new Yi(t.segments.slice(n.pathIndex),t.children),Nv(o,0,r)}else return n.match&&r.length===0?new Yi(t.segments,{}):n.match&&!t.hasChildren()?qA(t,e,i):n.match?Nv(t,0,r):qA(t,e,i)}function Nv(t,e,i){if(i.length===0)return new Yi(t.segments,{});{let n=Cme(i),r={};if(Object.keys(n).some(o=>o!==ai)&&t.children[ai]&&t.numberOfChildren===1&&t.children[ai].segments.length===0){let o=Nv(t.children[ai],e,i);return new Yi(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=E4(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Yi(t.segments,r)}}function xme(t,e,i){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return o;let s=t.segments[r],a=i[n];if(Hv(a))break;let l=`${a}`,d=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!a4(l,d,s))return o;n+=2}else{if(!a4(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function qA(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let o=i[r];if(Hv(o)){let l=yme(o.outlets);return new Yi(n,l)}if(r===0&&d0(i[0])){let l=t.segments[e];n.push(new oh(l.path,s4(i[0]))),r++;continue}let s=Hv(o)?o.outlets[ai]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&d0(a)?(n.push(new oh(s,s4(a))),r+=2):(n.push(new oh(s,{})),r++)}return new Yi(n,{})}function yme(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=qA(new Yi([],{}),0,n))}),e}function s4(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function a4(t,e,i){return t==i.path&&il(e,i.parameters)}var Lv="imperative",br=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(br||{}),Ss=class{constructor(e,i){this.id=e,this.url=i}},Pf=class extends Ss{constructor(e,i,n="imperative",r=null){super(e,i),this.type=br.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ma=class extends Ss{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=br.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Es=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Es||{}),c0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(c0||{}),Pu=class extends Ss{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=br.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ku=class extends Ss{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=br.NavigationSkipped}},zv=class extends Ss{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=br.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},h0=class extends Ss{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=br.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},JA=class extends Ss{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=br.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},YA=class extends Ss{constructor(e,i,n,r,o){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=br.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},XA=class extends Ss{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=br.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},QA=class extends Ss{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=br.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ZA=class{constructor(e){this.route=e,this.type=br.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},eR=class{constructor(e){this.route=e,this.type=br.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tR=class{constructor(e){this.snapshot=e,this.type=br.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iR=class{constructor(e){this.snapshot=e,this.type=br.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nR=class{constructor(e){this.snapshot=e,this.type=br.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rR=class{constructor(e){this.snapshot=e,this.type=br.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},p0=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=br.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Wv=class{},jv=class{constructor(e){this.url=e}};var oR=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jv,this.attachRef=null}},Jv=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new oR,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f0=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=sR(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=sR(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=aR(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return aR(e,this._root).map(i=>i.value)}};function sR(t,e){if(t===e.value)return e;for(let i of e.children){let n=sR(t,i);if(n)return n}return null}function aR(t,e){if(t===e.value)return[e];for(let i of e.children){let n=aR(t,i);if(n.length)return n.unshift(e),n}return[]}var es=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function Tf(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var g0=class extends f0{constructor(e,i){super(e),this.snapshot=i,vR(this,e)}toString(){return this.snapshot.toString()}};function S4(t){let e=bme(t),i=new pr([new oh("",{})]),n=new pr({}),r=new pr({}),o=new pr({}),s=new pr(""),a=new Nu(i,n,o,s,r,ai,t,e.root);return a.snapshot=e.root,new g0(new es(a,[]),e)}function bme(t){let e={},i={},n={},r="",o=new $v([],e,n,r,i,ai,t,null,{});return new m0("",new es(o,[]))}var Nu=class{constructor(e,i,n,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ut(d=>d[Kv]))??Ft(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ut(e=>Rf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ut(e=>Rf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mR(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:ht(ht({},e.params),t.params),data:ht(ht({},e.data),t.data),resolve:ht(ht(ht(ht({},t.data),e.data),r?.data),t._resolvedData)}:n={params:ht({},t.params),data:ht({},t.data),resolve:ht(ht({},t.data),t._resolvedData??{})},r&&I4(r)&&(n.resolve[Kv]=r.title),n}var $v=class{get title(){return this.data?.[Kv]}constructor(e,i,n,r,o,s,a,l,d){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rf(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},m0=class extends f0{constructor(e,i){super(i),this.url=e,vR(this,i)}toString(){return w4(this._root)}};function vR(t,e){e.value._routerState=t,e.children.forEach(i=>vR(t,i))}function w4(t){let e=t.children.length>0?` { ${t.children.map(w4).join(", ")} } `:"";return`${t.value}${e}`}function WA(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,il(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),il(e.params,i.params)||t.paramsSubject.next(i.params),Xge(e.url,i.url)||t.urlSubject.next(i.url),il(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function lR(t,e){let i=il(t.params,e.params)&&tme(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||lR(t.parent,e.parent))}function I4(t){return typeof t.title=="string"||t.title===null}var Yv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ai,this.activateEvents=new Vi,this.deactivateEvents=new Vi,this.attachEvents=new Vi,this.detachEvents=new Vi,this.parentContexts=Xe(Jv),this.location=Xe($a),this.changeDetector=Xe(qp),this.environmentInjector=Xe(uo),this.inputBinder=Xe(y0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new bt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new bt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new bt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new bt(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new dR(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ia({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cn]});let t=e;return t})(),dR=class{constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Nu?this.route:e===Jv?this.childContexts:this.parent.get(e,i)}},y0=new Dt(""),l4=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=wc([r.queryParams,r.params,r.data]).pipe(Io(([s,a,l],d)=>(l=ht(ht(ht({},s),a),l),d===0?Ft(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=f$(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();function Dme(t,e,i){let n=Gv(t,e._root,i?i._root:void 0);return new g0(n,e)}function Gv(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=Ome(t,e,i);return new es(n,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gv(t,a)),s}}let n=Eme(e.value),r=e.children.map(o=>Gv(t,o));return new es(n,r)}}function Ome(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Gv(t,n,r);return Gv(t,n)})}function Eme(t){return new Nu(new pr(t.url),new pr(t.params),new pr(t.queryParams),new pr(t.fragment),new pr(t.data),t.outlet,t.component,t)}var T4="ngNavigationCancelingError";function M4(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=Ff(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=A4(!1,Es.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function A4(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[T4]=!0,i.cancellationCode=e,i}function Sme(t){return R4(t)&&Ff(t.url)}function R4(t){return!!t&&t[T4]}var wme=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=rt({type:e,selectors:[["ng-component"]],standalone:!0,features:[i$],decls:1,vars:0,template:function(r,o){r&1&&si(0,"router-outlet")},dependencies:[Yv],encapsulation:2});let t=e;return t})();function Ime(t,e){return t.providers&&!t._injector&&(t._injector=zy(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _R(t){let e=t.children&&t.children.map(_R),i=e?nn(ht({},t),{children:e}):ht({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ai&&(i.component=wme),i}function nl(t){return t.outlet||ai}function Tme(t,e){let i=t.filter(n=>nl(n)===e);return i.push(...t.filter(n=>nl(n)!==e)),i}function Xv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Mme=(t,e,i,n)=>Ut(r=>(new uR(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),uR=class{constructor(e,i,n,r,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),WA(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=Tf(i);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,i,s.children)}else this.deactivateChildRoutes(e,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=Tf(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=Tf(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=Tf(i);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new rR(o.value.snapshot))}),e.children.length&&this.forwardEvent(new iR(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(WA(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,s.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),WA(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Xv(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},v0=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Af=class{constructor(e,i){this.component=e,this.route=i}};function Ame(t,e,i){let n=t._root,r=e?e._root:null;return Pv(n,r,i,[n.value])}function Rme(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Nf(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!xW(t)?t:e.get(t):n}function Pv(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Tf(e);return t.children.forEach(s=>{Fme(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bv(a,i.getContext(s),r)),r}function Fme(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Pme(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new v0(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Pv(t,e,a?a.children:null,n,r):Pv(t,e,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Af(a.outlet.component,s))}else s&&Bv(e,a,r),r.canActivateChecks.push(new v0(n)),o.component?Pv(t,null,a?a.children:null,n,r):Pv(t,null,i,n,r);return r}function Pme(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!sh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!sh(t.url,e.url)||!il(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lR(t,e)||!il(t.queryParams,e.queryParams);case"paramsChange":default:return!lR(t,e)}}function Bv(t,e,i){let n=Tf(t),r=t.value;Object.entries(n).forEach(([o,s])=>{r.component?e?Bv(s,e.children.getContext(o),i):Bv(s,null,i):Bv(s,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new Af(e.outlet.component,r)):i.canDeactivateChecks.push(new Af(null,r)):i.canDeactivateChecks.push(new Af(null,r))}function Qv(t){return typeof t=="function"}function kme(t){return typeof t=="boolean"}function Nme(t){return t&&Qv(t.canLoad)}function Lme(t){return t&&Qv(t.canActivate)}function Bme(t){return t&&Qv(t.canActivateChild)}function Vme(t){return t&&Qv(t.canDeactivate)}function Hme(t){return t&&Qv(t.canMatch)}function F4(t){return t instanceof qs||t?.name==="EmptyError"}var o0=Symbol("INITIAL_VALUE");function kf(){return Io(t=>wc(t.map(e=>e.pipe(Js(1),bm(o0)))).pipe(Ut(e=>{for(let i of e)if(i!==!0){if(i===o0)return o0;if(i===!1||i instanceof Fu)return i}return!0}),$r(e=>e!==o0),Js(1)))}function zme(t,e){return Mn(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?Ft(nn(ht({},i),{guardsResult:!0})):Wme(s,n,r,t).pipe(Mn(a=>a&&kme(a)?jme(n,o,t,e):Ft(a)),Ut(a=>nn(ht({},i),{guardsResult:a})))})}function Wme(t,e,i,n){return _n(t).pipe(Mn(r=>qme(r.component,r.route,i,e,n)),ka(r=>r!==!0,!0))}function jme(t,e,i,n){return _n(e).pipe(kl(r=>Qd(Gme(r.route.parent,n),$me(r.route,n),Kme(t,r.path,i),Ume(t,r.route,i))),ka(r=>r!==!0,!0))}function $me(t,e){return t!==null&&e&&e(new nR(t)),Ft(!0)}function Gme(t,e){return t!==null&&e&&e(new tR(t)),Ft(!0)}function Ume(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return Ft(!0);let r=n.map(o=>Ip(()=>{let s=Xv(e)??i,a=Nf(o,s),l=Lme(a)?a.canActivate(e,t):ja(s,()=>a(e,t));return Lu(l).pipe(ka())}));return Ft(r).pipe(kf())}function Kme(t,e,i){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Rme(s)).filter(s=>s!==null).map(s=>Ip(()=>{let a=s.guards.map(l=>{let d=Xv(s.node)??i,u=Nf(l,d),h=Bme(u)?u.canActivateChild(n,t):ja(d,()=>u(n,t));return Lu(h).pipe(ka())});return Ft(a).pipe(kf())}));return Ft(o).pipe(kf())}function qme(t,e,i,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ft(!0);let s=o.map(a=>{let l=Xv(e)??r,d=Nf(a,l),u=Vme(d)?d.canDeactivate(t,e,i,n):ja(l,()=>d(t,e,i,n));return Lu(u).pipe(ka())});return Ft(s).pipe(kf())}function Jme(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return Ft(!0);let o=r.map(s=>{let a=Nf(s,t),l=Nme(a)?a.canLoad(e,i):ja(t,()=>a(e,i));return Lu(l)});return Ft(o).pipe(kf(),P4(n))}function P4(t){return aw(fr(e=>{if(Ff(e))throw M4(t,e)}),Ut(e=>e===!0))}function Yme(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return Ft(!0);let o=r.map(s=>{let a=Nf(s,t),l=Hme(a)?a.canMatch(e,i):ja(t,()=>a(e,i));return Lu(l)});return Ft(o).pipe(kf(),P4(n))}var Uv=class{constructor(e){this.segmentGroup=e||null}},_0=class extends Error{constructor(e){super(),this.urlTree=e}};function If(t){return Sp(new Uv(t))}function Xme(t){return Sp(new bt(4e3,!1))}function Qme(t){return Sp(A4(!1,Es.GuardRejected))}var cR=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return Ft(n);if(r.numberOfChildren>1||!r.children[ai])return Xme(e.redirectTo);r=r.children[ai]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new _0(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let o=this.createSegmentGroup(e,i.root,n,r);return new Fu(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(e,i,n,r){let o=this.createSegments(e,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,r)}),new Yi(o,s)}createSegments(e,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new bt(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},hR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zme(t,e,i,n,r){let o=CR(t,e,i);return o.matched?(n=Ime(e,n),Yme(n,e,i,r).pipe(Ut(s=>s===!0?o:ht({},hR)))):Ft(o)}function CR(t,e,i){if(e.path==="**")return eve(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?ht({},hR):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Yge)(i,t,e);if(!r)return ht({},hR);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?ht(ht({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function eve(t){return{matched:!0,parameters:t.length>0?p4(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function d4(t,e,i,n){return i.length>0&&nve(t,i,n)?{segmentGroup:new Yi(e,ive(n,new Yi(i,t.children))),slicedSegments:[]}:i.length===0&&rve(t,i,n)?{segmentGroup:new Yi(t.segments,tve(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new Yi(t.segments,t.children),slicedSegments:i}}function tve(t,e,i,n){let r={};for(let o of i)if(b0(t,e,o)&&!n[nl(o)]){let s=new Yi([],{});r[nl(o)]=s}return ht(ht({},n),r)}function ive(t,e){let i={};i[ai]=e;for(let n of t)if(n.path===""&&nl(n)!==ai){let r=new Yi([],{});i[nl(n)]=r}return i}function nve(t,e,i){return i.some(n=>b0(t,e,n)&&nl(n)!==ai)}function rve(t,e,i){return i.some(n=>b0(t,e,n))}function b0(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function ove(t,e,i,n){return nl(t)!==n&&(n===ai||!b0(e,i,t))?!1:CR(e,t,i).matched}function sve(t,e,i){return e.length===0&&!t.children[i]}var pR=class{};function ave(t,e,i,n,r,o,s="emptyOnly"){return new fR(t,e,i,n,r,s,o).recognize()}var lve=31,fR=class{constructor(e,i,n,r,o,s,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cR(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new bt(4002,`'${e.segmentGroup}'`)}recognize(){let e=d4(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ut(i=>{let n=new $v([],Object.freeze({}),Object.freeze(ht({},this.urlTree.queryParams)),this.urlTree.fragment,{},ai,this.rootComponentType,null,{}),r=new es(n,i),o=new m0("",r),s=gme(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ai).pipe(Zd(n=>{if(n instanceof _0)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Uv?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=mR(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(Ut(o=>o instanceof es?[o]:[]))}processChildren(e,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return _n(r).pipe(kl(o=>{let s=n.children[o],a=Tme(i,o);return this.processSegmentGroup(e,a,s,o)}),_w((o,s)=>(o.push(...s),o)),eu(null),vw(),Mn(o=>{if(o===null)return If(n);let s=k4(o);return dve(s),Ft(s)}))}processSegment(e,i,n,r,o,s){return _n(i).pipe(kl(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,o,s).pipe(Zd(l=>{if(l instanceof Uv)return Ft(null);throw l}))),ka(a=>!!a),Zd(a=>{if(F4(a))return sve(n,r,o)?Ft(new pR):If(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,o,s,a){return ove(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,o,s):If(r):If(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:d,remainingSegments:u}=CR(i,r,o);if(!a)return If(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lve&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,h).pipe(Mn(p=>this.processSegment(e,n,i,p.concat(u),s,!1)))}matchSegmentAgainstRoute(e,i,n,r,o){let s=Zme(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(Io(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(Io(({routes:l})=>{let d=n._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:p}=a,m=new $v(u,p,Object.freeze(ht({},this.urlTree.queryParams)),this.urlTree.fragment,cve(n),nl(n),n.component??n._loadedComponent??null,n,hve(n)),{segmentGroup:c,slicedSegments:x}=d4(i,u,h,l);if(x.length===0&&c.hasChildren())return this.processChildren(d,l,c).pipe(Ut(T=>T===null?null:new es(m,T)));if(l.length===0&&x.length===0)return Ft(new es(m,[]));let D=nl(n)===o;return this.processSegment(d,l,c,x,D?ai:o,!0).pipe(Ut(T=>new es(m,T instanceof es?[T]:[])))}))):If(i)))}getChildConfig(e,i,n){return i.children?Ft({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?Ft({routes:i._loadedRoutes,injector:i._loadedInjector}):Jme(e,i,n,this.urlSerializer).pipe(Mn(r=>r?this.configLoader.loadChildren(e,i).pipe(fr(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):Qme(i))):Ft({routes:[],injector:e})}};function dve(t){t.sort((e,i)=>e.value.outlet===ai?-1:i.value.outlet===ai?1:e.value.outlet.localeCompare(i.value.outlet))}function uve(t){let e=t.value.routeConfig;return e&&e.path===""}function k4(t){let e=[],i=new Set;for(let n of t){if(!uve(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=k4(n.children);e.push(new es(n.value,r))}return e.filter(n=>!i.has(n))}function cve(t){return t.data||{}}function hve(t){return t.resolve||{}}function pve(t,e,i,n,r,o){return Mn(s=>ave(t,e,i,n,s.extractedUrl,r,o).pipe(Ut(({state:a,tree:l})=>nn(ht({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function fve(t,e){return Mn(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return Ft(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of N4(l))s.add(d);let a=0;return _n(s).pipe(kl(l=>o.has(l)?gve(l,n,t,e):(l.data=mR(l,l.parent,t).resolve,Ft(void 0))),fr(()=>a++),Tp(1),Mn(l=>a===s.size?Ft(i):cs))})}function N4(t){let e=t.children.map(i=>N4(i)).flat();return[t,...e]}function gve(t,e,i,n){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!I4(r)&&(o[Kv]=r.title),mve(o,t,e,n).pipe(Ut(s=>(t._resolvedData=s,t.data=mR(t,t.parent,i).resolve,null)))}function mve(t,e,i,n){let r=GA(t);if(r.length===0)return Ft({});let o={};return _n(r).pipe(Mn(s=>vve(t[s],e,i,n).pipe(ka(),fr(a=>{o[s]=a}))),Tp(1),mw(o),Zd(s=>F4(s)?cs:Sp(s)))}function vve(t,e,i,n){let r=Xv(e)??n,o=Nf(t,r),s=o.resolve?o.resolve(e,i):ja(r,()=>o(e,i));return Lu(s)}function jA(t){return Io(e=>{let i=t(e);return i?_n(i).pipe(Ut(()=>e)):Ft(e)})}var L4=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ai);return r}getResolvedTitleForRoute(n){return n.data[Kv]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:()=>Xe(_ve),providedIn:"root"});let t=e;return t})(),_ve=(()=>{let e=class e extends L4{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(Ue(U$))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zv=new Dt("",{providedIn:"root",factory:()=>({})}),C0=new Dt(""),xR=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Xe(Ky)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ft(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Lu(n.loadComponent()).pipe(Ut(B4),fr(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),tu(()=>{this.componentLoaders.delete(n)})),o=new Op(r,()=>new so).pipe(Dp());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ft({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Cve(r,this.compiler,n,this.onLoadEndListener).pipe(tu(()=>{this.childrenLoaders.delete(r)})),a=new Op(s,()=>new so).pipe(Dp());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cve(t,e,i,n){return Lu(t.loadChildren()).pipe(Ut(B4),Mn(r=>r instanceof km||Array.isArray(r)?Ft(r):_n(e.compileModuleAsync(r))),Ut(r=>{n&&n(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(C0,[],{optional:!0,self:!0}).flat()),{routes:s.map(_R),injector:o}}))}function xve(t){return t&&typeof t=="object"&&"default"in t}function B4(t){return xve(t)?t.default:t}var yR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:()=>Xe(yve),providedIn:"root"});let t=e;return t})(),yve=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V4=new Dt(""),H4=new Dt("");function bve(t,e,i){let n=t.get(H4),r=t.get(An);return t.get(gt).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),Dve(t))),{onViewTransitionCreated:l}=n;return l&&ja(t,()=>l({transition:a,from:e,to:i})),s})}function Dve(t){return new Promise(e=>{uT(e,{injector:t})})}var bR=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new so,this.transitionAbortSubject=new so,this.configLoader=Xe(xR),this.environmentInjector=Xe(uo),this.urlSerializer=Xe(qv),this.rootContexts=Xe(Jv),this.location=Xe(Zp),this.inputBindingEnabled=Xe(y0,{optional:!0})!==null,this.titleStrategy=Xe(L4),this.options=Xe(Zv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Xe(yR),this.createViewTransition=Xe(V4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ft(void 0),this.rootComponentType=null;let n=o=>this.events.next(new ZA(o)),r=o=>this.events.next(new eR(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(nn(ht(ht({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new pr({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lv,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($r(s=>s.id!==0),Ut(s=>nn(ht({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Io(s=>{this.currentTransition=s;let a=!1,l=!1;return Ft(s).pipe(fr(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?nn(ht({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Io(d=>{let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new ku(d.id,this.urlSerializer.serialize(d.rawUrl),p,c0.IgnoredSameUrlNavigation)),d.resolve(null),cs}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Ft(d).pipe(Io(p=>{let m=this.transitions?.getValue();return this.events.next(new Pf(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?cs:Promise.resolve(p)}),pve(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),fr(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=nn(ht({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new h0(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:p,extractedUrl:m,source:c,restoredState:x,extras:D}=d,T=new Pf(p,this.urlSerializer.serialize(m),c,x);this.events.next(T);let N=S4(this.rootComponentType).snapshot;return this.currentTransition=s=nn(ht({},d),{targetSnapshot:N,urlAfterRedirects:m,extras:nn(ht({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Ft(s)}else{let p="";return this.events.next(new ku(d.id,this.urlSerializer.serialize(d.extractedUrl),p,c0.IgnoredByUrlHandlingStrategy)),d.resolve(null),cs}}),fr(d=>{let u=new JA(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Ut(d=>(this.currentTransition=s=nn(ht({},d),{guards:Ame(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),zme(this.environmentInjector,d=>this.events.next(d)),fr(d=>{if(s.guardsResult=d.guardsResult,Ff(d.guardsResult))throw M4(this.urlSerializer,d.guardsResult);let u=new YA(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(u)}),$r(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Es.GuardRejected),!1)),jA(d=>{if(d.guards.canActivateChecks.length)return Ft(d).pipe(fr(u=>{let h=new XA(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Io(u=>{let h=!1;return Ft(u).pipe(fve(this.paramsInheritanceStrategy,this.environmentInjector),fr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",Es.NoDataFromResolver)}}))}),fr(u=>{let h=new QA(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),jA(d=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(fr(m=>{h.component=m}),Ut(()=>{})));for(let m of h.children)p.push(...u(m));return p};return wc(u(d.targetSnapshot.root)).pipe(eu(null),Js(1))}),jA(()=>this.afterPreactivation()),Io(()=>{let{currentSnapshot:d,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,d.root,u.root);return h?_n(h).pipe(Ut(()=>s)):Ft(s)}),Ut(d=>{let u=Dme(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=nn(ht({},d),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),fr(()=>{this.events.next(new Wv)}),Mme(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Js(1),fr({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ma(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),Dm(this.transitionAbortSubject.pipe(fr(d=>{throw d}))),tu(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Es.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zd(d=>{if(l=!0,R4(d))this.events.next(new Pu(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),Sme(d)?this.events.next(new jv(d.url)):s.resolve(!1);else{this.events.next(new zv(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(d))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return cs}))}))}cancelNavigationTransition(n,r,o){let s=new Pu(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ove(t){return t!==Lv}var Eve=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:()=>Xe(Sve),providedIn:"root"});let t=e;return t})(),gR=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},Sve=(()=>{let e=class e extends gR{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Yo(e)))(o||e)}})(),e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z4=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:()=>Xe(wve),providedIn:"root"});let t=e;return t})(),wve=(()=>{let e=class e extends z4{constructor(){super(...arguments),this.location=Xe(Zp),this.urlSerializer=Xe(qv),this.options=Xe(Zv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Xe(yR),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=S4(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Pf)this.stateMemento=this.createStateMemento();else if(n instanceof ku)this.rawUrlTree=r.initialUrl;else if(n instanceof h0){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Wv?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Pu&&(n.code===Es.GuardRejected||n.code===Es.NoDataFromResolver)?this.restoreHistory(r):n instanceof zv?this.restoreHistory(r,!0):n instanceof ma&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=ht(ht({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=ht(ht({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Yo(e)))(o||e)}})(),e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kv=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(kv||{});function W4(t,e){t.events.pipe($r(i=>i instanceof ma||i instanceof Pu||i instanceof zv||i instanceof ku),Ut(i=>i instanceof ma||i instanceof ku?kv.COMPLETE:(i instanceof Pu?i.code===Es.Redirect||i.code===Es.SupersededByNewNavigation:!1)?kv.REDIRECTING:kv.FAILED),$r(i=>i!==kv.REDIRECTING),Js(1)).subscribe(()=>{e()})}function Ive(t){throw t}var Tve={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mve={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Xe(Wy),this.stateManager=Xe(z4),this.options=Xe(Zv,{optional:!0})||{},this.pendingTasks=Xe(Wc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Xe(bR),this.urlSerializer=Xe(qv),this.location=Xe(Zp),this.urlHandlingStrategy=Xe(yR),this._events=new so,this.errorHandler=this.options.errorHandler||Ive,this.navigated=!1,this.routeReuseStrategy=Xe(Eve),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Xe(C0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Xe(y0,{optional:!0}),this.eventsSubscription=new Gn,this.isNgZoneEnabled=Xe(gt)instanceof gt&&gt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Pu&&r.code!==Es.Redirect&&r.code!==Es.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ma)this.navigated=!0;else if(r instanceof jv){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Ove(o.source)};this.scheduleNavigation(a,Lv,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Rve(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let d=ht({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(_R),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=r,u=d?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=ht(ht({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=o?o.snapshot:this.routerState.snapshot.root;p=b4(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return D4(p,n,h,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Ff(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Lv,null,r)}navigate(n,r={skipLocationChange:!1}){return Ave(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=ht({},Tve):r===!1?o=ht({},Mve):o=r,Ff(n))return r4(this.currentUrlTree,n,o);let s=this.parseUrl(n);return r4(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,u;a?(l=a.resolve,d=a.reject,u=a.promise):u=new Promise((p,m)=>{l=p,d=m});let h=this.pendingTasks.add();return W4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:d,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ave(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new bt(4008,!1)}function Rve(t){return!(t instanceof Wv)&&!(t instanceof jv)}var x0=class{};var Fve=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe($r(n=>n instanceof ma),kl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=zy(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return _n(o).pipe(wp())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=Ft(null);let s=o.pipe(Mn(a=>a===null?Ft(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return _n([s,a]).pipe(wp())}else return s})}};e.\u0275fac=function(r){return new(r||e)(Ue(Qr),Ue(Ky),Ue(uo),Ue(x0),Ue(xR))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),j4=new Dt(""),Pve=(()=>{let e=class e{constructor(n,r,o,s,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Pf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ma?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ku&&n.code===c0.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof p0&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new p0(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){pj()},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();function kve(t){return t.routerState.root}function e_(t,e){return{\u0275kind:t,\u0275providers:e}}function Nve(){let t=Xe(ra);return e=>{let i=t.get(Uc);if(e!==i.components[0])return;let n=t.get(Qr),r=t.get($4);t.get(DR)===1&&n.initialNavigation(),t.get(G4,null,_i.Optional)?.setUpPreloading(),t.get(j4,null,_i.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var $4=new Dt("",{factory:()=>new so}),DR=new Dt("",{providedIn:"root",factory:()=>1});function Lve(){return e_(2,[{provide:DR,useValue:0},{provide:Gy,multi:!0,deps:[ra],useFactory:e=>{let i=e.get(b$,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Qr),o=e.get($4);W4(r,()=>{n(!0)}),e.get(bR).afterPreactivation=()=>(n(!0),o.closed?Ft(void 0):o),r.initialNavigation()}))}}])}function Bve(){return e_(3,[{provide:Gy,multi:!0,useFactory:()=>{let e=Xe(Qr);return()=>{e.setUpLocationChangeListener()}}},{provide:DR,useValue:2}])}var G4=new Dt("");function Vve(t){return e_(0,[{provide:G4,useExisting:Fve},{provide:x0,useExisting:t}])}function Hve(){return e_(8,[l4,{provide:y0,useExisting:l4}])}function zve(t){let e=[{provide:V4,useValue:bve},{provide:H4,useValue:ht({skipNextTransition:!!t?.skipInitialTransition},t)}];return e_(9,e)}var u4=new Dt("ROUTER_FORROOT_GUARD"),Wve=[Zp,{provide:qv,useClass:Vv},Qr,Jv,{provide:Nu,useFactory:kve,deps:[Qr]},xR,[]],t_=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Wve,[],{provide:C0,multi:!0,useValue:n},{provide:u4,useFactory:Uve,deps:[[Qr,new Ty,new KI]]},{provide:Zv,useValue:r||{}},r?.useHash?$ve():Gve(),jve(),r?.preloadingStrategy?Vve(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Kve(r):[],r?.bindToComponentInputs?Hve().\u0275providers:[],r?.enableViewTransitions?zve().\u0275providers:[],qve()]}}static forChild(n){return{ngModule:e,providers:[{provide:C0,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(Ue(u4,8))},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})();function jve(){return{provide:j4,useFactory:()=>{let t=Xe(E$),e=Xe(gt),i=Xe(Zv),n=Xe(bR),r=Xe(qv);return i.scrollOffset&&t.setOffset(i.scrollOffset),new Pve(r,n,t,e,i)}}}function $ve(){return{provide:jl,useClass:Jy}}function Gve(){return{provide:jl,useClass:wT}}function Uve(t){return"guarded"}function Kve(t){return[t.initialNavigation==="disabled"?Bve().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Lve().\u0275providers:[]]}var c4=new Dt("");function qve(){return[{provide:c4,useFactory:Nve},{provide:Uy,multi:!0,useExisting:c4}]}var OR=new Dt("JWT_OPTIONS"),Lf=(()=>{class t{constructor(i=null){this.tokenGetter=i&&i.tokenGetter||function(){}}urlBase64Decode(i){let n=i.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:{n+="==";break}case 3:{n+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(n)}b64decode(i){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="";if(i=String(i).replace(/=+$/,""),i.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let o=0,s,a,l=0;a=i.charAt(l++);~a&&(s=o%4?s*64+a:a,o++%4)?r+=String.fromCharCode(255&s>>(-2*o&6)):0)a=n.indexOf(a);return r}b64DecodeUnicode(i){return decodeURIComponent(Array.prototype.map.call(this.b64decode(i),n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(i=this.tokenGetter()){return i instanceof Promise?i.then(n=>this._decodeToken(n)):this._decodeToken(i)}_decodeToken(i){if(!i||i==="")return null;let n=i.split(".");if(n.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let r=this.urlBase64Decode(n[1]);if(!r)throw new Error("Cannot decode the token.");return JSON.parse(r)}getTokenExpirationDate(i=this.tokenGetter()){return i instanceof Promise?i.then(n=>this._getTokenExpirationDate(n)):this._getTokenExpirationDate(i)}_getTokenExpirationDate(i){let n;if(n=this.decodeToken(i),!n||!n.hasOwnProperty("exp"))return null;let r=new Date(0);return r.setUTCSeconds(n.exp),r}isTokenExpired(i=this.tokenGetter(),n){return i instanceof Promise?i.then(r=>this._isTokenExpired(r,n)):this._isTokenExpired(i,n)}_isTokenExpired(i,n){if(!i||i==="")return!0;let r=this.getTokenExpirationDate(i);return n=n||0,r===null?!1:!(r.valueOf()>new Date().valueOf()+n*1e3)}getAuthScheme(i,n){return typeof i=="function"?i(n):i}}return t.\u0275fac=function(i){return new(i||t)(Ue(OR))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),U4=t=>t instanceof Promise?Ip(()=>t):Ft(t),Jve=(()=>{class t{constructor(i,n,r){this.jwtHelper=n,this.document=r,this.standardPorts=["80","443"],this.tokenGetter=i.tokenGetter,this.headerName=i.headerName||"Authorization",this.authScheme=i.authScheme||i.authScheme===""?i.authScheme:"Bearer ",this.allowedDomains=i.allowedDomains||[],this.disallowedRoutes=i.disallowedRoutes||[],this.throwNoTokenError=i.throwNoTokenError||!1,this.skipWhenExpired=i.skipWhenExpired}isAllowedDomain(i){let n=new URL(i.url,this.document.location.origin);if(n.host===this.document.location.host)return!0;let r=`${n.hostname}${n.port&&!this.standardPorts.includes(n.port)?":"+n.port:""}`;return this.allowedDomains.findIndex(o=>typeof o=="string"?o===r:o instanceof RegExp?o.test(r):!1)>-1}isDisallowedRoute(i){let n=new URL(i.url,this.document.location.origin);return this.disallowedRoutes.findIndex(r=>{if(typeof r=="string"){let o=new URL(r,this.document.location.origin);return o.hostname===n.hostname&&o.pathname===n.pathname}return r instanceof RegExp?r.test(i.url):!1})>-1}handleInterception(i,n,r){let o=this.jwtHelper.getAuthScheme(this.authScheme,n);if(!i&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let s=Ft(!1);return this.skipWhenExpired&&(s=i?U4(this.jwtHelper.isTokenExpired(i)):Ft(!0)),i?s.pipe(Ut(a=>a&&this.skipWhenExpired?n.clone():n.clone({setHeaders:{[this.headerName]:`${o}${i}`}})),Mn(a=>r.handle(a))):r.handle(n)}intercept(i,n){if(!this.isAllowedDomain(i)||this.isDisallowedRoute(i))return n.handle(i);let r=this.tokenGetter(i);return U4(r).pipe(Mn(o=>this.handleInterception(o,i,n)))}}return t.\u0275fac=function(i){return new(i||t)(Ue(OR),Ue(Lf),Ue(An))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})(),K4=(()=>{class t{constructor(i){if(i)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(i){return{ngModule:t,providers:[{provide:kT,useClass:Jve,multi:!0},i.jwtOptionsProvider||{provide:OR,useValue:i.config},Lf]}}}return t.\u0275fac=function(i){return new(i||t)(Ue(t,12))},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Ql=(()=>{let e=class e{constructor(n,r,o){this.router=n,this.http=r,this.jwt=o,this.baseUrl=`${yu.apiUrl}`,this.apiUrl=`${this.baseUrl}`}logIn(n,r){return mx(this,null,function*(){try{let s=yield pw(this.http.post(`${this.apiUrl}account/login`,{userName:n,password:r},{responseType:"text"}));var o=this.jwt.decodeToken(s);console.log(o),localStorage.setItem("xtrace-token",s),this.router.navigate(["/home"])}catch(s){let a=new n0(s).getErrorMessage();i0(a,"error"),console.log(JSON.stringify(s,["message","arguments","type","name"]))}})}getCurrentUser(){return this.http.get(`${this.apiUrl}account/me`)}logOut(){localStorage.removeItem("xtrace-token"),this.router.navigate(["/login-form"])}hasRole(n){return this.hasClaim("http://schemas.microsoft.com/ws/2008/06/identity/claims/role",n)}hasPermission(n){let o=this.jwt.decodeToken().xtrace_permission;return o&&(o===n||Array.isArray(o)&&o.find(s=>s===n))}hasClaim(n,r){return this.jwt.decodeToken()[n]===r}get isLoggedIn(){return!this.jwt.isTokenExpired()}};e.\u0275fac=function(r){return new(r||e)(Ue(Qr),Ue(Ym),Ue(Lf))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})(),i_=(()=>{let e=class e{constructor(n,r){this.router=n,this.authService=r}canActivate(n){let r=this.authService.isLoggedIn,o=n.routeConfig?.path==="login-form",s=n.data.claims;return r&&o?(this.router.navigate(["/"]),!1):!r&&!o?(this.router.navigate(["/login-form"]),!1):o?!0:r?s&&s.length>0?s.find(a=>this.authService.hasPermission(a))?!0:(console.log("Forbidden - ",s),this.router.navigate(["/"]),!1):!0:!1}};e.\u0275fac=function(r){return new(r||e)(Ue(Qr),Ue(Ql))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();function ER(t){return Array.isArray(t)?t:[t]}var SR;try{SR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{SR=!1}var J4=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?MT(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||SR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(Ue(ni))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y4=new Set,lh,Xve=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Zve}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&Qve(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(Ue(J4),Ue(zm,8))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qve(t,e){if(!Y4.has(t))try{lh||(lh=document.createElement("style"),e&&(lh.nonce=e),lh.setAttribute("type","text/css"),document.head.appendChild(lh)),lh.sheet&&(lh.sheet.insertRule(`@media ${t} {body{ }}`,0),Y4.add(t))}catch(i){console.error(i)}}function Zve(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Q4=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new so}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return X4(ER(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=X4(ER(n)).map(a=>this._registerQuery(a).observable),s=wc(o);return s=Qd(s.pipe(Js(1)),s.pipe(Cw(1),gw(0))),s.pipe(Ut(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:u})=>{l.matches=l.matches||d,l.breakpoints[u]=d}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Ai(a=>{let l=d=>this._zone.run(()=>a.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(bm(r),Ut(({matches:a})=>({query:n,matches:a})),Dm(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};e.\u0275fac=function(r){return new(r||e)(Ue(Xve),Ue(gt))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X4(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var rl={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var dh=(()=>{let e=class e{constructor(n){this.breakpointObserver=n,this.changed=new Vi,this.breakpointObserver.observe([rl.XSmall,rl.Small,rl.Medium,rl.Large]).subscribe(()=>this.changed.next(!0))}isLargeScreen(){let n=this.breakpointObserver.isMatched(rl.Large),r=this.breakpointObserver.isMatched(rl.XLarge);return n||r}get sizes(){return{"screen-x-small":this.breakpointObserver.isMatched(rl.XSmall),"screen-small":this.breakpointObserver.isMatched(rl.Small),"screen-medium":this.breakpointObserver.isMatched(rl.Medium),"screen-large":this.isLargeScreen()}}};e.\u0275fac=function(r){return new(r||e)(Ue(Q4))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac});let t=e;return t})();var r_=(()=>{let e=class e{constructor(){this.barcode$=new pr("xxx"),this.scannedBarcode$=this.barcode$.asObservable()}OnBarcodeScanned(n){this.barcode$.next(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var t_e=["*"],e3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=rt({type:e,selectors:[["app-footer"]],ngContentSelectors:t_e,decls:2,vars:0,template:function(r,o){r&1&&(tr(),mt(0,"footer"),Un(1),Ot())},styles:["[_nghost-%COMP%]{display:block;color:#333333b3;border-top:1px solid rgba(0,0,0,.1);padding-top:20px;padding-bottom:24px}"]});let t=e;return t})(),t3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})();var ji=sf(xt.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),n_e=null,Bf=function(t){var e;(e=n_e)===null||e===void 0||e(t)};var r_e=sn.add,wR="DEVEXTREME_XHR_ERROR_UNLOAD",i3=function(t){return[t[0],t.length<3?"=":String(t[1]).toLowerCase(),t.length<2?!0:t[t.length-1]]},fo=function(t){return Array.isArray(t)||(t=[t]),gi(t,function(e){var i={selector:ce(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(i.compare=e.compare),i})},n3=function(){var t={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},e;return r_e(function(){var i=Le();ie.listen(i,"beforeunload",function(){e=!0})}),function(i,n){return e?wR:i.status<400?function(r){var o=t[r];return o||r}(n):i.statusText}}(),o_={count:{seed:0,step:function(t){return 1+t}},sum:{seed:0,step:function(t,e){return t+e}},min:{step:function(t,e){return e<t?e:t}},max:{step:function(t,e){return e>t?e:t}},avg:{seed:[0,0],step:function(t,e){return[t[0]+e,t[1]+1]},finalize:function(t){return t[1]?t[0]/t[1]:NaN}}},r3=function(){var t=0,e;return{obtain:function(){t===0&&(e=new H),t++},release:function(){t--,t<1&&e.resolve()},promise:function(){var i=t===0?new H().resolve():e;return i.promise()},reset:function(){t=0,e&&e.resolve()}}}();function o3(t){return/^(and|&&|&)$/i.test(t)}var Zl=function(t,e,i){if(Array.isArray(t)){for(var n=gi(e,function(s,a){return a}),r,o=0;o<n.length;o++)if(r=n[o],!Rt(e[r],i[r],{strict:!1}))return!1;return!0}return Rt(e,i,{strict:!1})};var s3=function(t){return t[0]==="!"&&Array.isArray(t[1])},o_e=function(t){return t==="and"||t==="or"},a3=function(t){var e=t[0],i=t[1];return!!(Array.isArray(e)||ce(e)&&(Array.isArray(i)||ce(i)||o_e(i)))},Bu=function(){var t=new H;return t.resolve.apply(t,arguments).promise()},D0=function(){var t=new H;return t.reject.apply(t,arguments).promise()};function s_e(t,e){var i;return function(){return i||(i=setTimeout(()=>{i=void 0,t.call(this)},ce(e)?e():e)),i}}function l3(t,e){var i=[],n=s_e(function(){t.call(this,i),i=[]},e);return function(r){return Array.isArray(r)&&i.push(...r),n.call(this,i)}}var s_=ot.inherit({toArray:function(){var t=[];for(this.reset();this.next();)t.push(this.current());return t},countable:function(){return!1}}),AR=s_.inherit({ctor:function(t){this.array=t,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),O0=s_.inherit({ctor:function(t){this.iter=t},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),IR=O0.inherit({ctor:function(t,e){this.callBase(t),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var t=this.callBase();return t&&this.index++,t}}),a_e=function(t,e,i){return Se(t)&&Se(e)&&(i!=null&&i.locale||i!=null&&i.collatorOptions)?new Intl.Collator(i?.locale||void 0,i?.collatorOptions||void 0).compare(t,e):(t=Cn(t,!1,i),e=Cn(e,!1,i),t===null&&e!==null?-1:t!==null&&e===null||t===void 0&&e!==void 0?1:t!==void 0&&e===void 0||t<e?-1:t>e?1:0)},TR=s_.inherit({ctor:function(t,e,i,n){this.langParams=t.langParams,t instanceof IR||(t=new IR(t,this._wrap),t.langParams=this.langParams),this.iter=t,this.rules=[{getter:e,desc:i,compare:n,langParams:this.langParams}]},thenBy:function(t,e,i){var n=new TR(this.sortedIter||this.iter,t,e,i);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(F(t.rules,function(){this.getter=Tt(this.getter)}),t.sortedIter=new IR(new AR(this.iter.toArray().sort(function(e,i){return t._compare(e,i)})),t._unwrap))},_wrap:function(t,e){return{index:e,value:t}},_unwrap:function(t){return t.value},_getDefaultCompare:t=>(e,i)=>a_e(e,i,t),_compare:function(t,e){var i=t.index,n=e.index;if(t=t.value,e=e.value,t===e)return i-n;for(var r=0,o=this.rules.length;r<o;r++){var s=this.rules[r],a=s.getter(t),l=s.getter(e),d=s.compare||this._getDefaultCompare(s.langParams),u=d(a,l);if(u)return s.desc?-u:u}return i-n}}),MR=function(){var t={},e=r=>Cn(r,!1,t),i=function(r){var o;return O(r)?(o=t)!==null&&o!==void 0&&o.locale?r.toLocaleString(t.locale):r.toString():""};function n(r,o,s){return function(a){a=e(r(a));var l=function(d){return d===""||d===0||d===!1}(o)?a===o:a==o;return s&&(l=!l),l}}return function(r,o){return t=o||{},ce(r)?r:a3(r)?function(s){var a=[],l=!1,d=!1;return F(s,function(){if(Array.isArray(this)||ce(this)){if(a.length>1&&l!==d)throw new ji.Error("E4019");a.push(MR(this,t)),l=d,d=!0}else d=o3(this)}),function(u){for(var h=l,p=0;p<a.length;p++)if(a[p](u)!==l){h=!l;break}return h}}(r):s3(r)?function(s){var a=s[0],l=MR(s[1],t);if(a==="!")return function(d){return!l(d)};throw ji.Error("E4003",a)}(r):function(s){s=i3(s);var a=Tt(s[0]),l=s[1],d=s[2];d=e(d);var u=(h,p)=>(h=e(a(h)),(d==null||h==null)&&d!==h?!1:p(h,d));switch(l.toLowerCase()){case"=":return n(a,d);case"<>":return n(a,d,!0);case">":return h=>u(h,(p,m)=>p>m);case"<":return h=>u(h,(p,m)=>p<m);case">=":return h=>u(h,(p,m)=>p>=m);case"<=":return h=>u(h,(p,m)=>p<=m);case"startswith":return function(h){return e(i(a(h))).indexOf(d)===0};case"endswith":return function(h){var p=e(i(a(h))),m=i(d);if(p.length<m.length)return!1;var c=p.lastIndexOf(d);return c!==-1&&c===p.length-d.length};case"contains":return function(h){return e(i(a(h))).indexOf(d)>-1};case"notcontains":return function(h){return e(i(a(h))).indexOf(d)===-1}}throw ji.Error("E4003",l)}(r)}}(),l_e=O0.inherit({ctor:function(t,e){this.callBase(t),this.langParams=t.langParams,this.criteria=MR(e,this.langParams)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),d_e=s_.inherit({ctor:function(t,e){this.iter=t,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(!this.groupedIter){var t={},e=[],i=this.iter,n=Tt(this.getter);for(i.reset();i.next();){var r=i.current(),o=n(r);o in t?t[o].push(r):(t[o]=[r],e.push(o))}this.groupedIter=new AR(gi(e,function(s){return{key:s,items:t[s]}}))}}}),u_e=O0.inherit({ctor:function(t,e){this.callBase(t),this.getter=Tt(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),c_e=O0.inherit({ctor:function(t,e,i){this.callBase(t),this.skip=Math.max(0,e),this.take=Math.max(0,i),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),h_e=function t(e,i){i=i||{},e instanceof s_||(e=new AR(e)),i.langParams&&(e.langParams=i.langParams);var n=function(d){var u=i.errorHandler;u&&u(d),Bf(d)},r=function(d){var u=new H().fail(n),h,p=d.step,m=d.finalize;try{e.reset(),"seed"in d?h=d.seed:h=e.next()?e.current():NaN;for(var c=h;e.next();)c=p(c,e.current());u.resolve(m?m(c):c)}catch(x){u.reject(x)}return u.promise()},o=function(d){return r(o_[d])},s=function(d){return!ce(d)&&!Array.isArray(d)&&(d=[].slice.call(arguments)),l(new u_e(e,d))},a=function(d){return s(Tt(d))};function l(d){return t(d,i)}return{toArray:function(){return e.toArray()},enumerate:function(){var d=new H().fail(n);try{d.resolve(e.toArray())}catch(u){d.reject(u)}return d.promise()},setLangParams(d){e.langParams=d},sortBy:function(d,u,h){return l(new TR(e,d,u,h))},thenBy:function(d,u,h){if(e instanceof TR)return l(e.thenBy(d,u,h));throw ji.Error("E4004")},filter:function(d){return Array.isArray(d)||(d=[].slice.call(arguments)),l(new l_e(e,d))},slice:function(d,u){return u===void 0&&(u=Number.MAX_VALUE),l(new c_e(e,d,u))},select:s,groupBy:function(d){return l(new d_e(e,d))},aggregate:function(d,u,h){return arguments.length<2?r({step:arguments[0]}):r({seed:d,step:u,finalize:h})},count:function(){if(e.countable()){var d=new H().fail(n);try{d.resolve(e.count())}catch(u){d.reject(u)}return d.promise()}return o("count")},sum:function(d){return d?a(d).sum():o("sum")},min:function(d){return d?a(d).min():o("min")},max:function(d){return d?a(d).max():o("max")},avg:function(d){return d?a(d).avg():o("avg")}}},Vu=h_e;function RR(t,e){return t=t.groupBy(e[0].selector),e.length>1&&(t=t.select(function(i){return y({},i,{items:RR(Vu(i.items),e.slice(1)).toArray()})})),t}function d3(t,e){var i=[];return F(t,function(n,r){var o=Sn(e,function(s){return r.selector===s.selector});o.length<1&&i.push(r)}),i.concat(e)}function p_e(t,e,i){var n;e=e||{};var r=e.filter;if((n=e)!==null&&n!==void 0&&n.langParams){var o,s;(o=(s=t).setLangParams)===null||o===void 0||o.call(s,e.langParams)}if(r&&(t=t.filter(r)),i)return t;var a=e.sort,l=e.select,d=e.group,u=e.skip,h=e.take;return d&&(d=fo(d),d.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(a||d)&&(a=fo(a||[]),d&&!d.keepInitialKeyOrder&&(a=d3(d,a)),F(a,function(p){t=t[p?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),l&&(t=t.select(l)),d&&(t=RR(t,d)),(h||u)&&(t=t.slice(u||0,h)),t}var Zr={multiLevelGroup:RR,arrangeSortingInfo:d3,queryByOptions:p_e};var u3={};var f_e=function t(e,i,n){n=n||[],i=i||{};var r=function(a,l){return{name:a,args:l}},o=function(a){var l=new H,d,u,h,p,m,c=function(T){var N=i.errorHandler;N&&N(T),Bf(T),l.reject(T)};function x(T){switch(T.name){case"sortBy":return m=[T.args],!0;case"thenBy":if(!m)throw ji.Error("E4004");return m.push(T.args),!0}return!1}try{d=i.adapter,ce(d)||(d=u3[d]),u=d(i),h=[].concat(n).concat(a);var D=u.optimize;for(D&&D(h);h.length;){if(p=h[0],!x(p)){if(m){h.unshift(r("multiSort",[m])),m=null;continue}if(String(p.name)!=="enumerate"&&(!u[p.name]||u[p.name].apply(u,p.args)===!1))break}h.shift()}(function(){var T=h[0],N=[];T&&T.name==="multiSort"&&(h.shift(),F(T.args[0],function(){N.push(r(N.length?"thenBy":"sortBy",this))})),h=N.concat(h)})(),u.exec(e).done(function(T,N){if(!h.length)l.resolve(T,N);else{var G=Vu(T,{errorHandler:i.errorHandler});F(h,function(){G=G[this.name].apply(G,this.args)}),G.done(l.resolve).fail(l.reject)}}).fail(c)}catch(T){c(T)}return l.promise()},s={};return F(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var a=String(this);s[a]=function(){return t(e,i,n.concat(r(a,arguments)))}}),F(["count","min","max","sum","avg","aggregate","enumerate"],function(){var a=String(this);s[a]=function(){return o.call(this,r(a,arguments))}}),s},c3=f_e;var h3={array:Vu,remote:c3};var g_e=function(){var t=Array.isArray(arguments[0])?"array":"remote";return h3[t].apply(this,arguments)},hn=g_e;var Lo=ot.abstract,m_e=ot.inherit({ctor:function(t){this._collectionWidget=t},getIndexByItemData:Lo,getItemDataByIndex:Lo,getKeysByItems:Lo,getItemsByKeys:Lo,itemsGetter:Lo,getKeyByIndex:function(t){var e=this._denormalizeItemIndex(t);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys:function(t,e){return this._collectionWidget._isKeySpecified()?Rt(t,e):t===e},beginCache:function(){this._cache={}},endCache:function(){this._cache=null},getIndexByKey:Lo,getNormalizedIndex:function(t){return this._isNormalizedItemIndex(t)?t:this._isItemIndex(t)?this._normalizeItemIndex(t):this._isNode(t)?this._getNormalizedItemIndex(t):this._normalizeItemIndex(this.getIndexByItemData(t))},getIndex:function(t){return this._isNormalizedItemIndex(t)?this._denormalizeItemIndex(t):this._isItemIndex(t)?t:this._isNode(t)?this._denormalizeItemIndex(this._getNormalizedItemIndex(t)):this.getIndexByItemData(t)},getItemElement:function(t){if(this._isNormalizedItemIndex(t))return this._getItemByNormalizedIndex(t);if(this._isItemIndex(t))return this._getItemByNormalizedIndex(this._normalizeItemIndex(t));if(this._isNode(t))return g(t);var e=this._normalizeItemIndex(this.getIndexByItemData(t));return this._getItemByNormalizedIndex(e)},_isNode:t=>ie.isNode(t&&Ln(t)?t.get(0):t),deleteItemAtIndex:Lo,itemPlacementFunc:function(t,e){return this._itemsFromSameParent(t,e)&&t<e?"after":"before"},moveItemAtIndexToIndex:Lo,_isNormalizedItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_isItemIndex:Lo,_getNormalizedItemIndex:Lo,_normalizeItemIndex:Lo,_denormalizeItemIndex:Lo,_getItemByNormalizedIndex:Lo,_itemsFromSameParent:Lo}),p3=m_e;var v_e=p3.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(t)):this._getPlainItems().indexOf(t)},getItemDataByIndex:function(t){return this._getPlainItems()[t]},deleteItemAtIndex:function(t){this._getPlainItems().splice(t,1)},itemsGetter:function(){return this._getPlainItems()},getKeysByItems:function(t){var e=this._collectionWidget.keyOf.bind(this._collectionWidget),i=t;if(e){i=[];for(var n=0;n<t.length;n++)i.push(e(t[n]))}return i},getIndexByKey:function(t){var e=this._cache,i=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=i),typeof t=="object"){for(var n=0,r=i.length;n<r;n++)if(this._equalKeys(t,i[n]))return n}else return i.indexOf(t);return-1},getItemsByKeys:function(t,e){return(e||t).slice()},moveItemAtIndexToIndex:function(t,e){var i=this._getPlainItems(),n=i[t];i.splice(t,1),i.splice(e,0,n)},_isItemIndex:function(t){return typeof t=="number"&&Math.round(t)===t},_getNormalizedItemIndex:function(t){return this._collectionWidget._itemElements().index(t)},_normalizeItemIndex:function(t){return t},_denormalizeItemIndex:function(t){return t},_getItemByNormalizedIndex:function(t){return t>-1?this._collectionWidget._itemElements().eq(t):null},_itemsFromSameParent:function(){return!0}}),Vf=v_e;var __e="dx-list-item",f3="dx-list-group",FR=20,C_e=(1<<FR)-1,g3=function(t){return(t.group<<FR)+t.item},uh=function(t){return{group:t>>FR,item:t&C_e}},x_e=Vf.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+f3)},_groupItemElements:function(t){return t.find("."+__e)},getIndexByItemData:function(t){var e=this._collectionWidget.option("items"),i=!1;return t?(t.items&&t.items.length&&(t=t.items[0]),F(e,function(n,r){if(!r.items||(F(r.items,function(o,s){return s!==t?!0:(i={group:n,item:o},!1)}),i))return!1}),i):!1},getItemDataByIndex:function(t){var e=this._collectionWidget.option("items");return It(t)?this.itemsGetter()[t]:t&&e[t.group]&&e[t.group].items[t.item]||null},itemsGetter:function(){for(var t=[],e=this._collectionWidget.option("items"),i=0;i<e.length;i++)e[i]&&e[i].items?t=t.concat(e[i].items):t.push(e[i]);return t},deleteItemAtIndex:function(t){var e=uh(t),i=this._collectionWidget.option("items")[e.group].items;i.splice(e.item,1)},getKeysByItems:function(t){var e=[],i;for(i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);var n=[];for(i=0;i<e.length;i++)n.push(this._collectionWidget.keyOf(e[i]));return n},getIndexByKey:function(t,e){var i=e||this._collectionWidget.option("items"),n=-1,r=this;return F(i,function(o,s){if(s.items&&(F(s.items,function(a,l){var d=r._collectionWidget.keyOf(l);if(r._equalKeys(d,t))return n={group:o,item:a},!1}),n!==-1))return!1}),n},_getGroups:function(t){var e=this._collectionWidget._dataController,i=e.group();return i?Zr.queryByOptions(hn(t),{group:i}).toArray():this._collectionWidget.option("items")},getItemsByKeys:function(t,e){var i=[],n=this._getGroups(e),r={},o=s=>{var a=this.getIndexByKey(s,n),l=a&&n[a.group];if(l)return{groupKey:l.key,item:l.items[a.item]}};return F(t,function(s,a){var l=o(a);if(l){var d=l.groupKey,u=l.item,h=r[d];h||(h={key:d,items:[]},r[d]=h,i.push(h)),h.items.push(u)}}),i},moveItemAtIndexToIndex:function(t,e){var i=this._collectionWidget.option("items"),n=uh(t),r=uh(e),o=i[n.group].items,s=i[r.group].items,a=o[n.item];o.splice(n.item,1),s.splice(r.item,0,a)},_isItemIndex:function(t){return t&&It(t.group)&&It(t.item)},_getNormalizedItemIndex:function(t){var e=g(t),i=e.closest("."+f3);return i.length?g3({group:this._groupElements().index(i),item:this._groupItemElements(i).index(e)}):-1},_normalizeItemIndex:function(t){return g3(t)},_denormalizeItemIndex:function(t){return uh(t)},_getItemByNormalizedIndex:function(t){var e=uh(t),i=this._groupElements().eq(e.group);return this._groupItemElements(i).eq(e.item)},_itemsFromSameParent:function(t,e){return uh(t).group===uh(e).group}}),m3=x_e;var v3={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"};var y_e="-",_3=(t,e)=>{var i=t[e];return i?i!=="root"&&i:e.substr(0,e.lastIndexOf(y_e))};var PR="en",vr=On({locale:(()=>{var t=PR;return e=>{if(!e)return t;t=e}})(),getValueByClosestLocale:function(t){for(var e=this.locale(),i=t(e),n;!i&&!n;)e=_3(v3,e),e?i=t(e):n=!0;return i===void 0&&e!==PR?t(PR):i}});var C3={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"KB","dxFileUploader-Mb":"MB","dxFileUploader-Gb":"GB","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-ariaNotSortedColumn":"Not sorted column","dxDataGrid-ariaSortedAscendingColumn":"Column sorted in ascending order","dxDataGrid-ariaSortedDescendingColumn":"Column sorted in descending order","dxDataGrid-ariaSortIndex":"Sort index {0}","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaColumnHeader":"Column header","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaError":"Error","dxDataGrid-ariaRevertButton":"Press Escape to discard the changes","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaModifiedCell":"Modified","dxDataGrid-ariaDeletedCell":"Deleted","dxDataGrid-ariaEditableCell":"Editable","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaCollapsedRow":"Collapsed row","dxDataGrid-ariaExpandedRow":"Expanded row","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditTitle":"Edit Recurring Appointment","dxScheduler-confirmRecurrenceDeleteTitle":"Delete Recurring Appointment","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-previousMonthButtonLabel":"Previous month","dxCalendar-previousYearButtonLabel":"Previous year","dxCalendar-previousDecadeButtonLabel":"Previous decade","dxCalendar-previousCenturyButtonLabel":"Previous century","dxCalendar-nextMonthButtonLabel":"Next month","dxCalendar-nextYearButtonLabel":"Next year","dxCalendar-nextDecadeButtonLabel":"Next decade","dxCalendar-nextCenturyButtonLabel":"Next century","dxCalendar-captionMonthLabel":"Month selection","dxCalendar-captionYearLabel":"Year selection","dxCalendar-captionDecadeLabel":"Decade selection","dxCalendar-captionCenturyLabel":"Century selection","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxHtmlEditor-borderStyleNone":"none","dxHtmlEditor-borderStyleHidden":"hidden","dxHtmlEditor-borderStyleDotted":"dotted","dxHtmlEditor-borderStyleDashed":"dashed","dxHtmlEditor-borderStyleSolid":"solid","dxHtmlEditor-borderStyleDouble":"double","dxHtmlEditor-borderStyleGroove":"groove","dxHtmlEditor-borderStyleRidge":"ridge","dxHtmlEditor-borderStyleInset":"inset","dxHtmlEditor-borderStyleOutset":"outset","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}","dxGallery-itemName":"Gallery item","dxMultiView-elementAriaRoleDescription":"MultiView","dxMultiView-elementAriaLabel":"Use the arrow keys or swipe to navigate between views","dxMultiView-itemAriaRoleDescription":"View","dxMultiView-itemAriaLabel":"{0} of {1}"}};var b_e=y(!0,{},C3),D_e=(t,e)=>{var i;return t[e]||e?.toLowerCase&&((i=Object.entries(t).find(n=>{var[r]=n;return r.toLowerCase()===e.toLowerCase()}))===null||i===void 0?void 0:i[1])||{}},kR={},O_e=On({engine:function(){return"base"},_dictionary:b_e,load:function(t){y(!0,this._dictionary,t)},_localizablePrefix:"@",setup:function(t){this._localizablePrefix=t},localizeString:function(t){var e=this,i=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),n=e._localizablePrefix+e._localizablePrefix;return t.replace(i,(r,o,s,a)=>{var l=e._localizablePrefix+a,d;return s!==n&&(d=e.format(a)),d||(kR[a]=k2(a)),o+(d||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(t){return t?kR:y({},kR,this.getMessagesByLocales()[vr.locale()])},getFormatter:function(t){return this._getFormatterBase(t)||this._getFormatterBase(t,"en")},_getFormatterBase:function(t,e){var i=vr.getValueByClosestLocale(n=>D_e(this._dictionary,n)[t]);if(i)return function(){var n=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return n.unshift(i),yr.apply(this,n)}},format:function(t){var e=this.getFormatter(t),i=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,i)||""}}),j=O_e;var NR={};function go(t,e,i){var n=NR,r={};r[t]=n[t]?n[t]:{},r[t][e]=i,y(n,r)}var x3=[],E0=function(t,e,i){x3.push({enabled:t,decoratorType:e,decoratorSubType:i})};E0(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")});E0(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var t=this.option("itemDeleteMode");return t==="toggle"||t==="slideButton"||t==="swipe"||t==="static"?"delete":"menu"},function(){var t=this.option("itemDeleteMode");return t==="slideItem"&&(t="slide"),t});E0(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"});E0(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},function(){return"reorder"},function(){return"default"});var E_e="dx-list-item-before-bag",S_e="dx-list-item-after-bag",w_e="beforeBag",I_e="afterBag",T_e="modifyElement",M_e="afterRender",A_e="getExcludedSelectors",R_e=ot.inherit({ctor:function(t){this._list=t,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&F(this._decorators,function(t,e){e.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],F(x3,(function(t,e){var i=e.enabled.call(this._list);if(i){var n=e.decoratorType.call(this._list),r=e.decoratorSubType.call(this._list),o=this._createDecorator(n,r);this._decorators.push(o)}}).bind(this))},_createDecorator:function(t,e){var i=this._findDecorator(t,e);return new i(this._list)},_findDecorator:function(t,e){var i,n=(i=NR[t])===null||i===void 0?void 0:i[e];if(!n)throw Ke.Error("E1012",t,e);return n},modifyItemElement:function(t){var e=g(t.itemElement),i={$itemElement:e};this._prependBeforeBags(e,i),this._appendAfterBags(e,i),this._applyDecorators(T_e,i)},afterItemsRendered:function(){this._applyDecorators(M_e)},_prependBeforeBags:function(t,e){var i=this._collectDecoratorsMarkup(w_e,e,E_e);t.prepend(i)},_appendAfterBags:function(t,e){var i=this._collectDecoratorsMarkup(I_e,e,S_e);t.append(i)},_collectDecoratorsMarkup:function(t,e,i){var n=g("<div>");return F(this._decorators,function(){var r=g("<div>").addClass(i);this[t](y({$container:r},e)),r.children().length&&n.append(r)}),n.children()},_applyDecorators:function(t,e){F(this._decorators,function(){this[t](e)})},_handlerExists:function(t){if(!this._decorators)return!1;for(var e=this._decorators,i=e.length,n=0;n<i;n++)if(e[n][t]!==W)return!0;return!1},_eventHandler:function(t,e,i){if(!this._decorators)return!1;for(var n=!1,r=this._decorators,o=r.length,s=0;s<o&&(n=r[s][t](e,i),!n);s++);return n},handleClick:function(t,e){return this._eventHandler("handleClick",t,e)},handleKeyboardEvents:function(t,e){return this._eventHandler("handleKeyboardEvents",t,e)},handleEnterPressing:function(t){return this._eventHandler("handleEnterPressing",t)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(t,e){return this._eventHandler("handleContextMenu",t,e)},getExcludedItemSelectors:function(){var t=[];return this._applyDecorators(A_e,t),t.join(",")}}),y3=R_e;var a_="dx-icon",F_e="dx-svg-icon",ed=t=>!t||typeof t!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(t)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(t)?"image":/^[\w-_]+$/.test(t)?"dxIcon":/^\s?([\w-_:]\s?)+$/.test(t)?"fontIcon":!1,Dr=t=>{switch(ed(t)){case"image":return g("<img>").attr("src",t).addClass(a_);case"fontIcon":return g("<i>").addClass("".concat(a_," ").concat(t));case"dxIcon":return g("<i>").addClass("".concat(a_," ").concat(a_,"-").concat(t));case"svg":return g("<i>").addClass("".concat(a_," ").concat(F_e)).append(t);default:return null}};var Hf="dxswipestart",zf="dxswipe",Hu="dxswipeend",k_e={defaultItemSizeFunc:function(){return Ae(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(t){var e=Bi(t);return(e.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Bi(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},N_e={defaultItemSizeFunc:function(){return je(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(t){var e=Bi(t);return(e.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,t)},isFastSwipe:function(t){var e=Bi(t);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}},L_e={horizontal:k_e,vertical:N_e},B_e=bf.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(t){this.callBase(t),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return L_e[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(t){this._tickData=Bi(t)},_start:function(t){this._savedEventData=Bi(t),t=this._fireEvent(Hf,t),t.cancel||(this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset)},_move:function(t){var e=this._getStrategy(),i=Bi(t),n=e.calcOffsetRatio.call(this,t);n=this._fitOffset(n,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(zf,t,{offset:n}),t.cancelable!==!1&&t.preventDefault()},_end:function(t){var e=this._getStrategy(),i=e.calcOffsetRatio.call(this,t),n=e.isFastSwipe.call(this,t),r=i,o=this._calcTargetOffset(i,n);r=this._fitOffset(r,this.elastic),o=this._fitOffset(o,!1),this._fireEvent(Hu,t,{offset:r,targetOffset:o})},_fitOffset:function(t,e){var i=this._getStrategy(),n=i.getBounds.call(this);return t<-n[0]?e?(-2*n[0]+t)/3:-n[0]:t>n[1]?e?(2*n[1]+t)/3:n[1]:t},_calcTargetOffset:function(t,e){var i;return e?(i=Math.ceil(Math.abs(t)),t<0&&(i=-i)):i=Math.round(t),i}});bs({emitter:B_e,events:[Hf,zf,Hu]});var b3="dx-inkripple",D3="dx-inkripple-wave",O3="dx-inkripple-showing",E3="dx-inkripple-hiding",V_e=2,H_e=4e3,LR=300,z_e=1e3,S3=0,BR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:e,waveSizeCoefficient:i,isCentered:n,wavesNumber:r}=t;return{waveSizeCoefficient:i||V_e,isCentered:n||!1,wavesNumber:r||1,durations:G_e(e??!0)}},zu=function(t){var e=BR(t);return{showWave:VR.bind(this,e),hideWave:HR.bind(this,e)}},W_e=function(t){var e=t.children("."+b3);return e.length===0&&(e=g("<div>").addClass(b3).appendTo(t)),e},w3=function(t,e){for(var i=W_e(g(t)),n=i.children("."+D3).toArray(),r=n.length;r<e;r++){var o=g("<div>").appendTo(i).addClass(D3);n.push(o[0])}return g(n)},j_e=function(t,e){var i=g(e.element),n=it(i),r=et(i),o=parseInt(Math.sqrt(n*n+r*r)),s=Math.min(H_e,parseInt(o*t.waveSizeCoefficient)),a,l;if(t.isCentered)a=(n-s)/2,l=(r-s)/2;else{var d=e.event,u=i.offset(),h=d.pageX-u.left,p=d.pageY-u.top;a=h-s/2,l=p-s/2}return{left:a,top:l,height:s,width:s}};function VR(t,e){var i=w3(e.element,t.wavesNumber).eq(e.wave||S3);t.hidingTimeout&&clearTimeout(t.hidingTimeout),I3(i),i.css(j_e(t,e)),t.showingTimeout=setTimeout($_e.bind(this,t,i),0)}function $_e(t,e){var i=t.durations.showingScale+"ms";e.addClass(O3).css("transitionDuration",i)}function G_e(t){return{showingScale:t?z_e:LR,hidingScale:LR,hidingOpacity:LR}}function I3(t){t.removeClass(E3).css("transitionDuration","")}function HR(t,e){t.showingTimeout&&clearTimeout(t.showingTimeout);var i=w3(e.element,e.wavesNumber).eq(e.wave||S3),n=t.durations,r=n.hidingScale+"ms, "+n.hidingOpacity+"ms";i.addClass(E3).removeClass(O3).css("transitionDuration",r);var o=Math.max(n.hidingScale,n.hidingOpacity);t.hidingTimeout=setTimeout(I3.bind(this,i),o)}var U_e="dx-state-invisible",K_e="dx-state-disabled",q_e="dx-item-content-placeholder",J_e=function(t,e,i){var n=function(o){r!==o&&(i(o,r),r=o)},r;return{dispose:t(e,n),force:function(){n(e())}}},T3=ot.inherit({ctor:function(t,e,i){this._$element=t,this._options=e,this._rawData=i,Rb(t,this,this._dispose),this._render()},_render:function(){var t=g("<div>").addClass(q_e);this._$element.append(t),this._watchers=[],this._renderWatchers()},_renderWatchers:function(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher:function(t,e){var i=this._rawData,n=this._options.fieldGetter(t),r=J_e(this._options.watchMethod(),function(){return n(i)},(function(o,s){this._dirty=!0,e(o,s)}).bind(this));this._watchers.push(r)},setDataField:function(){if(this._dirty=!1,F(this._watchers,function(t,e){e.force()}),this._dirty)return!0},_renderDisabled:function(t,e){this._$element.toggleClass(K_e,!!t),this._$element.attr("aria-disabled",!!t),this._updateOwnerFocus(t)},_updateOwnerFocus:function(t){var e=this._options.owner;e&&t&&e._resetItemFocus(this._$element)},_renderVisible:function(t,e){this._$element.toggleClass(U_e,t!==void 0&&!t)},_dispose:function(){F(this._watchers,function(t,e){e.dispose()})}});T3.getInstance=function(t){return Fb(t,this)};var ws=T3;var M3="dx-list-item-badge-container",Y_e="dx-list-item-badge",X_e="dx-badge",zR="dx-list-item-chevron-container",Q_e="dx-list-item-chevron",Z_e=ws.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge:function(t){if(this._$element.children("."+M3).remove(),!!t){var e=g("<div>").addClass(M3).append(g("<div>").addClass(Y_e).addClass(X_e).text(t)),i=this._$element.children("."+zR).first();i.length>0?e.insertBefore(i):e.appendTo(this._$element)}},_renderShowChevron:function(t){if(this._$element.children("."+zR).remove(),!!t){var e=g("<div>").addClass(zR),i=g("<div>").addClass(Q_e);e.append(i).appendTo(this._$element)}}}),A3=Z_e;var eCe=10;function tCe(t){var e=ua(t);return e*Math.round(Math.abs(t))}function iCe(t,e){var i=Math.pow(eCe,e),n=Bb(t,e);return tCe(n)/i}function S0(t,e){var i=e||0,n=i>0?iCe(...arguments):t;return n.toFixed(i)}var nCe={thousandsSeparator:",",decimalSeparator:"."},R3="'",rCe=15,oCe=2;function sCe(t){return t.split(",").slice(1).map(function(e){var i=0;return e.split("").filter(function(n,r){i+=n==="'";var o=n==="#"||n==="0",s=i%2;return o&&!s}).length})}function aCe(t){var e=t.split(";");return e.length===1&&e.push("-"+e[0]),e}function WR(t){return t.toString().split("").reverse().join("")}function lCe(t){return t.indexOf("%")!==-1&&!t.match(/'[^']*%[^']*'/g)}function V3(t){return t.replace(/'.+'/g,"")}function F3(t){if(!t)return 0;var e=V3(t);return e.length-e.replace(/[#]/g,"").length}function P3(t){if(!t)return 0;var e=V3(t);return e.length-e.replace(/[0]/g,"").length}function k3(t,e,i){if(!t)return"";for(t.length>i&&(t=t.substr(0,i));t.length>e&&t.slice(-1)==="0";)t=t.substr(0,t.length-1);for(;t.length<e;)t+="0";return t}function dCe(t,e,i){if(!e.length)return t;for(var n=[],r=0;t;){var o=e[r];if(!o)break;n.push(t.slice(0,o)),t=t.slice(o),r<e.length-1&&r++}return n.join(i)}function N3(t,e){return t.split(R3).map(function(i,n){var r=n%2;return!i&&r?R3:r?i:i.replace(/[,#0]+/,e)}).join("")}function uCe(t){for(var e=!1,i=0;i<t.length;i++)if(t[i]==="'"&&(e=!e),t[i]==="."&&!e)return i;return t.length}function H3(t,e){return e=e||nCe,function(i){if(typeof i!="number"||isNaN(i))return"";var n=aCe(t),r=1/i===1/0,o=i>0||r,s=n[o?0:1],a=uCe(s),l=[s.substr(0,a),s.substr(a+1)],d=P3(l[1]),u=d+F3(l[1]);lCe(s)&&(i=Bb(i,oCe)),o||(i=-i);var h=P3(l[0]),p=F3(l[0])||e.unlimitedIntegerDigits?void 0:h,m=Math.floor(i).toString().length,c=ln(u,0,rCe-m),x=sCe(l[0]).reverse(),D=S0(i,c<0?0:c).split("."),T=k3(WR(D[0]),h,p),N=k3(D[1],d,u);T=dCe(T,x,e.thousandsSeparator);var G=WR(N3(WR(l[0]),T)),U=u?N3(l[1],N):"",re=G+(U.match(/\d/)?e.decimalSeparator:"")+U;return re}}function l_(t,e,i){var n=(e?.01:1)*parseFloat(t)||0;return i?-n:n}function L3(t,e,i,n){var r=t,o,s,a;do a&&(o=s.length===a.length?"0":"1",t=n?o+t:t+o),s=a||e(l_(r,i)),r=n?"1"+r:r+"1",a=e(l_(r,i));while(s!==a&&(n?s.length===a.length:s.length<=a.length));if(n&&a.length>s.length){var l=e(12345).indexOf("12345")===-1;do t="1"+t;while(l&&l_(t,i)<1e5)}return t}function B3(t,e,i,n){var r=e(l_(t,i,n)),o=t.split("."),s=o[0]+".3"+o[1].slice(1),a=l_(s,i,n),l=e(a).indexOf("3")-1;return r=r.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(r=r.slice(0,l)+"."+r.slice(l+1)),r=r.replace(/1+/,"1").replace(/1/g,"#"),i||(r=r.replace(/%/g,"'%'")),r}function z3(t){var e=".",i=t(1).indexOf("100")>=0;e=L3(e,t,i,!0),e=L3(e,t,i,!1);var n=B3(e,t,i,!1),r=B3(e,t,i,!0);return r==="-"+n?n:n+";"+r}var W3={_formatNumberCore:function(t,e,i){if(e==="currency"){i.precision=i.precision||0;var n=this.format(t,y({},i,{type:"fixedpoint"})),r=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return n=n.replace(/^(\D*)(\d.*)/,"$1"+r+"$2"),n}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}};var j3=(t,e)=>{if(e){var i=t;if(typeof t=="string"){i="";for(var n=0;n<t.length;n++)t[n]!=="$"&&(i+="\\"),i+=t[n]}for(var r={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xA4":i},o=e.split(";"),s=0;s<o.length;s++)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o[s]=o[s].replace(new RegExp(a,"g"),r[a]));return o.length===2?o[0]+"_);"+o[1]:o[0]}};var $3={af:"\xA4#,##0.00;(\xA4#,##0.00)","af-NA":"\xA4#,##0.00;(\xA4#,##0.00)",agq:"#,##0.00\xA4",ak:"\xA4#,##0.00",am:"\xA4#,##0.00;(\xA4#,##0.00)",ar:"\xA4#,##0.00;(\xA4#,##0.00)","ar-AE":"\xA4#,##0.00;(\xA4#,##0.00)","ar-BH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DZ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EG":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-ER":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IL":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IQ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-JO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KW":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LB":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MR":"\xA4#,##0.00;(\xA4#,##0.00)","ar-OM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-PS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-QA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TN":"\xA4#,##0.00;(\xA4#,##0.00)","ar-YE":"\xA4#,##0.00;(\xA4#,##0.00)",as:"\xA4\xA0#,##,##0.00",asa:"#,##0.00\xA0\xA4",ast:"#,##0.00\xA0\xA4",az:"#,##0.00\xA0\xA4","az-Cyrl":"#,##0.00\xA0\xA4","az-Latn":"#,##0.00\xA0\xA4",bas:"#,##0.00\xA0\xA4",be:"#,##0.00\xA0\xA4","be-tarask":"#,##0.00\xA0\xA4",bem:"\xA4#,##0.00;(\xA4#,##0.00)",bez:"#,##0.00\xA4",bg:"0.00\xA0\xA4;(0.00\xA0\xA4)",bm:"\xA4#,##0.00;(\xA4#,##0.00)",bn:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","bn-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",bo:"\xA4\xA0#,##0.00","bo-IN":"\xA4\xA0#,##0.00",br:"#,##0.00\xA0\xA4",brx:"\xA4\xA0#,##,##0.00",bs:"#,##0.00\xA0\xA4","bs-Cyrl":"#,##0.00\xA0\xA4","bs-Latn":"#,##0.00\xA0\xA4",ca:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-AD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-ES-valencia":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-FR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-IT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ccp:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","ccp-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",ce:"#,##0.00\xA0\xA4",ceb:"\xA4#,##0.00;(\xA4#,##0.00)",cgg:"\xA4#,##0.00",chr:"\xA4#,##0.00;(\xA4#,##0.00)",ckb:"\xA4\xA0#,##0.00","ckb-IR":"\xA4\xA0#,##0.00",cs:"#,##0.00\xA0\xA4",cy:"\xA4#,##0.00;(\xA4#,##0.00)",da:"#,##0.00\xA0\xA4","da-GL":"#,##0.00\xA0\xA4",dav:"\xA4#,##0.00;(\xA4#,##0.00)",de:"#,##0.00\xA0\xA4","de-AT":"#,##0.00\xA0\xA4","de-BE":"#,##0.00\xA0\xA4","de-CH":"#,##0.00\xA0\xA4","de-IT":"#,##0.00\xA0\xA4","de-LI":"#,##0.00\xA0\xA4","de-LU":"#,##0.00\xA0\xA4",dje:"#,##0.00\xA4",doi:"\xA4#,##0.00",dsb:"#,##0.00\xA0\xA4",dua:"#,##0.00\xA0\xA4",dyo:"#,##0.00\xA0\xA4",dz:"\xA4#,##,##0.00",ebu:"\xA4#,##0.00;(\xA4#,##0.00)",ee:"\xA4#,##0.00;(\xA4#,##0.00)","ee-TG":"\xA4#,##0.00;(\xA4#,##0.00)",el:"#,##0.00\xA0\xA4","el-CY":"#,##0.00\xA0\xA4",en:"\xA4#,##0.00;(\xA4#,##0.00)","en-001":"\xA4#,##0.00;(\xA4#,##0.00)","en-150":"#,##0.00\xA0\xA4","en-AE":"\xA4#,##0.00;(\xA4#,##0.00)","en-AG":"\xA4#,##0.00;(\xA4#,##0.00)","en-AI":"\xA4#,##0.00;(\xA4#,##0.00)","en-AS":"\xA4#,##0.00;(\xA4#,##0.00)","en-AT":"\xA4\xA0#,##0.00","en-AU":"\xA4#,##0.00;(\xA4#,##0.00)","en-BB":"\xA4#,##0.00;(\xA4#,##0.00)","en-BE":"#,##0.00\xA0\xA4","en-BI":"\xA4#,##0.00;(\xA4#,##0.00)","en-BM":"\xA4#,##0.00;(\xA4#,##0.00)","en-BS":"\xA4#,##0.00;(\xA4#,##0.00)","en-BW":"\xA4#,##0.00;(\xA4#,##0.00)","en-BZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-CA":"\xA4#,##0.00;(\xA4#,##0.00)","en-CC":"\xA4#,##0.00;(\xA4#,##0.00)","en-CH":"\xA4\xA0#,##0.00;\xA4-#,##0.00","en-CK":"\xA4#,##0.00;(\xA4#,##0.00)","en-CM":"\xA4#,##0.00;(\xA4#,##0.00)","en-CX":"\xA4#,##0.00;(\xA4#,##0.00)","en-CY":"\xA4#,##0.00;(\xA4#,##0.00)","en-DE":"#,##0.00\xA0\xA4","en-DG":"\xA4#,##0.00;(\xA4#,##0.00)","en-DK":"#,##0.00\xA0\xA4","en-DM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ER":"\xA4#,##0.00;(\xA4#,##0.00)","en-FI":"#,##0.00\xA0\xA4","en-FJ":"\xA4#,##0.00;(\xA4#,##0.00)","en-FK":"\xA4#,##0.00;(\xA4#,##0.00)","en-FM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GB":"\xA4#,##0.00;(\xA4#,##0.00)","en-GD":"\xA4#,##0.00;(\xA4#,##0.00)","en-GG":"\xA4#,##0.00;(\xA4#,##0.00)","en-GH":"\xA4#,##0.00;(\xA4#,##0.00)","en-GI":"\xA4#,##0.00;(\xA4#,##0.00)","en-GM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GU":"\xA4#,##0.00;(\xA4#,##0.00)","en-GY":"\xA4#,##0.00;(\xA4#,##0.00)","en-HK":"\xA4#,##0.00;(\xA4#,##0.00)","en-IE":"\xA4#,##0.00;(\xA4#,##0.00)","en-IL":"\xA4#,##0.00;(\xA4#,##0.00)","en-IM":"\xA4#,##0.00;(\xA4#,##0.00)","en-IN":"\xA4#,##0.00;(\xA4#,##0.00)","en-IO":"\xA4#,##0.00;(\xA4#,##0.00)","en-JE":"\xA4#,##0.00;(\xA4#,##0.00)","en-JM":"\xA4#,##0.00;(\xA4#,##0.00)","en-KE":"\xA4#,##0.00;(\xA4#,##0.00)","en-KI":"\xA4#,##0.00;(\xA4#,##0.00)","en-KN":"\xA4#,##0.00;(\xA4#,##0.00)","en-KY":"\xA4#,##0.00;(\xA4#,##0.00)","en-LC":"\xA4#,##0.00;(\xA4#,##0.00)","en-LR":"\xA4#,##0.00;(\xA4#,##0.00)","en-LS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MG":"\xA4#,##0.00;(\xA4#,##0.00)","en-MH":"\xA4#,##0.00;(\xA4#,##0.00)","en-MO":"\xA4#,##0.00;(\xA4#,##0.00)","en-MP":"\xA4#,##0.00;(\xA4#,##0.00)","en-MS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MT":"\xA4#,##0.00;(\xA4#,##0.00)","en-MU":"\xA4#,##0.00;(\xA4#,##0.00)","en-MV":"\xA4\xA0#,##0.00","en-MW":"\xA4#,##0.00;(\xA4#,##0.00)","en-MY":"\xA4#,##0.00;(\xA4#,##0.00)","en-NA":"\xA4#,##0.00;(\xA4#,##0.00)","en-NF":"\xA4#,##0.00;(\xA4#,##0.00)","en-NG":"\xA4#,##0.00;(\xA4#,##0.00)","en-NL":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","en-NR":"\xA4#,##0.00;(\xA4#,##0.00)","en-NU":"\xA4#,##0.00;(\xA4#,##0.00)","en-NZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-PG":"\xA4#,##0.00;(\xA4#,##0.00)","en-PH":"\xA4#,##0.00;(\xA4#,##0.00)","en-PK":"\xA4#,##0.00;(\xA4#,##0.00)","en-PN":"\xA4#,##0.00;(\xA4#,##0.00)","en-PR":"\xA4#,##0.00;(\xA4#,##0.00)","en-PW":"\xA4#,##0.00;(\xA4#,##0.00)","en-RW":"\xA4#,##0.00;(\xA4#,##0.00)","en-SB":"\xA4#,##0.00;(\xA4#,##0.00)","en-SC":"\xA4#,##0.00;(\xA4#,##0.00)","en-SD":"\xA4#,##0.00;(\xA4#,##0.00)","en-SE":"#,##0.00\xA0\xA4","en-SG":"\xA4#,##0.00;(\xA4#,##0.00)","en-SH":"\xA4#,##0.00;(\xA4#,##0.00)","en-SI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","en-SL":"\xA4#,##0.00;(\xA4#,##0.00)","en-SS":"\xA4#,##0.00;(\xA4#,##0.00)","en-SX":"\xA4#,##0.00;(\xA4#,##0.00)","en-SZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-TC":"\xA4#,##0.00;(\xA4#,##0.00)","en-TK":"\xA4#,##0.00;(\xA4#,##0.00)","en-TO":"\xA4#,##0.00;(\xA4#,##0.00)","en-TT":"\xA4#,##0.00;(\xA4#,##0.00)","en-TV":"\xA4#,##0.00;(\xA4#,##0.00)","en-TZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-UG":"\xA4#,##0.00;(\xA4#,##0.00)","en-UM":"\xA4#,##0.00;(\xA4#,##0.00)","en-VC":"\xA4#,##0.00;(\xA4#,##0.00)","en-VG":"\xA4#,##0.00;(\xA4#,##0.00)","en-VI":"\xA4#,##0.00;(\xA4#,##0.00)","en-VU":"\xA4#,##0.00;(\xA4#,##0.00)","en-WS":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZA":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZW":"\xA4#,##0.00;(\xA4#,##0.00)",eo:"\xA4\xA0#,##0.00",es:"#,##0.00\xA0\xA4","es-419":"\xA4#,##0.00","es-AR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-BO":"\xA4#,##0.00","es-BR":"\xA4#,##0.00","es-BZ":"\xA4#,##0.00","es-CL":"\xA4#,##0.00","es-CO":"\xA4#,##0.00","es-CR":"\xA4#,##0.00","es-CU":"\xA4#,##0.00","es-DO":"\xA4#,##0.00;(\xA4#,##0.00)","es-EA":"#,##0.00\xA0\xA4","es-EC":"\xA4#,##0.00","es-GQ":"#,##0.00\xA0\xA4","es-GT":"\xA4#,##0.00","es-HN":"\xA4#,##0.00","es-IC":"#,##0.00\xA0\xA4","es-MX":"\xA4#,##0.00","es-NI":"\xA4#,##0.00","es-PA":"\xA4#,##0.00","es-PE":"\xA4#,##0.00","es-PH":"#,##0.00\xA0\xA4","es-PR":"\xA4#,##0.00","es-PY":"\xA4#,##0.00","es-SV":"\xA4#,##0.00","es-US":"\xA4#,##0.00","es-UY":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-VE":"\xA4#,##0.00",et:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",eu:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ewo:"#,##0.00\xA0\xA4",fa:"\u200E\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)","fa-AF":"\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)",ff:"#,##0.00\xA0\xA4","ff-Adlm":"\xA4\xA0#,##0.00","ff-Adlm-BF":"\xA4\xA0#,##0.00","ff-Adlm-CM":"\xA4\xA0#,##0.00","ff-Adlm-GH":"\xA4\xA0#,##0.00","ff-Adlm-GM":"\xA4\xA0#,##0.00","ff-Adlm-GW":"\xA4\xA0#,##0.00","ff-Adlm-LR":"\xA4\xA0#,##0.00","ff-Adlm-MR":"\xA4\xA0#,##0.00","ff-Adlm-NE":"\xA4\xA0#,##0.00","ff-Adlm-NG":"\xA4\xA0#,##0.00","ff-Adlm-SL":"\xA4\xA0#,##0.00","ff-Adlm-SN":"\xA4\xA0#,##0.00","ff-Latn":"#,##0.00\xA0\xA4","ff-Latn-BF":"#,##0.00\xA0\xA4","ff-Latn-CM":"#,##0.00\xA0\xA4","ff-Latn-GH":"#,##0.00\xA0\xA4","ff-Latn-GM":"#,##0.00\xA0\xA4","ff-Latn-GN":"#,##0.00\xA0\xA4","ff-Latn-GW":"#,##0.00\xA0\xA4","ff-Latn-LR":"#,##0.00\xA0\xA4","ff-Latn-MR":"#,##0.00\xA0\xA4","ff-Latn-NE":"#,##0.00\xA0\xA4","ff-Latn-NG":"#,##0.00\xA0\xA4","ff-Latn-SL":"#,##0.00\xA0\xA4",fi:"#,##0.00\xA0\xA4",fil:"\xA4#,##0.00;(\xA4#,##0.00)",fo:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fo-DK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GP":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-HT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-KM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-ML":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SY":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-VU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-WF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-YT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fur:"\xA4\xA0#,##0.00",fy:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",ga:"\xA4#,##0.00;(\xA4#,##0.00)","ga-GB":"\xA4#,##0.00;(\xA4#,##0.00)",gd:"\xA4#,##0.00;(\xA4#,##0.00)",gl:"#,##0.00\xA0\xA4",gsw:"#,##0.00\xA0\xA4","gsw-FR":"#,##0.00\xA0\xA4","gsw-LI":"#,##0.00\xA0\xA4",gu:"\xA4#,##,##0.00;(\xA4#,##,##0.00)",guz:"\xA4#,##0.00;(\xA4#,##0.00)",gv:"\xA4#,##0.00",ha:"\xA4\xA0#,##0.00","ha-GH":"\xA4\xA0#,##0.00","ha-NE":"\xA4\xA0#,##0.00",haw:"\xA4#,##0.00;(\xA4#,##0.00)",he:"#,##0.00\xA0\xA4",hi:"\xA4#,##,##0.00","hi-Latn":"\xA4#,##,##0.00",hr:"#,##0.00\xA0\xA4","hr-BA":"#,##0.00\xA0\xA4",hsb:"#,##0.00\xA0\xA4",hu:"#,##0.00\xA0\xA4",hy:"#,##0.00\xA0\xA4",ia:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",id:"\xA4#,##0.00",ig:"\xA4#,##0.00;(\xA4#,##0.00)",ii:"\xA4\xA0#,##0.00",is:"#,##0.00\xA0\xA4",it:"#,##0.00\xA0\xA4","it-CH":"#,##0.00\xA0\xA4","it-SM":"#,##0.00\xA0\xA4","it-VA":"#,##0.00\xA0\xA4",ja:"\xA4#,##0.00;(\xA4#,##0.00)",jgo:"\xA4\xA0#,##0.00",jmc:"\xA4#,##0.00",jv:"\xA4\xA0#,##0.00",ka:"#,##0.00\xA0\xA4",kab:"#,##0.00\xA4",kam:"\xA4#,##0.00;(\xA4#,##0.00)",kde:"\xA4#,##0.00;(\xA4#,##0.00)",kea:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kgp:"\xA4\xA0#,##0.00",khq:"#,##0.00\xA4",ki:"\xA4#,##0.00;(\xA4#,##0.00)",kk:"#,##0.00\xA0\xA4",kkj:"\xA4\xA0#,##0.00",kl:"\xA4#,##0.00;\xA4-#,##0.00",kln:"\xA4#,##0.00;(\xA4#,##0.00)",km:"#,##0.00\xA4;(#,##0.00\xA4)",kn:"\xA4#,##0.00;(\xA4#,##0.00)",ko:"\xA4#,##0.00;(\xA4#,##0.00)","ko-KP":"\xA4#,##0.00;(\xA4#,##0.00)",kok:"\xA4#,##0.00;(\xA4#,##0.00)",ks:"\xA4#,##0.00","ks-Arab":"\xA4#,##0.00","ks-Deva":"\xA4\xA0#,##0.00",ksb:"#,##0.00\xA4",ksf:"#,##0.00\xA0\xA4",ksh:"#,##0.00\xA0\xA4",ku:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kw:"\xA4#,##0.00",ky:"#,##0.00\xA0\xA4",lag:"\xA4\xA0#,##0.00",lb:"#,##0.00\xA0\xA4",lg:"#,##0.00\xA4",lkt:"\xA4\xA0#,##0.00",ln:"#,##0.00\xA0\xA4","ln-AO":"#,##0.00\xA0\xA4","ln-CF":"#,##0.00\xA0\xA4","ln-CG":"#,##0.00\xA0\xA4",lo:"\xA4#,##0.00;\xA4-#,##0.00",lrc:"\xA4\xA0#,##0.00","lrc-IQ":"\xA4\xA0#,##0.00",lt:"#,##0.00\xA0\xA4",lu:"#,##0.00\xA4",luo:"#,##0.00\xA4",luy:"\xA4#,##0.00;\xA4-\xA0#,##0.00",lv:"#,##0.00\xA0\xA4",mai:"\xA4\xA0#,##0.00",mas:"\xA4#,##0.00;(\xA4#,##0.00)","mas-TZ":"\xA4#,##0.00;(\xA4#,##0.00)",mer:"\xA4#,##0.00;(\xA4#,##0.00)",mfe:"\xA4\xA0#,##0.00",mg:"\xA4#,##0.00",mgh:"\xA4\xA0#,##0.00",mgo:"\xA4\xA0#,##0.00",mi:"\xA4\xA0#,##0.00",mk:"#,##0.00\xA0\xA4",ml:"\xA4#,##0.00;(\xA4#,##0.00)",mn:"\xA4\xA0#,##0.00",mni:"\xA4\xA0#,##0.00","mni-Beng":"\xA4\xA0#,##0.00",mr:"\xA4#,##0.00;(\xA4#,##0.00)",ms:"\xA4#,##0.00;(\xA4#,##0.00)","ms-BN":"\xA4#,##0.00;(\xA4#,##0.00)","ms-ID":"\xA4#,##0.00","ms-SG":"\xA4#,##0.00;(\xA4#,##0.00)",mt:"\xA4#,##0.00",mua:"\xA4#,##0.00;(\xA4#,##0.00)",my:"\xA4\xA0#,##0.00",mzn:"\xA4\xA0#,##0.00",naq:"\xA4#,##0.00",nb:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nb-SJ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nd:"\xA4#,##0.00;(\xA4#,##0.00)",nds:"\xA4\xA0#,##0.00","nds-NL":"\xA4\xA0#,##0.00",ne:"\xA4\xA0#,##,##0.00","ne-IN":"\xA4\xA0#,##,##0.00",nl:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-AW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BE":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BQ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-CW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SX":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nmg:"#,##0.00\xA0\xA4",nn:"#,##0.00\xA0\xA4",nnh:"\xA4\xA0#,##0.00",no:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nus:"\xA4#,##0.00;(\xA4#,##0.00)",nyn:"\xA4#,##0.00",om:"\xA4#,##0.00","om-KE":"\xA4#,##0.00",or:"\xA4#,##0.00;(\xA4#,##0.00)",os:"\xA4\xA0#,##0.00","os-RU":"\xA4\xA0#,##0.00",pa:"\xA4\xA0#,##0.00","pa-Arab":"\xA4\xA0#,##0.00","pa-Guru":"\xA4\xA0#,##0.00",pcm:"\xA4#,##0.00",pl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ps:"\xA4#,##0.00;(\xA4#,##0.00)","ps-PK":"\xA4#,##0.00;(\xA4#,##0.00)",pt:"\xA4\xA0#,##0.00","pt-AO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CV":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-PT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-ST":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-TL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",qu:"\xA4\xA0#,##0.00","qu-BO":"\xA4\xA0#,##0.00","qu-EC":"\xA4\xA0#,##0.00",rm:"#,##0.00\xA0\xA4",rn:"#,##0.00\xA4",ro:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ro-MD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",rof:"\xA4#,##0.00",ru:"#,##0.00\xA0\xA4","ru-BY":"#,##0.00\xA0\xA4","ru-KG":"#,##0.00\xA0\xA4","ru-KZ":"#,##0.00\xA0\xA4","ru-MD":"#,##0.00\xA0\xA4","ru-UA":"#,##0.00\xA0\xA4",rw:"\xA4\xA0#,##0.00",rwk:"#,##0.00\xA4",sa:"\xA4\xA0#,##0.00",sah:"#,##0.00\xA0\xA4",saq:"\xA4#,##0.00;(\xA4#,##0.00)",sat:"\xA4\xA0#,##0.00","sat-Olck":"\xA4\xA0#,##0.00",sbp:"#,##0.00\xA4",sc:"#,##0.00\xA0\xA4",sd:"\xA4\xA0#,##0.00","sd-Arab":"\xA4\xA0#,##0.00","sd-Deva":"\xA4\xA0#,##0.00",se:"#,##0.00\xA0\xA4","se-FI":"#,##0.00\xA0\xA4","se-SE":"#,##0.00\xA0\xA4",seh:"#,##0.00\xA4",ses:"#,##0.00\xA4",sg:"\xA4#,##0.00;\xA4-#,##0.00",shi:"#,##0.00\xA4","shi-Latn":"#,##0.00\xA4","shi-Tfng":"#,##0.00\xA4",si:"\xA4#,##0.00;(\xA4#,##0.00)",sk:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",smn:"#,##0.00\xA0\xA4",sn:"\xA4#,##0.00;(\xA4#,##0.00)",so:"\xA4#,##0.00;(\xA4#,##0.00)","so-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","so-ET":"\xA4#,##0.00;(\xA4#,##0.00)","so-KE":"\xA4#,##0.00;(\xA4#,##0.00)",sq:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-MK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",su:"\xA4#,##0.00","su-Latn":"\xA4#,##0.00",sv:"#,##0.00\xA0\xA4","sv-AX":"#,##0.00\xA0\xA4","sv-FI":"#,##0.00\xA0\xA4",sw:"\xA4\xA0#,##0.00","sw-CD":"\xA4\xA0#,##0.00","sw-KE":"\xA4\xA0#,##0.00","sw-UG":"\xA4\xA0#,##0.00",ta:"\xA4#,##0.00;(\xA4#,##0.00)","ta-LK":"\xA4#,##0.00;(\xA4#,##0.00)","ta-MY":"\xA4#,##0.00;(\xA4#,##0.00)","ta-SG":"\xA4#,##0.00;(\xA4#,##0.00)",te:"\xA4#,##0.00;(\xA4#,##0.00)",teo:"\xA4#,##0.00;(\xA4#,##0.00)","teo-KE":"\xA4#,##0.00;(\xA4#,##0.00)",tg:"#,##0.00\xA0\xA4",th:"\xA4#,##0.00;(\xA4#,##0.00)",ti:"\xA4#,##0.00","ti-ER":"\xA4#,##0.00",tk:"#,##0.00\xA0\xA4",to:"\xA4\xA0#,##0.00",tr:"\xA4#,##0.00;(\xA4#,##0.00)","tr-CY":"\xA4#,##0.00;(\xA4#,##0.00)",tt:"#,##0.00\xA0\xA4",twq:"#,##0.00\xA4",tzm:"#,##0.00\xA0\xA4",ug:"\xA4#,##0.00;(\xA4#,##0.00)",uk:"#,##0.00\xA0\xA4",und:"\xA4\xA0#,##0.00",ur:"\xA4#,##0.00;(\xA4#,##0.00)","ur-IN":"\xA4#,##0.00;(\xA4#,##0.00)",uz:"#,##0.00\xA0\xA4","uz-Arab":"\xA4\xA0#,##0.00","uz-Cyrl":"#,##0.00\xA0\xA4","uz-Latn":"#,##0.00\xA0\xA4",vai:"\xA4#,##0.00;(\xA4#,##0.00)","vai-Latn":"\xA4#,##0.00;(\xA4#,##0.00)","vai-Vaii":"\xA4#,##0.00;(\xA4#,##0.00)",vi:"#,##0.00\xA0\xA4",vun:"\xA4#,##0.00",wae:"\xA4\xA0#,##0.00",wo:"\xA4\xA0#,##0.00",xh:"\xA4#,##0.00",xog:"#,##0.00\xA0\xA4",yav:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",yi:"\xA4\xA0#,##0.00",yo:"\xA4#,##0.00;(\xA4#,##0.00)","yo-BJ":"\xA4#,##0.00;(\xA4#,##0.00)",yrl:"\xA4\xA0#,##0.00","yrl-CO":"\xA4\xA0#,##0.00","yrl-VE":"\xA4\xA0#,##0.00",yue:"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hant":"\xA4#,##0.00;(\xA4#,##0.00)",zgh:"#,##0.00\xA4",zh:"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-MO":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-SG":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-MO":"\xA4#,##0.00;(\xA4#,##0.00)",zu:"\xA4#,##0.00;(\xA4#,##0.00)"};var cCe=["standard","accounting"],hCe=20,pCe=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,jR={},G3=t=>{var e=vr.locale()+"/"+JSON.stringify(t);return jR[e]||(jR[e]=new Intl.NumberFormat(vr.locale(),t).format),jR[e]},fCe=t=>new Intl.NumberFormat(vr.locale(),{style:"currency",currency:t}),U3={engine:function(){return"intl"},_formatNumberCore:function(t,e,i){return e==="exponential"?this.callBase.apply(this,arguments):G3(this._normalizeFormatConfig(e,i,t))(t)},_normalizeFormatConfig:function(t,e,i){var n;if(t==="decimal"){var r=String(i).split(".")[1];n={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:r&&r.length,round:i<0?"ceil":"floor"}}else n=this._getPrecisionConfig(e.precision);if(t==="percent")n.style="percent";else if(t==="currency"){var o,s=(o=e.useCurrencyAccountingStyle)!==null&&o!==void 0?o:_t().defaultUseCurrencyAccountingStyle;n.style="currency",n.currency=e.currency||_t().defaultCurrency,n.currencySign=cCe[+s]}return n},_getPrecisionConfig:function(t){var e;return t===null?e={minimumFractionDigits:0,maximumFractionDigits:hCe}:e={minimumFractionDigits:t||0,maximumFractionDigits:t||0},e},format:function(t,e){return typeof t!="number"?t:(e=this._normalizeFormat(e),e.currency==="default"&&(e.currency=_t().defaultCurrency),!e||typeof e!="function"&&!e.type&&!e.formatter?G3(e)(t):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(t){var e=fCe(t);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(t){var e=pCe.exec(t)||[],i=e[1]?"before":"after",n=e[1]||e[4]||"",r=e[2]||e[3]||"";return{position:i,symbol:n,delimiter:r}},getCurrencySymbol:function(t){t||(t=_t().defaultCurrency);var e=this._getCurrencySymbolInfo(t);return{symbol:e.symbol}},getOpenXmlCurrencyFormat:function(t){var e=t||_t().defaultCurrency,i=this._getCurrencySymbolInfo(e).symbol,n=vr.getValueByClosestLocale(r=>$3[r]);return j3(i,n)}};var gCe=typeof Intl<"u",mCe=4,w0=10,K3=["currency","fixedpoint","exponential","percent","decimal"],$R={1:"K",2:"M",3:"B",4:"T"},q3={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},GR=On({engine:function(){return"base"},numericFormats:K3,defaultLargeNumberFormatPostfixes:$R,_parseNumberFormatString:function(t){var e={};if(!(!t||typeof t!="string")){var i=t.toLowerCase().split(" ");if(F(i,(n,r)=>{K3.includes(r)?e.formatType=r:r in q3&&(e.power=q3[r])}),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType)return e}},_calculateNumberPower:function(t,e,i,n){var r=Math.abs(t),o=0;if(r>1)for(;r&&r>=e&&(n===void 0||o<n);)o++,r/=e;else if(r>0&&r<1)for(;r<1&&(i===void 0||o>i);)o--,r*=e;return o},_getNumberByPower:function(t,e,i){for(var n=t;e>0;)n/=i,e--;for(;e<0;)n*=i,e++;return n},_formatNumber:function(t,e,i){e.power==="auto"&&(e.power=this._calculateNumberPower(t,1e3,0,mCe)),e.power&&(t=this._getNumberByPower(t,e.power,1e3));var n=this.defaultLargeNumberFormatPostfixes[e.power]||"",r=this._formatNumberCore(t,e.formatType,i);return r=r.replace(/(\d|.$)(\D*)$/,"$1"+n+"$2"),r},_formatNumberExponential:function(t,e){var i=this._calculateNumberPower(t,w0),n=this._getNumberByPower(t,i,w0);e.precision===void 0&&(e.precision=1),n.toFixed(e.precision||0)>=w0&&(i++,n/=w0);var r=(i>=0?"+":"")+i.toString();return this._formatNumberCore(n,"fixedpoint",e)+"E"+r},_addZeroes:function(t,e){var i=Math.pow(10,e),n=t<0?"-":"";t=(Math.abs(t)*i>>>0)/i;for(var r=t.toString();r.length<e;)r="0"+r;return n+r},_addGroupSeparators:function(t){var e=t.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,_t().thousandsSeparator)+(e[1]?_t().decimalSeparator+e[1]:"")},_formatNumberCore:function(t,e,i){return e==="exponential"?this._formatNumberExponential(t,i):(e!=="decimal"&&i.precision!==null&&(i.precision=i.precision||0),e==="percent"&&(t*=100),i.precision!==void 0&&(e==="decimal"?t=this._addZeroes(t,i.precision):t=i.precision===null?t.toPrecision():S0(t,i.precision)),e!=="decimal"?t=this._addGroupSeparators(t):t=t.toString().replace(".",_t().decimalSeparator),e==="percent"&&(t+="%"),t)},_normalizeFormat:function(t){return t?(typeof t=="function"||Ve(t)||(t={type:t}),t):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(t,e){var i=this.format(90,"decimal");if(typeof t!="string"||i[1]==="0")return t;var n=e?i[1]:"0",r=e?"0":i[1],o=e?i[0]:"9",s=new RegExp("["+n+"-"+o+"]","g");return t.replace(s,a=>String.fromCharCode(a.charCodeAt(0)+(r.charCodeAt(0)-n.charCodeAt(0))))},getNegativeEtalonRegExp:function(t){var e=this._getSeparators(),i=new RegExp("[0-9"+fs(e.decimalSeparator+e.thousandsSeparator)+"]+","g"),n=this.format(-1,t).replace(i,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(r=>{n=n.replace(new RegExp("\\".concat(r),"g"),"\\".concat(r))}),n=n.replace(/ /g,"\\s"),n=n.replace(/1/g,".*"),new RegExp(n,"g")},getSign:function(t,e){if(!e)return t.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;var i=this.getNegativeEtalonRegExp(e);return t.match(i)?-1:1},format:function(t,e){if(typeof t!="number"||typeof e=="number")return t;if(e=e&&e.formatter||e,typeof e=="function")return e(t);e=this._normalizeFormat(e),e.type||(e.type="decimal");var i=this._parseNumberFormatString(e.type);if(!i){var n=this._getSeparators();return n.unlimitedIntegerDigits=e.unlimitedIntegerDigits,this.convertDigits(H3(e.type,n)(t))}return this._formatNumber(t,i,e)},parse:function(t,e){if(t){if(e&&e.parser)return e.parser(t);t=this.convertDigits(t,!0),e&&typeof e!="string"&&xt.log("W0011");var i=this.getDecimalSeparator(),n=new RegExp("[^0-9"+fs(i)+"]","g"),r=t.replace(n,"").replace(i,".").replace(/\.$/g,"");if(r==="."||r==="")return null;if(this._calcSignificantDigits(r)>15)return NaN;var o=+r*this.getSign(t,e);e=this._normalizeFormat(e);var s=this._parseNumberFormatString(e.type),a=s?.power;if(a){if(a==="auto"){var l=t.match(/\d(K|M|B|T)/);l&&(a=Object.keys($R).find(d=>$R[d]===l[1]))}o*=Math.pow(10,3*a)}return s?.formatType==="percent"&&(o/=100),o}},_calcSignificantDigits:function(t){var[e,i]=t.split("."),n=o=>{for(var s=-1,a=0;a<o.length;a++)if(o[a]!=="0"){s=a;break}return s>-1?o.length-s:0},r=0;return e&&(r+=n(e.split(""))),i&&(r+=n(i.split("").reverse())),r}});GR.inject(W3);gCe&&GR.inject(U3);var ei=GR;var vCe=/^[\d\w.+_-]+@[\d\w._-]+\.[\w]+$/i,Vn={valid:"valid",invalid:"invalid",pending:"pending"},ol=class{constructor(){this.NAME="base"}defaultMessage(e){return j.getFormatter("validation-".concat(this.NAME))(e)}defaultFormattedMessage(e){return j.getFormatter("validation-".concat(this.NAME,"-formatted"))(e)}_isValueEmpty(e){return!d_.required.validate(e,{})}validate(e,i){var n=Array.isArray(e)?e:[e],r=!0;return n.length?n.every(o=>(r=this._validate(o,i),r)):r=this._validate(null,i),r}},UR=class extends ol{constructor(){super(),this.NAME="required"}_validate(e,i){return!O(e)||e===!1?!1:(e=String(e),(i.trim||!O(i.trim))&&(e=e.trim()),e!=="")}},KR=class extends ol{constructor(){super(),this.NAME="numeric"}_validate(e,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:i.useCultureSettings&&Se(e)?!isNaN(ei.parse(e)):It(e)}},qR=class extends ol{constructor(){super(),this.NAME="range"}_validate(e,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=d_.numeric.validate(e,i),r=O(e)&&e!=="",o=n?parseFloat(e):r&&e.valueOf(),s=i.min,a=i.max;if(!(n||Dn(e))&&!r)return!1;if(O(s))return O(a)?o>=s&&o<=a:o>=s;if(O(a))return o<=a;throw xt.Error("E0101")}},JR=class extends ol{constructor(){super(),this.NAME="stringLength"}_validate(e,i){var n;return e=String((n=e)!==null&&n!==void 0?n:""),(i.trim||!O(i.trim))&&(e=e.trim()),i.ignoreEmptyValue&&this._isValueEmpty(e)?!0:d_.range.validate(e.length,y({},i))}},I0=class extends ol{constructor(){super(),this.NAME="custom"}validate(e,i){if(i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=i.validator,r=n&&ce(n.option)&&n.option("dataGetter"),o=ce(r)&&r(),s={value:e,validator:n,rule:i};return o&&y(s,o),i.validationCallback(s)}},YR=class extends I0{constructor(){super(),this.NAME="async"}validate(e,i){if(O(i.reevaluate)||y(i,{reevaluate:!0}),i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;var n=i.validator,r=n&&ce(n.option)&&n.option("dataGetter"),o=ce(r)&&r(),s={value:e,validator:n,rule:i};o&&y(s,o);var a=i.validationCallback(s);if(!Ka(a))throw xt.Error("E0103");return this._getWrappedPromise(rn(a).promise())}_getWrappedPromise(e){var i=new H;return e.then(function(n){i.resolve(n)},function(n){var r={isValid:!1};O(n)&&(Se(n)?r.message=n:ke(n)&&O(n.message)&&Se(n.message)&&(r.message=n.message)),i.resolve(r)}),i.promise()}},XR=class extends ol{constructor(){super(),this.NAME="compare"}_validate(e,i){if(!i.comparisonTarget)throw xt.Error("E0102");if(i.ignoreEmptyValue&&this._isValueEmpty(e))return!0;y(i,{reevaluate:!0});var n=i.comparisonTarget(),r=i.comparisonType||"==";switch(r){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}},QR=class extends ol{constructor(){super(),this.NAME="pattern"}_validate(e,i){if(i.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;var n=i.pattern;return Se(n)&&(n=new RegExp(n)),n.test(e)}},ZR=class extends ol{constructor(){super(),this.NAME="email"}_validate(e,i){return i.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:d_.pattern.validate(e,y({},i,{pattern:vCe}))}},d_={required:new UR,numeric:new KR,range:new qR,stringLength:new JR,custom:new I0,async:new YR,compare:new XR,pattern:new QR,email:new ZR},_Ce=ot.inherit({ctor(t){this.group=t,this.validators=[],this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new vs(this)},validate(){var t={isValid:!0,brokenRules:[],validators:[],status:Vn.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),F(this.validators,(e,i)=>{var n=i.validate();t.isValid=t.isValid&&n.isValid,n.brokenRules&&(t.brokenRules=t.brokenRules.concat(n.brokenRules)),t.validators.push(i),n.status===Vn.pending&&this._addPendingValidator(i),this._subscribeToChangeEvents(i)}),this._pendingValidators.length?t.status=Vn.pending:(t.status=t.isValid?Vn.valid:Vn.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(t)),this._updateValidationInfo(t),y({},this._validationInfo.result)},_subscribeToChangeEvents(t){t.on("validating",this._onValidatorStatusChanged),t.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(t){t.off("validating",this._onValidatorStatusChanged),t.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){F(this.validators,(t,e)=>{this._unsubscribeFromChangeEvents(e)})},_updateValidationInfo(t){this._validationInfo.result=t,t.status===Vn.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=new H,this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(t){var e=Sn(this._pendingValidators,function(i){return i===t})[0];e||this._pendingValidators.push(t)},_removePendingValidator(t){var e=this._pendingValidators.indexOf(t);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules(t){var e=[];return F(this.validators,function(i,n){var r=Sn(t,function(o){return o.validator===n});r.length&&(e=e.concat(r))}),e},_updateBrokenRules(t){if(this._validationInfo.result){var e=this._validationInfo.result.brokenRules,i=Sn(e,function(n){return n.validator!==t.validator});t.brokenRules&&(e=i.concat(t.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)}},_onValidatorStatusChanged(t){if(t.status===Vn.pending){this._addPendingValidator(t.validator);return}this._resolveIfComplete(t)},_resolveIfComplete(t){if(this._removePendingValidator(t.validator),this._updateBrokenRules(t),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?Vn.valid:Vn.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===Vn.valid;var e=y({},this._validationInfo.result,{complete:null}),i=this._validationInfo.deferred;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),i&&setTimeout(()=>{i.resolve(e)})}},_raiseValidatedEvent(t){this._eventsStrategy.fireEvent("validated",[t])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(t){var e=this.validators.indexOf(t);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:t}))},registerValidator(t){this.validators.includes(t)||(this.validators.push(t),this._synchronizeValidationInfo())},reset(){F(this.validators,function(t,e){e.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}}),ch={groups:[],getGroupConfig(t){var e=Sn(this.groups,function(i){return i.group===t});if(e.length)return e[0]},findGroup(t,e){var i,n,r=(i=t.data())===null||i===void 0||(n=i.dxComponents)===null||n===void 0?void 0:n.includes("dxValidationGroup"),o=r&&t.dxValidationGroup("instance");if(o)return o;var s=t.parents(".dx-validationgroup").first();return s.length?s.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup()},addGroup(t){var e=this.getGroupConfig(t);return e||(e=new _Ce(t),this.groups.push(e)),e},removeGroup(t){var e=this.getGroupConfig(t),i=this.groups.indexOf(e);return i>-1&&this.groups.splice(i,1),e},_setDefaultMessage(t){var{rule:e,validator:i,name:n}=t;O(e.message)||(i.defaultFormattedMessage&&O(n)?e.message=i.defaultFormattedMessage(n):e.message=i.defaultMessage())},_addBrokenRule(t){var{result:e,rule:i}=t;e.brokenRule||(e.brokenRule=i),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(i)},validate(t,e,i){var n,r={name:i,value:t,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:Vn.valid,complete:null},o=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,s=[];return F(e||[],(a,l)=>{var d=d_[l.type],u;if(d){if(O(l.isValid)&&l.value===t&&!l.reevaluate)return l.isValid?!0:(r.isValid=!1,this._addBrokenRule({result:r,rule:l}),!1);if(l.value=t,l.type==="async")return s.push({rule:l,ruleValidator:d}),!0;if(u=d.validate(t,l),l.isValid=u,u||(r.isValid=!1,this._setDefaultMessage({rule:l,validator:d,name:i}),this._addBrokenRule({result:r,rule:l})),!l.isValid)return!1}else throw xt.Error("E0100")}),r.isValid&&!r.brokenRules&&s.length&&(r=this._validateAsyncRules({value:t,items:s,result:r,name:i})),this._synchronizeGroupValidationInfo(o,r),r.status=r.pendingRules?Vn.pending:r.isValid?Vn.valid:Vn.invalid,r},_synchronizeGroupValidationInfo(t,e){var i;if(t){var n=ch.getGroupConfig(t._validationGroup);n._updateBrokenRules.call(n,{validator:t,brokenRules:(i=e.brokenRules)!==null&&i!==void 0?i:[]})}},_validateAsyncRules(t){var{result:e,value:i,items:n,name:r}=t,o=[];return F(n,(s,a)=>{var l=a.ruleValidator.validate(i,a.rule);if(!Ka(l))this._updateRuleConfig({rule:a.rule,ruleResult:this._getPatchedRuleResult(l),validator:a.ruleValidator,name:r});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(a.rule);var d=l.then(u=>{var h=this._getPatchedRuleResult(u);return this._updateRuleConfig({rule:a.rule,ruleResult:h,validator:a.ruleValidator,name:r}),h});o.push(d)}}),o.length&&(e.complete=Promise.all(o).then(s=>this._getAsyncRulesResult({result:e,values:s}))),e},_updateRuleConfig(t){var{rule:e,ruleResult:i,validator:n,name:r}=t;e.isValid=i.isValid,i.isValid||(O(i.message)&&Se(i.message)&&i.message.length?e.message=i.message:this._setDefaultMessage({rule:e,validator:n,name:r}))},_getPatchedRuleResult(t){var e;return ke(t)?(e=y({},t),O(e.isValid)||(e.isValid=!0)):e={isValid:hu(t)?t:!0},e},_getAsyncRulesResult(t){var{values:e,result:i}=t;return F(e,(n,r)=>{if(r.isValid===!1){i.isValid=r.isValid;var o=i.pendingRules[n];this._addBrokenRule({result:i,rule:o})}}),i.pendingRules=null,i.complete=null,i.status=i.isValid?Vn.valid:Vn.invalid,i},registerValidatorInGroup(t,e){var i=ch.addGroup(t);i.registerValidator.call(i,e)},_shouldRemoveGroup(t,e){var i=t===void 0,n=t&&t.NAME==="dxValidationGroup";return!i&&!n&&!e.length},removeRegisteredValidator(t,e){var i=ch.getGroupConfig(t);if(i){i.removeRegisteredValidator.call(i,e);var n=i.validators;this._shouldRemoveGroup(t,n)&&this.removeGroup(t)}},initValidationOptions(t){var e={};return t&&["isValid","validationStatus","validationError","validationErrors"].forEach(i=>{i in t&&y(e,this.synchronizeValidationOptions({name:i,value:t[i]},t))}),e},synchronizeValidationOptions(t,e){var{name:i,value:n}=t;switch(i){case"validationStatus":var r=n===Vn.valid||n===Vn.pending;return e.isValid!==r?{isValid:r}:{};case"isValid":var{validationStatus:o}=e,s=o;return n&&o===Vn.invalid?s=Vn.valid:!n&&o!==Vn.invalid&&(s=Vn.invalid),s!==o?{validationStatus:s}:{};case"validationErrors":var a=!n||!n.length?null:n[0];return e.validationError!==a?{validationError:a}:{};case"validationError":var{validationErrors:l}=e;if(!n&&l)return{validationErrors:null};if(n&&!l)return{validationErrors:[n]};if(n&&l&&n!==l[0])return l[0]=n,{validationErrors:l.slice()}}return{}},validateGroup(t){var e=ch.getGroupConfig(t);if(!e)throw xt.Error("E0110");return e.validate()},resetGroup(t){var e=ch.getGroupConfig(t);if(!e)throw xt.Error("E0110");return e.reset()}};ch.initGroups();var li=ch;var p_=Array.isArray;function F0(t){var e=typeof t;return e==="string"||e==="number"}function Ei(t){return t==null}function f_(t){return t===null||t===!1||t===!0||t===void 0}function pn(t){return typeof t=="function"}function g_(t){return typeof t=="string"}function CCe(t){return typeof t=="number"}function mo(t){return t===null}function xCe(t){return t===void 0}function Wu(t,e){var i={};if(t)for(var n in t)i[n]=t[n];if(e)for(var r in e)i[r]=e[r];return i}function rF(t){return!mo(t)&&typeof t=="object"}var or={},yCe="$F";function oF(t){return t.substr(2).toLowerCase()}function Z3(t,e){t.appendChild(e)}function sF(t,e,i){mo(i)?Z3(t,e):t.insertBefore(e,i)}function bCe(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t)}function DCe(t,e,i){t.replaceChild(e,i)}function eK(t,e){t.removeChild(e)}function tK(t){for(var e=0;e<t.length;e++)t[e]()}function OCe(t,e,i){var n=t.children;return i&4?n.$LI:i&8192?t.childFlags===2?n:n[e?0:n.length-1]:n}function Bo(t,e){for(var i;t;){if(i=t.flags,i&2033)return t.dom;t=OCe(t,e,i)}return null}function __(t,e){do{var i=t.flags;if(i&2033){eK(e,t.dom);return}var n=t.children;if(i&4&&(t=n.$LI),i&8&&(t=n),i&8192)if(t.childFlags===2)t=n;else{for(var r=0,o=n.length;r<o;++r)__(n[r],e);return}}while(t)}function iK(t,e,i){do{var n=t.flags;if(n&2033){sF(e,t.dom,i);return}var r=t.children;if(n&4&&(t=r.$LI),n&8&&(t=r),n&8192)if(t.childFlags===2)t=r;else{for(var o=0,s=r.length;o<s;++o)iK(r[o],e,i);return}}while(t)}function nK(t,e,i){return t.constructor.getDerivedStateFromProps?Wu(i,t.constructor.getDerivedStateFromProps(e,i)):i}var m_={v:!1},Wf={componentComparator:null,createVNode:null,renderComplete:null};function c_(t,e){t.textContent=e}function rK(t,e){return rF(t)&&t.event===e.event&&t.data===e.data}function oK(t,e){for(var i in e)xCe(t[i])&&(t[i]=e[i]);return t}function aF(t,e){return!!pn(t)&&(t(e),!0)}var h_="$";function k0(t,e,i,n,r,o,s,a){this.childFlags=t,this.children=e,this.className=i,this.dom=null,this.flags=n,this.key=r===void 0?null:r,this.props=o===void 0?null:o,this.ref=s===void 0?null:s,this.type=a}function xi(t,e,i,n,r,o,s,a){var l=r===void 0?1:r,d=new k0(l,n,i,t,s,o,a,e);return Wf.createVNode&&Wf.createVNode(d),l===0&&lK(d,d.children),d}function ECe(t,e,i){if(t&4)return i;var n=(t&32768?e.render:e).defaultHooks;return Ei(n)?i:Ei(i)?n:oK(i,n)}function SCe(t,e,i){var n=(t&32768?e.render:e).defaultProps;return Ei(n)?i:Ei(i)?Wu(n,null):oK(i,n)}function wCe(t,e){return t&12?t:e.prototype&&e.prototype.render?4:e.render?32776:8}function Bt(t,e,i,n,r){t=wCe(t,e);var o=new k0(1,null,null,t,n,SCe(t,e,i),ECe(t,e,r),e);return Wf.createVNode&&Wf.createVNode(o),o}function C_(t,e){return new k0(1,Ei(t)||t===!0||t===!1?"":t,null,16,e,null,null,null)}function eo(t,e,i){var n=xi(8192,8192,null,t,e,null,i,null);switch(n.childFlags){case 1:n.children=N0(),n.childFlags=2;break;case 16:n.children=[C_(t)],n.childFlags=4;break}return n}function fn(t){var e=t.props;if(e){var i=t.flags;i&481&&(e.children!==void 0&&Ei(t.children)&&lK(t,e.children),e.className!==void 0&&(Ei(t.className)&&(t.className=e.className||null),e.className=void 0)),e.key!==void 0&&(t.key=e.key,e.key=void 0),e.ref!==void 0&&(i&8?t.ref=Wu(t.ref,e.ref):t.ref=e.ref,e.ref=void 0)}return t}function ICe(t){var e=t.children,i=t.childFlags;return eo(i===2?_r(e):e.map(_r),i,t.key)}function _r(t){var e=t.flags&-16385,i=t.props;if(e&14&&!mo(i)){var n=i;i={};for(var r in n)i[r]=n[r]}return e&8192?ICe(t):new k0(t.childFlags,t.children,t.className,e,t.key,i,t.ref,t.type)}function N0(){return C_("",null)}function sK(t,e,i,n){for(var r=t.length;i<r;i++){var o=t[i];if(!f_(o)){var s=n+h_+i;if(p_(o))sK(o,e,0,s);else{if(F0(o))o=C_(o,s);else{var a=o.key,l=g_(a)&&a[0]===h_;(o.flags&81920||l)&&(o=_r(o)),o.flags|=65536,l?a.substring(0,n.length)!==n&&(o.key=n+a):mo(a)?o.key=s:o.key=n+a}e.push(o)}}}}function aK(t){switch(t){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case yCe:return 8192;default:return 1}}function lK(t,e){var i,n=1;if(f_(e))i=e;else if(F0(e))n=16,i=e;else if(p_(e)){for(var r=e.length,o=0;o<r;++o){var s=e[o];if(f_(s)||p_(s)){i=i||e.slice(0,o),sK(e,i,o,"");break}else if(F0(s))i=i||e.slice(0,o),i.push(C_(s,h_+o));else{var a=s.key,l=(s.flags&81920)>0,d=mo(a),u=g_(a)&&a[0]===h_;l||d||u?(i=i||e.slice(0,o),(l||u)&&(s=_r(s)),(d||u)&&(s.key=h_+o),i.push(s)):i&&i.push(s),s.flags|=65536}}i=i||e,i.length===0?n=1:n=8}else i=e,i.flags|=65536,e.flags&81920&&(i=_r(e)),n=2;return t.children=i,t.childFlags=n,t}function x_(t){return f_(t)||F0(t)?C_(t,null):p_(t)?eo(t,0,null):t.flags&16384?_r(t):t}var hh="http://www.w3.org/1999/xlink",eF="http://www.w3.org/XML/1998/namespace",J3={"xlink:actuate":hh,"xlink:arcrole":hh,"xlink:href":hh,"xlink:role":hh,"xlink:show":hh,"xlink:title":hh,"xlink:type":hh,"xml:base":eF,"xml:lang":eF,"xml:space":eF};function L0(t){return{onClick:t,onDblClick:t,onFocusIn:t,onFocusOut:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseUp:t,onTouchEnd:t,onTouchMove:t,onTouchStart:t}}var dK=L0(0),tF=L0(null),uK=L0(!0);function Y3(t,e){var i=e.$EV;return i||(i=e.$EV=L0(null)),i[t]||++dK[t]===1&&(tF[t]=NCe(t)),i}function cK(t,e){var i=e.$EV;i&&i[t]&&(--dK[t]===0&&(document.removeEventListener(oF(t),tF[t]),tF[t]=null),i[t]=null)}function TCe(t,e,i,n){if(pn(i))Y3(t,n)[t]=i;else if(rF(i)){if(rK(e,i))return;Y3(t,n)[t]=i}else cK(t,n)}function MCe(t){return pn(t.composedPath)?t.composedPath()[0]:t.target}function hK(t,e,i,n){var r=MCe(t);do{if(e&&r.disabled)return;var o=r.$EV;if(o){var s=o[i];if(s&&(n.dom=r,s.event?s.event(s.data,t):s(t),t.cancelBubble))return}r=r.parentNode}while(!mo(r))}function ACe(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function RCe(){return this.defaultPrevented}function FCe(){return this.cancelBubble}function pK(t){var e={dom:document};return t.isDefaultPrevented=RCe,t.isPropagationStopped=FCe,t.stopPropagation=ACe,Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function PCe(t){return function(e){if(e.button!==0){e.stopPropagation();return}hK(e,!0,t,pK(e))}}function kCe(t){return function(e){hK(e,!1,t,pK(e))}}function NCe(t){var e=t==="onClick"||t==="onDblClick"?PCe(t):kCe(t);return document.addEventListener(oF(t),e),e}function LCe(t,e){var i=document.createElement("i");return i.innerHTML=e,i.innerHTML===t.innerHTML}function X3(t,e,i){if(t[e]){var n=t[e];n.event?n.event(n.data,i):n(i)}else{var r=e.toLowerCase();t[r]&&t[r](i)}}function y_(t,e){var i=function(n){var r=this.$V;if(r){var o=r.props||or,s=r.dom;if(g_(t))X3(o,t,n);else for(var a=0;a<t.length;++a)X3(o,t[a],n);if(pn(e)){var l=this.$V,d=l.props||or;e(d,s,!1,l)}}};return Object.defineProperty(i,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),i}function ph(t,e,i){var n="$"+e,r=t[n];if(r){if(r[1].wrapped)return;t.removeEventListener(r[0],r[1]),t[n]=null}pn(i)&&(t.addEventListener(e,i),t[n]=[e,i])}function lF(t){return t==="checkbox"||t==="radio"}var BCe=y_("onInput",dF),VCe=y_(["onClick","onChange"],dF);function fK(t){t.stopPropagation()}fK.wrapped=!0;function HCe(t,e){lF(e.type)?(ph(t,"change",VCe),ph(t,"click",fK)):ph(t,"input",BCe)}function dF(t,e){var i=t.type,n=t.value,r=t.checked,o=t.multiple,s=t.defaultValue,a=!Ei(n);i&&i!==e.type&&e.setAttribute("type",i),!Ei(o)&&o!==e.multiple&&(e.multiple=o),!Ei(s)&&!a&&(e.defaultValue=s+""),lF(i)?(a&&(e.value=n),Ei(r)||(e.checked=r)):a&&e.value!==n?(e.defaultValue=n,e.value=n):Ei(r)||(e.checked=r)}function u_(t,e){if(t.type==="option")zCe(t,e);else{var i=t.children,n=t.flags;if(n&4)u_(i.$LI,e);else if(n&8)u_(i,e);else if(t.childFlags===2)u_(i,e);else if(t.childFlags&12)for(var r=0,o=i.length;r<o;++r)u_(i[r],e)}}function zCe(t,e){var i=t.props||or,n=t.dom;n.value=i.value,i.value===e||p_(e)&&e.indexOf(i.value)!==-1?n.selected=!0:(!Ei(e)||!Ei(i.selected))&&(n.selected=i.selected||!1)}var WCe=y_("onChange",gK);function jCe(t){ph(t,"change",WCe)}function gK(t,e,i,n){var r=!!t.multiple;!Ei(t.multiple)&&r!==e.multiple&&(e.multiple=r);var o=t.selectedIndex;o===-1&&(e.selectedIndex=-1);var s=n.childFlags;if(s!==1){var a=t.value;CCe(o)&&o>-1&&e.options[o]&&(a=e.options[o].value),i&&Ei(a)&&(a=t.defaultValue),u_(n,a)}}var $Ce=y_("onInput",mK),GCe=y_("onChange");function UCe(t,e){ph(t,"input",$Ce),e.onChange&&ph(t,"change",GCe)}function mK(t,e,i){var n=t.value,r=e.value;if(Ei(n)){if(i){var o=t.defaultValue;!Ei(o)&&o!==r&&(e.defaultValue=o,e.value=o)}}else r!==n&&(e.defaultValue=n,e.value=n)}function vK(t,e,i,n,r,o){t&64?dF(n,i):t&256?gK(n,i,r,e):t&128&&mK(n,i,r),o&&(i.$V=e)}function KCe(t,e,i){t&64?HCe(e,i):t&256?jCe(e):t&128&&UCe(e,i)}function _K(t){return t.type&&lF(t.type)?!Ei(t.checked):!Ei(t.value)}function Ki(){return{current:null}}function P0(t){t&&!aF(t,null)&&t.current&&(t.current=null)}function jf(t,e,i){t&&(pn(t)||t.current!==void 0)&&i.push(function(){!aF(t,e)&&t.current!==void 0&&(t.current=e)})}function va(t,e){id(t),__(t,e)}function id(t){var e=t.flags,i=t.children,n;if(e&481){n=t.ref;var r=t.props;P0(n);var o=t.childFlags;if(!mo(r))for(var s=Object.keys(r),a=0,l=s.length;a<l;a++){var d=s[a];uK[d]&&cK(d,t.dom)}o&12?v_(i):o===2&&id(i)}else i&&(e&4?(pn(i.componentWillUnmount)&&i.componentWillUnmount(),P0(t.ref),i.$UN=!0,id(i.$LI)):e&8?(n=t.ref,!Ei(n)&&pn(n.onComponentWillUnmount)&&n.onComponentWillUnmount(Bo(t,!0),t.props||or),id(i)):e&1024?va(i,t.ref):e&8192&&t.childFlags&12&&v_(i))}function v_(t){for(var e=0,i=t.length;e<i;++e)id(t[e])}function M0(t){t.textContent=""}function A0(t,e,i){v_(i),e.flags&8192?__(e,t):M0(t)}function qCe(t){var e=t.event;return function(i){e(t.data,i)}}function JCe(t,e,i,n){if(rF(i)){if(rK(e,i))return;i=qCe(i)}ph(n,oF(t),i)}function YCe(t,e,i){if(Ei(e)){i.removeAttribute("style");return}var n=i.style,r,o;if(g_(e)){n.cssText=e;return}if(!Ei(t)&&!g_(t)){for(r in e)o=e[r],o!==t[r]&&n.setProperty(r,o);for(r in t)Ei(e[r])&&n.removeProperty(r)}else for(r in e)o=e[r],n.setProperty(r,o)}function XCe(t,e,i,n){var r=t&&t.__html||"",o=e&&e.__html||"";r!==o&&!Ei(o)&&!LCe(n,o)&&(mo(i)||(i.childFlags&12?v_(i.children):i.childFlags===2&&id(i.children),i.children=null,i.childFlags=1),n.innerHTML=o)}function iF(t,e,i,n,r,o,s){switch(t){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!i;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[t]=!!i;break;case"defaultChecked":case"value":case"volume":if(o&&t==="value")break;var a=Ei(i)?"":i;n[t]!==a&&(n[t]=a);break;case"style":YCe(e,i,n);break;case"dangerouslySetInnerHTML":XCe(e,i,s,n);break;default:uK[t]?TCe(t,e,i,n):t.charCodeAt(0)===111&&t.charCodeAt(1)===110?JCe(t,e,i,n):Ei(i)?n.removeAttribute(t):r&&J3[t]?n.setAttributeNS(J3[t],t,i):n.setAttribute(t,i);break}}function uF(t,e,i,n,r){var o=!1,s=(e&448)>0;s&&(o=_K(i),o&&KCe(e,n,i));for(var a in i)iF(a,null,i[a],n,r,o,null);s&&vK(e,t,n,i,!0,o)}function CK(t,e,i){var n=x_(t.render(e,t.state,i)),r=i;return pn(t.getChildContext)&&(r=Wu(i,t.getChildContext())),t.$CX=r,n}function cF(t,e,i,n,r,o){var s=new e(i,n),a=s.$N=!!(e.getDerivedStateFromProps||s.getSnapshotBeforeUpdate);if(s.$SVG=r,s.$L=o,t.children=s,s.$BS=!1,s.context=n,s.props===or&&(s.props=i),a)s.state=nK(s,i,s.state);else if(pn(s.componentWillMount)){s.$BR=!0,s.componentWillMount();var l=s.$PS;if(!mo(l)){var d=s.state;if(mo(d))s.state=l;else for(var u in l)d[u]=l[u];s.$PS=null}s.$BR=!1}return s.$LI=CK(s,i,n),s}function B0(t,e){var i=t.props||or;return t.flags&32768?t.type.render(i,t.ref,e):t.type(i,e)}function sr(t,e,i,n,r,o){var s=t.flags|=16384;s&481?hF(t,e,i,n,r,o):s&4?exe(t,e,i,n,r,o):s&8?(txe(t,e,i,n,r,o),fF(t,o)):s&512||s&16?xK(t,e,r):s&8192?ZCe(t,i,e,n,r,o):s&1024&&QCe(t,i,e,r,o)}function QCe(t,e,i,n,r){sr(t.children,t.ref,e,!1,null,r);var o=N0();xK(o,i,n),t.dom=o.dom}function ZCe(t,e,i,n,r,o){var s=t.children,a=t.childFlags;a&12&&s.length===0&&(a=t.childFlags=2,s=t.children=N0()),a===2?sr(s,i,e,n,r,o):fh(s,i,e,n,r,o)}function xK(t,e,i){var n=t.dom=document.createTextNode(t.children);mo(e)||sF(e,n,i)}function hF(t,e,i,n,r,o){var s=t.flags,a=t.props,l=t.className,d=t.childFlags,u=t.dom=bCe(t.type,n=n||(s&32)>0),h=t.children;if(!Ei(l)&&l!==""&&(n?u.setAttribute("class",l):u.className=l),d===16)c_(u,h);else if(d!==1){var p=n&&t.type!=="foreignObject";d===2?(h.flags&16384&&(t.children=h=_r(h)),sr(h,u,i,p,null,o)):(d===8||d===4)&&fh(h,u,i,p,null,o)}mo(e)||sF(e,u,r),mo(a)||uF(t,s,a,u,n),jf(t.ref,u,o)}function fh(t,e,i,n,r,o){for(var s=0;s<t.length;++s){var a=t[s];a.flags&16384&&(t[s]=a=_r(a)),sr(a,e,i,n,r,o)}}function exe(t,e,i,n,r,o){var s=cF(t,t.type,t.props||or,i,n,o);sr(s.$LI,e,s.$CX,n,r,o),pF(t.ref,s,o)}function txe(t,e,i,n,r,o){sr(t.children=x_(B0(t,i)),e,i,n,r,o)}function ixe(t){return function(){t.componentDidMount()}}function pF(t,e,i){jf(t,e,i),pn(e.componentDidMount)&&i.push(ixe(e))}function nxe(t,e){return function(){t.onComponentDidMount(Bo(e,!0),e.props||or)}}function fF(t,e){var i=t.ref;Ei(i)||(aF(i.onComponentWillMount,t.props||or),pn(i.onComponentDidMount)&&e.push(nxe(i,t)))}function rxe(t,e,i,n,r,o){id(t),e.flags&t.flags&2033?(sr(e,null,n,r,null,o),DCe(i,e.dom,t.dom)):(sr(e,i,n,r,Bo(t,!0),o),__(t,i))}function nd(t,e,i,n,r,o,s){var a=e.flags|=16384;t.flags!==a||t.type!==e.type||t.key!==e.key||a&2048?t.flags&16384?rxe(t,e,i,n,r,s):sr(e,i,n,r,o,s):a&481?dxe(t,e,n,r,a,s):a&4?hxe(t,e,i,n,r,o,s):a&8?pxe(t,e,i,n,r,o,s):a&16?fxe(t,e):a&512?e.dom=t.dom:a&8192?axe(t,e,i,n,r,s):lxe(t,e,n,s)}function oxe(t,e,i){t!==e&&(t!==""?i.firstChild.nodeValue=e:c_(i,e))}function sxe(t,e){t.textContent!==e&&(t.textContent=e)}function axe(t,e,i,n,r,o){var s=t.children,a=e.children,l=t.childFlags,d=e.childFlags,u=null;d&12&&a.length===0&&(d=e.childFlags=2,a=e.children=N0());var h=(d&2)!==0;if(l&12){var p=s.length;(l&8&&d&8||h||!h&&a.length>p)&&(u=Bo(s[p-1],!1).nextSibling)}gF(l,d,s,a,i,n,r,u,t,o)}function lxe(t,e,i,n){var r=t.ref,o=e.ref,s=e.children;if(gF(t.childFlags,e.childFlags,t.children,s,r,i,!1,null,t,n),e.dom=t.dom,r!==o&&!f_(s)){var a=s.dom;eK(r,a),Z3(o,a)}}function dxe(t,e,i,n,r,o){var s=e.dom=t.dom,a=t.props,l=e.props,d=!1,u=!1,h;if(n=n||(r&32)>0,a!==l){var p=a||or;if(h=l||or,h!==or){d=(r&448)>0,d&&(u=_K(h));for(var m in h){var c=p[m],x=h[m];c!==x&&iF(m,c,x,s,n,u,t)}}if(p!==or)for(var D in p)Ei(h[D])&&!Ei(p[D])&&iF(D,p[D],null,s,n,u,t)}var T=e.children,N=e.className;t.className!==N&&(Ei(N)?s.removeAttribute("class"):n?s.setAttribute("class",N):s.className=N),r&4096?sxe(s,T):gF(t.childFlags,e.childFlags,t.children,T,s,i,n&&e.type!=="foreignObject",null,t,o),d&&vK(r,e,s,h,!1,u);var G=e.ref,U=t.ref;U!==G&&(P0(U),jf(G,s,o))}function uxe(t,e,i,n,r,o){id(t),fh(e,i,n,r,Bo(t,!0),o),__(t,i)}function gF(t,e,i,n,r,o,s,a,l,d){switch(t){case 2:switch(e){case 2:nd(i,n,r,o,s,a,d);break;case 1:va(i,r);break;case 16:id(i),c_(r,n);break;default:uxe(i,n,r,o,s,d);break}break;case 1:switch(e){case 2:sr(n,r,o,s,a,d);break;case 1:break;case 16:c_(r,n);break;default:fh(n,r,o,s,a,d);break}break;case 16:switch(e){case 16:oxe(i,n,r);break;case 2:M0(r),sr(n,r,o,s,a,d);break;case 1:M0(r);break;default:M0(r),fh(n,r,o,s,a,d);break}break;default:switch(e){case 16:v_(i),c_(r,n);break;case 2:A0(r,l,i),sr(n,r,o,s,a,d);break;case 1:A0(r,l,i);break;default:var u=i.length|0,h=n.length|0;u===0?h>0&&fh(n,r,o,s,a,d):h===0?A0(r,l,i):e===8&&t===8?mxe(i,n,r,o,s,u,h,a,l,d):gxe(i,n,r,o,s,u,h,a,d);break}break}}function cxe(t,e,i,n,r){r.push(function(){t.componentDidUpdate(e,i,n)})}function yK(t,e,i,n,r,o,s,a,l){var d=t.state,u=t.props,h=!!t.$N,p=pn(t.shouldComponentUpdate);if(h&&(e=nK(t,i,e!==d?Wu(d,e):e)),s||!p||p&&t.shouldComponentUpdate(i,e,r)){!h&&pn(t.componentWillUpdate)&&t.componentWillUpdate(i,e,r),t.props=i,t.state=e,t.context=r;var m=null,c=CK(t,i,r);h&&pn(t.getSnapshotBeforeUpdate)&&(m=t.getSnapshotBeforeUpdate(u,d)),nd(t.$LI,c,n,t.$CX,o,a,l),t.$LI=c,pn(t.componentDidUpdate)&&cxe(t,u,d,m,l)}else t.props=i,t.state=e,t.context=r}function hxe(t,e,i,n,r,o,s){var a=e.children=t.children;if(!mo(a)){a.$L=s;var l=e.props||or,d=e.ref,u=t.ref,h=a.state;if(!a.$N){if(pn(a.componentWillReceiveProps)){if(a.$BR=!0,a.componentWillReceiveProps(l,n),a.$UN)return;a.$BR=!1}mo(a.$PS)||(h=Wu(h,a.$PS),a.$PS=null)}yK(a,h,l,i,n,r,!1,o,s),u!==d&&(P0(u),jf(d,a,s))}}function pxe(t,e,i,n,r,o,s){var a=!0,l=e.props||or,d=e.ref,u=t.props,h=!Ei(d),p=t.children;if(h&&pn(d.onComponentShouldUpdate)&&(a=d.onComponentShouldUpdate(u,l)),a!==!1){h&&pn(d.onComponentWillUpdate)&&d.onComponentWillUpdate(u,l);var m=x_(B0(e,n));nd(p,m,i,n,r,o,s),e.children=m,h&&pn(d.onComponentDidUpdate)&&d.onComponentDidUpdate(u,l)}else e.children=p}function fxe(t,e){var i=e.children,n=e.dom=t.dom;i!==t.children&&(n.nodeValue=i)}function gxe(t,e,i,n,r,o,s,a,l){for(var d=o>s?s:o,u=0,h,p;u<d;++u)h=e[u],p=t[u],h.flags&16384&&(h=e[u]=_r(h)),nd(p,h,i,n,r,a,l),t[u]=h;if(o<s)for(u=d;u<s;++u)h=e[u],h.flags&16384&&(h=e[u]=_r(h)),sr(h,i,n,r,a,l);else if(o>s)for(u=d;u<o;++u)va(t[u],i)}function mxe(t,e,i,n,r,o,s,a,l,d){var u=o-1,h=s-1,p=0,m=t[p],c=e[p],x,D;e:{for(;m.key===c.key;){if(c.flags&16384&&(e[p]=c=_r(c)),nd(m,c,i,n,r,a,d),t[p]=c,++p,p>u||p>h)break e;m=t[p],c=e[p]}for(m=t[u],c=e[h];m.key===c.key;){if(c.flags&16384&&(e[h]=c=_r(c)),nd(m,c,i,n,r,a,d),t[u]=c,u--,h--,p>u||p>h)break e;m=t[u],c=e[h]}}if(p>u){if(p<=h)for(x=h+1,D=x<s?Bo(e[x],!0):a;p<=h;)c=e[p],c.flags&16384&&(e[p]=c=_r(c)),++p,sr(c,i,n,r,D,d)}else if(p>h)for(;p<=u;)va(t[p++],i);else vxe(t,e,n,o,s,u,h,p,i,r,a,l,d)}function vxe(t,e,i,n,r,o,s,a,l,d,u,h,p){var m,c,x,D=0,T=a,N=a,G=o-a+1,U=s-a+1,re=new Int32Array(U+1),_=G===n,Oe=!1,fe=0,we=0;if(r<4||(G|U)<32)for(D=T;D<=o;++D)if(m=t[D],we<U){for(a=N;a<=s;a++)if(c=e[a],m.key===c.key){if(re[a-N]=D+1,_)for(_=!1;T<D;)va(t[T++],l);fe>a?Oe=!0:fe=a,c.flags&16384&&(e[a]=c=_r(c)),nd(m,c,l,i,d,u,p),++we;break}!_&&a>s&&va(m,l)}else _||va(m,l);else{var We={};for(D=N;D<=s;++D)We[e[D].key]=D;for(D=T;D<=o;++D)if(m=t[D],we<U)if(a=We[m.key],a!==void 0){if(_)for(_=!1;D>T;)va(t[T++],l);re[a-N]=D+1,fe>a?Oe=!0:fe=a,c=e[a],c.flags&16384&&(e[a]=c=_r(c)),nd(m,c,l,i,d,u,p),++we}else _||va(m,l);else _||va(m,l)}if(_)A0(l,h,t),fh(e,l,i,d,u,p);else if(Oe){var b=_xe(re);for(a=b.length-1,D=U-1;D>=0;D--)re[D]===0?(fe=D+N,c=e[fe],c.flags&16384&&(e[fe]=c=_r(c)),x=fe+1,sr(c,l,i,d,x<r?Bo(e[x],!0):u,p)):a<0||D!==b[a]?(fe=D+N,c=e[fe],x=fe+1,iK(c,l,x<r?Bo(e[x],!0):u)):a--}else if(we!==U)for(D=U-1;D>=0;D--)re[D]===0&&(fe=D+N,c=e[fe],c.flags&16384&&(e[fe]=c=_r(c)),x=fe+1,sr(c,l,i,d,x<r?Bo(e[x],!0):u,p))}var td,T0,Q3=0;function _xe(t){var e=0,i=0,n=0,r=0,o=0,s=0,a=0,l=t.length;for(l>Q3&&(Q3=l,td=new Int32Array(l),T0=new Int32Array(l));i<l;++i)if(e=t[i],e!==0){if(n=td[r],t[n]<e){T0[i]=n,td[++r]=i;continue}for(o=0,s=r;o<s;)a=o+s>>1,t[td[a]]<e?o=a+1:s=a;e<t[td[o]]&&(o>0&&(T0[i]=td[o-1]),td[o]=i)}o=r+1;var d=new Int32Array(o);for(s=td[o-1];o-- >0;)d[o]=s,s=T0[s],td[o]=0;return d}var Cxe=typeof document<"u";Cxe&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function xxe(t,e,i,n){var r=[],o=e.$V;m_.v=!0,Ei(o)?Ei(t)||(t.flags&16384&&(t=_r(t)),sr(t,e,n,!1,null,r),e.$V=t,o=t):Ei(t)?(va(o,e),e.$V=null):(t.flags&16384&&(t=_r(t)),nd(o,t,e,n,!1,null,r),o=e.$V=t),tK(r),m_.v=!1,pn(i)&&i(),pn(Wf.renderComplete)&&Wf.renderComplete(o,e)}function gh(t,e,i,n){i===void 0&&(i=null),n===void 0&&(n=or),xxe(t,e,i,n)}var R0=[],yxe=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(t){window.setTimeout(t,0)},nF=!1;function bK(t,e,i,n){var r=t.$PS;if(pn(e)&&(e=e(r?Wu(t.state,r):t.state,t.props,t.context)),Ei(r))t.$PS=e;else for(var o in e)r[o]=e[o];if(t.$BR)pn(i)&&t.$L.push(i.bind(t));else{if(!m_.v&&R0.length===0){DK(t,n),pn(i)&&i.call(t);return}if(R0.indexOf(t)===-1&&R0.push(t),n&&(t.$F=!0),nF||(nF=!0,yxe(mF)),pn(i)){var s=t.$QU;s||(s=t.$QU=[]),s.push(i)}}}function bxe(t){for(var e=t.$QU,i=0;i<e.length;++i)e[i].call(t);t.$QU=null}function mF(){var t;for(nF=!1;t=R0.shift();)if(!t.$UN){var e=t.$F;t.$F=!1,DK(t,e),t.$QU&&bxe(t)}}function DK(t,e){if(e||!t.$BR){var i=t.$PS;t.$PS=null;var n=[];m_.v=!0,yK(t,Wu(t.state,i),t.props,Bo(t.$LI,!0).parentNode,t.context,t.$SVG,e,null,n),tK(n),m_.v=!1}else t.state=t.$PS,t.$PS=null}var mh=function(e,i){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||or,this.context=i||or};mh.prototype.forceUpdate=function(e){this.$UN||bK(this,{},e,!0)};mh.prototype.setState=function(e,i){this.$UN||this.$BS||bK(this,e,i,!1)};mh.prototype.render=function(e,i,n){return null};var sl={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){let t=this.callbacks;this.callbacks=[],t.forEach(e=>e())}}};var vF=(t,e)=>{if(!(t instanceof Object&&e instanceof Object))return t===e;let n=Object.keys(t),r=Object.keys(e);return n.length!==r.length?!1:!n.some(s=>t[s]!==e[s])},yn=class extends mh{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,i){this._pendingContext=i??{}}shouldComponentUpdate(e,i){return!vF(this.props,e)||!vF(this.state,i)||!vF(this.context,this._pendingContext)}},qn=class extends yn{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){sl.lock()}componentWillUpdate(e,i,n){sl.lock()}componentDidMount(){sl.callbacks.push(()=>{this._effects=this.createEffects()}),sl.callEffects()}componentDidUpdate(){sl.callbacks.push(()=>this.updateEffects()),sl.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}},Is=class extends qn{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){let e=this.vDomElement,i=e.className.length?e.className.split(" "):[],n=i.filter(o=>e.dxClasses.previous.indexOf(o)<0),r=e.dxClasses.previous.filter(o=>i.indexOf(o)<0);n.forEach(o=>{let s=e.dxClasses.removed.indexOf(o);s>-1?e.dxClasses.removed.splice(s,1):e.dxClasses.added.push(o)}),r.forEach(o=>{let s=e.dxClasses.added.indexOf(o);s>-1?e.dxClasses.added.splice(s,1):e.dxClasses.removed.push(o)})}componentDidMount(){let e=Bo(this.$LI,!0);this.vDomElement=e,super.componentDidMount(),e.dxClasses=e.dxClasses||{removed:[],added:[],previous:[]},e.dxClasses.previous=e?.className.length?e.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();let e=this.vDomElement;e!==null&&(e.dxClasses.added.forEach(i=>e.classList.add(i)),e.dxClasses.removed.forEach(i=>e.classList.remove(i)),e.dxClasses.previous=e.className.length?e.className.split(" "):[])}shouldComponentUpdate(e,i){let n=super.shouldComponentUpdate(e,i);return n&&this.vDomUpdateClasses(),n}};var Dxe=0,V0=function(t){let e=Dxe++;return{id:e,defaultValue:t,Provider:class extends mh{getChildContext(){return Object.assign(Object.assign({},this.context),{[e]:this.props.value||t})}render(){return this.props.children}}}};var ti=class{constructor(e,i){this.dependency=i,this.effect=e,this.destroy=e()}update(e){let i=this.dependency;e&&(this.dependency=e),(!e||e.some((n,r)=>i[r]!==n))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}};var al=()=>new ti(()=>{mF()},[]);var Oxe="a runtime error occured! Use Inferno in development environment to find the error.";function OK(t){return t==null}function EK(t){return t===null||t===!1||t===!0||t===void 0}function SK(t){return typeof t=="function"}function vh(t){return t===null}function wK(t){throw t||(t=Oxe),new Error(`Inferno Error: ${t}`)}function Exe(t,e){let i=document.createElement("i");return i.innerHTML=e,i.innerHTML===t.innerHTML}function Sxe(t){let e,i;for(;t;){if(e=t.flags,e&2033)return t.dom;i=t.children,e&8192?t=t.childFlags===2?i:i[i.length-1]:e&4?t=i.$LI:t=i}return null}function wxe(t,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&Exe(t,e.dangerouslySetInnerHTML.__html))}function Ixe(t,e,i,n,r,o,s){let a=t.type,l=t.ref,d=t.props||or,u;if(o){let h=cF(t,a,d,n,r,s),p=h.$LI;u=b_(p,e,i,h.$CX,r,s),pF(l,h,s)}else{let h=x_(B0(t,n));u=b_(h,e,i,n,r,s),t.children=h,fF(t,s)}return u}function IK(t,e,i,n,r,o){let s=t.childFlags,a=t.children,l=t.props,d=t.flags;if(s!==1){if(s===2)vh(i)?sr(a,e,n,r,null,o):(i=b_(a,e,i,n,r,o),i=i?i.nextSibling:null);else if(s===16)vh(i)?e.appendChild(document.createTextNode(a)):e.childNodes.length!==1||i.nodeType!==3?e.textContent=a:i.nodeValue!==a&&(i.nodeValue=a),i=null;else if(s&12){let u=!1;for(let h=0,p=a.length;h<p;++h){let m=a[h];vh(i)||u&&(m.flags&16)>0?sr(m,e,n,r,i,o):(i=b_(m,e,i,n,r,o),i=i?i.nextSibling:null),u=(m.flags&16)>0}}if(!(d&8192)){let u=null;for(;i;)u=i.nextSibling,e.removeChild(i),i=u}}else!vh(e.firstChild)&&!wxe(e,l)&&(e.textContent="",d&448&&(e.defaultValue=""))}function Txe(t,e,i,n,r,o){let s=t.props,a=t.className,l=t.flags,d=t.ref;return r=r||(l&32)>0,i.nodeType!==1?(hF(t,null,n,r,null,o),e.replaceChild(t.dom,i)):(t.dom=i,IK(t,i,i.firstChild,n,r,o),vh(s)||uF(t,l,s,i,r),OK(a)?i.className!==""&&i.removeAttribute("class"):r?i.setAttribute("class",a):i.className=a,jf(d,i,o)),t.dom}function TK(t,e,i){if(i.nodeType!==3)e.replaceChild(t.dom=document.createTextNode(t.children),i);else{let n=t.children;i.nodeValue!==n&&(i.nodeValue=n),t.dom=i}return t.dom}function Mxe(t,e,i,n,r,o){let s=t.children;return t.childFlags===2?(TK(s,e,i),s.dom):(IK(t,e,i,n,r,o),Sxe(s[s.length-1]))}function b_(t,e,i,n,r,o){let s=t.flags|=16384;return s&14?Ixe(t,e,i,n,r,(s&4)>0,o):s&481?Txe(t,e,i,n,r,o):s&16?TK(t,e,i):s&512?t.dom=i:s&8192?Mxe(t,e,i,n,r,o):(wK(),null)}function MK(t,e,i){let n=e.firstChild;if(vh(n))gh(t,e,i);else{let r=[];for(EK(t)||(n=b_(t,e,n,{},!1,r));n&&(n=n.nextSibling);)e.removeChild(n);if(r.length>0){let o;for(;(o=r.shift())!==void 0;)o()}}e.$V=t,SK(i)&&i()}function AK(t){return t==null}function Axe(t){return typeof t=="string"}function RK(t){return t===void 0}var Rxe={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function $f(t,e,i){var n=arguments,r,o=null,s=null,a=null,l=0,d,u=arguments.length-2;if(u===1)r=i;else if(u>1)for(r=[];u-- >0;)r[u]=n[u+2];if(Axe(t)){if(l=aK(t),!AK(e)){d={};for(var h in e)h==="className"||h==="class"?a=e[h]:h==="key"?s=e.key:h==="children"&&RK(r)?r=e.children:h==="ref"?o=e.ref:(h==="contenteditable"&&(l|=4096),d[h]=e[h])}}else{if(l=2,RK(r)||(e||(e={}),e.children=r),!AK(e)){d={};for(var p in e)p==="key"?s=e.key:p==="ref"?o=e.ref:Rxe[p]===1?(o||(o={}),o[p]=e[p]):d[p]=e[p]}return Bt(l,t,d,s,o)}return l&8192?eo(u===1?[r]:r,0,s):xi(l,t,a,r,0,d,s,o)}var Fxe=t=>{var e,i;return((e=t.container)===null||e===void 0?void 0:e.get(0))||((i=t.item)===null||i===void 0?void 0:i.get(0))};function FK(t,e,i){setTimeout(()=>{gh($f(t,e),Fxe(e))},0)}var PK=(t,e,i)=>{let n=e[t];return!!n&&typeof n!="string"};var Pxe=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),kxe=t=>typeof t=="number"?!0:!Number.isNaN(Number(t)),Nxe=(t,e)=>Pxe.has(t)?e:`${e}px`,Lxe=/[A-Z]/g,Bxe=t=>t.replace(Lxe,"-$&").toLowerCase();function Gf(t){if(t instanceof Object)return Object.entries(t).reduce((e,[i,n])=>(e[Bxe(i)]=kxe(n)?Nxe(i,n):n,e),{})}var kK=t=>{var{parentNode:e}=t;if(e){var i=t.nextSibling;_u(t),e.$V=t.$V,gh(null,e),e.insertBefore(t,i),t.innerHTML="",delete e.$V}delete t.$V},_h=On({createElement:(t,e)=>$f(t,e),remove:kK,onAfterRender:()=>{sl.callEffects()},onPreRender:()=>{sl.lock()},render:(t,e,i,n)=>{if(n)gh($f(t,e),i);else{var{parentNode:r}=i,o=i?.nextSibling,s=ie.createElement("div");s.appendChild(i);var a=ie.createDocumentFragment().appendChild(s),l=!!i.$V;l&&kK(i),MK($f(t,e),a),i.$V=a.$V,r&&r.insertBefore(i,o)}}});function St(t,e){if(t==null)return{};var i={},n=Object.keys(t),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(i[r]=t[r]);return i}var NK=(t,e)=>Object.keys(t).length!==Object.keys(e).length?!1:Object.keys(t).every(i=>t[i]===e[i]);var Vxe=["isEqual"];function Hxe(t){return!!t.toArray}function LK(t,e){var i,n={template:e,model:te({},t)},r=(i=t.data)!==null&&i!==void 0?i:{},{isEqual:o}=r,s=St(r,Vxe);return o&&(n.model.data=s,n.isEqual=o),n}function zxe(t,e){var i,{data:n,index:r}=(i=t.model)!==null&&i!==void 0?i:{data:{}};n&&Object.keys(n).forEach(s=>{n[s]&&ie.isNode(n[s])&&(n[s]=Pe(g(n[s])))});var o=t.template.render(te({container:e,transclude:t.transclude},{renovated:t.renovated},t.transclude?{}:{model:n},!t.transclude&&Number.isFinite(r)?{index:r}:{}));return o===void 0?[]:Hxe(o)?o.toArray():[g(o).get(0)]}function Wxe(t,e){e.forEach(i=>{var n=!!t.find(r=>i===r);!n&&i.parentNode&&g(i).remove()})}var D_=class extends qn{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){var e=Bo(this.$LI,!0);if(!(e!=null&&e.parentNode))return()=>{};var i=e.parentNode,n=g(i),r=n.contents().toArray(),o=zxe(this.props,Pe(n));return XG(g(e),g(o)),()=>{var s=g(i).contents().toArray();Wxe(r,s),i.appendChild(e)}}shouldComponentUpdate(e){var{model:i,template:n}=this.props,{isEqual:r,model:o,template:s}=e,a=r??NK;if(n!==s)return!0;if(!O(i)||!O(o))return i!==o;var{data:l,index:d}=i,{data:u,index:h}=o;return d!==h?!0:!a(l,u)}createEffects(){return[new ti(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}};function _F(t){return Array.isArray(t)?[...t]:te({},t)}function BK(t,e,i){var n=i.length>0&&e&&t!==e?_F(e):_F(t),r=i[0];return i.length>1?n[r]=BK(t[r],e?.[r],i.slice(1)):r&&(Ve(t[r])?n[r]=_F(t[r]):n[r]=t[r]),n}function VK(t,e,i,n){var r=e[i],o=t[i],s=t;Ve(r)||i!==n&&Array.isArray(r)?s[i]=BK(r,o,ps(n).slice(1)):s[i]=r}var CF=(t,e)=>i=>{Object.prototype.hasOwnProperty.call(t,i)&&t[i]===void 0&&(t[i]=e(i))},Uf=(()=>{class t extends Xr{constructor(i,n){super(i,n),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}validateKeyDownHandler(){var i=this.getSupportedKeyNames(),n=i.length>0,r=typeof this._viewComponent.prototype.keyDown=="function";if(n&&!r)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var i;return(i=this._viewRef)===null||i===void 0?void 0:i.current}_checkContentReadyOption(i){var n=this._getContentReadyOptions().reduce((r,o)=>(r[o]=!0,r),{});return this._checkContentReadyOption=r=>!!n[r],this._checkContentReadyOption(i)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){var i=this._getViewComponentDefaultProps();return y(!0,super._getDefaultOptions(),i,this._propsInfo.twoWay.reduce((n,r)=>{var[o,s,a]=r;return te({},n,{[o]:i[s],[a]:l=>this.option(o,l)})},{}),this._propsInfo.templates.reduce((n,r)=>te({},n,{[r]:null}),{}))}_getUnwrappedOption(){var i={};return Object.keys(this.option()).forEach(n=>{i[n]=this.option(n)}),i}_initializeComponent(){var i;super._initializeComponent(),(i=this._templateManager)===null||i===void 0||i.addDefaultTemplates(this.getDefaultTemplates());var n=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(n),this._propsInfo.templates.forEach(r=>{this._componentTemplates[r]=this._createTemplateComponent(this._props[r])}),Object.keys(this._getActionConfigsFull()).forEach(r=>this._addAction(r)),this._viewRef=Ki(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){var i=this.getProps();this._renderWrapper(i)}_renderWrapper(i){var n=this.$element()[0];this._isNodeReplaced||_h.onPreRender(),_h.render(this._viewComponent,i,n,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,_h.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(i,n){this._options.silent(i,n)}_render(){}_removeWidget(){_h.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){var i=this.$element()[0];if(!this._elementAttr){var{attributes:n}=i,r=Array.from(n).filter(l=>{var d;return!this._propsInfo.templates.includes(l.name)&&((d=n[l.name])===null||d===void 0?void 0:d.specified)}).reduce((l,d)=>{var{name:u,value:h}=d,p=l,m=u in i;return p[u]=h===""&&m?i[u]:h,p},{});this._elementAttr=r,this._storedClasses=i.getAttribute("class")||""}for(var o=i.style,s={},a=0;a<o.length;a+=1)s[o[a]]=o.getPropertyValue(o[a]);return this._elementAttr.style=s,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(i){var{allowNull:n,elements:r,props:o,twoWay:s}=this._propsInfo,a=this._getViewComponentDefaultProps(),l=Object.keys(a),d=this._getDefaultOptions(),{children:u,onKeyboardHandled:h,ref:p}=i,m=h?(x,D)=>{h(D)}:void 0,c={ref:p,children:u,onKeyDown:m};return[...o,...this._getAdditionalProps()].forEach(x=>{Object.prototype.hasOwnProperty.call(i,x)&&(c[x]=i[x])}),n.forEach(CF(c,()=>null)),l.forEach(CF(c,x=>d[x])),s.forEach(x=>{var[D,T]=x;CF(c,()=>d[T])(D)}),r.forEach(x=>{if(x in c){var D=c[x];Ln(D)&&(c[x]=this._patchElementParam(D))}}),c}getSupportedKeyNames(){return[]}prepareStyleProp(i){return typeof i.style=="string"?te({},i,{style:{},cssText:i.style}):i}getProps(){var i,n,{elementAttr:r}=this.option(),o=this._patchOptionValues(te({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(s=>{o[s]=this._componentTemplates[s]}),this.prepareStyleProp(te({},o,this.elementAttr,r,{className:[...((i=this.elementAttr.class)!==null&&i!==void 0?i:"").split(" "),...((n=r?.class)!==null&&n!==void 0?n:"").split(" ")].filter((s,a,l)=>s&&l.indexOf(s)===a).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return te({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){var i=Object.values(this._templatesInfo),n={};return i.forEach(r=>{n[r]="dx-renovation-template-mock"}),n}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(i){var n=Object.entries(this._templatesInfo).reduce((r,o)=>{var s,[a,l]=o;return te({},r,{[a]:(s=i[a])!==null&&s!==void 0?s:l})},{});return te({},i,n)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){var i={},n=this.getSupportedKeyNames();return n.forEach(r=>{i[r]=o=>this.viewRef.keyDown(Wb.createKeyDownOptions(o))}),i}_addAction(i,n){var r=n;if(!r){var o=this._createActionByOption(i,this._getActionConfigsFull()[i]);r=s=>(Object.keys(s).forEach(a=>{O(s[a])&&ie.isNode(s[a])&&(s[a]=Pe(g(s[a])))}),o(s))}this._actionsMap[i]=r}_optionChanged(i){var{fullName:n,name:r,previousValue:o,value:s}=i;VK(this._props,this.option(),r,n),this._propsInfo.templates.includes(r)&&s!==o&&(this._componentTemplates[r]=this._createTemplateComponent(s)),r&&this._getActionConfigsFull()[r]&&this._addAction(r),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(n),super._optionChanged(i),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?_h.createElement(D_,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(i){if(i){var n=this._getTemplate(i);if(!(Se(n)&&n==="dx-renovation-template-mock"))return r=>_h.createElement(D_,LK(r,n))}}_wrapKeyDownHandler(i){return n=>{var{keyName:r,originalEvent:o,which:s}=n,a=this.customKeyHandlers,l=a[r]||a[s];if(l!==void 0){var d=l.bind(this),u=d(o,n);if(!u)return o.cancel=!0,o}return i?.(o,n)}}_toPublicElement(i){return Pe(g(i))}_patchElementParam(i){try{var n=g(i),r=n?.get(0);return r!=null&&r.nodeType?r:i}catch{return i}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return te({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(i,n){this.customKeyHandlers[i]=n}setAria(i,n){this._aria[i]=n,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}return t.IS_RENOVATED_WIDGET=!1,t.IS_RENOVATED_WIDGET=!0,t})();var H0=class extends Uf{get _validationGroupConfig(){return li.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){var e=super.getProps();e.onClick=n=>{var{event:r}=n;this._clickAction({event:r,validationGroup:this._validationGroupConfig})};var i=ed(e.icon);return i==="svg"&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,i){var n=this.viewRef;i?n.activate():n.deactivate()}_getSubmitAction(){var e=!0,i="valid";return this._createAction(n=>{var{event:r,submitInput:o}=n;if(e){var s=this._validationGroupConfig;if(s!==void 0&&s!==""){var a=s.validate();i=a.status,a.status==="pending"&&(e=!1,this.option("disabled",!0),a.complete.then(l=>{var{status:d}=l;this.option("disabled",!1),i=d,i==="valid"&&o.click(),e=!0}))}}i!=="valid"&&r.preventDefault(),r.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();var e=this.$element().find(".dx-button-content"),i=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");i.length&&(i.addClass("dx-button-content"),i.append(n),e.replaceWith(i))}_patchOptionValues(e){return super._patchOptionValues(te({},e,{templateData:e._templateData}))}_findGroup(){var e=this.$element(),i=this.option("validationGroup");return i!==void 0&&i!==""?i:li.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){switch(e.name){case"onClick":this._clickAction=this._createClickAction()}super._optionChanged(e)}};function Jn(t){return Object.keys(t).filter(e=>t[e]).join(" ")}var jxe=["iconTemplate","position","source"],$xe=t=>{var{iconClassName:e,props:{iconTemplate:i,source:n},sourceType:r}=t;return eo([r==="dxIcon"&&xi(1,"i",e),r==="fontIcon"&&xi(1,"i",e),r==="image"&&xi(1,"img",e,null,1,{alt:"",src:n}),i&&xi(1,"i",e,i({}),0)],0)},Gxe={position:"left",source:""},Uxe=t=>t&&(t.defaultProps?e=>fn(Bt(2,t,te({},e))):t),HK=(()=>{class t extends yn{constructor(i){super(i),this.state={}}get sourceType(){return ed(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){var i={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:n}=this.props;return this.sourceType==="dxIcon"?Jn(te({},i,{["dx-icon-".concat(n)]:!0})):this.sourceType==="fontIcon"?Jn(te({},i,{[String(n)]:!!n})):this.sourceType==="image"?Jn(i):this.sourceType==="svg"?Jn(te({},i,{"dx-svg-icon":!0})):""}get restAttributes(){var i=this.props,n=St(i,jxe);return n}render(){var i=this.props;return $xe({props:te({},i,{iconTemplate:Uxe(i.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}return t.defaultProps=Gxe,t})();var Kxe=["config"],qxe=t=>fn(xi(1,"div","dx-inkripple",null,1,te({},t.restAttributes))),Jxe={config:Object.freeze({})},zK=(()=>{class t extends yn{constructor(i){super(i),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{var{config:i}=this.props;return BR(i)})()}get restAttributes(){var i=this.props,n=St(i,Kxe);return n}hideWave(i){HR(this.getConfig,i)}showWave(i){VR(this.getConfig,i)}componentWillUpdate(i,n,r){this.props.config!==i.config&&(this.__getterCache.getConfig=void 0)}render(){var i=this.props;return qxe({props:te({},i),getConfig:this.getConfig,restAttributes:this.restAttributes})}}return t.defaultProps=Jxe,t})();var Yxe=ot.abstract,Xxe=be.real(),jK="scroll",yF="dxscrollinit",bF="dxscrollstart",DF="dxscroll",OF="dxscrollend",EF="dxscrollstop",SF="dxscrollcancel",$K=ot.inherit(function(){var t=ne(jK,"dxScrollEmitter");return{ctor:function(e){this._element=e,this._locked=!1,this._proxiedScroll=i=>{this._disposed||this._scroll(i)},S.on(this._element,t,this._proxiedScroll)},_scroll:Yxe,check:function(e,i){this._locked&&i()},dispose:function(){this._disposed=!0,S.off(this._element,t,this._proxiedScroll)}}}()),GK=$K.inherit({ctor:function(t,e){this.callBase(t),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){var t=this;this._timer=setTimeout(function(){t._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),WK=GK.inherit({ctor:function(t){this.callBase(t,400),this._lastWheelDirection=null},check:function(t,e){this._checkDirectionChanged(t),this.callBase(t,e)},_checkDirectionChanged:function(t){if(!rr(t)){this._lastWheelDirection=null;return}var e=t.shiftKey||!1,i=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!i}}),xF=GK.inherit({ctor:function(t){this.callBase(t,400)}});(function(){var{ios:t,android:e}=Xxe;(t||e)&&(xF=$K.inherit({_scroll:function(){this._locked=!0;var i=this;Xo(this._scrollFrame),this._scrollFrame=Du(function(){i._locked=!1})},check:function(i,n){Xo(this._scrollFrame),Xo(this._checkFrame);var r=this,o=this.callBase;this._checkFrame=Du(function(){o.call(r,i,n),r._locked=!1})},dispose:function(){this.callBase(),Xo(this._scrollFrame),Xo(this._checkFrame)}}))})();var Qxe=bf.inherit(function(){var t=Math.round(16.666666666666668);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new xF(e),this._wheelLocker=new WK(e)},validate:function(){return!0},configure:function(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new xF(e.scrollTarget),this._wheelLocker=new WK(e.scrollTarget)),this.callBase(e)},_init:function(e){this._wheelLocker.check(e,(function(){rr(e)&&this._accept(e)}).bind(this)),this._pointerLocker.check(e,(function(){var i=this.isNative&&Po(e);!rr(e)&&!i&&this._accept(e)}).bind(this)),this._fireEvent(yF,e),this._prevEventData=Bi(e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=Bi(e),this._fireEvent(bF,e),this._prevEventData=Bi(e)},_move:function(e){var i=Bi(e);this._fireEvent(DF,e,{delta:el(this._prevEventData,i)});var n=el(this._savedEventData,i);n.time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=Bi(e)},_end:function(e){var i=el(this._prevEventData,Bi(e)),n={x:0,y:0};if(!rr(e)&&i.time<100){var r=el(this._savedEventData,this._prevEventData),o=t/r.time;n={x:r.x*o,y:r.y*o}}this._fireEvent(OF,e,{velocity:n})},_stop:function(e){this._fireEvent(EF,e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent(SF,e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());bs({emitter:Qxe,events:[yF,bF,DF,OF,EF,SF]});var vo={init:yF,start:bF,move:DF,end:OF,stop:EF,cancel:SF,scroll:jK};function ar(t){return(e,i,n,r)=>{var o=r?ne(t,r):t;if(i)return S.on(e,o,n,i),()=>{S.off(e,o,i)}}}var UK=ar(lt),Trt=ar(vo.scroll),Mrt=ar(vo.init),Art=ar(vo.start),Rrt=ar(vo.move),Frt=ar(vo.end),Prt=ar(vo.stop),krt=ar(vo.cancel),Nrt=ar(nt.down),Lrt=ar(nt.up),Brt=ar(nt.move),Vrt=ar("mouseenter"),Hrt=ar("mouseleave"),zrt=ar("keydown"),KK=ar("dxactive"),qK=ar("dxinactive"),JK=ar("dxhoverstart"),YK=ar("dxhoverend"),XK=ar("focusin"),QK=ar("focusout");var ju={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0};var Fn=V0(void 0);var Zxe=["children","rtlEnabled"],eye=t=>t.props.children,tye={},ZK=(()=>{class t extends yn{constructor(i){super(i),this.state={},this.__getterCache={}}getChildContext(){return te({},this.context,{[Fn.id]:this.config||Fn.defaultValue})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config={rtlEnabled:this.props.rtlEnabled}}get restAttributes(){var i=this.props,n=St(i,Zxe);return n}componentWillUpdate(i,n,r){this.props.rtlEnabled!==i.rtlEnabled&&(this.__getterCache.config=void 0)}render(){var i=this.props;return eye({props:te({},i),config:this.config,restAttributes:this.restAttributes})}}return t.defaultProps=tye,t})();function e5(t,e){return t!==void 0?t:e?.rtlEnabled!==void 0?e.rtlEnabled:_t().rtlEnabled}function t5(t,e){var i=O(t),n=O(_t().rtlEnabled)&&!i&&!O(e?.rtlEnabled);return i&&t!==e?.rtlEnabled||n}var iye=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"],nye=400,rye=30,oye=t=>Object.keys(t).reduce((e,i)=>t[i]?te({},e,{[i==="role"||i==="id"?i:"aria-".concat(i)]:String(t[i])}):e,{}),sye=t=>{var e=fn(xi(1,"div",t.cssClasses,t.props.children,0,te({},t.attributes,{tabIndex:t.tabIndex,title:t.props.hint,style:Gf(t.styles)}),null,t.widgetElementRef));return t.shouldRenderConfigProvider?Bt(2,ZK,{rtlEnabled:t.rtlEnabled,children:e}):e},Kf=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(ju),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:nye,_feedbackShowTimeout:rye,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0}))),qf=(()=>{class t extends Is{constructor(i){super(i),this.widgetElementRef=Ki(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}get config(){return this.context[Fn.id]?this.context[Fn.id]:Fn.defaultValue}createEffects(){return[new ti(this.setRootElementRef,[]),new ti(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new ti(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new ti(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new ti(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new ti(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new ti(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new ti(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new ti(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new ti(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new ti(this.windowResizeEffect,[this.props.onDimensionChanged]),new ti(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new ti(this.checkDeprecation,[this.props.height,this.props.width]),new ti(this.applyCssTextEffect,[this.props.cssText]),al()]}updateEffects(){var i,n,r,o,s,a,l,d,u,h,p,m,c;(i=this._effects[1])===null||i===void 0||i.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(n=this._effects[2])===null||n===void 0||n.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(r=this._effects[3])===null||r===void 0||r.update([this.props.disabled,this.props.name,this.props.onClick]),(o=this._effects[4])===null||o===void 0||o.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(s=this._effects[5])===null||s===void 0||s.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(a=this._effects[6])===null||a===void 0||a.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(l=this._effects[7])===null||l===void 0||l.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(d=this._effects[8])===null||d===void 0||d.update([this.props.focusStateEnabled,this.props.onKeyDown]),(u=this._effects[9])===null||u===void 0||u.update([this.props.name,this.props.onDimensionChanged]),(h=this._effects[10])===null||h===void 0||h.update([this.props.onDimensionChanged]),(p=this._effects[11])===null||p===void 0||p.update([this.props.name,this.props.onVisibilityChange]),(m=this._effects[12])===null||m===void 0||m.update([this.props.height,this.props.width]),(c=this._effects[13])===null||c===void 0||c.update([this.props.cssText])}setRootElementRef(){var{onRootElementRendered:i,rootElementRef:n}=this.props;n&&(n.current=this.widgetElementRef.current),i?.(this.widgetElementRef.current)}activeEffect(){var{_feedbackShowTimeout:i,activeStateEnabled:n,activeStateUnit:r,disabled:o,onActive:s}=this.props,a=r;if(n&&!o)return KK(this.widgetElementRef.current,l=>{this.setState(d=>({active:!0})),s?.(l)},{timeout:i,selector:a},"UIFeedback")}inactiveEffect(){var{_feedbackHideTimeout:i,activeStateEnabled:n,activeStateUnit:r,onInactive:o}=this.props,s=r;if(n)return qK(this.widgetElementRef.current,a=>{this.state.active&&(this.setState(l=>({active:!1})),o?.(a))},{timeout:i,selector:s},"UIFeedback")}clickEffect(){var{disabled:i,name:n,onClick:r}=this.props,o=n;if(r&&!i)return pA.on(this.widgetElementRef.current,r,{namespace:o}),()=>pA.off(this.widgetElementRef.current,{namespace:o})}focusInEffect(){var{disabled:i,focusStateEnabled:n,name:r,onFocusIn:o}=this.props,s="".concat(r,"Focus");if(n&&!i)return XK(this.widgetElementRef.current,a=>{a.isDefaultPrevented()||(this.setState(l=>({focused:!0})),o?.(a))},null,s)}focusOutEffect(){var{focusStateEnabled:i,name:n,onFocusOut:r}=this.props,o="".concat(n,"Focus");if(i)return QK(this.widgetElementRef.current,s=>{!s.isDefaultPrevented()&&this.state.focused&&(this.setState(a=>({focused:!1})),r?.(s))},null,o)}hoverStartEffect(){var{activeStateUnit:i,disabled:n,hoverStateEnabled:r,onHoverStart:o}=this.props,s=i;if(r&&!n)return JK(this.widgetElementRef.current,a=>{!this.state.active&&this.setState(l=>({hovered:!0})),o?.(a)},{selector:s},"UIFeedback")}hoverEndEffect(){var{activeStateUnit:i,hoverStateEnabled:n,onHoverEnd:r}=this.props,o=i;if(n)return YK(this.widgetElementRef.current,s=>{this.state.hovered&&(this.setState(a=>({hovered:!1})),r?.(s))},{selector:o},"UIFeedback")}keyboardEffect(){var{focusStateEnabled:i,onKeyDown:n}=this.props;if(i&&n){var r=Ds.on(this.widgetElementRef.current,this.widgetElementRef.current,o=>n(o));return()=>Ds.off(r)}}resizeEffect(){var i="".concat(this.props.name,"VisibilityChange"),{onDimensionChanged:n}=this.props;if(n)return Of.on(this.widgetElementRef.current,n,{namespace:i}),()=>Of.off(this.widgetElementRef.current,{namespace:i})}windowResizeEffect(){var{onDimensionChanged:i}=this.props;if(i)return aa.add(i),()=>{aa.remove(i)}}visibilityEffect(){var{name:i,onVisibilityChange:n}=this.props,r="".concat(i,"VisibilityChange");if(n)return Ef.on(this.widgetElementRef.current,()=>n(!0),()=>n(!1),{namespace:r}),()=>Ef.off(this.widgetElementRef.current,{namespace:r})}checkDeprecation(){var{height:i,width:n}=this.props;ce(n)&&xt.log("W0017","width"),ce(i)&&xt.log("W0017","height")}applyCssTextEffect(){var{cssText:i}=this.props;i!==""&&(this.widgetElementRef.current.style.cssText=i)}get shouldRenderConfigProvider(){var{rtlEnabled:i}=this.props;return t5(i,this.config)}get rtlEnabled(){var{rtlEnabled:i}=this.props;return e5(i,this.config)}get attributes(){var{aria:i,disabled:n,focusStateEnabled:r,visible:o}=this.props,s=r&&!n&&this.props.accessKey;return te({},y({},s&&{accessKey:s}),oye(te({},i,{disabled:n,hidden:!o})),y({},this.restAttributes))}get styles(){var{height:i,width:n}=this.props,r=this.restAttributes.style||{},o=Xa("width",ce(n)?n():n),s=Xa("height",ce(i)?i():i);return te({},r,{height:s??r.height,width:o??r.width})}get cssClasses(){var{activeStateEnabled:i,addWidgetClass:n,className:r,classes:o,disabled:s,focusStateEnabled:a,hoverStateEnabled:l,onVisibilityChange:d,visible:u}=this.props,h=!!a&&!s,p=!!l&&!s,m=!!i&&!s,c={"dx-widget":!!n,[String(o)]:!!o,[String(r)]:!!r,"dx-state-disabled":!!s,"dx-state-invisible":!u,"dx-state-focused":!!this.state.focused&&h,"dx-state-active":!!this.state.active&&m,"dx-state-hover":!!this.state.hovered&&p&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!d};return Jn(c)}get tabIndex(){var{disabled:i,focusStateEnabled:n,tabIndex:r}=this.props,o=n&&!i;return o?r:void 0}get restAttributes(){var i=this.props,n=St(i,iye);return n}focus(){Sf.trigger(this.widgetElementRef.current)}blur(){var i=ie.getActiveElement(this.widgetElementRef.current);this.widgetElementRef.current===i&&i.blur()}activate(){this.setState(i=>({active:!0}))}deactivate(){this.setState(i=>({active:!1}))}render(){var i=this.props;return sye({props:te({},i),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}return t.defaultProps=Kf,t})();var aye=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],lye=["outlined","text","contained"],dye=t=>{var{icon:e,iconPosition:i,stylingMode:n,text:r,type:o}=t,s=n&&lye.includes(n),a={"dx-button":!0,["dx-button-mode-".concat(s?n:"contained")]:!0,["dx-button-".concat(o??"normal")]:!0,"dx-button-has-text":!!r,"dx-button-has-icon":!!e,"dx-button-icon-right":i!=="left"};return Jn(a)},uye=t=>{var{children:e,iconPosition:i,iconTemplate:n,template:r,text:o}=t.props,s=!t.props.template&&!e&&o!=="",a=i==="left",l=!t.props.template&&!e&&(t.iconSource||t.props.iconTemplate)&&Bt(2,HK,{source:t.iconSource,position:i,iconTemplate:n});return fn(Bt(2,qf,te({accessKey:t.props.accessKey,activeStateEnabled:t.props.activeStateEnabled,aria:t.aria,className:t.props.className,classes:t.cssClasses,disabled:t.props.disabled,focusStateEnabled:t.props.focusStateEnabled,height:t.props.height,hint:t.props.hint,hoverStateEnabled:t.props.hoverStateEnabled,onActive:t.onActive,onClick:t.onWidgetClick,onInactive:t.onInactive,onKeyDown:t.keyDown,rtlEnabled:t.props.rtlEnabled,tabIndex:t.props.tabIndex,visible:t.props.visible,width:t.props.width},t.restAttributes,{children:xi(1,"div","dx-button-content",[t.props.template&&r({data:t.buttonTemplateData}),!t.props.template&&e,a&&l,s&&xi(1,"span","dx-button-text",o,0),!a&&l,t.props.useSubmitBehavior&&xi(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,t.submitInputRef),t.props.useInkRipple&&Bt(2,zK,{config:t.inkRippleConfig},null,t.inkRippleRef)],0,null,null,t.contentRef)}),null,t.widgetRef))},cye=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(ju),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),r5=fU([{device:()=>be.real().deviceType==="desktop"&&!be.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>mi(an()),options:{useInkRipple:!0}}]),i5=t=>t&&(t.defaultProps?e=>fn(Bt(2,t,te({},e))):t),Ch=class extends Is{constructor(e){super(e),this.state={},this.contentRef=Ki(),this.inkRippleRef=Ki(),this.submitInputRef=Ki(),this.widgetRef=Ki(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this),this.emitClickEvent=this.emitClickEvent.bind(this)}createEffects(){return[new ti(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),al()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){var{onSubmit:e,useSubmitBehavior:i}=this.props;if(i&&e)return fA.on(this.submitInputRef.current,n=>e({event:n,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>fA.off(this.submitInputRef.current,{namespace:"UIFeedback"})}onActive(e){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:e})}onInactive(e){var{useInkRipple:i}=this.props;i&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:e})}onWidgetClick(e){var{onClick:i,useSubmitBehavior:n}=this.props;i?.({event:e}),n&&this.submitInputRef.current.click()}keyDown(e){var{onKeyDown:i}=this.props,{keyName:n,originalEvent:r,which:o}=e,s=i?.(e);if(s!=null&&s.cancel)return s;(n==="space"||o==="space"||n==="enter"||o==="enter")&&(r.preventDefault(),this.emitClickEvent())}emitClickEvent(){this.contentRef.current.click()}get aria(){var{icon:e,text:i}=this.props,n=i??"";if(!i&&e){var r=ed(e);switch(r){case"image":var o=!e.includes("base64")&&/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/.test(e);n=o?e.replace(/.+\/([^.]+)\..+$/,"$1"):"";break;case"dxIcon":n=j.format(ho(e,!0))||e;break;case"fontIcon":n=e;break;case"svg":var s,a,l=(s=(a=/<title>(.*?)<\/title>/.exec(e))===null||a===void 0?void 0:a[1])!==null&&s!==void 0?s:"";n=l}}return te({role:"button"},n?{label:n}:{})}get cssClasses(){return dye(this.props)}get iconSource(){var{icon:e}=this.props;return e??""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{var{icon:e,text:i}=this.props;return!i&&e?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){var{icon:e,templateData:i,text:n}=this.props;return te({icon:e,text:n},i)}get restAttributes(){var e=this.props,i=St(e,aye);return i}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(e,i,n){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text)&&(this.__getterCache.inkRippleConfig=void 0)}render(){var e=this.props;return uye({props:te({},e,{template:i5(e.template),iconTemplate:i5(e.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,emitClickEvent:this.emitClickEvent,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}};Ch.defaultProps=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(cye),Object.getOwnPropertyDescriptors(te({},fa(r5)))));var n5=[];function o5(t){n5.push(t),Ch.defaultProps=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(Ch.defaultProps),Object.getOwnPropertyDescriptors(fa(r5)),Object.getOwnPropertyDescriptors(fa(n5))))}var Jf=class extends H0{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}activate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.activate(...arguments)}deactivate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return Ch}};Be("dxButton",Jf);Jf.defaultOptions=o5;var ci=Jf;var wF="dxScrollbar",l5="dx-scrollable-scrollbar",s5="".concat(l5,"-active"),hye="dx-scrollable-scroll",pye="dx-scrollable-scroll-content",fye="dx-scrollbar-hoverable",a5="horizontal",gye=15,rd={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},Yf=null,mye=Ci.inherit({_getDefaultOptions:function(){return y(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:rd.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init:function(){this.callBase(),this._isHovered=!1},_initMarkup:function(){this._renderThumb(),this.callBase()},_render:function(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(fye,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=g("<div>").addClass(hye),g("<div>").addClass(pye).appendTo(this._$thumb),this.$element().addClass(l5).append(this._$thumb)},isThumb:function(t){return!!this.$element().find(t).length},_isHoverMode:function(){var t=this.option("visibilityMode");return(t===rd.onHover||t===rd.always)&&this.option("expandable")},_renderDirection:function(){var t=this.option("direction");this.$element().addClass("dx-scrollbar-"+t),this._dimension=t===a5?"width":"height",this._prop=t===a5?"left":"top"},_attachPointerDownHandler:function(){S.on(this._$thumb,ne(nt.down,wF),this.feedbackOn.bind(this))},feedbackOn:function(){this.$element().addClass(s5),Yf=this},feedbackOff:function(){this.$element().removeClass(s5),Yf=null},cursorEnter:function(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility:function(t){this.option("visibilityMode")===rd.onScroll&&this._$thumb.css("opacity"),t=this._adjustVisibility(t),this.option().visible=t,this._$thumb.toggleClass("dx-state-invisible",!t)},_adjustVisibility:function(t){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case rd.onScroll:break;case rd.onHover:t=t||!!this._isHovered;break;case rd.never:t=!1;break;case rd.always:t=!0}return t},moveTo:function(t){if(!this._isHidden()){Ve(t)&&(t=t[this._prop]||0);var e={};e[this._prop]=this._calculateScrollBarPosition(t),Vt(this._$thumb,e)}},_calculateScrollBarPosition:function(t){return-t*this._thumbRatio},_update:function(){var t=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),i=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(i)&&(i=t,n=e),this._baseContainerToContentRatio=n?i/n:i,this._realContainerToContentRatio=e?t/e:t;var r=Math.round(Math.max(Math.round(t*this._realContainerToContentRatio),gye));this._thumbRatio=(t-r)/(this.option("scaleRatio")*(e-t)),this.option(this._dimension,r/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden:function(){return this.option("visibilityMode")===rd.never},_needScrollbar:function(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio:function(){return this._realContainerToContentRatio},_normalizeSize:function(t){return Ve(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===Yf&&(Yf=null),S.off(this._$thumb,"."+wF)},_optionChanged:function(t){if(!this._isHidden())switch(t.name){case"containerSize":case"contentSize":this.option()[t.name]=this._normalizeSize(t.value),this._update();break;case"baseContentSize":case"baseContainerSize":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;case"scaleRatio":this._update();break;default:this.callBase.apply(this,arguments)}},update:qa(function(){this._adjustVisibility()&&this.option("visible",!0)})});sn.add(function(){S.subscribeGlobal(ie.getDocument(),ne(nt.up,wF),function(){Yf&&Yf.feedbackOff()})});var z0=mye;var d5="dxNativeScrollable",IF="dx-scrollable-native",vye="dx-scrollable-scrollbar-simulated",_ye="dx-scrollable-scrollbars-hidden",O_="vertical",W0="horizontal",Cye=500,xye=ot.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=g(t.container()),this._$content=t.$content(),this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t),this._isRtlNativeStrategy=t._isRtlNativeStrategy.bind(t)},render:function(){var t=be.real(),e=t.platform;this._$element.addClass(IF).addClass(IF+"-"+e).toggleClass(_ye,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition:function(t){t&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(vye),this._renderScrollbar(O_),this._renderScrollbar(W0)},_renderScrollbar:function(t){this._isDirection(t)&&(this._scrollbars[t]=new z0(g("<div>").appendTo(this._$element),{direction:t,expandable:this._component.option("scrollByThumb")}))},handleInit:W,handleStart:W,handleMove:function(t){if(this._isLocked()){t.cancel=!0;return}this._allowedDirection()&&(t.originalEvent.isScrollingEvent=!0)},handleEnd:W,handleCancel:W,handleStop:W,_eachScrollbar:function(t){t=t.bind(this),F(this._scrollbars||{},function(e,i){t(i,e)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var{left:t,top:e}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-t):this._isReachedLeft(t),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(t)):this._isReachedRight(t),reachedTop:this._isDirection(O_)?Math.round(e)>=0:void 0,reachedBottom:this._isDirection(O_)?Math.round(Math.abs(e)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset:function(){var{top:t,left:e}=this.location();return{top:-t,left:this._normalizeOffsetLeft(-e)}},_normalizeOffsetLeft(t){return this._isRtlNativeStrategy()?this._getMaxOffset().left+t:t},_isReachedLeft:function(t){return this._isDirection(W0)?Math.round(t)>=0:void 0},_isReachedRight:function(t){return this._isDirection(W0)?Math.round(Math.abs(t)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible:function(){var{showScrollbar:t}=this.option();return t!=="never"&&t!==!1},handleScroll:function(t){this._eventForUserAction=t,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars:function(){var{top:t,left:e}=this._getScrollOffset();this._eachScrollbar(function(i){i.moveTo({top:-t,left:-e}),i.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout((function(){this._eachScrollbar(function(t){t.option("visible",!1)})}).bind(this),Cye)},location:function(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:W,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:je(this._$container),width:Ae(this._$container)},this._componentContentSize={height:je(this._component.$content()),width:Ae(this._component.$content())},this._contentSize={height:je(this._$content),width:Ae(this._$content)}},_updateScrollbars:function(){this._eachScrollbar(function(t,e){var i=e===O_?"height":"width";t.option({containerSize:this._containerSize[i],contentSize:this._componentContentSize[i]}),t.update()})},_allowedDirections:function(){return{vertical:this._isDirection(O_)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(W0)&&this._contentSize.width>this._containerSize.width}},dispose:function(){var t=this._$element.get(0).className,e=new RegExp(IF+"\\S*","g");e.test(t)&&this._$element.removeClass(t.match(e).join(" ")),S.off(this._$element,"."+d5),S.off(this._$container,"."+d5),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(t){t.$element().remove()})},scrollBy:function(t){var e=this.location();this._$container.scrollTop(Math.round(-e.top-t.top)),this._$container.scrollLeft(Math.round(-e.left-t.left))},validate:function(t){return this.option("disabled")||rr(t)&&this._isScrolledInMaxDirection(t)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(t){var e=this._$container.get(0),i;return t.delta>0?i=t.shiftKey?!e.scrollLeft:!e.scrollTop:t.shiftKey?i=e.scrollLeft>=this._getMaxOffset().left:i=e.scrollTop>=this._getMaxOffset().top,i},getDirection:function(){return this._allowedDirection()}}),Xf=xye;var yye=Gl(),bye="dx-loadindicator",Dye="dx-loadindicator-wrapper",Oye="dx-loadindicator-content",Eye="dx-loadindicator-icon",u5="dx-loadindicator-segment",Sye="dx-loadindicator-segment-inner",wye="dx-loadindicator-image",c5=Ci.inherit({_getDefaultOptions:function(){return y(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules:function(){var t=an();return this.callBase().concat([{device:function(){var e=be.real(),i=e.platform==="android"&&!/chrome/i.test(yye.userAgent);return i},options:{viaImage:!0}},{device:function(){return ki(t)},options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:function(){return pv(t)},options:{_animatingSegmentCount:7}}])},_useTemplates:function(){return!1},_init:function(){this.callBase(),this.$element().addClass(bye)},_initMarkup:function(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper:function(){this._$wrapper=g("<div>").addClass(Dye),this.$element().append(this._$wrapper)},_renderIndicatorContent:function(){this._$content=g("<div>").addClass(Oye),this._$wrapper.append(this._$content)},_renderMarkup:function(){var{viaImage:t,indicatorSrc:e}=this.option();Ib()&&!t&&!e?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation:function(){var t=this.option("_animatingSegmentInner");this._$indicator=g("<div>").addClass(Eye),this._$content.append(this._$indicator);for(var e=this.option("_animatingSegmentCount");e>=0;--e){var i=g("<div>").addClass(u5).addClass(u5+e);t&&i.append(g("<div>").addClass(Sye)),this._$indicator.append(i)}},_renderMarkupForImage:function(){var{indicatorSrc:t}=this.option();t?(this._$wrapper.addClass(wye),this._$wrapper.css("backgroundImage","url("+t+")")):Ib()&&this._renderMarkupForAnimation()},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){if(this._$indicator){var t=this.option("width"),e=this.option("height");if(t||e){t=Ae(this.$element()),e=je(this.$element());var i=Math.min(e,t);this._$wrapper.css({height:i,width:i,fontSize:i})}}},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("backgroundImage","none")},_optionChanged:function(t){switch(t.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(t)}}});Be("dxLoadIndicator",c5);var Hn=c5;var h5="dx-scrollview-pull-down-loading",TF="dx-scrollview-pull-down-ready",Iye="dx-scrollview-pull-down-image",Tye="dx-scrollview-pull-down-indicator",Mye="dx-scrollview-pull-down-text",Aye="dx-scrollview-pull-down-text-visible",j0=0,E_=1,$0=2,MF=3,Rye=400,Fye=Xf.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$refreshingText=t._$refreshingText,this._$scrollViewContent=g(t.content()),this._$container=g(t.container()),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=vt(),this.releaseCallbacks=vt(),this.reachBottomCallbacks=vt()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=g("<div>").addClass(Iye),e=g("<div>").addClass(Tye),i=new Hn(g("<div>")).$element(),n=this._$pullDownText=g("<div>").addClass(Mye);this._$pullingDownText=g("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=g("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=g("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(i)).append(n)},_releaseState:function(){this._state=j0,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:j0},{element:this._$pulledDownText,visibleState:E_},{element:this._$refreshingText,visibleState:$0}];F(e,function(i,n){var r=t._state===n.visibleState?"addClass":"removeClass";n.element[r](Aye)})},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===E_&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout((function(){this._pullDownRefreshing()}).bind(this),400))},_setPullDownOffset:function(t){Vt(this._$topPocket,{top:t}),Vt(this._$scrollViewContent,{top:t})},handleScroll:function(t){if(this.callBase(t),this._state!==$0){var e=this.location().top,i=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this._state!==MF&&(this._state=MF,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==E_&&(this._state=E_,this._$pullDown.addClass(TF),this._refreshPullDownText())},_stateReleased:function(){this._state!==j0&&(this._$pullDown.removeClass(h5).removeClass(TF),this._releaseState())},_pullDownRefreshing:function(){this._state!==$0&&(this._state=$0,this._$pullDown.addClass(h5).removeClass(TF),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(t){t&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=E_},release:function(){var t=new H;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===MF&&(this._state=j0),this._releaseTimeout=setTimeout((function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}).bind(this),Rye),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),p5=Fye;var f5="dx-scrollview-pull-down-loading",Pye="dx-scrollview-pull-down-indicator",kye="dx-scrollview-pull-down-refreshing",Nye="dx-icon-pulldown",AF=0,Lye=1,g5=2,RF=4,G0=5,Bye=Xf.inherit({_init:function(t){this.callBase(t),this._$topPocket=t._$topPocket,this._$pullDown=t._$pullDown,this._$scrollViewContent=g(t.content()),this._$container=g(t.container()),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=vt(),this.releaseCallbacks=vt(),this.reachBottomCallbacks=vt()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=g("<div>").addClass(Pye),e=new Hn(g("<div>")).$element();this._$icon=g("<div>").addClass(Nye),this._$pullDown.empty().append(this._$icon).append(t.append(e))},_releaseState:function(){this._state=AF,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;var t=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(t.clientHeight-e.clientHeight,0)},_allowedDirections:function(){var t=this.callBase();return t.vertical=t.vertical||this._pullDownEnabled,t},handleInit:function(t){this.callBase(t),this._state===AF&&this._location===0&&(this._startClientY=Bi(t.originalEvent).y,this._state=RF)},handleMove:function(t){this.callBase(t),this._deltaY=Bi(t.originalEvent).y-this._startClientY,this._state===RF&&(this._pullDownEnabled&&this._deltaY>0?this._state=G0:this._complete()),this._state===G0&&(t.preventDefault(),this._movePullDown())},_movePullDown:function(){var t=this._getPullDownHeight(),e=Math.min(3*t,this._deltaY+this._getPullDownStartPosition()),i=180*e/t/3;this._$pullDown.css({opacity:1}).toggleClass(kye,e<t),Vt(this._$pullDown,{top:e}),this._$icon.css({transform:"rotate("+i+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===G0&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(.05*et(this._$element))},_getPullDownStartPosition:function(){return-Math.round(1.5*et(this._$pullDown))},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===RF||this._state===G0)&&this._releaseState()},handleScroll:function(t){if(this.callBase(t),this._state!==g5){var e=this.location().top,i=this._location-e;this._location=e,i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==AF&&(this._$pullDown.removeClass(f5),this._releaseState())},_pullDownRefreshing:function(){this._state=g5,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(f5),Vt(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(t){this._$topPocket.toggle(t),this._pullDownEnabled=t},reachBottomEnable:function(t){this._reachBottomEnabled=t},pendingRelease:function(){this._state=Lye},release:function(){var t=new H;return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout((function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()}).bind(this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),m5=Bye;var Vye=ot.abstract,Hye=ot.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,Xo(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=Du(this._proxiedStepCore)},_step:Vye,_isFinished:W,_stop:W,_complete:W,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}}),U0=Hye;var v5="dxSimulatedScrollable",zye="dxScrollableStrategy",K0=v5+"Cursor",FF=v5+"Keyboard",PF="dx-scrollable-simulated",Wye="dx-scrollable-scrollbars-alwaysvisible",jye="dx-scrollable-scrollbar",ll="vertical",Nr="horizontal",q0=.92,_5=.5,C5=1,$ye=Math.round(1e3/60),Gye=40,Uye=500,Kye=C5/5,qye=400,Jye=qye/$ye,Yye=(1-Math.pow(q0,Jye))/(1-q0),od={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},x5=U0.inherit({ctor:function(t){this.callBase(),this.scroller=t},VELOCITY_LIMIT:C5,_isFinished:function(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?q0:_5},_complete:function(){this.scroller._scrollComplete()}}),Xye=x5.inherit({VELOCITY_LIMIT:Kye,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return q0},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),kF=ot.inherit({ctor:function(t){this._initOptions(t),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===Nr?"x":"y",this._prop=t.direction===Nr?"left":"top",this._dimension=t.direction===Nr?"width":"height",this._scrollProp=t.direction===Nr?"scrollLeft":"scrollTop",F(t,(e,i)=>{this["_"+e]=i})},_initAnimators:function(){this._inertiaAnimator=new x5(this),this._bounceAnimator=new Xye(this)},_initScrollbar:function(){this._scrollbar=new z0(g("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:function(t){return t===!0?"onScroll":t===!1?"never":t},_scrollStep:function(t){var e=this._location;this._location+=t,this._suppressBounce(),this._move(),!(Math.abs(e-this._location)<1)&&S.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(t){return t=t!==void 0?t:this._location,Math.max(Math.min(t,this._maxOffset),this._minOffset)},_move:function(t){this._location=t!==void 0?t*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var t=this._location;this._$container[this._scrollProp](-t/this._getScaleRatio()),this._moveContentByTranslator(t)},_getScaleRatio:function(){if(Ne()&&!this._scaleRatio){var t=this._$element.get(0),e=this._getRealDimension(t,this._dimension),i=this._getBaseDimension(t,this._dimension);this._scaleRatio=Math.round(e/i*100)/100}return this._scaleRatio||1},_getRealDimension:function(t,e){return Math.round(Jt(t)[e])},_getBaseDimension:function(t,e){var i="offset"+Cu(e);return t[i]},_moveContentByTranslator:function(t){var e,i=-this._maxScrollPropValue;if(t>0?e=t:t<=i?e=t-i:e=t%1,this._translateOffset!==e){var n={};if(n[this._prop]=e,this._translateOffset=e,e===0){tl(this._$content);return}Vt(this._$content,n)}},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var t=this._bounceLocation=this._boundLocation(),e=t-this._location;this._velocity=e/Yye},_inBounds:function(t){return t=t!==void 0?t:this._location,this._boundLocation(t)===t},_crossBoundOnNextStep:function(){var t=this._location,e=t+this._velocity;return t<this._minOffset&&e>=this._minOffset||t>this._maxOffset&&e<=this._maxOffset},_initHandler:function(t){this._stopScrolling(),this._prepareThumbScrolling(t)},_stopScrolling:qa(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling:function(t){if(!rr(t.originalEvent)){var e=g(t.originalEvent.target),i=this._isScrollbar(e);i&&this._moveToMouseLocation(t),this._thumbScrolling=i||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(t){return this._isThumb(t)},_moveToMouseLocation:function(t){var e=t["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+e/this._containerToContentRatio()-je(this._$container)/2;this._scrollStep(-Math.round(i))},_startHandler:function(){this._showScrollbar()},_moveHandler:function(t){this._crossThumbScrolling||(this._thumbScrolling&&(t[this._axis]=-Math.round(t[this._axis]/this._containerToContentRatio())),this._scrollBy(t))},_scrollBy:function(t){t=t[this._axis],this._inBounds()||(t*=_5),this._scrollStep(t)},_scrollByHandler:function(t){this._scrollBy(t),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=new H,this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){return this._stopScrolling(),Kn(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),zi(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio:function(){this._scaleRatio=null},_updateLocation:function(){this._location=(In(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:KT(function(){var t=this._containerSize(),e=this._contentSize(),i=this._getBaseDimension(this._$container.get(0),this._dimension),n=this._getBaseDimension(this._$content.get(0),this._dimension);zi(()=>{this._scrollbar.option({containerSize:t,contentSize:e,baseContainerSize:i,baseContentSize:n,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:qa(KT(qa(function(){var t=this._boundLocation(),e=t!==this._location;this._location=t,this._move(),e&&this._scrollAction()}))),_createActionsHandler:function(t){this._scrollAction=t.scroll,this._bounceAction=t.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize:function(){var t=this._$content.css("overflow"+this._axis.toUpperCase())==="hidden",e=this._getRealDimension(this._$content.get(0),this._dimension);if(!t){var i=this._$content[0]["scroll"+Cu(this._dimension)]*this._getScaleRatio();e=Math.max(i,e)}return e},_validateEvent:function(t){var e=g(t.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb:function(t){return this._scrollByThumb&&this._scrollbar.isThumb(t)},_isScrollbar:function(t){return this._scrollByThumb&&t&&t.is(this._$scrollbar)},_reachedMin:function(){return Math.round(this._location-this._minOffset)<=0},_reachedMax:function(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler:function(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:W}),_a,Qf,J0=ot.inherit({ctor:function(t){this._init(t)},_init:function(t){this._component=t,this._$element=t.$element(),this._$container=g(t.container()),this._$wrapper=t._$wrapper,this._$content=t.$content(),this.option=t.option.bind(t),this._createActionByOption=t._createActionByOption.bind(t),this._isLocked=t._isLocked.bind(t),this._isDirection=t._isDirection.bind(t),this._allowedDirection=t._allowedDirection.bind(t),this._getMaxOffset=t._getMaxOffset.bind(t)},render:function(){this._$element.addClass(PF),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(Nr)&&this._createScroller(Nr),this._isDirection(ll)&&this._createScroller(ll),this._$element.toggleClass(Wye,this.option("showScrollbar")==="always")},_createScroller:function(t){this._scrollers[t]=new kF(this._scrollerOptions(t))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio:function(t){for(var e in this._scrollers){var i=this._getPropByDirection(e);if(O(t[i])){var n=this._scrollers[e];t[i]*=n._getScaleRatio()}}return t},_isAnyThumbScrolling:function(t){var e=!1;return this._eventHandler("isThumbScrolling",t).done(function(i,n){e=i||n}),e},handleInit:function(t){this._suppressDirections(t),this._eventForUserAction=t,this._eventHandler("init",t)},_suppressDirections:function(t){if(rr(t.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(e,i){var n=g(t.originalEvent.target),r=e._validateEvent(t)||this.option("scrollByContent")&&this._isContent(n);this._validDirections[i]=r})},_isContent:function(t){return!!t.closest(this._$element).length},_prepareDirections:function(t){t=t||!1,this._validDirections={},this._validDirections[Nr]=t,this._validDirections[ll]=t},_eachScroller:function(t){t=t.bind(this),F(this._scrollers,function(e,i){t(i,e)})},handleStart:function(t){this._eventForUserAction=t,this._eventHandler("start").done(this._startAction)},_saveActive:function(){Qf=this},_resetActive:function(){Qf===this&&(Qf=null)},handleMove:function(t){if(this._isLocked()){t.cancel=!0,this._resetActive();return}this._saveActive(),t.preventDefault&&t.preventDefault(),this._adjustDistance(t,t.delta),this._eventForUserAction=t,this._eventHandler("move",t.delta)},_adjustDistance:function(t,e){e.x*=this._validDirections[Nr],e.y*=this._validDirections[ll];var i=this._tryGetDevicePixelRatio();i&&rr(t.originalEvent)&&(e.x=Math.round(e.x/i*100)/100,e.y=Math.round(e.y/i*100)/100)},_tryGetDevicePixelRatio:function(){if(Ne())return Le().devicePixelRatio},handleEnd:function(t){return this._resetActive(),this._refreshCursorState(t.originalEvent&&t.originalEvent.target),this._adjustDistance(t,t.velocity),this._eventForUserAction=t,this._eventHandler("end",t.velocity).done(this._endAction)},handleCancel:function(t){return this._resetActive(),this._eventForUserAction=t,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler:function(){S.off(this._$element,".".concat(FF)),!this.option("disabled")&&this.option("useKeyboard")&&S.on(this._$element,ne("keydown",FF),this._keyDownHandler.bind(this))},_keyDownHandler:function(t){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{qt(t)===od.TAB&&this._eachScroller(i=>{i._updateHandler()})}),!!this._$container.is(ie.getActiveElement(this._$container.get(0)))){var e=!0;switch(qt(t)){case od.DOWN:this._scrollByLine({y:1});break;case od.UP:this._scrollByLine({y:-1});break;case od.RIGHT:this._scrollByLine({x:1});break;case od.LEFT:this._scrollByLine({x:-1});break;case od.PAGE_DOWN:this._scrollByPage(1);break;case od.PAGE_UP:this._scrollByPage(-1);break;case od.HOME:this._scrollToHome();break;case od.END:this._scrollToEnd();break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault())}},_scrollByLine:function(t){var e=this._tryGetDevicePixelRatio(),i=Gye;e&&(i=Math.abs(i/e*100)/100),this.scrollBy({top:(t.y||0)*-i,left:(t.x||0)*-i})},_scrollByPage:function(t){var e=this._wheelProp(),i=this._dimensionByProp(e),n={},r=i==="width"?Ae:je;n[e]=t*-r(this._$container),this.scrollBy(n)},_dimensionByProp:function(t){return t==="left"?"width":"height"},_getPropByDirection:function(t){return t===Nr?"left":"top"},_scrollToHome:function(){var t=this._wheelProp(),e={};e[t]=0,this._component.scrollTo(e)},_scrollToEnd:function(){var t=this._wheelProp(),e=this._dimensionByProp(t),i={},n=e==="width"?Ae:je;i[t]=n(this._$content)-n(this._$container),this._component.scrollTo(i)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler:function(t){var e=this._createActionByOption(t);return()=>{e(y(this._createActionArgs(),arguments))}},_createActionArgs:function(){var{horizontal:t,vertical:e}=this._scrollers,i=this._getScrollOffset();return this._scrollOffset={top:e&&i.top,left:t&&i.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:t&&t._reachedMax(),reachedRight:t&&t._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler:function(t){var e=[].slice.call(arguments).slice(1),i=gi(this._scrollers,n=>n["_"+t+"Handler"].apply(n,e));return ye.apply(g,i).promise()},location:function(){var t=In(this._$content);return t.top-=this._$container.scrollTop(),t.left-=this._$container.scrollLeft(),t},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){S.off(this._$element,".".concat(K0)),!this.option("disabled")&&this._isHoverMode()&&(S.on(this._$element,ne("mouseenter",K0),this._cursorEnterHandler.bind(this)),S.on(this._$element,ne("mouseleave",K0),this._cursorLeaveHandler.bind(this)))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(t){t=t||{},t.originalEvent=t.originalEvent||{},!(Qf||t.originalEvent._hoverHandled)&&(_a&&_a._cursorLeaveHandler(),_a=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(t){_a!==this||Qf===_a||(this._eventHandler("cursorLeave"),_a=null,this._refreshCursorState(t&&t.relatedTarget))},_refreshCursorState:function(t){if(!(!this._isHoverMode()&&(!t||Qf))){var e=g(t),i=e.closest(".".concat(PF,":not(.dx-state-disabled)")),n=i.length&&i.data(zye);_a&&_a!==n&&_a._cursorLeaveHandler(),n&&n._cursorEnterHandler()}},update:function(){var t=this._eventHandler("update").done(this._updateAction);return ye(t,Kn(()=>{var e=this._allowedDirections();return zi(()=>{var i=e.vertical?"pan-x":"";i=e.horizontal?"pan-y":i,i=e.vertical&&e.horizontal?"none":i,this._$container.css("touchAction",i)}),ye().promise()}))},_allowedDirections:function(){var t=this.option("bounceEnabled"),e=this._scrollers[ll],i=this._scrollers[Nr];return{vertical:e&&(e._minOffset<0||t),horizontal:i&&(i._minOffset<0||t)}},_updateBounds:function(){this._scrollers[Nr]&&this._scrollers[Nr]._updateBounds()},_isHorizontalAndRtlEnabled:function(){return this.option("rtlEnabled")&&this.option("direction")!==ll},updateRtlPosition:function(t){if(t&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){var e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)}},_updateRtlConfig:function(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){var{clientWidth:t,scrollLeft:e}=this._$container.get(0),i=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===i&&this._rtlConfig.clientWidth===t&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-e),this._rtlConfig.clientWidth=t,this._rtlConfig.windowPixelRatio=i}},_getWindowDevicePixelRatio:function(){return Ne()?Le().devicePixelRatio:1},scrollBy:function(t){var e=this._scrollers[ll],i=this._scrollers[Nr];e&&(t.top=e._boundLocation(t.top+e._location)-e._location),i&&(t.left=i._boundLocation(t.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:t.left,y:t.top}),this._endAction(),this._updateRtlConfig()},validate:function(t){return rr(t)&&Wi(t)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:rr(t)?this._validateWheel(t):this._validateMove(t)},_validateWheel:function(t){var e=this._scrollers[this._wheelDirection(t)],i=e._reachedMin(),n=e._reachedMax(),r=!i||!n,o=!i&&!n,s=i&&t.delta>0,a=n&&t.delta<0,l=r&&(o||s||a);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},Uye)),l},_validateMove:function(t){return!this.option("scrollByContent")&&!g(t.target).closest(".".concat(jye)).length?!1:this._allowedDirection()},getDirection:function(t){return rr(t)?this._wheelDirection(t):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===Nr?"left":"top"},_wheelDirection:function(t){switch(this.option("direction")){case Nr:return Nr;case ll:return ll;default:return t&&t.shiftKey?Nr:ll}},dispose:function(){this._resetActive(),_a===this&&(_a=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(PF),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers:function(){S.off(this._$element,".".concat(K0)),S.off(this._$container,".".concat(FF))}});var Qye=Math,y5="dx-scrollview-pull-down-loading",NF="dx-scrollview-pull-down-ready",Zye="dx-scrollview-pull-down-image",ebe="dx-scrollview-pull-down-indicator",tbe="dx-scrollview-pull-down-text",ibe="dx-scrollview-pull-down-text-visible",S_=0,w_=1,LF=2,BF=3,nbe=kF.inherit({ctor:function(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=S_,this._refreshPullDownText()},_refreshPullDownText:function(){var t=this,e=[{element:this._$pullingDownText,visibleState:S_},{element:this._$pulledDownText,visibleState:w_},{element:this._$refreshingText,visibleState:LF}];F(e,function(i,n){var r=t._state===n.visibleState?"addClass":"removeClass";n.element[r](ibe)})},_initCallbacks:function(){this.pullDownCallbacks=vt(),this.releaseCallbacks=vt(),this.reachBottomCallbacks=vt()},_updateBounds:function(){var t=this._direction!=="horizontal";if(t){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;var e=this._$container.get(0),i=this._$content.get(0);this._bottomBoundary=Math.max(i.clientHeight-this._bottomPocketSize-e.clientHeight,0)}this.callBase()},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==S_&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){var t=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(t.scrollTop))<=1},_scrollComplete:function(){this._inBounds()&&this._state===w_?this._pullDownRefreshing():this._inBounds()&&this._state===BF?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==BF&&(this._state=BF,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return Qye.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==w_&&(this._state=w_,this._maxOffset=0,this._$pullDown.addClass(NF),this._refreshPullDownText())},_stateReleased:function(){this._state!==S_&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(y5).removeClass(NF),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==LF&&(this._state=LF,this._$pullDown.addClass(y5).removeClass(NF),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===S_&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=uf(this._release.bind(this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(t){this._reachBottomEnabled!==t&&(this._reachBottomEnabled=t,this._updateBounds())},_pullDownEnablingHandler:function(t){this._pullDownEnabled!==t&&(this._pullDownEnabled=t,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=je(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler:function(){this._state=w_},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),rbe=J0.inherit({_init:function(t){this.callBase(t),this._$pullDown=t._$pullDown,this._$topPocket=t._$topPocket,this._$bottomPocket=t._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=vt(),this.releaseCallbacks=vt(),this.reachBottomCallbacks=vt()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var t=g("<div>").addClass(Zye),e=g("<div>").addClass(ebe),i=new Hn(g("<div>")).$element(),n=this._$pullDownText=g("<div>").addClass(tbe);this._$pullingDownText=g("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=g("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=g("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(t).append(e.append(i)).append(n)},pullDownEnable:function(t){this._eventHandler("pullDownEnabling",t)},reachBottomEnable:function(t){this._eventHandler("reachBottomEnabling",t)},_createScroller:function(t){var e=this,i=e._scrollers[t]=new nbe(e._scrollerOptions(t));i.pullDownCallbacks.add(function(){e.pullDownCallbacks.fire()}),i.releaseCallbacks.add(function(){e.releaseCallbacks.fire()}),i.reachBottomCallbacks.add(function(){e.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return y(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var t=this.callBase();return t.top+=je(this._$topPocket),t},dispose:function(){F(this._scrollers,function(){this.dispose()}),this.callBase()}}),b5=rbe;var Y0=function(){return[{device:function(){return!Cs},options:{useNative:!1}},{device:function(t){return!be.isSimulator()&&be.real().deviceType==="desktop"&&t.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:_s,showScrollbar:"onHover"}}]};function X0(t,e){for(var i={left:0,top:0},n=e;(r=n)!==null&&r!==void 0&&r.offsetParent&&!n.classList.contains(t);){var r,o=n.offsetParent,s=n.getBoundingClientRect(),a=o.getBoundingClientRect();i.left+=s.left-a.left,i.top+=s.top-a.top,n=n.offsetParent}return i}var xh="vertical",Q0="horizontal",Z0="both";var eD="dx-scrollable-content";function D5(t,e,i,n,r){var o=te({top:0,left:0,right:0,bottom:0},r),s=e===xh,a=s?"top":"left",l=s?"bottom":"right",d=s?"height":"width",u=i["offset".concat(Cu(d))],h=i["client".concat(Cu(d))],p=i.getBoundingClientRect()[d],m=t.getBoundingClientRect()[d],c=1;Math.abs(p-u)>1&&(c=p/u);var x=X0(eD,t)[a]/c,D=n[a],T=D-x+o[a],N=D-x-m/c+h-o[l];return T<=0&&N>=0?D:D-(Math.abs(T)>Math.abs(N)?N:T)}var ul="dxScrollable",obe="dxScrollableStrategy",O5="dx-scrollable",sbe="dx-scrollable-disabled",abe="dx-scrollable-container",lbe="dx-scrollable-wrapper",E5="dx-scrollable-content",dl="vertical",sd="horizontal",VF="both",HF=Xr.inherit({_getDefaultOptions:function(){return y(this.callBase(),{disabled:!1,onScroll:null,direction:dl,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1})},_defaultOptionsRules:function(){return this.callBase().concat(Y0(),[{device:function(){return Cs&&be.real().platform==="android"&&!Nt.mozilla},options:{useSimulatedScrollbar:!0}}])},_initOptions:function(t){this.callBase(t),"useSimulatedScrollbar"in t||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged:function(t){t?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup:function(){var t=this.$element().addClass(O5),e=this._$container=g("<div>").addClass(abe),i=this._$wrapper=g("<div>").addClass(lbe),n=this._$content=g("<div>").addClass(E5);n.append(t.contents()).appendTo(e),e.appendTo(i),i.appendTo(t)},_dimensionChanged:function(){this.update(),this._updateRtlPosition()},_initMarkup:function(){this.callBase(),this._renderDirection()},_render:function(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition:function(t){this._strategy.updateRtlPosition(t)},_getMaxOffset:function(){var{scrollWidth:t,clientWidth:e,scrollHeight:i,clientHeight:n}=g(this.container()).get(0);return{left:t-e,top:i-n}},_attachEventHandlers:function(){var t=this._strategy,e={getDirection:t.getDirection.bind(t),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};S.off(this._$wrapper,"."+ul),S.on(this._$wrapper,ne(vo.init,ul),e,this._initHandler.bind(this)),S.on(this._$wrapper,ne(vo.start,ul),t.handleStart.bind(t)),S.on(this._$wrapper,ne(vo.move,ul),t.handleMove.bind(t)),S.on(this._$wrapper,ne(vo.end,ul),t.handleEnd.bind(t)),S.on(this._$wrapper,ne(vo.cancel,ul),t.handleCancel.bind(t)),S.on(this._$wrapper,ne(vo.stop,ul),t.handleStop.bind(t)),S.off(this._$container,"."+ul),S.on(this._$container,ne("scroll",ul),t.handleScroll.bind(t))},_validate:function(t){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(t))},_moveIsAllowed(t){return this._strategy.validate(t)},handleMove(t){this._strategy.handleMove(t)},_prepareDirections(t){this._strategy._prepareDirections(t)},_initHandler:function(){var t=this._strategy;t.handleInit.apply(t,arguments)},_renderDisabledState:function(){this.$element().toggleClass(sbe,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.$element().removeClass("dx-scrollable-"+sd).removeClass("dx-scrollable-"+dl).removeClass("dx-scrollable-"+VF).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.$element().data(obe,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new Xf(this):new J0(this)},_createActions:function(){this._strategy&&this._strategy.createActions()},_clean:function(){this._strategy&&this._strategy.dispose()},_optionChanged:function(t){switch(t.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":break;case"width":this.callBase(t),this._updateRtlPosition();break;default:this.callBase(t)}},_resetInactiveDirection:function(){var t=this._getInactiveProp();if(!(!t||!Ne())){var e=this.scrollOffset();e[t]=0,this.scrollTo(e)}},_getInactiveProp:function(){var t=this.option("direction");if(t===dl)return"left";if(t===sd)return"top"},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){if(Ve(t)){var e=Qt(t.left,t.x),i=Qt(t.top,t.y);return{left:O(e)?-e:void 0,top:O(i)?-i:void 0}}else{var n=this.option("direction");return{left:n!==dl?-t:void 0,top:n!==sd?-t:void 0}}},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this.option("disabled")||(this._locked=!1)},_isDirection:function(t){var e=this.option("direction");return t===dl?e!==sd:t===sd?e!==dl:e===t},_updateAllowedDirection:function(){var t=this._strategy._allowedDirections();this._isDirection(VF)&&t.vertical&&t.horizontal?this._allowedDirectionValue=VF:this._isDirection(sd)&&t.horizontal?this._allowedDirectionValue=sd:this._isDirection(dl)&&t.vertical?this._allowedDirectionValue=dl:this._allowedDirectionValue=null},_allowedDirection:function(){return this._allowedDirectionValue},$content:function(){return this._$content},content:function(){return Pe(this._$content)},container:function(){return Pe(this._$container)},scrollOffset:function(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy:function(){var{useNative:t,rtlEnabled:e}=this.option();return t&&e},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return je(this._$container)},scrollHeight:function(){return et(this.$content())},clientWidth:function(){return Ae(this._$container)},scrollWidth:function(){return it(this.$content())},update:function(){if(this._strategy)return ye(this._strategy.update()).done((function(){this._updateAllowedDirection()}).bind(this))},scrollBy:function(t){t=this._normalizeLocation(t),!(!t.top&&!t.left)&&(this._updateIfNeed(),this._strategy.scrollBy(t))},scrollTo:function(t){t=this._normalizeLocation(t),this._updateIfNeed();var e=this._location();this.option("useNative")||(t=this._strategy._applyScaleRatio(t),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left=e.left-this._getMaxOffset().left);var i=this._normalizeLocation({left:e.left-Qt(t.left,e.left),top:e.top-Qt(t.top,e.top)});!i.top&&!i.left||this._strategy.scrollBy(i)},scrollToElement:function(t,e){var i=g(t),n=this.$content().find(t).length,r=i.parents("."+O5).length-i.parents("."+E5).length===0;if(!(!n||!r)){var o={top:0,left:0},s=this.option("direction");s!==dl&&(o.left=this.getScrollElementPosition(i,sd,e)),s!==sd&&(o.top=this.getScrollElementPosition(i,dl,e)),this.scrollTo(o)}},getScrollElementPosition:function(t,e,i){var n=this.scrollOffset();return D5(t.get(0),e,g(this.container()).get(0),n,i)},_updateIfNeed:function(){this.option("updateManually")||this.update()},_useTemplates:function(){return!1},isRenovated:function(){return!!HF.IS_RENOVATED_WIDGET}});Be(ul,HF);var tD=HF;var Or=tD;var dbe="dx-loadpanel",ube="dx-loadpanel-wrapper",S5="dx-loadpanel-indicator",w5="dx-loadpanel-message",cbe="dx-loadpanel-content",hbe="dx-loadpanel-content-wrapper",pbe="dx-loadpanel-pane-hidden",I5=Rn.inherit({_supportedKeys:function(){return y(this.callBase(),{escape:W})},_getDefaultOptions:function(){return y(this.callBase(),{message:j.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:function(){return mi()},options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}},{device:function(){return Ui()},options:{width:"auto",height:"auto"}}])},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.$element().addClass(dbe),this.$wrapper().addClass(ube),this._setWrapperAria()},_setWrapperAria(){var{message:t}=this.option(),e=ki()?t:null,i=t?e:j.format("Loading"),n={role:"alert",label:i};this.setAria(n,this.$wrapper())},_renderContentImpl:function(){this.callBase(),this.$content().addClass(cbe),this._$loadPanelContentWrapper=g("<div>").addClass(hbe),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var t=this.option("delay");if(!t)return this.callBase();var e=new H,i=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(function(){i().done(function(){e.resolve()})},t),e.promise()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){if(this._$loadPanelContentWrapper){var t=this.option("message");if(t){var e=g("<div>").addClass(w5).text(t);this._$loadPanelContentWrapper.append(e)}}},_renderLoadIndicator:function(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=g("<div>").addClass(S5).appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,Hn,{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.$content().find("."+w5).remove(),this.$content().find("."+S5).remove(),delete this._$indicator},_togglePaneVisible:function(){this.$content().toggleClass(pbe,!this.option("showPane"))},_optionChanged:function(t){switch(t.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage(),this._setWrapperAria();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(t)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}});Be("dxLoadPanel",I5);var iD=I5;var yh="dx-scrollview",fbe=yh+"-content",gbe=yh+"-top-pocket",mbe=yh+"-bottom-pocket",vbe=yh+"-pull-down",zF=yh+"-scrollbottom",_be=zF+"-indicator",Cbe=zF+"-text",xbe=yh+"-loadpanel",ybe={pullDown:p5,swipeDown:m5,simulated:b5},bbe=!Ne(),Dbe={finishLoading:W,release:W,refresh:W,scrollOffset:()=>({top:0,left:0}),_optionChanged:function(t){if(t.name!=="onUpdated")return this.callBase.apply(this,arguments)}},T5=Or.inherit(bbe?Dbe:{_getDefaultOptions:function(){return y(this.callBase(),{pullingDownText:j.format("dxScrollView-pullingDownText"),pulledDownText:j.format("dxScrollView-pulledDownText"),refreshingText:j.format("dxScrollView-refreshingText"),reachBottomText:j.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=be.real();return t.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return ki()},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup:function(){this.callBase(),this.$element().addClass(yh),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=g("<div>").addClass(fbe);this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=g("<div>").addClass(gbe),e=this._$pullDown=g("<div>").addClass(vbe);t.append(e),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=g("<div>").addClass(mbe),e=this._$reachBottom=g("<div>").addClass(zF),i=g("<div>").addClass(_be),n=new Hn(g("<div>")).$element(),r=this._$reachBottomText=g("<div>").addClass(Cbe);this._updateReachBottomText(),e.append(i.append(n)).append(r),t.append(e),this._$content.append(t)},_initLoadPanel:function(){var t=g("<div>").addClass(xbe).appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(t,iD,e)},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var t=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=ybe[t];this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState:function(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on:function(t){var e=this.callBase.apply(this,arguments);return(t==="pullDown"||t==="reachBottom")&&this._tryRefreshPocketState(),e},_pullDownEnable:function(t){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(t),this._strategy.pullDownEnable(t),this._pullDownEnabled=t)},_reachBottomEnable:function(t){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(t),this._strategy.reachBottomEnable(t),this._reachBottomEnabled=t)},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(t){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=t},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(t){switch(t.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(t)}},content:function(){return Pe(this._$content.children().eq(1))},release:function(t){return t!==void 0&&this.toggleLoading(!t),this._strategy.release()},toggleLoading:function(t){this._reachBottomEnable(t)},refresh:function(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});Be("dxScrollView",T5);var M5=T5;var Zf=M5;function Obe(t,e){for(var i,n=typeof e=="string"?e.split():e.slice();n.length;)if(i=n.shift(),i in t)return!0;return!1}function A5(t,e,i,n){var r,o;if(n){for(var s=0;s<e.length;s++)if(r=e[s].items||e[s].collapsedItems||[],o=A5(t,r||[],i,n-1),o)return o}else if(ad(t,e,i)>=0)return e}function Ebe(t,e,i,n){return n?A5(t,e,i,n)||[]:e}function Sbe(t,e){if(t.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){for(var i={},n=e.length,r=0;r<n;r++)i[JSON.stringify(t.keyOf(e[r]))]=e[r];e._dataByKeyMap=i,e._dataByKeyMapLength=n}}function wbe(t,e){if(t._dataByKeyMap)return t._dataByKeyMap[JSON.stringify(e)]}function Ibe(t,e){return t._dataByKeyMap?t._dataByKeyMap[JSON.stringify(e)]:!0}function R5(t,e,i){t._dataByKeyMap&&(t._dataByKeyMap[JSON.stringify(e)]=i,t._dataByKeyMapLength+=i?1:-1)}function F5(t,e,i){i=i||new WeakMap;var n=t?Object.create(Object.getPrototypeOf(t)):{};t&&i.set(t,n);var r=te({},t);Gr(n,r,!0,!0);for(var o in r){var s=r[o],a=e?.[o];ke(s)&&!Ve(s)&&ke(a)&&!i.has(s)&&(n[o]=F5(s,a,i))}for(var l in n){var d=n[l];ke(d)&&i.has(d)&&(n[l]=i.get(d))}return n}function Ca(t,e){var i=F5(t,e);return Gr(i,e,!0,!0)}function Ts(t){var{keyInfo:e,data:i,changes:n,groupCount:r,useInsertIndex:o,immutable:s,disableCache:a,logError:l,skipCopying:d}=t,u=s===!0?[...i]:i;return n.forEach(h=>{var p=h.type==="insert"?u:Ebe(e,u,h.key,r);switch(!a&&Sbe(e,p),h.type){case"update":I_(e,p,h.key,h.data,!0,s,l);break;case"insert":T_(e,p,h.data,o&&O(h.index)?h.index:-1,!0,l,d);break;case"remove":WF(e,p,h.key,!0,l)}}),u}function nD(t,e,i){return t?e&&ji.log(i):D0(ji.Error(i))}function I_(t,e,i,n,r,o,s){var a,l=t.key();if(l){if(Obe(n,l)&&!Zl(l,i,t.keyOf(n)))return nD(r,s,"E4017");if(a=wbe(e,i),!a){var d=ad(t,e,i);if(d<0)return nD(r,s,"E4009");if(a=e[d],o===!0&&O(a)){var u=Ca(a,n);return e[d]=u,!r&&Bu(u,i)}}}else a=i;if(Gr(a,n,!0),!r)return _t().useLegacyStoreResult?Bu(i,n):Bu(a,i)}function T_(t,e,i,n,r,o,s){var a,l=t.key(),d=Ve(i)&&!s?y({},i):i;if(l){if(a=t.keyOf(d),a===void 0||typeof a=="object"&&Zi(a)){if(Array.isArray(l))throw ji.Error("E4007");a=d[l]=String(new kt)}else if(e[ad(t,e,a)]!==void 0)return nD(r,o,"E4008")}else a=d;if(n>=0?e.splice(n,0,d):e.push(d),R5(e,a,d),!r)return Bu(_t().useLegacyStoreResult?i:d,a)}function WF(t,e,i,n,r){var o=ad(t,e,i);if(o>-1&&(e.splice(o,1),R5(e,i,null)),n){if(o<0)return nD(n,r,"E4009")}else return Bu(i)}function ad(t,e,i){var n=t.key();if(!Ibe(e,i))return-1;for(var r=0,o=e.length;r<o;r++)if(Zl(n,t.keyOf(e[r]),i))return r;return-1}var M_=ot.abstract,P5=Zr.queryByOptions,jF={},eg=ot.inherit({_langParams:{},ctor:function(t){var e=this;t=t||{},this._eventsStrategy=new vs(this),F(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(i,n){n in t&&e.on(n.slice(2).toLowerCase(),t[n])}),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_clearCache:W,_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(t){return this._keyGetter||(this._keyGetter=Tt(this.key())),this._keyGetter(t)},_requireKey:function(){if(!this.key())throw ji.Error("E4005")},load:function(t){var e=this;return t=t||{},this._eventsStrategy.fireEvent("loading",[t]),this._withLock(this._loadImpl(t)).done(function(i){e._eventsStrategy.fireEvent("loaded",[i,t])})},_loadImpl:function(t){return Zi(this._langParams)||(t=t||{},t._langParams=te({},this._langParams,t._langParams)),P5(this.createQuery(t),t).enumerate()},_withLock:function(t){var e=new H;return t.done(function(){var i=this,n=arguments;r3.promise().done(function(){e.resolveWith(i,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:M_,totalCount:function(t){return this._totalCountImpl(t)},_totalCountImpl:function(t){return P5(this.createQuery(t),t,!0).count()},byKey:function(t,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(t,e)))},_byKeyImpl:M_,insert:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[t]),e._addFailHandlers(e._insertImpl(t).done(function(i,n){e._eventsStrategy.fireEvent("inserted",[i,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:M_,update:function(t,e){var i=this;return i._eventsStrategy.fireEvent("modifying"),i._eventsStrategy.fireEvent("updating",[t,e]),i._addFailHandlers(i._updateImpl(t,e).done(function(){i._eventsStrategy.fireEvent("updated",[t,e]),i._eventsStrategy.fireEvent("modified")}))},_updateImpl:M_,push:function(t){var e={changes:t,waitFor:[]};this._eventsStrategy.fireEvent("beforePushAggregation",[e]),ye(...e.waitFor).done(()=>{this._pushImpl(t),this._eventsStrategy.fireEvent("beforePush",[{changes:t}]),this._eventsStrategy.fireEvent("push",[t])})},_pushImpl:W,remove:function(t){var e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[t]),e._addFailHandlers(e._removeImpl(t).done(function(i){e._eventsStrategy.fireEvent("removed",[i]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:M_,_addFailHandlers:function(t){return t.fail(this._errorHandler).fail(Bf)},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}});eg.create=function(t,e){if(!(t in jF))throw ji.Error("E4020",t);return new jF[t](e)};eg.registerClass=function(t,e){return e&&(jF[e]=t),t};eg.inherit=function(t){return function(e,i){var n=t.apply(this,[e]);return eg.registerClass(n,i),n}}(eg.inherit);var ld=eg;var V5="totalCount",$F="load",H5="byKey",k5="insert",N5="update",L5="remove";function tg(t){return t&&ce(t.then)}function Dh(t){return new H().resolve(t).promise()}function A_(t,e){if(!ce(e))throw ji.Error("E4011",t)}function z5(t){throw ji.Error("E4012",t)}function bh(t){function e(i){var n=i[0],r=i[1];return!n||!n.getResponseHeader?null:n3(n,r)}return function(i){var n;i instanceof Error?n=i:n=new Error(e(arguments)||i&&String(i)||"Unknown error"),n.message!==wR&&t.reject(n)}}function W5(t,e){var i=t._loadFunc,n;return A_($F,i),n=i.apply(t,[e]),Array.isArray(n)?n=Dh(n):n==null?n=Dh([]):tg(n)||z5($F),rn(n)}function Tbe(t,e){var i=t._totalCountFunc,n;if(!ce(i))throw ji.Error("E4021");return n=i.apply(t,[e]),tg(n)||(n=Number(n),isFinite(n)||z5(V5),n=Dh(n)),rn(n)}function Mbe(t,e,i){var n=t._byKeyFunc,r;return A_(H5,n),r=n.apply(t,[e,i]),tg(r)||(r=Dh(r)),rn(r)}function j5(t,e,i,n){if(e.__rawData)n(e.__rawData);else{var r=e.__rawDataPromise||W5(e,i);e._cacheRawData&&(e.__rawDataPromise=r),r.always(function(){delete e.__rawDataPromise}).done(function(o){e._cacheRawData&&(e.__rawData=o),n(o)}).fail(bh(t))}}function B5(t,e,i,n){i=i||{};var r={};"userData"in i&&(r.userData=i.userData),j5(t,e,r,function(o){var s=Vu(o,{errorHandler:e._errorHandler}),a,l,d=[],u,h;n||(a=Zr.queryByOptions(s,i),a===s?u=o.slice(0):d.push(a.enumerate().done(function(p){u=p}))),(i.requireTotalCount||n)&&(l=Zr.queryByOptions(s,i,!0),l===s?h=o.length:d.push(l.count().done(function(p){h=p}))),ye.apply(g,d).done(function(){n?t.resolve(h):i.requireTotalCount?t.resolve(u,{totalCount:h}):t.resolve(u)}).fail(function(p){t.reject(p)})})}function Abe(t,e,i){j5(t,e,{},function(n){for(var r=e.key(),o,s=0,a=n.length;s<a;s++)if(o=n[s],Zl(r,e.keyOf(n[s]),i)){t.resolve(o);return}t.reject(ji.Error("E4009"))})}var Rbe=ld.inherit({ctor:function(t){t=t||{},this.callBase(t),this._useDefaultSearch=!!t.useDefaultSearch||t.loadMode==="raw",this._loadMode=t.loadMode,this._cacheRawData=t.cacheRawData!==!1,this._loadFunc=t[$F],this._totalCountFunc=t[V5],this._byKeyFunc=t[H5],this._insertFunc=t[k5],this._updateFunc=t[N5],this._removeFunc=t[L5]},_clearCache(){delete this.__rawData},createQuery:function(){throw ji.Error("E4010")},clearRawDataCache:function(){this._clearCache()},_totalCountImpl:function(t){var e=new H;return this._loadMode==="raw"&&!this._totalCountFunc?B5(e,this,t,!0):(Tbe(this,t).done(function(i){e.resolve(Number(i))}).fail(bh(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl:function(t){this.__rawData&&Ts({keyInfo:this,data:this.__rawData,changes:t})},_loadImpl:function(t){var e=new H;return this._loadMode==="raw"?B5(e,this,t,!1):(W5(this,t).done(function(i,n){e.resolve(i,n)}).fail(bh(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(t,e){var i=new H;return this._byKeyViaLoad()?(this._requireKey(),Abe(i,this,t)):Mbe(this,t,e).done(function(n){i.resolve(n)}).fail(bh(i)),i.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(t){var e=this,i=e._insertFunc,n,r=new H;return A_(k5,i),n=i.apply(e,[t]),tg(n)||(n=Dh(n)),rn(n).done(function(o){_t().useLegacyStoreResult?r.resolve(t,o):r.resolve(o||t,e.keyOf(o))}).fail(bh(r)),r.promise()},_updateImpl:function(t,e){var i=this._updateFunc,n,r=new H;return A_(N5,i),n=i.apply(this,[t,e]),tg(n)||(n=Dh(n)),rn(n).done(function(o){_t().useLegacyStoreResult?r.resolve(t,e):r.resolve(o||e,t)}).fail(bh(r)),r.promise()},_removeImpl:function(t){var e=this._removeFunc,i,n=new H;return A_(L5,e),i=e.apply(this,[t]),tg(i)||(i=Dh()),rn(i).done(function(){n.resolve(t)}).fail(bh(n)),n.promise()}}),Oh=Rbe;function GF(t){var e=[],i=!1;function n(){for(;e.length;){i=!0;var r=e.shift(),o=r();if(o!==void 0){if(o.then){ye(o).always(n);return}throw xt.Error("E0015")}}i=!1}return{add:function(r,o){t?(e[0]&&o&&o(e[0]),e=[r]):e.push(r),i||n()},busy:function(){return i}}}var ldt=GF().add;var Fbe=Le(),Pbe={getXhr:function(){return new Fbe.XMLHttpRequest}},rD=On(Pbe);var KF=Le(),R_="success",UF="error",kbe="timeout",Nbe="nocontent",Lbe="parsererror",Bbe=function(t){return 200<=t&&t<300},Vbe=function(t){return t!==204},Hbe=function(t){var e=[];for(var i in t){var n=t[i];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(encodeURIComponent(i)+"="+encodeURIComponent(n)))}return e.join("&")},G5=function(t){var e=ie.createElement("script");for(var i in t)e[i]=t[i];return e},U5=function(t){t.parentNode.removeChild(t)},K5=function(t){return ie.getHead().appendChild(t)},$5=function(t){var e=G5({text:t});K5(e),U5(e)},zbe=function(t){var e=G5({src:t});return new Promise(function(i,n){var r={load:i,error:n},o=function(a){r[a.type](),U5(e)};for(var s in r)ie.listen(e,s,o);K5(e)})},Wbe=function(t){var e=t.dataType||"*",i="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:i,script:i};return J$(n,t.accepts,!0),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},jbe=function(t){var e;return t.data&&!t.upload&&qF(t)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),t.contentType||e},$be=function(t){return t.responseType&&t.responseType!=="text"||typeof t.responseText!="string"?t.response:t.responseText},Gbe=function(t,e,i){var n=$be(e);switch(i){case"jsonp":$5(n);break;case"script":$5(n),t.resolve(n,R_,e);break;case"json":try{t.resolve(JSON.parse(n),R_,e)}catch(r){t.reject(e,Lbe,r)}break;default:t.resolve(n,R_,e)}},Ube=function(t){if(!Ne())return!0;var e=!1,i=ie.createElement("a"),n=ie.createElement("a");i.href=KF.location.href;try{n.href=t,n.href=n.href,e=i.protocol+"//"+i.host!=n.protocol+"//"+n.host}catch{e=!0}return e},Kbe=function(t,e){return t&&setTimeout(function(){e.customStatus=kbe,e.abort()},t)},qbe=function(t){if(t.dataType==="jsonp"){var e=Math.random().toString().replace(/\D/g,""),i=t.jsonpCallback||"dxCallback"+Date.now()+"_"+e,n=t.jsonp||"callback";return t.data=t.data||{},t.data[n]=i,i}},Jbe=function(t,e){var i=t.data,n=typeof i=="string",r=t.url||KF.location.href;return!n&&!t.cache&&(i=i||{},i._=Date.now()),i&&!t.upload&&(n||(i=Hbe(i)),qF(t)==="GET"?(i!==""&&(r+=(r.indexOf("?")>-1?"&":"?")+i),i=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(i=i.replace(/%20/g,"+"))),{url:r,parameters:i}};function qF(t){return(t.method||"GET").toUpperCase()}var Ybe=function(t){var e=t.headers||{};return e["Content-Type"]=e["Content-Type"]||jbe(t),e.Accept=e.Accept||Wbe(t),!t.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},Xbe=function(t){var e=rD.getXhr(),i=new H,n=i.promise(),r=O(t.async)?t.async:!0,o=t.dataType,s=t.timeout||0,a;t.crossDomain=Ube(t.url);var l=o==="jsonp"||o==="script";t.cache===void 0&&(t.cache=!l);var d=qbe(t),u=Ybe(t),h=Jbe(t,u),p=h.url,m=h.parameters;if(d&&(KF[d]=function(D){i.resolve(D,R_,e)}),t.crossDomain&&l)return zbe(p).then(function(){o!=="jsonp"&&i.resolve(null,R_,e)},function(){i.reject(e,UF)}),n;if(t.crossDomain&&!("withCredentials"in e))return i.reject(e,UF),n;if(e.open(qF(t),p,r,t.username,t.password),r&&(e.timeout=s,a=Kbe(s,e)),e.onreadystatechange=function(D){e.readyState===4&&(clearTimeout(a),Bbe(e.status)?Vbe(e.status)?Gbe(i,e,o):i.resolve(null,Nbe,e):i.reject(e,e.customStatus||UF))},t.upload&&(e.upload.onprogress=t.upload.onprogress,e.upload.onloadstart=t.upload.onloadstart,e.upload.onabort=t.upload.onabort),t.xhrFields)for(var c in t.xhrFields)e[c]=t.xhrFields[c];t.responseType==="arraybuffer"&&(e.responseType=t.responseType);for(var x in u)Object.prototype.hasOwnProperty.call(u,x)&&O(u[x])&&e.setRequestHeader(x,u[x]);return t.beforeSend&&t.beforeSend(e),e.send(m),n.abort=function(){e.abort()},n},JF=On({sendRequest:Xbe});var Qbe=ld.inherit({ctor:function(t){Array.isArray(t)?t={data:t}:t=t||{},this.callBase(t);var e=t.data;if(e&&!Array.isArray(e))throw ji.Error("E4006");this._array=e||[]},createQuery:function(){return hn(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(t){var e=ad(this,this._array,t);return e===-1?D0(ji.Error("E4009")):Bu(this._array[e])},_insertImpl:function(t){return T_(this,this._array,t)},_pushImpl:function(t){Ts({keyInfo:this,data:this._array,changes:t})},_updateImpl:function(t,e){return I_(this,this._array,t,e)},_removeImpl:function(t){return WF(this,this._array,t)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),cl=Qbe;var Zbe=["items"],oD="canceled",YF=t=>t.state()==="pending",XF=t=>{switch(t.length){case 0:return;case 1:return t[0]}return[].slice.call(t)},e0e=(t,e,i)=>gi(t,n=>{var r=St(n,Zbe);return te({},r,{items:q5(n.items,e-1,i)})}),q5=(t,e,i)=>Array.isArray(t)?e?e0e(t,e,i):gi(t,i):t,J5=(t,e,i)=>{var n=i?fo(i).length:0;return q5(t,n,e)},sD=(t,e)=>{var i;return(i=t)!==null&&i!==void 0&&i.data&&(e=t,t=t.data),Array.isArray(t)||(t=[t]),{data:t,extra:e}},t0e=t=>{var e={};return F(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=t[this],delete t[this]}),new Oh(e)},i0e=t=>{var e=t.type;return delete t.type,ld.create(e,t)},n0e=(t,e)=>new Oh({load:()=>JF.sendRequest({url:t,dataType:"json"}),loadMode:e?.fromUrlLoadMode}),Ms=(t,e)=>{var i;return typeof t=="string"&&(t={paginate:!1,store:n0e(t,e)}),t===void 0&&(t=[]),Array.isArray(t)||t instanceof ld?t={store:t}:t=y({},t),t.store===void 0&&(t.store=[]),i=t.store,"load"in t?i=t0e(t):Array.isArray(i)?i=new cl(i):Ve(i)&&(i=i0e(y({},i))),t.store=i,t};var aD=class{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(oD),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}};var Lr=ot.inherit({ctor(t){var e;t=Ms(t),this._eventsStrategy=new vs(this,{syncStrategy:!0}),this._store=t.store,this._changedTime=0;var i=t.pushAggregationTimeout!==0;if(i){var n=t.pushAggregationTimeout===void 0?()=>5*this._changedTime:t.pushAggregationTimeout,r,o,s=l3(a=>{r.resolve();var l=ye(...o);l.done(()=>this._onPush(a)),o=void 0,r=void 0},n);this._onPushHandler=a=>{this._aggregationTimeoutId=s(a.changes),r||(r=new H),o=a.waitFor,a.waitFor.push(r.promise())},this._store.on("beforePushAggregation",this._onPushHandler)}else this._onPushHandler=a=>this._onPush(a),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=t.pageIndex!==void 0?t.pageIndex:0,this._pageSize=t.pageSize!==void 0?t.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._reshapeOnPush=(e=t.reshapeOnPush)!==null&&e!==void 0?e:!1,F(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(a,l)=>{l in t&&this.on(l.substr(2,1).toLowerCase()+l.substr(3),t[l])}),this._operationManager=new aD,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,O(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var t;this._store.off("beforePushAggregation",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(t=this._delayedLoadTask)===null||t===void 0||t.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(t){var e={},i=["sort","filter","langParams","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(i=i.concat(n)),F(i,function(){e[this]=t[this]}),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(t){if(!It(t))return this._pageIndex;this._pageIndex=t,this._isLastPage=!this._paginate},paginate(t){if(!hu(t))return this._paginate;this._paginate!==t&&(this._paginate=t,this.pageIndex(0))},pageSize(t){if(!It(t))return this._pageSize;this._pageSize=t},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(t){return e=>{var i=XF(e);if(i===void 0)return this._storeLoadOptions[t];this._storeLoadOptions[t]=i}},sort(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){var t=XF(arguments);if(t===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=t,this.pageIndex(0)},group(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(t){if(!hu(t))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=t},searchValue(t){if(arguments.length<1)return this._searchValue;this._searchValue=t,this.pageIndex(0)},searchOperation(t){if(!Se(t))return this._searchOperation;this._searchOperation=t,this.pageIndex(0)},searchExpr(t){var e=arguments.length;if(e===0)return this._searchExpr;e>1&&(t=[].slice.call(arguments)),this._searchExpr=t,this.pageIndex(0)},store(){return this._store},key(){var t;return(t=this._store)===null||t===void 0?void 0:t.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>GF(),_changeLoadingCount(t){var e=this.isLoading();this._loadingCount+=t;var i=this.isLoading();e^i&&this._eventsStrategy.fireEvent("loadingChanged",[i])},_scheduleLoadCallbacks(t){this.beginLoading(),t.always(()=>{this.endLoading()})},_scheduleFailCallbacks(t){var e=this;t.fail(function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];n[0]!==oD&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(t){var e=new Date;this._eventsStrategy.fireEvent("changed",t),this._changedTime=new Date-e},_scheduleChangedCallbacks(t){t.done(()=>this._fireChanged())},loadSingle(t,e){var i=new H,n=this.key(),r=this._store,o=this._createStoreLoadOptions();return this._scheduleFailCallbacks(i),arguments.length<2&&(e=t,t=n),delete o.skip,delete o.group,delete o.refresh,delete o.pageIndex,delete o.searchString,(t===n||r instanceof Oh&&!r._byKeyViaLoad()?r.byKey(e,o):(o.take=1,o.filter=o.filter?[o.filter,[t,e]]:[t,e],r.load(o))).fail(i.reject).done(s=>{var a=Array.isArray(s)&&!s.length;!O(s)||a?i.reject(new ji.Error("E4009")):(Array.isArray(s)||(s=[s]),i.resolve(this._applyMapFunction(s)[0]))}),i.promise()},load(){var t=new H,e=()=>{if(!this._disposed&&YF(t))return this._loadFromStore(i,t)};this._scheduleLoadCallbacks(t),this._scheduleFailCallbacks(t),this._scheduleChangedCallbacks(t);var i=this._createLoadOperation(t);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[i]),this._loadQueue.add(()=>(typeof i.delay=="number"?this._delayedLoadTask=uf(e,i.delay):e(),t.promise())),t.promise({operationId:i.operationId})},_onPush(t){if(this._reshapeOnPush)this.load();else{var e={changes:t};this._eventsStrategy.fireEvent("changing",[e]);var i=this.group(),n=this.items(),r=0,o=this.paginate()||i?t.filter(s=>s.type==="update"):t;i&&(r=Array.isArray(i)?i.length:1),this._mapFunc&&o.forEach(s=>{s.type==="insert"&&(s.data=this._mapFunc(s.data))}),e.postProcessChanges&&(o=e.postProcessChanges(o)),Ts({keyInfo:this.store(),data:n,changes:o,groupCount:r,useInsertIndex:!0}),this._fireChanged([{changes:t}])}},_createLoadOperation(t){var e=this._operationManager.add(t),i=this._createStoreLoadOptions();return this._store&&!Zi(i?.langParams)&&(this._store._langParams=te({},this._store._langParams,i.langParams)),t.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:i}},reload(){var t=this.store();return t._clearCache(),this._init(),this.load()},cancel(t){return this._operationManager.cancel(t)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(t){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(t):(t.searchOperation=this._searchOperation,t.searchValue=this._searchValue,t.searchExpr=this._searchExpr))},_createStoreLoadOptions(){var t=y({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter(t){var e=this._searchValue,i=this._searchOperation,n=this._searchExpr,r=[];e&&(n||(n="this"),Array.isArray(n)||(n=[n]),F(n,function(o,s){r.length&&r.push("or"),r.push([s,i,e])}),t.filter?t.filter=[r,t.filter]:t.filter=r)},_loadFromStore(t,e){var i=(n,r)=>{if(!this._disposed&&YF(e)){var o=y(sD(n,r),t);this._eventsStrategy.fireEvent("customizeLoadResult",[o]),ye(o.data).done(s=>{o.data=s,this._processStoreLoadResult(o,e)}).fail(e.reject)}};return t.data?new H().resolve(t.data).done(i):this.store().load(t.storeLoadOptions).done(i).fail(e.reject)},_processStoreLoadResult(t,e){var i=t.data,n=t.extra,r=t.storeLoadOptions,o=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(i,n));this._disposed||(i=this._applyPostProcessFunction(this._applyMapFunction(i)),ke(n)||(n={}),this._items=i,(!i.length||!this._paginate||this._pageSize&&i.length<this._pageSize)&&(this._isLastPage=!0),r.requireTotalCount&&!isFinite(n.totalCount)?this.store().totalCount(r).done(function(s){n.totalCount=s,o()}).fail(e.reject):o())},_applyMapFunction(t){return this._mapFunc?J5(t,this._mapFunc,this.group()):t},_applyPostProcessFunction(t){return this._postProcessFunc?this._postProcessFunc(t):t},on(t,e){return this._eventsStrategy.on(t,e),this},off(t,e){return this._eventsStrategy.off(t,e),this}});var r0e={load:()=>H().reject(),loadSingle:()=>H().reject(),loadFromStore:()=>H().reject(),loadNextPage:()=>H().reject(),loadOptions:W,userData:W,cancel:W,cancelAll:W,filter:W,addSearchFilter:W,group:W,paginate:W,pageSize:W,pageIndex:W,resetDataSourcePageIndex:W,totalCount:W,isLastPage:W,isLoading:W,isLoaded:W,searchValue:W,searchOperation:W,searchExpr:W,select:W,key:W,keyOf:W,store:W,items:W,applyMapFunction:W,getDataSource:W,reload:W,on:W,off:W},QF=class{constructor(e){if(!e)return r0e;this._dataSource=e}load(){return this._dataSource.load()}loadSingle(e,i){return arguments.length<2&&(i=e,e=this.key()),this._dataSource.loadSingle(e,i)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return this._dataSource.pageIndex(e)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return arguments.length?this._dataSource.searchValue(e):this._dataSource.searchValue()}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return arguments.length?this._dataSource.searchExpr(e):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(e,i){this._dataSource.on(e,i)}off(e,i){this._dataSource.off(e,i)}},Y5=QF;var X5="_dataSourceOptions",Q5="_dataSourceChangedHandler",Z5="_dataSourceLoadErrorHandler",eq="_dataSourceLoadingChangedHandler",tq="_dataSourceFromUrlLoadMode",iq="_getSpecificDataSourceOption",nq="_normalizeDataSource",o0e={postCtor:function(){this.on("disposing",(function(){this._disposeDataSource()}).bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var t=iq in this?this[iq]():this.option("dataSource"),e,i;this._disposeDataSource(),t&&(t instanceof Lr?(this._isSharedDataSource=!0,this._dataSource=t):(e=X5 in this?this[X5]():{},i=this._dataSourceType?this._dataSourceType():Lr,t=Ms(t,{fromUrlLoadMode:tq in this&&this[tq]()}),this._dataSource=new i(y(!0,{},e,t))),nq in this&&(this._dataSource=this[nq](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController:function(){var t,e=(t=this.option)===null||t===void 0?void 0:t.call(this,"_dataController"),i=this._dataSource;e?this._dataController=e:this._dataController=new Y5(i)},_addDataSourceHandlers:function(){Q5 in this&&this._addDataSourceChangeHandler(),Z5 in this&&this._addDataSourceLoadErrorHandler(),eq in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this.readyWatcher=(function(t){this._ready&&this._ready(!t)}).bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=(function(e){this[Q5](t.items(),e)}).bind(this),t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this[Z5].bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this[eq].bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){var t=this._dataSource;t&&(t.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():t.load())},_loadSingle:function(t,e){return t=t==="this"?this._dataSource.key()||"this":t,this._dataSource.loadSingle(t,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},$u=o0e;var rq=Math.abs,ZF="dxhold",s0e=750,oq=5,a0e=Eu.inherit({start:function(t){this._startEventData=Bi(t),this._startTimer(t)},_startTimer:function(t){var e="timeout"in this?this.timeout:s0e;this._holdTimer=setTimeout((function(){this._requestAccept(t),this._fireEvent(ZF,t,{target:t.target}),this._forgetAccept()}).bind(this),e)},move:function(t){this._touchWasMoved(t)&&this._cancel(t)},_touchWasMoved:function(t){var e=el(this._startEventData,Bi(t));return rq(e.x)>oq||rq(e.y)>oq},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});bs({emitter:a0e,bubble:!0,events:[ZF]});var _o={name:ZF};var eP="dxContexMenu",l0e=ne("contextmenu",eP),d0e=ne(_o.name,eP),tP="dxcontextmenu",u0e=ot.inherit({setup:function(t){var e=g(t);S.on(e,l0e,this._contextMenuHandler.bind(this)),(_s||be.isSimulator())&&S.on(e,d0e,this._holdHandler.bind(this))},_holdHandler:function(t){Po(t)&&!be.isSimulator()||this._fireContextMenu(t)},_contextMenuHandler:function(t){this._fireContextMenu(t)},_fireContextMenu:function(t){return Jr({type:tP,originalEvent:t})},teardown:function(t){S.off(t,"."+eP)}});mr(tP,new u0e);var lD=tP;var c0e=function(t,e,i,n,r){var o,s=((a,l,d)=>l(()=>a,d))(t,e,function(a){if(o&&o(),pu(a)){r(a);return}o=function(l,d,u,h,p){var m={},c=u.slice(),x=u.map(function(D){var T=h[D];return d(T?()=>T(l):()=>l[D],function(N){if(m[D]=N,c.length){var G=c.indexOf(D);G>=0&&c.splice(G,1)}c.length||p(m)})});return function(){x.forEach(D=>D())}}(a,e,i,n,r)});return function(){o&&o(),s&&s()}},Er=class extends po{constructor(e,i,n,r){super(),this._render=e,this._fields=i,this._fieldsMap=r||{},this._watchMethod=n}_renderCore(e){var i=g(e.container),n=c0e(e.model,this._watchMethod,this._fields,this._fieldsMap,r=>{i.empty(),this._render(i,r,e.model)});return S.on(i,xn,n),i.contents()}};var h0e="dx-collection",dD="dx-item",sq="-content",aq="dx-item-content-placeholder",p0e="dxItemData",f0e="dxItemIndex",g0e="tmpl-",m0e="dxItem",v0e="dx-item-selected",_0e="dx-item-response-wait",C0e="dx-empty-collection",lq="dx-template-wrapper",x0e=/^([^.]+\[\d+\]\.)+([\w.]+)$/,y0e="item",iP="up",nP="down",dq="left",uq="right",b0e="pageup",D0e="pagedown",cq="last",hq="first",pq=Ci.inherit({_activeStateUnit:"."+dD,_supportedKeys:function(){var t=function(e,i){Wi(i)||(i.preventDefault(),i.stopPropagation(),this._moveFocus(e,i))};return y(this.callBase(),{space:function(e){e.preventDefault(),this._enterKeyHandler(e)},enter:this._enterKeyHandler,leftArrow:t.bind(this,dq),rightArrow:t.bind(this,uq),upArrow:t.bind(this,iP),downArrow:t.bind(this,nP),pageUp:t.bind(this,iP),pageDown:t.bind(this,nP),home:t.bind(this,hq),end:t.bind(this,cq)})},_enterKeyHandler:function(t){var e=g(this.option("focusedElement"));if(e.length){var i=this._getItemData(e);i!=null&&i.onClick&&this._itemEventHandlerByHandler(e,i.onClick,{event:t}),this._itemClickHandler(y({},t,{target:e.get(0),currentTarget:e.get(0)}))}},_getDefaultOptions:function(){return y(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:j.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:function(t){return t?t.disabled:void 0},visibleExpr:function(t){return t?t.visible:void 0}})},_init:function(){this._compileDisplayGetter(),this._initDataController(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter:function(){var t=this.option("displayExpr");this._displayGetter=t?Tt(this.option("displayExpr")):void 0},_initTemplates:function(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:function(){return y0e},_initDefaultItemTemplate:function(){var t=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new Er((function(e,i){Ve(i)?this._prepareDefaultItemTemplate(i,e):(t&&ce(t.text)&&(i=t.text(i)),e.text(String(Qt(i,""))))}).bind(this),this._getBindableFields(),this.option("integrationOptions.watchMethod"),t)})},_getBindableFields:function(){return["text","html"]},_getFieldsMap:function(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate:function(t,e){O(t.text)&&e.text(t.text),O(t.html)&&e.html(t.html)},_initItemsFromMarkup:function(){var t=qb(this.$element(),m0e);if(!(!t.length||this.option("items").length)){var e=t.map(i=>{var{element:n,options:r}=i,o=/\S/.test(n.innerHTML)&&!r.template;return o?r.template=this._prepareItemTemplate(n):g(n).remove(),r});this.option("items",e)}},_prepareItemTemplate:function(t){var e=g0e+new kt,i=g(t).detach().clone().removeAttr("data-options").addClass(lq);return this._saveTemplate(e,i),e},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.$element()},_focusInHandler:function(t){if(this.callBase.apply(this,arguments),!!this._isFocusTarget(t.target)){var e=g(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{var i=this._getActiveItem();i.length&&this.option("focusedElement",Pe(i))}}},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=g(this.option("focusedElement"));this._updateFocusedItemState(t,!1)},_findActiveTarget(t){return t.find(this._activeStateUnit)},_getActiveItem:function(t){var e=g(this.option("focusedElement"));if(e.length)return e;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,n=this._getActiveElement(),r=n.length-1;return i<0&&(i=t?r:0),n.eq(i)},_moveFocus:function(t){var e=this._getAvailableItems(),i;switch(t){case b0e:case iP:i=this._prevItem(e);break;case D0e:case nP:i=this._nextItem(e);break;case uq:i=this.option("rtlEnabled")?this._prevItem(e):this._nextItem(e);break;case dq:i=this.option("rtlEnabled")?this._nextItem(e):this._prevItem(e);break;case hq:i=e.first();break;case cq:i=e.last();break;default:return!1}i.length!==0&&this.option("focusedElement",Pe(i))},_getVisibleItems:function(t){return t=t||this._itemElements(),t.filter(":visible")},_getAvailableItems:function(t){return this._getVisibleItems(t)},_prevItem:function(t){var e=this._getActiveItem(),i=t.index(e),n=t.last(),r=g(t[i-1]),o=this.option("loopItemFocus");return r.length===0&&o&&(r=n),r},_nextItem:function(t){var e=this._getActiveItem(!0),i=t.index(e),n=t.first(),r=g(t[i+1]),o=this.option("loopItemFocus");return r.length===0&&o&&(r=n),r},_selectFocusedItem:function(t){this.selectItem(t)},_updateFocusedItemState:function(t,e,i){var n=g(t);n.length&&(this._refreshActiveDescendant(),this._refreshItemId(n,i),this._toggleFocusClass(e,n)),this._updateParentActiveDescendant()},_refreshActiveDescendant:function(t){this.setAria("activedescendant",O(this.option("focusedElement"))?this.getFocusedItemId():null,t)},_refreshItemId:function(t,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),t):this.setAria("id",null,t)},_isDisabled:t=>t&&g(t).attr("aria-disabled")==="true",_setFocusedItem:function(t){if(!(!t||!t.length)){this._updateFocusedItemState(t,!0),this.onFocusedItemChanged(this.getFocusedItemId());var{selectOnFocus:e}=this.option(),i=this._isDisabled(t);e&&!i&&this._selectFocusedItem(t)}},_findItemElementByItem:function(t){var e=g(),i=this;return this.itemElements().each(function(){var n=g(this);if(n.data(i._itemDataKey())===t)return e=n,!1}),e},_getIndexByItem:function(t){return this.option("items").indexOf(t)},_itemOptionChanged:function(t,e,i,n){var r=this._findItemElementByItem(t);if(r.length){this.constructor.ItemClass.getInstance(r).setDataField(e,i)||this._refreshItem(r,t);var o=e==="disabled"&&i;o&&this._resetItemFocus(r)}},_resetItemFocus(t){t.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem:function(t){var e=this._getItemData(t),i=t.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+i,e,null,t)},_updateParentActiveDescendant:W,_optionChanged:function(t){if(t.name==="items"){var e=t.fullName.match(x0e);if(e&&e.length){var i=e[e.length-1],n=t.fullName.replace("."+i,""),r=this.option(n);this._itemOptionChanged(r,i,t.value,t.previousValue);return}}switch(t.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._updateFocusedItemState(t.previousValue,!1,!0),this._setFocusedItem(g(t.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;case"visibleExpr":case"disabledExpr":this._invalidate();break;default:this.callBase(t)}},_invalidate:function(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage:function(){return this._expectNextPageLoading(),this._dataController.loadNextPage()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=e.concat(t.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",t.slice())},_refreshContent:function(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()},_cleanItemContainer:function(){g(this._itemContainer()).empty()},_dispose:function(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.$element()},_itemClass:function(){return dD},_itemContentClass:function(){return this._itemClass()+sq},_selectedItemClass:function(){return v0e},_itemResponseWaitClass:function(){return _0e},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return p0e},_itemIndexKey:function(){return f0e},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_initMarkup:function(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass(h0e),this._prepareContent()},_prepareContent:qa(function(){this._renderContentImpl()}),_renderContent:function(){this._fireContentReadyAction()},_render:function(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_getPointerEvent:()=>nt.down,_attachClickEvent(){var t=this._itemSelector(),e=this._getPointerEvent(),i=ne(lt,this.NAME),n=ne(e,this.NAME),r=new pa(o=>{var{event:s}=o;this._itemPointerDownHandler(s)});S.off(this._itemContainer(),i,t),S.off(this._itemContainer(),n,t),S.on(this._itemContainer(),i,t,o=>this._itemClickHandler(o)),S.on(this._itemContainer(),n,t,o=>{r.execute({element:g(o.target),event:o})})},_itemClickHandler:function(t,e,i){this._itemDXEventHandler(t,"onItemClick",e,i)},_itemPointerDownHandler:function(t){this.option("focusStateEnabled")&&(this._itemFocusHandler=(function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,!t.isDefaultPrevented()){var e=g(t.target),i=e.closest(this._itemElements()),n=this._closestFocusable(e);i.length&&this._isFocusTarget(n?.get(0))&&this.option("focusedElement",Pe(i))}}).bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable:function(t){if(t.is(fv))return t;for(t=t.parent();t.length&&!ie.isDocument(t.get(0))&&!ie.isDocumentFragment(t.get(0));){if(t.is(fv))return t;t=t.parent()}},_forcePointerDownFocus:function(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState:function(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),i=ne(_o.name,this.NAME);S.off(t,i,e),S.on(t,i,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent:function(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler:function(t){this._shouldFireHoldEvent()?this._itemDXEventHandler(t,"onItemHold"):t.cancel=!0},_attachContextMenuEvent:function(){var t=this._itemContainer(),e=this._itemSelector(),i=ne(lD,this.NAME);S.off(t,i,e),S.on(t,i,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent:function(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler:function(t){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(t,"onItemContextMenu"):t.cancel=!0},_renderContentImpl:function(){var t=this.option("items")||[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)},_renderItems:function(t){t.length&&F(t,(function(e,i){this._renderItem(this._renderedItemsCount+e,i)}).bind(this)),this._renderEmptyMessage()},_getItemsContainer:function(){return this._itemContainer()},_setAttributes(t){var e=te({},this.option("_itemAttributes")),{class:i}=e;if(i){var n=t.get(0).className;e.class=[n,i].join(" ")}t.attr(e)},_renderItem:function(t,e,i,n){var r,o=(r=t?.item)!==null&&r!==void 0?r:t;i=i||this._getItemsContainer();var s=this._renderItemFrame(o,e,i,n);this._setElementData(s,e,o),this._setAttributes(s),this._attachItemClickEvent(e,s);var a=this._getItemContent(s),l=this._renderItemContent({index:o,itemData:e,container:Pe(a),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),d=this;return ye(l).done(function(u){d._postprocessRenderItem({itemElement:s,itemContent:u,itemData:e,itemIndex:o}),d._executeItemRenderAction(t,e,Pe(s))}),s},_getItemContent:function(t){var e=t.find("."+aq);return e.removeClass(aq),e},_attachItemClickEvent:function(t,e){!t||!t.onClick||S.on(e,lt,(function(i){this._itemEventHandlerByHandler(e,t.onClick,{event:i})}).bind(this))},_renderItemContent:function(t){var e=this._getItemTemplateName(t),i=this._getTemplate(e);this._addItemContentClasses(t);var n=g(this._createItemByTemplate(i,t));return n.hasClass(lq)?this._renderItemContentByNode(t,n):t.container},_renderItemContentByNode:function(t,e){return g(t.container).replaceWith(e),t.container=Pe(e),this._addItemContentClasses(t),e},_addItemContentClasses:function(t){var e=[dD+sq,t.contentClass];g(t.container).addClass(e.join(" "))},_appendItemToContainer:function(t,e,i){e.appendTo(t)},_renderItemFrame:function(t,e,i,n){var r=g("<div>");if(new this.constructor.ItemClass(r,this._itemOptions(),e||{}),n&&n.length?n.replaceWith(r):this._appendItemToContainer.call(this,i,r,t),this.option("useItemTextAsTitle")){var o=this._displayGetter?this._displayGetter(e):e;r.attr("title",o)}return r},_itemOptions:function(){var t=this;return{watchMethod:function(){return t.option("integrationOptions.watchMethod")},owner:t,fieldGetter:function(e){var i=t.option(e+"Expr"),n=Tt(i);return n}}},_postprocessRenderItem:W,_executeItemRenderAction:function(t,e,i){this._getItemRenderAction()({itemElement:i,itemIndex:t,itemData:e})},_setElementData:function(t,e,i){t.addClass([dD,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),i)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(t){var e=t.itemData,i=t.templateProperty||this.option("itemTemplateProperty"),n=e&&e[i];return n||t.defaultTemplateName},_createItemByTemplate:function(t,e){return t.render({model:e.itemData,container:e.container,index:e.index,onRendered:this._onItemTemplateRendered(t,e)})},_onItemTemplateRendered:function(){return W},_emptyMessageContainer:function(){return this._itemContainer()},_renderEmptyMessage:function(t){t=t||this.option("items");var e=this.option("noDataText"),i=!e||t&&t.length||this._dataController.isLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData||g("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(e):this._$noData.html(e)),this.$element().toggleClass(C0e,!i)},_itemDXEventHandler:function(t,e,i,n){this._itemEventHandler(t.target,e,y(i,{event:t}),n)},_itemEventHandler:function(t,e,i,n){var r=this._createActionByOption(e,y({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,r,i)},_itemEventHandlerByHandler:function(t,e,i,n){var r=this._createAction(e,y({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(t,r,i)},_itemEventHandlerImpl:function(t,e,i){var n=this._closestItemElement(g(t)),r=y({},i);return e(y(i,this._extendActionArgs(n),r))},_extendActionArgs:function(t){return{itemElement:Pe(t),itemIndex:this._itemElements().index(t),itemData:this._getItemData(t)}},_closestItemElement:function(t){return g(t).closest(this._itemSelector())},_getItemData:function(t){return g(t).data(this._itemDataKey())},_getSummaryItemsSize(t,e,i){var n=0;return e&&F(e,function(r,o){t==="width"?n+=it(o,i||!1):t==="height"&&(n+=et(o,i||!1))}),n},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId="dx-"+new kt),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include($u);pq.ItemClass=ws;var fq=pq;var ig=class{constructor(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(e,i){this.options[e]=i}onSelectionChanged(){var e=this.options.addedItemKeys,i=this.options.removedItemKeys,n=this.options.addedItems,r=this.options.removedItems,o=this.options.selectedItems,s=this.options.selectedItemKeys,a=this.options.onSelectionChanged||W;this._clearItemKeys(),a({selectedItems:o,selectedItemKeys:s,addedItemKeys:e,removedItemKeys:i,addedItems:n,removedItems:r})}equalKeys(e,i){return this.options.equalByReference&&ke(e)&&ke(i)?e===i:Rt(e,i)}getSelectableItems(e){return e.filter(function(i){return!(i!=null&&i.disabled)})}_clearSelection(e,i,n,r){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,i,n,r)}_removeTemplateProperty(e){return Array.isArray(e)?e.map(i=>this._removeTemplateProperty(i)):(ke(e)&&delete e.template,e)}_loadFilteredData(e,i,n,r){var o=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,s=this.options.maxFilterLengthInRequest&&o>this.options.maxFilterLengthInRequest,a=new H,l={filter:s?void 0:e,select:s?this.options.dataFields():n||this.options.dataFields()};return e&&e.length===0?a.resolve([]):this.options.load(l).done(function(d){var u=Ve(d)?d.data:d;i&&!r?u=u.filter(i):s&&(u=hn(u).filter(e).toArray()),a.resolve(u)}).fail(a.reject.bind(a)),a}updateSelectedItemKeyHash(e){for(var i=0;i<e.length;i++){var n=Ur(e[i]);if(!ke(n)){this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[];var r=this.options.keyHashIndices[n];r.push(i)}}}_isAnyItemSelected(e){for(var i=0;i<e.length;i++)if(this.options.isItemSelected(e[i]))return;return!1}_getFullSelectAllState(){var e=this.options.plainItems(),i=this.options.filter(),n=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(s=>!(s!=null&&s.disabled));i&&(n=hn(n).filter(i).toArray());var r=n.length,o=e.length-this.getSelectableItems(e).length;if(!r)return this._isAnyItemSelected(e);if(r>=this.options.totalCount()-o)return!0}_getVisibleSelectAllState(){for(var e=this.getSelectableItems(this.options.plainItems()),i=!1,n=!1,r=0;r<e.length;r++){var o=e[r],s=this.options.getItemData(o),a=this.options.keyOf(s);this.options.isSelectableItem(o)&&(this.isItemKeySelected(a)?i=!0:n=!0)}return i?n?void 0:!0:!1}};var uD=class extends ig{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){var e=new H,i=this,n=this.options.key(),r=Se(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,r).done(function(o){var s=o.map(function(a){return i.options.keyOf(a)});e.resolve(s)}).fail(e.reject),e.promise()}selectedItemKeys(e,i,n,r){if(r){var o=this.options.filter(),s=!o||JSON.stringify(o)===JSON.stringify(this.options.selectionFilter)&&n;s?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,o,r)}else{i||this._setOption("selectionFilter",[]);for(var a=0;a<e.length;a++)n?this.removeSelectedItem(e[a]):this.addSelectedItem(e[a],r,!i)}return this.onSelectionChanged(),new H().resolve()}setSelectedItems(e){this._setOption("selectionFilter",null);for(var i=0;i<e.length;i++)this.addSelectedItem(e[i])}isItemDataSelected(e){return this.isItemKeySelected(e)}isItemKeySelected(e){var i=this.options.selectionFilter;return i?!!hn([e]).filter(i).toArray().length:!0}_getKeyExpr(){var e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e}_normalizeKey(e){var i=this.options.key();return Array.isArray(i)&&i.length===1?e[i[0]]:e}_getFilterByKey(e){var i=this._getKeyExpr(),n=[i,"=",this._normalizeKey(e)];if(Array.isArray(i)){n=[];for(var r=0;r<i.length;r++)n.push([i[r],"=",e[i[r]]]),r!==i.length-1&&n.push("and")}return n}addSelectedItem(e,i,n){var r=this._getFilterByKey(e);this._addSelectionFilter(!1,r,i,n)}removeSelectedItem(e){var i=this._getFilterByKey(e);this._addSelectionFilter(!0,i)}validate(){var e=this.options.key;if(e&&e()===void 0)throw Ke.Error("E1042","Deferred selection")}_findSubFilter(e,i){if(!e)return-1;for(var n=JSON.stringify(i),r=0;r<e.length;r++){var o=e[r];if(o&&JSON.stringify(o)===n)return r}return-1}_isLastSubFilter(e,i){return e&&i?this._findSubFilter(e,i)===e.length-1||this._findSubFilter([e],i)===0:!1}_addFilterOperator(e,i){return e.length>1&&Se(e[1])&&e[1]!==i&&(e=[e]),e.length&&e.push(i),e}_denormalizeFilter(e){return e&&Se(e[0])&&(e=[e]),e}_isOnlyNegativeFiltersLeft(e){return e.every((i,n)=>n%2===0?Array.isArray(i)&&i[0]==="!":i==="and")}_addSelectionFilter(e,i,n,r){var o,s=e?["!",i]:i,a=e?"and":"or",l=!0,d=this.options.selectionFilter||[];if(d=this._denormalizeFilter(d),(o=d)!==null&&o!==void 0&&o.length&&!r){var u=this._removeSameFilter(d,i,e,n),h=this._removeSameFilter(d,i,!e),p=e&&(u!==-1||h!==-1)&&this._isOnlyNegativeFiltersLeft(d);p&&(d=[]);var m=this._isKeyFilter(i)&&this._hasKeyFiltersOnlyStartingFromIndex(d,h);l=i.length&&!m}l&&(d=this._addFilterOperator(d,a),d.push(s)),d=this._normalizeFilter(d),this._setOption("selectionFilter",!e&&!d.length?null:d)}_normalizeFilter(e){return e&&e.length===1&&(e=e[0]),e}_removeFilterByIndex(e,i,n){var r=e[1];i>0?e.splice(i-1,2):e.splice(i,2),n&&r==="and"&&e.splice(0,e.length)}_isSimpleKeyFilter(e,i){return e.length===3&&e[0]===i&&e[1]==="="}_isKeyFilter(e){if(e.length===2&&e[0]==="!")return this._isKeyFilter(e[1]);var i=this._getKeyExpr();if(Array.isArray(i)){if(e.length!==2*i.length-1)return!1;for(var n=0;n<i.length;n++)if(n>0&&e[2*n-1]!=="and"||!this._isSimpleKeyFilter(e[2*n],i[n]))return!1;return!0}return this._isSimpleKeyFilter(e,i)}_hasKeyFiltersOnlyStartingFromIndex(e,i){if(i>=0){for(var n=i;n<e.length;n++)if(typeof e[n]!="string"&&!this._isKeyFilter(e[n]))return!1;return!0}return!1}_removeSameFilter(e,i,n,r){if(i=n?["!",i]:i,JSON.stringify(i)===JSON.stringify(e))return e.splice(0,e.length),0;var o=this._findSubFilter(e,i);if(o>=0)return this._removeFilterByIndex(e,o,r),o;for(var s=0;s<e.length;s++)if(Array.isArray(e[s])&&e[s].length>2){var a=this._removeSameFilter(e[s],i,!1,r);if(a>=0)return e[s].length?e[s].length===1&&(e[s]=e[s][0]):this._removeFilterByIndex(e,s,r),a}return-1}getSelectAllState(){var e=this.options.filter(),i=this.options.selectionFilter;if(!i)return!0;if(!i.length)return!1;if(!(!e||!e.length)){if(i=this._denormalizeFilter(i),this._isLastSubFilter(i,e))return!0;if(this._isLastSubFilter(i,["!",e]))return!1}}loadSelectedItemsWithFilter(){var e=this.options.filter(),i=this.options.selectionFilter,n=e?[e,"and",i]:i;return this._loadFilteredData(n)}};var cD=function(t,e){var i=e(t);if(ke(i))try{return JSON.stringify(i)}catch{return i}return i},O0e=function(t,e,i,n){var r=cD(t,n);return e[i[r]]},gq=function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0},hD=function(t,e,i,n){var r={},o={},s=0,a=0,l=[];t.forEach(function(N,G){var U=cD(N,i);r[U]=G}),e.forEach(function(N,G){var U=cD(N,i);o[U]=G});for(var d=Math.max(t.length,e.length),u=0;u<d+s;u++){var h=e[u],p=u-s+a,m=t[p],c=!h||m&&!O0e(m,e,o,i);if(c)m&&(l.push({type:"remove",key:i(m),index:u,oldItem:m}),a++,u--);else{var x=cD(h,i),D=r[x],T=t[D];if(!T)s++,l.push({type:"insert",data:h,index:u});else if(D===p)n(T,h)||l.push({type:"update",data:h,key:i(h),index:u,oldItem:T});else return}}return l};var rP=function(t,e){this.getLocalFilter=function(s,a,l,d){return a=a===void 0?Rt:a,r.bind(this,a,s,l,d)},this.getExpr=function(s){if(s){var a;return t.forEach(function(l,d){a=a||[];var u;d>0&&a.push(e?"and":"or"),Se(s)?u=o(s,l):u=function(h,p){for(var m=[],c=0,x=h.length;c<x;c++){var D=h[c],T=p&&p[D],N=o(D,T);if(!N)break;c>0&&m.push(e?"or":"and"),m.push(N)}return m}(s,l),a.push(u)}),a&&a.length===1&&(a=a[0]),a}},this.getCombinedFilter=function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this.getExpr(s),u=d;return(l||e)&&a&&(d?(u=[],u.push(d),u.push(a)):u=a),u};var i,n=function(s,a,l){return Array.isArray(l)?s.map(d=>a(d)):s};function r(s,a,l,d,u){var h=a(u),p,m;if(!l&&(p=Ur(h),!ke(p))){var c=function(x,D){if(!i){i={};for(var T=n(t,x,D),N=0;N<T.length;N++)i[Ur(T[N])]=!0}return i}(a,d);return c[p]?!e:!!e}for(m=0;m<t.length;m++)if(s(t[m],h))return!e;return!!e}function o(s,a){if(a!==void 0)return[s,e?"<>":"=",a]}};var pD=class extends ig{constructor(e){super(e),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(e,i){var n=this.options.keyOf,r,o,s;if(n){var a=i&&e.length>1&&!this.options.equalByReference;for(a&&(r={}),s=0;s<e.length;s++){var l=e[s],d=n(l);i?(o=this.removeSelectedItem(d,r,l?.disabled),r&&o>=0&&(r[o]=!0)):this.addSelectedItem(d,l)}a&&this._batchRemoveSelectedItems(r)}}_batchRemoveSelectedItems(e){var i=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(var r=0;r<i.length;r++)e[r]||(this.options.selectedItemKeys.push(i[r]),this.options.selectedItems.push(n[r]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(e,i,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=new H,a=this.options.key();if(!e.length&&!n)return s.resolve([]),s;if(n&&i&&!r)return s.resolve(this.getSelectedItems()),s;var l=new rP(e,n),d=l.getCombinedFilter(a,r,o),u=[];if(i){var h=this.options.selectedItems;u=d&&e.length!==h.length?hn(h).filter(d).toArray():h.slice(0)}var p=u.length?u:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),m=l.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,a);return p=p.filter(m),u.length||!n&&p.length===e.length?s.resolve(p):s=this._loadFilteredData(d,m,null,n),s}_replaceSelectionUpdate(e){var i=[],n=this.options.keyOf;if(n){for(var r=0;r<e.length;r++){var o=e[r],s=n(o);i.push(s)}this.setSelectedItems(i,e)}}_warnOnIncorrectKeys(e){for(var i=this.options.allowNullValue,n=0;n<e.length;n++){var r=e[n];(!i||r!==null)&&!this.isItemKeySelected(r)&&Ke.log("W1002",r)}}_isMultiSelectEnabled(){var e=this.options.mode;return e==="all"||e==="multiple"}_requestInProgress(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"}_concatRequestsItems(e,i,n,r){var o,s=i?e:[];return r?o=r:o=eA(e,this.options.selectedItemKeys),{addedItems:n.added.concat(o),removedItems:n.removed.concat(s),keys:e}}_collectLastRequestData(e,i,n,r){var o=i&&n,s={added:[],removed:[]},a=this._isMultiSelectEnabled(),l=a?this._lastRequestData:{};return a&&(this._shouldMergeWithLastRequest&&(o?(this._lastLoadDeferred.reject(),l={}):gq(e,this.options.selectedItemKeys)||(s.added=l.addedItems,s.removed=l.removedItems,i||this._lastLoadDeferred.reject())),l=this._concatRequestsItems(e,i,s,this._shouldMergeWithLastRequest?void 0:r)),l}_updateKeysByLastRequestData(e,i,n){var r=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!i&&!n){var o,s;r=eA(e.concat((o=this._lastRequestData)===null||o===void 0?void 0:o.addedItems),(s=this._lastRequestData)===null||s===void 0?void 0:s.removedItems),r=eU(r)}return r}_loadSelectedItems(e,i,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=this,a=new H,l=s.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,i,n,r),ye(s._lastLoadDeferred).always(function(){var d=s._updateKeysByLastRequestData(e,i,n);s._shouldMergeWithLastRequest=!1,s._loadSelectedItemsCore(d,i,n,l,o).done(a.resolve).fail(a.reject)}),s._lastLoadDeferred=a,a}selectedItemKeys(e,i,n,r,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=this,l=a._loadSelectedItems(e,n,r,o,s);return l.done(function(d){i?a._preserveSelectionUpdate(d,n):a._replaceSelectionUpdate(d),a.onSelectionChanged()}),l}addSelectedItem(e,i){if(O(i)&&!this.options.ignoreDisabledItems&&i.disabled){this.options.disabledItemKeys.indexOf(e)===-1&&this.options.disabledItemKeys.push(e);return}var n=this._getKeyHash(e);this._indexOfSelectedItemKey(n)===-1&&(!ke(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(i),this.options.selectedItems.push(i))}_getSelectedIndexByKey(e,i){for(var n=this.options.selectedItemKeys,r=0;r<n.length;r++)if((!i||!i[r])&&this.equalKeys(n[r],e))return r;return-1}_getSelectedIndexByHash(e,i){var n=this.options.keyHashIndices[e];return n&&n.length>1&&i&&(n=n.filter(function(r){return!i[r]})),n&&n[0]>=0?n[0]:-1}_indexOfSelectedItemKey(e,i){var n;return this.options.equalByReference?n=this.options.selectedItemKeys.indexOf(e):ke(e)?n=this._getSelectedIndexByKey(e,i):n=this._getSelectedIndexByHash(e,i),n}_shiftSelectedKeyIndices(e){for(var i=e;i<this.options.selectedItemKeys.length;i++){var n=this.options.selectedItemKeys[i],r=Ur(n),o=this.options.keyHashIndices[r];if(o)for(var s=0;s<o.length;s++)o[s]>e&&o[s]--}}removeSelectedItem(e,i,n){if(!(!this.options.ignoreDisabledItems&&n)){var r=this._getKeyHash(e),o=!!i,s=this._indexOfSelectedItemKey(r,i);if(s<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[s]),o)||(this.options.selectedItemKeys.splice(s,1),this.options.selectedItems.splice(s,1),ke(r)||!this.options.keyHashIndices))return s;var a=this.options.keyHashIndices[r];return a&&(a.shift(),a.length||delete this.options.keyHashIndices[r],this._shiftSelectedKeyIndices(s)),s}}_updateAddedItemKeys(e,i){for(var n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.addedItemKeys.push(e[n]),this.options.addedItems.push(i[n]))}_updateRemovedItemKeys(e,i,n){for(var r=0;r<i.length;r++)this.isItemKeySelected(i[r])||(this.options.removedItemKeys.push(i[r]),this.options.removedItems.push(n[r]))}_isItemSelectionInProgress(e,i){var n=i&&this._lastRequestData&&this._requestInProgress();if(n){var r,o=(r=this._lastRequestData.addedItems)!==null&&r!==void 0?r:[];return o.includes(e)}else return!1}_getKeyHash(e){return this.options.equalByReference?e:Ur(e)}setSelectedItems(e,i){this._updateAddedItemKeys(e,i);var n=this.options.selectedItemKeys,r=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",i),this._updateRemovedItemKeys(e,n,r)}isItemDataSelected(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.options.keyOf(e);return this.isItemKeySelected(n,i)}isItemKeySelected(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this._isItemSelectionInProgress(e,i.checkPending);if(!n){var r=this._getKeyHash(e),o=this._indexOfSelectedItemKey(r);n=o!==-1}return n}getSelectAllState(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){var e=this.options.key(),i=this.getSelectedItemKeys(),n=this.options.filter();if(!i.length)return H().resolve([]);var r=new rP(i),o=r.getCombinedFilter(e,n,!0);return this._loadFilteredData(o)}};var ng=class{constructor(e){this.options=y(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new uD(this.options):new pD(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:W,key:W,keyOf:function(e){return e},load:function(){return new H().resolve([])},totalCount:function(){return-1},isSelectableItem:function(){return!0},isItemSelected:function(){return!1},getItemData:function(e){return e},dataFields:W,filter:W}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(e){if(e===void 0)return this.options.selectionFilter;var i=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,i&&this.onSelectionChanged()}setSelection(e,i){return this.selectedItemKeys(e,!1,!1,!1,i)}select(e){return this.selectedItemKeys(e,!0)}deselect(e){return this.selectedItemKeys(e,!0,!0)}selectedItemKeys(e,i,n,r,o){var s;return e=(s=e)!==null&&s!==void 0?s:[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,i,n,r,o)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(e,i){this._selectionStrategy.addSelectedItem(i,e)}_removeSelectedItem(e){this._selectionStrategy.removeSelectedItem(e)}_setSelectedItems(e,i){this._selectionStrategy.setSelectedItems(e,i)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(e,i,n){var r,o,s,a=this.options.plainItems(),l=a[e],d,u=(r=(o=this.options).allowLoadByRange)===null||r===void 0?void 0:r.call(o),h,p=!1,m=!1,c=G=>G>=0&&!a.filter(U=>U.loadIndex===G).length;if(u&&O(l)&&(h=l.loadIndex-e,e=l.loadIndex,p=c(this._focusedItemIndex),O(this._shiftFocusedItemIndex)&&(m=c(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(l))return!1;var x=this.options.getItemData(l),D=this.options.keyOf(x);if(i=i||{},i.shift&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)p||m?(s=e!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,s&&(d=this.changeItemSelectionWhenShiftKeyInVirtualPaging(e))):s=this.changeItemSelectionWhenShiftKeyPressed(e,a,h);else if(i.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!n){var T=this._selectionStrategy.isItemDataSelected(x);this.options.mode==="single"&&this.clearSelectedItems(),T?this._removeSelectedItem(D):this._addSelectedItem(x,D)}s=!0}else{this._resetItemSelectionWhenShiftKeyPressed();var N=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],D);(this.options.selectedItemKeys.length!==1||!N)&&(this._setSelectedItems([D],[x]),s=!0)}if(s)return ye(d).done(()=>{this._focusedItemIndex=e,!n&&this.onSelectionChanged()}),!0}isDataItem(e){return this.options.isSelectableItem(e)}isSelectable(){return this.options.mode==="single"||this.options.mode==="multiple"}isItemDataSelected(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})}isItemSelected(e,i){return this._selectionStrategy.isItemKeySelected(e,i)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(e){var i=this.options.getLoadOptions(e,this._focusedItemIndex,this._shiftFocusedItemIndex),n=new H,r=i.skip;return this.options.load(i).done(o=>{this.changeItemSelectionWhenShiftKeyPressed(e,o,r),n.resolve()}),n.promise()}changeItemSelectionWhenShiftKeyPressed(e,i,n){var r=!1,o,s=O(n),a=s?this._focusedItemIndex-n:this._focusedItemIndex,l=this.options.keyOf,d=i[a],u=this.options.getItemData(d),h=l(u),p=d&&this.isItemDataSelected(u);O(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);var m,c,x,D;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(o=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,x=s?this._focusedItemIndex-n:this._focusedItemIndex,D=s?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,a=x;a!==D;a+=o)(s||this.isDataItem(i[a]))&&(c=l(this.options.getItemData(i[a])),this._removeSelectedItem(c),r=!0);if(e!==this._shiftFocusedItemIndex)for(o=e<this._shiftFocusedItemIndex?1:-1,x=s?e-n:e,D=s?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,a=x;a!==D;a+=o)(s||this.isDataItem(i[a]))&&(m=this.options.getItemData(i[a]),c=l(m),this._addSelectedItem(m,c),r=!0);return(s||this.isDataItem(d))&&!p&&(this._addSelectedItem(u,h),r=!0),r}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}_onePageSelectAll(e){for(var i=this._selectionStrategy.getSelectableItems(this.options.plainItems()),n=0;n<i.length;n++){var r=i[n];if(this.isDataItem(r)){var o=this.options.getItemData(r),s=this.options.keyOf(o),a=this.isItemSelected(s);!a&&!e&&this._addSelectedItem(o,s),a&&e&&this._removeSelectedItem(s)}}return this.onSelectionChanged(),new H().resolve()}getSelectAllState(e){return this._selectionStrategy.getSelectAllState(e)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}};var oP="dxItemDeleting",fD=-1,xa=function(t){return t!==fD},E0e=fq.inherit({_setOptionsByReference:function(){this.callBase(),y(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return y(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:fD,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor:function(t,e){this._userOptions=e||{},this.callBase(t,e)},_init:function(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter:function(){this._keyGetter=Tt(this.option("keyExpr"))},_getKeysByItems:function(t){return this._editStrategy.getKeysByItems(t)},_getItemsByKeys:function(t,e){return this._editStrategy.getItemsByKeys(t,e)},_getKeyByIndex:function(t){return this._editStrategy.getKeyByIndex(t)},_getIndexByKey:function(t){return this._editStrategy.getIndexByKey(t)},_getIndexByItemData:function(t){return this._editStrategy.getIndexByItemData(t)},_isKeySpecified:function(){return!!this._dataController.key()},_getCombinedFilter:function(){return this._dataController.filter()},key:function(){return this.option("keyExpr")?this.option("keyExpr"):this._dataController.key()},keyOf:function(t){var e=t;return this.option("keyExpr")?e=this._keyGetter(t):this._dataController.store()&&(e=this._dataController.keyOf(t)),e},_nullValueSelectionSupported:function(){return!1},_initSelectionModule:function(){var t=this,e=t._editStrategy.itemsGetter;this._selection=new ng({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged:function(i){(i.addedItemKeys.length||i.removedItemKeys.length)&&(t.option("selectedItems",t._getItemsByKeys(i.selectedItemKeys,i.selectedItems)),t._updateSelectedItems(i))},filter:t._getCombinedFilter.bind(t),totalCount:function(){var i=t.option("items"),n=t._dataController.totalCount();return n>=0?n:t._getItemsCount(i)},key:t.key.bind(t),keyOf:t.keyOf.bind(t),load:function(i){var n,r=t._dataController;return i.customQueryParams=(n=r.loadOptions())===null||n===void 0?void 0:n.customQueryParams,i.userData=r.userData(),r.store()?r.loadFromStore(i).done(function(o){if(!t._disposed){var s=sD(o).data;r.applyMapFunction(s)}}):new H().resolve(this.plainItems())},dataFields:function(){return t._dataController.select()},plainItems:e.bind(t._editStrategy)})},_getItemsCount:function(t){return t.reduce((e,i)=>e+(i.items?this._getItemsCount(i.items):1),0)},_initEditStrategy:function(){var t=Vf;this._editStrategy=new t(this)},_getSelectedItemIndices:function(t){var e=this,i=[];return t=t||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),F(t,function(n,r){var o=e._getIndexByKey(r);xa(o)&&i.push(o)}),e._editStrategy.endCache(),i},_initMarkup:function(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render:function(){this.callBase(),this._rendering=!1},_fireContentReadyAction:function(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions:function(t){t=t||this._chooseSelectOption();var e,i,n,r;switch(t){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),O(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(r=this.option("selectedItems")||[],i=r.length?this._editStrategy.getIndexByItemData(r[0]):fD,this.option("selectionRequired")&&!xa(i))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",r[0]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(r));break;case"selectedItem":if(e=this.option("selectedItem"),i=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!xa(i))return this._syncSelectionOptions("selectedIndex");O(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",i),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",fD));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){var o=this._getIndexByKey(n[0]);if(!xa(o))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return new H().resolve().promise()},_chooseSelectOption:function(){var t="selectedIndex",e=(function(i){var n=this.option(i),r=O(n)&&n.length;return r||i in this._userOptions}).bind(this);return e("selectedItems")?t="selectedItems":e("selectedItem")?t="selectedItem":e("selectedItemKeys")&&(t="selectedItemKeys"),t},_compareKeys:function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<e.length;i++)if(t[i]!==e[i])return!1;return!0},_normalizeSelectedItems:function(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){var t=this.option("selectedItems");if(t.length>1||!t.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){var e=this._selection.getSelectedItems(),i=t[0]===void 0?e[0]:t[0];return i===void 0&&(i=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&i&&i.items&&(i.items=[i.items[0]]),this._selection.setSelection(this._getKeysByItems([i])),this._setOptionWithoutOptionChange("selectedItems",[i]),this._syncSelectionOptions("selectedItems")}else this._selection.setSelection(this._getKeysByItems(t))}else{var n=this._getKeysByItems(this.option("selectedItems")),r=this._selection.getSelectedItemKeys();this._compareKeys(r,n)||this._selection.setSelection(n)}return new H().resolve().promise()},_itemClickHandler:function(t){var e=new H().resolve(),i=this.callBase;this._createAction((function(n){var r;e=(r=this._itemSelectHandler(n.event))!==null&&r!==void 0?r:e}).bind(this),{validatingTargetName:"itemElement"})({itemElement:g(t.currentTarget),event:t}),e.always(()=>{i.apply(this,arguments)})},_itemSelectHandler:function(t){var e,i;if(this.option("selectByClick")){var n=t.currentTarget;return this.isItemSelected(n)?this.unselectItem(t.currentTarget):i=this.selectItem(t.currentTarget),(e=i)===null||e===void 0?void 0:e.promise()}},_selectedItemElement:function(t){return this._itemElements().eq(t)},_postprocessRenderItem:function(t){if(this.option("selectionMode")!=="none"){var e=g(t.itemElement),i=this._editStrategy.getNormalizedIndex(e),n=this._isItemSelected(i);this._processSelectableItem(e,n)}},_processSelectableItem:function(t,e){t.toggleClass(this._selectedItemClass(),e),this._setAriaSelectionAttribute(t,String(e))},_updateSelectedItems:function(t){var e=this,i=t.addedItemKeys,n=t.removedItemKeys;if(e._rendered&&(i.length||n.length)){var r=e._selectionChangePromise;if(!e._rendering){var o=[],s,a=[];e._editStrategy.beginCache();for(var l=0;l<i.length;l++)s=e._getIndexByKey(i[l]),o.push(s),e._addSelection(s);for(var d=0;d<n.length;d++)s=e._getIndexByKey(n[d]),a.push(s),e._removeSelection(s);e._editStrategy.endCache(),e._updateSelection(o,a)}ye(r).done(function(){e._fireSelectionChangeEvent(t.addedItems,t.removedItems)})}},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_updateSelection:W,_setAriaSelectionAttribute:function(t,e){this.setAria("selected",e,t)},_removeSelection:function(t){var e=this._editStrategy.getItemElement(t);xa(t)&&(this._processSelectableItem(e,!1),S.triggerHandler(e,"stateChanged",!1))},_addSelection:function(t){var e=this._editStrategy.getItemElement(t);xa(t)&&(this._processSelectableItem(e,!0),S.triggerHandler(e,"stateChanged",!0))},_isItemSelected:function(t){var e=this._getKeyByIndex(t);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged:function(t){switch(t.name){case"selectionMode":this._invalidate();break;case"dataSource":(!t.value||Array.isArray(t.value)&&!t.value.length)&&this.option("selectedItemKeys",[]),this.callBase(t);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(t.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(t)}},_clearSelectedItems:function(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare:function(t){if(t.data(oP))return new H().resolve().promise();t.data(oP,!0);var e=new H,i={cancel:!1},n=this._itemEventHandler(t,"onItemDeleting",i,{excludeValidators:["disabled","readOnly"]});return ye(n).always((function(r){var o=!n,s=!o&&n.state()==="resolved",a=!!arguments.length,l=o||s&&!a||s&&r;ye(rn(i.cancel)).always(function(){t.data(oP,!1)}).done(function(d){l&&!d?e.resolve():e.reject()}).fail(e.reject)}).bind(this)),e.promise()},_deleteItemFromDS:function(t){var e=this._dataController,i=new H,n=this.option("disabled"),r=e.store();if(!r)return new H().resolve().promise();if(!r.remove)throw Ke.Error("E1011");return this.option("disabled",!0),r.remove(e.keyOf(this._getItemData(t))).done(function(o){o!==void 0?i.resolve():i.reject()}).fail(function(){i.reject()}),i.always((function(){this.option("disabled",n)}).bind(this)),i},_tryRefreshLastPage:function(){var t=new H;return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done(function(){t.resolve()}),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataController.load()},_updateSelectionAfterDelete:function(t){var e=this._getKeyByIndex(t);this._selection.deselect([e])},_updateIndicesAfterIndex:function(t){for(var e=this._itemElements(),i=t+1;i<e.length;i++)g(e[i]).data(this._itemIndexKey(),i-1)},_simulateOptionChange:function(t){var e=this.option(t);e instanceof Lr||this._optionChangedAction({name:t,fullName:t,value:e})},isItemSelected:function(t){return this._isItemSelected(this._editStrategy.getNormalizedIndex(t))},selectItem:function(t){if(this.option("selectionMode")!=="none"){var e=this._editStrategy.getNormalizedIndex(t);if(xa(e)){var i=this._getKeyByIndex(e);if(!this._selection.isItemSelected(i)){if(this.option("selectionMode")==="single")return this._selection.setSelection([i]);var n=this.option("selectedItemKeys")||[];return this._selection.setSelection([...n,i],[i])}}}},unselectItem:function(t){var e=this._editStrategy.getNormalizedIndex(t);if(xa(e)){var i=this._selection.getSelectedItemKeys();if(!(this.option("selectionRequired")&&i.length<=1)){var n=this._getKeyByIndex(e);this._selection.isItemSelected(n,{checkPending:!0})&&this._selection.deselect([n])}}},_deleteItemElementByIndex:function(t){this._updateSelectionAfterDelete(t),this._updateIndicesAfterIndex(t),this._editStrategy.deleteItemAtIndex(t)},_afterItemElementDeleted:function(t,e){var i=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(i),this._itemEventHandler(t,"onItemDeleted",e,{beforeExecute:function(){t.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem:function(t){var e=this,i=new H,n=this._editStrategy.getItemElement(t),r=this._editStrategy.getNormalizedIndex(t),o=this._itemResponseWaitClass();return xa(r)?this._waitDeletingPrepare(n).done(function(){n.addClass(o);var s=e._extendActionArgs(n);e._deleteItemFromDS(n).done(function(){e._deleteItemElementByIndex(r),e._afterItemElementDeleted(n,s),e._tryRefreshLastPage().done(function(){i.resolveWith(e)})}).fail(function(){n.removeClass(o),i.rejectWith(e)})}).fail(function(){i.rejectWith(e)}):i.rejectWith(e),i.promise()},reorderItem:function(t,e){var i=new H,n=this,r=this._editStrategy,o=r.getItemElement(t),s=r.getItemElement(e),a=r.getNormalizedIndex(t),l=r.getNormalizedIndex(e),d=this._dataController.getDataSource()?"dataSource":"items",u=xa(a)&&xa(l)&&a!==l;return u?i.resolveWith(this):i.rejectWith(this),i.promise().done(function(){s[r.itemPlacementFunc(a,l)](o),r.moveItemAtIndexToIndex(a,l),this._updateIndicesAfterIndex(a),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),d==="items"&&n._simulateOptionChange(d),n._itemEventHandler(o,"onItemReordered",{fromIndex:r.getIndex(a),toIndex:r.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),Sr=E0e;var gD="__dx_key__",rg=Sr.inherit({_getDefaultOptions:function(){return y(this.callBase(),{repaintChangesOnly:!1})},ctor:function(){var t;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=e=>{var i=this._dataController;i.getDataSource()&&!this._dataController.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)},(t=this._dataController)===null||t===void 0||t.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload:function(){this._correctionIndex=0},_init:function(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey:function(t){var e=g(),i=this.key();return this.itemElements().each((n,r)=>{var o=g(r),s=this._getItemData(o);if(i?Zl(i,this.keyOf(s),t):this._isItemEquals(s,t))return e=o,!1}),e},_dataSourceChangedHandler:function(t,e){e!=null&&e.changes?this._modifyByChanges(e.changes):(this.callBase(t,e),this._refreshItemsCache())},_isItemEquals:function(t,e){t&&t[gD]&&(t=t.data);try{return JSON.stringify(t)===JSON.stringify(e)}catch{return t===e}},_isItemStrictEquals:function(t,e){return this._isItemEquals(t,e)},_shouldAddNewGroup:function(t,e){var i=!1;return this.option("grouped")&&(t.length||(i=!0),F(t,(n,r)=>{r.type==="insert"&&(i=!0,F(e,(o,s)=>{if(r.data.key!==void 0&&r.data.key===s.key)return i=!1,!1}))})),i},_partialRefresh:function(){if(this.option("repaintChangesOnly")){var t=hD(this._itemsCache,this._editStrategy.itemsGetter(),e=>e&&e[gD]!==void 0?e[gD]:this.keyOf(e),this._isItemStrictEquals.bind(this));if(t&&this._itemsCache.length&&!this._shouldAddNewGroup(t,this._itemsCache))return this._modifyByChanges(t,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache:function(){if(this.option("repaintChangesOnly")){var t=this._editStrategy.itemsGetter();try{this._itemsCache=y(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((e,i)=>({[gD]:t[i],data:e})))}catch{this._itemsCache=y([],t)}}},_dispose:function(){this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange:function(t,e,i,n){if(n)this._renderItem(i.index,i.data,null,this._findItemElementByKey(i.key));else{var r=e[ad(t,e,i.key)];r&&I_(t,e,i.key,i.data).done(()=>{this._renderItem(e.indexOf(r),r,null,this._findItemElementByKey(i.key))})}},_insertByChange:function(t,e,i,n){ye(n||T_(t,e,i.data,i.index)).done(()=>{var r;this._beforeItemElementInserted(i),this._renderItem((r=i.index)!==null&&r!==void 0?r:e.length,i.data),this._afterItemElementInserted(),this._correctionIndex++})},_updateSelectionAfterRemoveByChange:function(t){var e=this.option("selectedIndex");e>t?this.option("selectedIndex",e-1):e===t&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted:function(t){var e=this.option("selectedIndex");t.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:W,_removeByChange:function(t,e,i,n){var r=n?i.index:ad(t,e,i.key),o=n?i.oldItem:e[r];if(o){var s=this._findItemElementByKey(i.key),a=this._extendActionArgs(s);this._waitDeletingPrepare(s).done(()=>{n?(this._updateIndicesAfterIndex(r-1),this._afterItemElementDeleted(s,a),this._updateSelectionAfterRemoveByChange(r)):(this._deleteItemElementByIndex(r),this._afterItemElementDeleted(s,a))}),this._correctionIndex--}},_modifyByChanges:function(t,e){var i=this._editStrategy.itemsGetter(),n={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},r=this._dataController,o=r.paginate(),s=r.group();(o||s)&&(t=t.filter(a=>a.type!=="insert"||a.index!==void 0)),t.forEach(a=>this["_".concat(a.type,"ByChange")](n,i,a,e)),this._renderedItemsCount=i.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer:function(t,e,i){var n=t.children(this._itemSelector()).get(i);ie.insertElement(t.get(0),e.get(0),n)},_optionChanged:function(t){switch(t.name){case"items":var e=this._partialRefresh(t.value);e||this.callBase(t);break;case"dataSource":(!this.option("repaintChangesOnly")||!t.value)&&this.option("items",[]),this.callBase(t);break;case"repaintChangesOnly":break;default:this.callBase(t)}}});var S0e=t=>Array.isArray(t)&&t.every(e=>{var i=Object.keys(e).length===2,n="key"in e&&"items"in e;return i&&n&&Array.isArray(e.items)}),mD={_getSpecificDataSourceOption:function(){var t=this.option("dataSource"),e=!1,i={};return this._getGroupedOption()&&S0e(t)&&(i=t.reduce((n,r)=>{var o=r.items.map(s=>(ke(s)||(s={text:s},e=!0),"key"in s||(s.key=r.key),s));return n.concat(o)},[]),t={store:{type:"array",data:i},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(t.searchExpr="text")),t}};function vD(t){return t?Number(t.replace("px","")):0}function w0e(t){var e,i;return t&&Ne()?(e=(i=Le()).getComputedStyle)===null||e===void 0?void 0:e.call(i,t):null}function mq(t,e){var i=w0e(t);return i?vD(i["margin".concat(Cu(e))]):0}var I0e="dx-list",T0e="dx-list-items",CD="dx-list-item",M0e="."+CD,A0e="dx-list-item-icon-container",R0e="dx-list-item-icon",og="dx-list-group",sP="dx-list-group-header",_D="dx-list-group-body",F0e="dx-list-collapsible-groups",vq="dx-list-group-collapsed",P0e="dx-list-group-header-indicator",k0e="dx-has-next",N0e="dx-list-next-button",L0e="dx-wrap-item-text",B0e=".dx-list-select-all",V0e="dxListItemData",_q=70,H0e=Tt("items"),z0e,Eh=rg.inherit({_activeStateUnit:[M0e,B0e].join(","),_supportedKeys:function(){var t=this,e=function(n){var r=i(n),o=r.is(t.option("focusedElement"));o&&(function(s,a){var l=s.position().top;a==="prev"&&(l=s.position().top-je(t.$element())+et(s)),t.scrollTo(l)}(r,n),r=i(n)),t.option("focusedElement",Pe(r)),t.scrollToItem(r)};function i(n){var r=t.scrollTop(),o=je(t.$element()),s=g(t.option("focusedElement")),a=!0;if(!s.length)return g();for(;a;){var l=s[n]();if(!l.length)break;var d=l.position().top+et(l)/2;a=d<o+r&&d>r,a&&(s=l)}return s}return y(this.callBase(),{leftArrow:W,rightArrow:W,pageUp:function(){return e("prev"),!1},pageDown:function(){return e("next"),!1}})},_getDefaultOptions:function(){return y(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:j.format("dxList-pullingDownText"),pulledDownText:j.format("dxList-pulledDownText"),refreshingText:j.format("dxList-refreshingText"),pageLoadingText:j.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:j.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:function(t){return t?t.showChevron:void 0},badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){var t=an();return this.callBase().concat(Y0(),[{device:function(){return!Cs},options:{useNativeScrolling:!1}},{device:function(e){return!Cs&&!be.isSimulator()&&be.real().deviceType==="desktop"&&e.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return be.real().deviceType==="desktop"&&!be.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return mi(t)},options:{useInkRipple:!0}},{device:function(){return ki(t)},options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:""}}])},_visibilityChanged:function(t){t&&this._updateLoadingState(!0)},_itemClass:function(){return CD},_itemDataKey:function(){return V0e},_itemContainer:function(){return this._$container},_getItemsContainer:function(){return this._$listContainer},_cleanItemContainer:function(){this.callBase();var t=this._getItemsContainer();g(t).empty(),t.appendTo(this._$container)},_saveSelectionChangeEvent:function(t){this._selectionChangeEventInstance=t},_getSelectionChangeEvent:function(){return this._selectionChangeEventInstance},_refreshItemElements:function(){this.option("grouped")?this._itemElementsCache=this._getItemsContainer().children("."+og).children("."+_D).children(this._itemSelector()):this._itemElementsCache=this._getItemsContainer().children(this._itemSelector())},_modifyByChanges:function(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem:function(t,e){var i=this.callBase(t,e);return i.done(function(){this._refreshItemElements()})},deleteItem:function(t){var e=this.callBase(t);return e.done(function(){this._refreshItemElements()})},_itemElements:function(){return this._itemElementsCache},_itemSelectHandler:function(t){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)))return this.callBase(t)},_allowDynamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._$listContainer=g("<div>").addClass(T0e),this._initScrollView(),this._feedbackShowTimeout=_q,this._createGroupRenderAction()},_scrollBottomMode:function(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode:function(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions:function(){var t=this._scrollBottomMode(),e=this._nextButtonMode();return y(this.callBase(),{paginate:Qt(t||e,!0)})},_getGroupedOption:function(){return this.option("grouped")},_getGroupContainerByIndex:function(t){return this._getItemsContainer().find(".".concat(og)).eq(t).find(".".concat(_D))},_dataSourceFromUrlLoadMode:function(){return"raw"},_initScrollView:function(){var t=this.option("scrollingEnabled"),e=t&&this.option("pullRefreshEnabled"),i=t&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),W0e(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!t,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:i?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=g(this._scrollView.content()),this._$listContainer.appendTo(this._$container),this._toggleWrapItemText(this.option("wrapItemText")),this._createScrollViewActions()},_toggleWrapItemText:function(t){this._$listContainer.toggleClass(L0e,t)},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(t){this._scrollAction&&this._scrollAction(t)},_initTemplates:function(){this._templateManager.addDefaultTemplates({group:new Er(function(t,e){Ve(e)?e.key&&t.text(e.key):t.text(String(e))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate:function(t,e){if(this.callBase(t,e),t.icon){var i=Dr(t.icon).addClass(R0e),n=g("<div>").addClass(A0e);n.append(i),e.prepend(n)}},_getBindableFields:function(){return["text","html","icon"]},_updateLoadingState:function(t){var e=this._dataController,i=this._scrollBottomMode()&&t&&!e.isLoading()&&!this._isLastPage();this._shouldContinueLoading(i)?this._infiniteDataLoading():(this._scrollView.release(!i&&!e.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton:function(){return this._nextButtonMode()&&this._dataController.isLoaded()},_isDataSourceFirstLoadCompleted:function(t){return O(t)&&(this._isFirstLoadCompleted=t),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout((function(){var e=!this._itemElements().length,i=!e||this._isDataSourceFirstLoadCompleted();if(i){var n;(n=this._scrollView)===null||n===void 0||n.startLoading()}}).bind(this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),t||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler:function(){!this._shouldAppendItems()&&Ne()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent:function(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(t){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=t},_scrollViewIsFull:function(){var t=this._scrollView;return!t||je(t.content())>je(t.container())},_pullDownHandler:function(t){this._pullRefreshAction(t);var e=this._dataController;e.getDataSource()&&!e.isLoading()?(this._clearSelectedItems(),e.pageIndex(0),e.reload()):this._updateLoadingState()},_shouldContinueLoading:function(t){var e,i,n=je(this._scrollView.content())-je(this._scrollView.container())<((e=(i=this._scrollView.scrollOffset())===null||i===void 0?void 0:i.top)!==null&&e!==void 0?e:0);return t&&(!this._scrollViewIsFull()||n)},_infiniteDataLoading:function(){var t=this.$element().is(":visible");t&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler:function(t){this._pageLoadingAction(t);var e=this._dataController;!e.isLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems:function(t){this.option("grouped")?(F(t,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),mi()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var t=ne(lt,this.NAME),e="."+sP,i=this.$element(),n=this.option("collapsibleGroups");i.toggleClass(F0e,n),S.off(i,t,e),n&&S.on(i,t,e,(function(r){this._createAction((function(o){var s=g(o.event.currentTarget).parent();this._collapseGroupHandler(s),this.option("focusStateEnabled")&&this.option("focusedElement",Pe(s.find("."+CD).eq(0)))}).bind(this),{validatingTargetName:"element"})({event:r})}).bind(this))},_collapseGroupHandler:function(t,e){var i=new H;if(t.hasClass(vq)===e)return i.resolve();var n=t.children("."+_D),r=et(n),o=0;return r===0&&(nr(n,"auto"),o=et(n)),t.toggleClass(vq,e),Et.animate(n,{type:"custom",from:{height:r},to:{height:o},duration:200,complete:(function(){this.updateDimensions(),this._updateLoadingState(!0),i.resolve()}).bind(this)}),i.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup:function(){this._itemElementsCache=g(),this.$element().addClass(I0e),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria({role:"group",roledescription:"list"},this.$element()),this.setAria({role:"group"},this._focusTarget()),this._setListAria()},_setListAria(){var{items:t}=this.option(),e=t!=null&&t.length?{role:"listbox",label:"Items"}:{role:void 0,label:void 0};this.setAria(e,this._$listContainer)},_focusTarget:function(){return this._itemContainer()},_renderInkRipple:function(){this._inkRipple=zu()},_toggleActiveState:function(t,e,i){this.callBase.apply(this,arguments);var n=this;if(this._inkRipple){var r={element:t,event:i};e?mi()?this._inkRippleTimer=setTimeout(function(){n._inkRipple.showWave(r)},_q/2):n._inkRipple.showWave(r):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(r))}},_postprocessRenderItem:function(t){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(g(t.itemElement))},_attachSwipeEvent:function(t){var e=ne(Hu,this.NAME);S.on(t,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler:function(t){this._itemDXEventHandler(t,"onItemSwipe",{direction:t.offset<0?"left":"right"})},_nextButtonHandler:function(t){this._pageLoadingAction(t);var e=this._dataController;e.getDataSource()&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,e){var i=g("<div>").addClass(og).appendTo(this._getItemsContainer()),n="dx-".concat(new kt().toString()),r={role:"group",labelledby:n};this.setAria(r,i);var o=g("<div>").addClass(sP).attr("id",n).appendTo(i),s=this.option("groupTemplate"),a=this._getTemplate(e.template||s,e,t,o),l={index:t,itemData:e,container:Pe(o)};this._createItemByTemplate(a,l),g("<div>").addClass(P0e).prependTo(o),this._renderingGroupIndex=t;var d=g("<div>").addClass(_D).appendTo(i);F(H0e(e)||[],(function(u,h){this._renderItem({group:t,item:u},h,d)}).bind(this)),this._groupRenderAction({groupElement:Pe(i),groupIndex:t,groupData:e})},downInkRippleHandler:function(t){this._toggleActiveState(g(t.currentTarget),!0,t)},upInkRippleHandler:function(t){this._toggleActiveState(g(t.currentTarget),!1)},attachGroupHeaderInkRippleEvents:function(){var t="."+sP,e=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);var i=[e,"dxpointerdown",t,this._downInkRippleHandler],n=[e,"dxpointerup dxpointerout",t,this._upInkRippleHandler];S.off(...i),S.on(...i),S.off(...n),S.on(...n)},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(t){this.callBase(t),this._scrollView.option("disabled",t||!this.option("scrollingEnabled"))},_toggleNextButton:function(t){var e=this._dataController,i=this._getNextButton();this.$element().toggleClass(k0e,t),t&&e.isLoaded()&&i.appendTo(this._itemContainer()),t||i.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=g("<div>").addClass(N0e),e=g("<div>").appendTo(t);return this._createComponent(e,ci,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:ki()?"default":void 0,integrationOptions:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh:function(){if(!Ne())this.callBase();else{var t=this._scrollView.scrollTop();this.callBase(),t&&this._scrollView.scrollTo(t)}},_optionChanged:function(t){switch(t.name){case"pageLoadMode":this._toggleNextButton(t.value),this._initScrollView();break;case"dataSource":this.callBase(t),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(t),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"wrapItemText":this._toggleWrapItemText(t.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(t),this._scrollView.option(t.name,t.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(t),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(t);break;case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"_swipeEnabled":case"selectByClick":break;default:this.callBase(t)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var e=t.closest("."+og),i=e.find("."+CD);return y(this.callBase(t),{itemIndex:{group:e.index(),item:i.index(t)}})},expandGroup:function(t){var e=new H,i=this._getItemsContainer().find(".".concat(og)).eq(t);return this._collapseGroupHandler(i,!1).done((function(){e.resolveWith(this)}).bind(this)),e.promise()},collapseGroup:function(t){var e=new H,i=this._getItemsContainer().find(".".concat(og)).eq(t);return this._collapseGroupHandler(i,!0).done((function(){e.resolveWith(this)}).bind(this)),e},updateDimensions:function(){var t=this,e=new H;return t._scrollView?t._scrollView.update().done(function(){!t._scrollViewIsFull()&&t._updateLoadingState(!0),e.resolveWith(t)}):e.resolveWith(t),e.promise()},reload:function(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint:function(){this.scrollTo(0),this.callBase()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(t){this._scrollView.scrollBy(t)},scrollTo:function(t){this._scrollView.scrollTo(t)},scrollToItem:function(t){var e=this._editStrategy.getItemElement(t),i=e?.get(0);this._scrollView.scrollToElement(i,{bottom:mq(i,"bottom")})},_dimensionChanged:function(){this.updateDimensions()}}).include(mD);Eh.ItemClass=A3;function W0e(){return z0e||Zf}var j0e="dx-list-item-selected",$0e="dx-list-item-response-wait",G0e=Eh.inherit({_supportedKeys(){var t=this,e=this.callBase(),i=(n,r)=>{var o=this._editStrategy,s=this.option("focusedElement"),a=o.getNormalizedIndex(s),l=a===this._getLastItemIndex();if(!(l&&this._dataController.isLoading()))if(n.shiftKey&&t.option("itemDragging.allowReordering")){var d=a+(r?-1:1),u=o.getItemElement(d);this.reorderItem(s,u),this.scrollToItem(s),n.preventDefault()}else{var h=this._editProvider,p=h.handleKeyboardEvents(a,r);p||(r?e.upArrow(n):e.downArrow(n))}};return y({},e,{del:n=>{t.option("allowItemDeleting")&&(n.preventDefault(),t.deleteItem(t.option("focusedElement")))},upArrow:n=>i(n,!0),downArrow:n=>i(n),enter:function(n){this._editProvider.handleEnterPressing(n)||e.enter.apply(this,arguments)},space:function(n){this._editProvider.handleEnterPressing(n)||e.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();var t=this._editProvider.getExcludedItemSelectors();t.length&&(this._itemElementsCache=this._itemElementsCache.not(t))},_isItemStrictEquals:function(t,e){var i=t&&t.__dx_key__;return i&&!this.key()&&this._selection.isItemSelected(i)?!1:this.callBase(t,e)},_getDefaultOptions(){return y(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:j.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:t=>t.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new y3(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new m3(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>j0e,_itemResponseWaitClass:()=>$0e,_itemClickHandler(t){var e=g(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=this._editProvider.handleClick(e,t);i||(this._saveSelectionChangeEvent(t),this.callBase(...arguments))}},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(t){var e=g(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=Jl(t)&&this._editProvider.handleContextMenu(e,t);if(i){t.handledByEditProvider=!0;return}this.callBase(...arguments)}},_getItemContainer:function(t){if(this.option("grouped")){var e,i=(e=this._editStrategy.getIndexByItemData(t))===null||e===void 0?void 0:e.group;return this._getGroupContainerByIndex(i)}else return this.callBase(t)},_itemContextMenuHandler(t){var e=g(t.currentTarget);if(!e.is(".dx-state-disabled, .dx-state-disabled *")){var i=!t.handledByEditProvider&&this._editProvider.handleContextMenu(e,t);if(i){t.preventDefault();return}this.callBase(...arguments)}},_postprocessRenderItem(t){this.callBase(...arguments),this._editProvider.modifyItemElement(t)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(t){var e=this._editStrategy.getItemElement(t);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(t){switch(t.name){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(t);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(t)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(t){return this._itemElements().index(t)},getItemElementByFlatIndex(t){var e=this._itemElements();return t<0||t>=e.length?g():e.eq(t)},getItemByIndex(t){return this._editStrategy.getItemDataByIndex(t)},deleteItem(t){var e=this._editStrategy,i=e.getNormalizedIndex(t),n=this.option("focusedElement"),r=n?e.getNormalizedIndex(n):i,o=r===this._getLastItemIndex(),s=o||i<r?r-1:r,a=this.callBase(t);return a.done(function(){return this.focusListItem(s)})}}),Cq=G0e;function xq(t){return class{constructor(){throw new Error("Module '".concat(t,"' not found"))}static getInstance(){}}}var yq=xq("TextBox"),ya={_getDefaultOptions:function(){return y(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){var t=this.$element(),e=this.option("searchEnabled"),i=this._addWidgetPrefix("search"),n=this._addWidgetPrefix("with-search");if(!e){t.removeClass(n),this._removeSearchBox();return}var r=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(r):(t.addClass(n),this._$searchEditorElement=g("<div>").addClass(i).prependTo(t),this._searchEditor=this._createComponent(this._$searchEditorElement,yq,r))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){var t=this,e=t.option("searchEditorOptions"),i=j.format("Search");return y({mode:"search",placeholder:i,tabIndex:t.option("tabIndex"),value:t.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":i},onValueChanged:function(n){var r=t.option("searchTimeout");t._valueChangeDeferred=new H,clearTimeout(t._valueChangeTimeout),t._valueChangeDeferred.done((function(){this.option("searchValue",n.value)}).bind(t)),n.event&&n.event.type==="input"&&r?t._valueChangeTimeout=setTimeout(function(){t._valueChangeDeferred.resolve()},r):t._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(t,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(t,e)},getOperationBySearchMode:function(t){return t==="equals"?"=":t},_optionChanged:function(t){switch(t.name){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){Ke.log("W1009");return}t.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(t.value)):this._dataSource[t.name](t.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(t)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_cleanAria:function(){var t=this.$element();this.setAria({role:null,activedescendant:null},t),t.attr("tabIndex",null)},_clean(){this.callBase(),this._cleanAria()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(t){yq=t}};var U0e=Cq.inherit(ya).inherit({_addWidgetPrefix:function(t){return"dx-list-"+t},_getCombinedFilter:function(){var t=this._dataController,e={filter:t.filter()};t.addSearchFilter(e);var i=e.filter;return i},_initDataSource:function(){var t=this.option("searchValue"),e=this.option("searchExpr"),i=this.option("searchMode");this.callBase();var n=this._dataController;t&&t.length&&n.searchValue(t),i.length&&n.searchOperation(ya.getOperationBySearchMode(i)),e&&n.searchExpr(e)}}),aP=U0e;Be("dxList",aP);var As=aP;var xD="dx-invalid-message",K0e="dx-invalid-message-auto",q0e="dx-invalid-message-always",J0e="dx-invalid-message-content",Y0e=100,bq=Rn.inherit({_getDefaultOptions(){return y(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,preventScrollEvents:!1,positionSide:"top",boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget:function(){var{target:t}=this.option();this.option("position.of",t)},_ensureMessageNotEmpty:function(){this._textMarkup=this._getTextMarkup();var t=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(t)},_toggleVisibilityClasses:function(t){t?(this.$element().addClass(xD),this.$wrapper().addClass(xD)):(this.$element().removeClass(xD),this.$wrapper().removeClass(xD))},_updateContentId(){var{container:t,contentId:e}=this.option(),i=e??g(t).attr("aria-describedby");this.$content().addClass(J0e).attr("id",i)},_renderInnerHtml(t){var e=t&&g(t);e?.html(this._textMarkup)},_getTextMarkup(){var t,e=(t=this.option("validationErrors"))!==null&&t!==void 0?t:[],i="";return e.forEach(n=>{var r,o=i?"<br />":"";i+=o+lb((r=n?.message)!==null&&r!==void 0?r:"")}),i},_toggleModeClass(){var t=this.option("mode");this.$wrapper().toggleClass(K0e,t==="auto").toggleClass(q0e,t==="always")},updateMaxWidth(){var t=this.option("target"),e=it(t),i="100%";e&&(i=Math.max(e,Y0e)),this.option({maxWidth:i})},_getPositionsArray:function(t,e){switch(t){case"top":return["".concat(e," bottom"),"".concat(e," top")];case"left":return["right","left"];case"right":return["left","right"];default:return["".concat(e," top"),"".concat(e," bottom")]}},_updatePosition:function(){var{positionSide:t,rtlEnabled:e,offset:i,boundary:n}=this.option(),r=Yr(e),o=this._getPositionsArray(t,r),s=te({},i);this.$element().addClass("dx-invalid-message-".concat(t)),e&&t!=="left"&&t!=="right"&&(s.h=-s.h),t==="top"&&(s.v=-s.v),t==="left"&&(s.h=-s.h),this.option("position",{offset:s,boundary:n,my:o[0],at:o[1],collision:"none flip"})},_optionChanged(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(t);break;case"boundary":this.option("position.boundary",i);break;case"mode":this._toggleModeClass(i);break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass("dx-invalid-message-".concat(n)),this._updatePosition();break;case"container":this._updateContentId(),this.callBase(t);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(t)}}});Be("dxValidationMessage",bq);var yD=bq;var Dq="dx-invalid-message-auto",X0e="dx-state-readonly",Q0e="dx-invalid",Z0e="dx-show-invalid-badge",Oq="dx-validation-target",eDe="valid",Eq="invalid",tDe="editorReadOnly",iDe=["outlined","filled","underlined"],Sq={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"},lP=Ci.inherit({ctor:function(){this.showValidationMessageTimeout=null,this.validationRequest=vt(),this.callBase.apply(this,arguments)},_createElement:function(t){this.callBase(t);var e=this.$element();e&&ui(e[0],Oq,this)},_initOptions:function(t){this.callBase.apply(this,arguments),this.option(li.initValidationOptions(t))},_init:function(){this._initialValue=this.option("value"),this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions"));var t=this.$element();t.addClass(Z0e)},_getDefaultOptions:function(){return y(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:eDe,validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0,isDirty:!1})},_attachKeyboardEvents:function(){this.option("readOnly")||this.callBase()},_setOptionsByReference:function(){this.callBase(),y(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_initMarkup:function(){var t;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(t=this.option("_onMarkupRendered"))===null||t===void 0||t()},_raiseValueChangeAction:function(t,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(t,e))},_valueChangeArgs:function(t,e){return{value:t,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent:function(t){this._valueChangeEventInstance=t},_focusInHandler:function(t){var e=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&e){var i,n=(i=this._validationMessage)===null||i===void 0?void 0:i.$wrapper();n?.removeClass(Dq),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>n?.addClass(Dq),150)}return this.callBase(t)},_canValueBeChangedByClick:function(){return!1},_getStylingModePrefix:function(){return"dx-editor-"},_renderStylingMode:function(){var t=this.option("stylingMode"),e=this._getStylingModePrefix(),i=iDe.map(s=>e+s);i.forEach(s=>this.$element().removeClass(s));var n=e+t;if(i.indexOf(n)===-1){var r=this._getDefaultOptions().stylingMode,o=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=e+(o||r)}this.$element().addClass(n)},_getValidationErrors:function(){var t=this.option("validationErrors");return!t&&this.option("validationError")&&(t=[this.option("validationError")]),t},_disposeValidationMessage:function(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses:function(t){this.$element().toggleClass(Q0e,t),this.setAria(Eq,t||void 0)},_renderValidationState:function(){var t=this.option("isValid")&&this.option("validationStatus")!==Eq,e=this._getValidationErrors(),i=this.$element();if(this._toggleValidationClasses(!t),!(!Ne()||this.option("_showValidationMessage")===!1)&&(this._disposeValidationMessage(),!t&&e)){var{validationMessageMode:n,validationMessageOffset:r,validationBoundary:o,rtlEnabled:s}=this.option();this._$validationMessage=g("<div>").appendTo(i);var a="dx-".concat(new kt);this.setAria("describedby",a),this._validationMessage=new yD(this._$validationMessage,y({validationErrors:e,rtlEnabled:s,target:this._getValidationMessageTarget(),visualContainer:i,mode:n,positionSide:this._getValidationMessagePosition(),offset:r,boundary:o,contentId:a},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessagePosition:function(){return this.option("validationMessagePosition")},_getValidationMessageTarget:function(){return this.$element()},_toggleReadOnlyState:function(){var t=this.option("readOnly");this._toggleBackspaceHandler(t),this.$element().toggleClass(X0e,!!t),this.setAria("readonly",t||void 0)},_toggleBackspaceHandler:function(t){var e=this._keyboardEventBindingTarget(),i=ne("keydown",tDe);S.off(e,i),t&&S.on(e,i,n=>{qt(n)==="backspace"&&n.preventDefault()})},_dispose:function(){var t=this.$element()[0];ui(t,Oq,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName:function(t){var e=this._getSubmitElement();e&&(t.length>0?e.attr("name",t):e.removeAttr("name"))},_getSubmitElement:function(){return null},_setValidationMessageOption:function(t){var e,{name:i,value:n}=t,r=Sq[i]?Sq[i]:i;(e=this._validationMessage)===null||e===void 0||e.option(r,n)},_hasActiveElement:W,_optionChanged:function(t){var e;switch(t.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":t.value!=t.previousValue&&(this.option("isDirty",this._initialValue!==t.value),this.validationRequest.fire({value:t.value,editor:this})),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(t.value,t.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(t),(e=this._validationMessage)===null||e===void 0||e.updateMaxWidth();break;case"name":this._setSubmitElementName(t.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(li.synchronizeValidationOptions(t,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(t);break;case"rtlEnabled":this._setValidationMessageOption(t),this.callBase(t);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,t);break;case"_showValidationMessage":case"isDirty":break;default:this.callBase(t)}},_resetToInitialValue:function(){this.option("value",this._initialValue)},blur:function(){this._hasActiveElement()&&ys()},clear:function(){var t=this._getDefaultOptions();this.option("value",t.value)},reset:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=t),this._resetToInitialValue(),this.option("isDirty",!1),this.option("isValid",!0)}});lP.isEditor=t=>t instanceof lP;var Cr=lP;function wq(t,e){var i,n,r=(i=(n=t.getRootNode)===null||n===void 0?void 0:n.call(t))!==null&&i!==void 0?i:document;return r.querySelector(e)}var Iq="dx-invalid-message-auto",Tq="dx-validation-target",sg=class extends Uf{getProps(){var e=super.getProps();return e.onFocusIn=()=>{var i=this.option("validationMessageMode")==="auto";if(i){var n=g(wq(this.element(),".dx-invalid-message.dx-overlay-wrapper"));n?.removeClass(Iq),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{n?.addClass(Iq)},150)}},e.saveValueChangeEvent=i=>{this._valueChangeEventInstance=i},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=vt(),ui(this.$element()[0],Tq,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_init(){super._init(),this._initialValue=this.option("value")}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(li.initValidationOptions(e))}_getDefaultOptions(){return y(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,i){var n=y({},e.option()),r=()=>this._silent(i,n);r(),e.on("optionChanged",r)}_raiseValidation(e,i){var n=!O(e)&&!O(i);e!==i&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,i){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:i,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){var{name:i,previousValue:n,value:r}=e;switch(i&&this._getActionConfigs()[i]!==void 0&&this._addAction(i),i){case"value":this._raiseValidation(r,n),this.option("isDirty",this._initialValue!==r),this._raiseValueChangeAction(r,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(li.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}clear(){var{value:e}=this._getDefaultOptions();this.option({value:e})}reset(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this.option("value",this._initialValue),this.option("isDirty",!1),this.option("isValid",!0)}_dispose(){super._dispose(),ui(this.element(),Tq,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}};var nDe=Cr.isEditor,Mq=t=>nDe(t)||t instanceof sg;sg.isEditor=Mq;Cr.isEditor=Mq;var bD=class extends sg{_useTemplates(){return!1}_isFocused(){var e=this.$element()[0];return e.classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){var e=super.getProps();return e.value!==null&&(e.value=!!e.value),e}};var rDe=["dataSource","selectedRowKeys"],oDe={integrationOptions:!0};function F_(t,e,i){return{path:t,value:e,previousValue:i}}function Aq(t,e,i,n,r,o){if(!oDe[n]){var s=ir(e),a=ir(i);if(e!==i)if(s!==a)t.push(F_(n,i,e));else if(s==="object")if(!Ve(i))t.push(F_(n,i,e));else{var l=Rq(e,i,r,o);t.push(...l.map(h=>te({},h,{path:"".concat(n,".").concat(h.path)})))}else if(s==="array"){var d=o.some(h=>r.includes(h));if(d&&e!==i)t.push(F_(n,i,e));else if(e.length!==i.length)t.push(F_(n,i,e));else{var u=Rq(e,i,r,o);[].push.apply(t,u.map(h=>te({},h,{path:"".concat(n).concat(h.path)})))}}else t.push(F_(n,i,e))}}var Fq=t=>(e,i,n,r)=>{var o=[],s=Array.isArray(e)?a=>{Aq(o,e[a],i[a],"[".concat(a,"]"),"".concat(n,".").concat(a),r)}:a=>{Aq(o,e[a],i[a],a,"".concat(n,".").concat(a),r)};return t(e).forEach(s),Object.keys(i).filter(a=>!Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==i[a]).forEach(a=>{o.push({path:a,value:i[a],previousValue:e[a]})}),o},Rq=Fq(t=>Object.keys(t)),sDe={key:!0,ref:!0,children:!0,style:!0},aDe=Fq(t=>Object.keys(t).filter(e=>!sDe[e]));function Pq(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rDe;return aDe(t,e,"",i)}var lDe=["valueChange"],dDe=["componentProps","componentType","templateNames"],kq=t=>Object.keys(t).reduce((e,i)=>(t[i]!==void 0&&(e[i]=t[i]),e),{}),uDe=t=>{var{props:{componentProps:{className:e}},restAttributes:i,widgetRef:n}=t;return kq(xi(1,"div",e,null,1,te({},i),null,n))},cDe={},ag=(()=>{class t extends qn{constructor(i){super(i),this.state={},this.widgetRef=Ki(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}get config(){return this.context[Fn.id]?this.context[Fn.id]:Fn.defaultValue}createEffects(){return[new ti(this.setupWidget,[]),new ti(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var i;(i=this._effects[1])===null||i===void 0||i.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){var i=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=i,()=>{i.dispose(),this.instance=null}}updateWidget(){var i=this.getInstance();if(i){var n=Pq(this.prevProps||{},this.properties);n.length&&(i.beginUpdate(),n.forEach(r=>{var{path:o,value:s}=r;i.option(o,s)}),i.endUpdate()),this.prevProps=this.properties}}get properties(){var i,n=kq(this.props.componentProps),{valueChange:r}=n,o=St(n,lDe),s=te({rtlEnabled:!!((i=this.config)!==null&&i!==void 0&&i.rtlEnabled),isRenovated:!0},o);r&&(s.onValueChanged=l=>{var{value:d}=l;return r(d)});var a=this.props.templateNames;return a.forEach(l=>{PK(l,s,this)&&(s[l]=(d,u,h)=>{FK(this.props.componentProps[l],{item:d,index:u,container:h},this)})}),s}get restAttributes(){var i=this.props,n=St(i,dDe);return n}getInstance(){return this.instance}render(){var i=this.props;return uDe({props:te({},i),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}return t.defaultProps=cDe,t})();var hDe=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],pDe=t=>{var{componentProps:e,restAttributes:i}=t;return fn(Bt(2,ag,te({componentType:yD,componentProps:e,templateNames:[]},i)))},fDe=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(ju),Object.getOwnPropertyDescriptors({mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0}))),Nq=(()=>{class t extends yn{constructor(i){super(i),this.state={}}get componentProps(){return this.props}get restAttributes(){var i=this.props,n=St(i,hDe);return n}render(){var i=this.props;return pDe({props:te({},i),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return t.defaultProps=fDe,t})();var gDe=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],mDe=t=>{var{classes:e,isValid:i,readOnly:n}=t,r={"dx-state-readonly":!!n,"dx-invalid":!i,["".concat(e)]:!!e};return Jn(r)},vDe=t=>{var{aria:e,cssClasses:i,isValidationMessageVisible:n,onFocusIn:r,props:{accessKey:o,activeStateEnabled:s,children:a,className:l,disabled:d,focusStateEnabled:u,height:h,hint:p,hoverStateEnabled:m,onClick:c,onKeyDown:x,rtlEnabled:D,tabIndex:T,validationMessageMode:N,validationMessagePosition:G,visible:U,width:re},restAttributes:_,rootElementRef:Oe,validationErrors:fe,validationMessageGuid:we,validationMessageTarget:We,widgetRef:b}=t;return fn(Bt(2,qf,te({rootElementRef:Oe,aria:e,classes:i,activeStateEnabled:s,focusStateEnabled:u,hoverStateEnabled:m,accessKey:o,className:l,rtlEnabled:D,hint:p,disabled:d,height:h,width:re,onFocusIn:r,onClick:c,onKeyDown:x,tabIndex:T,visible:U},_,{children:eo([a,n&&Bt(2,Nq,{validationErrors:fe,mode:N,positionSide:G,rtlEnabled:D,target:We,boundary:We,visualContainer:We,contentId:we})],0)}),null,b))},bn=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(ju),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,isDirty:!1,inputAttr:Object.freeze({}),defaultValue:null,valueChange:()=>{}}))),_De={get readOnly(){return bn.readOnly},get name(){return bn.name},get validationError(){return bn.validationError},get validationErrors(){return bn.validationErrors},get validationMessageMode(){return bn.validationMessageMode},get validationMessagePosition(){return bn.validationMessagePosition},get validationStatus(){return bn.validationStatus},get isValid(){return bn.isValid},get isDirty(){return bn.isDirty},get inputAttr(){return bn.inputAttr},get defaultValue(){return bn.defaultValue},get valueChange(){return bn.valueChange},get className(){return bn.className},get activeStateEnabled(){return bn.activeStateEnabled},get disabled(){return bn.disabled},get focusStateEnabled(){return bn.focusStateEnabled},get hoverStateEnabled(){return bn.hoverStateEnabled},get tabIndex(){return bn.tabIndex},get visible(){return bn.visible},get aria(){return Kf.aria},get classes(){return Kf.classes}},P_=class extends Is{constructor(e){super(e),this.widgetRef=Ki(),this.rootElementRef=Ki(),this.__getterCache={},this.state={validationMessageGuid:"dx-".concat(new kt),isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new ti(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),al()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(e=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){var{onFocusIn:i}=this.props;i?.(e)}get cssClasses(){return"".concat(mDe(te({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})))}get shouldShowValidationMessage(){var e,{isValid:i,validationStatus:n}=this.props,r=(e=this.validationErrors)!==null&&e!==void 0?e:[],o=i&&n!=="invalid";return!o&&r.length>0}get aria(){var{isValid:e,readOnly:i}=this.props,n={readonly:i?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),te({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{var{validationError:e,validationErrors:i}=this.props,n=i&&[...i];return!n&&e&&(n=[te({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){var e=te({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=St(e,gDe);return i}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e,i,n){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){var e=this.props;return vDe({props:te({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}};P_.defaultProps=_De;function k_(t){var e,i=Le();return t?(e=i.getComputedStyle)===null||e===void 0?void 0:e.call(i,t):null}var CDe=[[22,16],[18,16]],xDe=[[[12,8],[20,18]],[[16,10],[16,14]]];function Lq(){var t=an();return{isMaterialTheme:mi(t),isCompactTheme:Za(t)}}function yDe(){var{isCompactTheme:t,isMaterialTheme:e}=Lq();return CDe[+e][+t]}function bDe(t){var{isCompactTheme:e,isMaterialTheme:i}=Lq();return xDe[+t][+i][+e]}function Bq(t,e){var i=bDe(e),n=yDe(),r=i/n;return Math.ceil(r*t)}var DDe=["isChecked","size"],ODe=t=>{var{cssStyles:e,elementRef:i}=t;return xi(1,"span","dx-checkbox-icon",null,1,{style:Gf(e)},null,i)},EDe={isChecked:!1},Vq=(()=>{class t extends qn{constructor(i){super(i),this.state={},this.elementRef=Ki(),this.__getterCache={},this.updateFontSize=this.updateFontSize.bind(this),this.setIconFontSize=this.setIconFontSize.bind(this),this.getIconSize=this.getIconSize.bind(this),this.getComputedIconSize=this.getComputedIconSize.bind(this)}createEffects(){return[new ti(this.updateFontSize,[this.props.isChecked,this.props.size])]}updateEffects(){var i;(i=this._effects[0])===null||i===void 0||i.update([this.props.isChecked,this.props.size])}updateFontSize(){var{isChecked:i,size:n}=this.props;if(Ne()&&n){var r=this.getIconSize(n),o=Bq(r,i);this.setIconFontSize(o)}}setIconFontSize(i){var n=this.elementRef.current;n.style.fontSize="".concat(i,"px")}getIconSize(i){return It(i)?i:i.endsWith("px")?parseInt(i,10):this.getComputedIconSize()}getComputedIconSize(){var i=this.elementRef.current,n=k_(i),r=parseInt(n?.width,10);return r}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{var{size:i}=this.props,n=Xa("width",i),r=Xa("height",i);return{height:r,width:n}})()}get restAttributes(){var i=this.props,n=St(i,DDe);return n}componentWillUpdate(i,n,r){super.componentWillUpdate(),this.props.size!==i.size&&(this.__getterCache.cssStyles=void 0)}render(){var i=this.props;return ODe({props:te({},i),elementRef:this.elementRef,setIconFontSize:this.setIconFontSize,getIconSize:this.getIconSize,getComputedIconSize:this.getComputedIconSize,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}return t.defaultProps=EDe,t})();var SDe=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],wDe=t=>{var{text:e,value:i}=t,n=i,r=n===null,o={"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":r};return Jn(o)},IDe=t=>{var{aria:e,cssClasses:i,editorRef:n,keyDown:r,onWidgetClick:o,props:{accessKey:s,activeStateEnabled:a,className:l,disabled:d,focusStateEnabled:u,height:h,hint:p,hoverStateEnabled:m,iconSize:c,isValid:x,name:D,onFocusIn:T,readOnly:N,rtlEnabled:G,tabIndex:U,text:re,validationError:_,validationErrors:Oe,validationMessageMode:fe,validationMessagePosition:we,validationStatus:We,value:b,visible:w,width:A},restAttributes:R}=t;return fn(Bt(2,P_,te({aria:e,classes:i,onClick:o,onKeyDown:r,accessKey:s,activeStateEnabled:a,focusStateEnabled:u,hoverStateEnabled:m,className:l,disabled:d,readOnly:N,hint:p,height:h,width:A,rtlEnabled:G,tabIndex:U,visible:w,validationError:_,validationErrors:Oe,validationMessageMode:fe,validationMessagePosition:we,validationStatus:We,isValid:x,onFocusIn:T},R,{children:eo([fn(xi(64,"input",null,null,1,te({type:"hidden",value:"".concat(b)},D&&{name:D}))),xi(1,"div","dx-checkbox-container",[Bt(2,Vq,{size:c,isChecked:b===!0}),re&&xi(1,"span","dx-checkbox-text",re,0)],0)],4)}),null,n))},Yn=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(bn),Object.getOwnPropertyDescriptors({text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return be.real().deviceType==="desktop"&&!be.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),TDe={get text(){return Yn.text},get enableThreeStateBehavior(){return Yn.enableThreeStateBehavior},get activeStateEnabled(){return Yn.activeStateEnabled},get hoverStateEnabled(){return Yn.hoverStateEnabled},get focusStateEnabled(){return Yn.focusStateEnabled},get defaultValue(){return Yn.defaultValue},get valueChange(){return Yn.valueChange},get readOnly(){return Yn.readOnly},get name(){return Yn.name},get validationError(){return Yn.validationError},get validationErrors(){return Yn.validationErrors},get validationMessageMode(){return Yn.validationMessageMode},get validationMessagePosition(){return Yn.validationMessagePosition},get validationStatus(){return Yn.validationStatus},get isValid(){return Yn.isValid},get isDirty(){return Yn.isDirty},get inputAttr(){return Yn.inputAttr},get className(){return Yn.className},get disabled(){return Yn.disabled},get tabIndex(){return Yn.tabIndex},get visible(){return Yn.visible},get aria(){return Kf.aria}},Sh=class extends Is{constructor(e){super(e),this.editorRef=Ki(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[al()]}onWidgetClick(e){var{enableThreeStateBehavior:i,readOnly:n,saveValueChangeEvent:r}=this.props;if(!n)if(r?.(e),i){var o;this.setState(a=>(o=(this.props.value!==void 0?this.props.value:a.value)===null||((this.props.value!==void 0?this.props.value:a.value)?!1:null),{value:o})),this.props.valueChange(o)}else{var s;this.setState(a=>{var l;return s=!((l=this.props.value!==void 0?this.props.value:a.value)!==null&&l!==void 0&&l),{value:s}}),this.props.valueChange(s)}}keyDown(e){var{onKeyDown:i}=this.props,{keyName:n,originalEvent:r,which:o}=e,s=i?.(e);if(s!=null&&s.cancel)return s;(n==="space"||o==="space")&&(r.preventDefault(),this.onWidgetClick(r))}get cssClasses(){return wDe(te({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){var e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,i=(this.props.value!==void 0?this.props.value:this.state.value)===null,n={role:"checkbox",checked:i?"mixed":"".concat(e)};return te({},n,this.props.aria)}get restAttributes(){var e=te({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),i=St(e,SDe);return i}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){var e=this.props;return IDe({props:te({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}};function MDe(t){var e=["value"];return Object.keys(t).reduce((i,n)=>{var r=t[n],o=e.some(s=>s===n)?"default"+n.charAt(0).toUpperCase()+n.slice(1):n;return i[o]=r,i},{})}Sh.defaultProps=TDe;var Hq=[];function zq(t){Hq.push(t),Sh.defaultProps=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(Sh.defaultProps),Object.getOwnPropertyDescriptors(MDe(fa(Hq)))))}var lg=class extends bD{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","isDirty","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return Sh}};Be("dxCheckBox",lg);lg.defaultOptions=zq;var Gu=lg;var ADe="dx-radiobutton",Wq="dx-radiobutton-icon",RDe="dx-radiobutton-icon-dot",FDe="dx-radiobutton-checked",PDe="dx-radiobutton-icon-checked",jq=Cr.inherit({_supportedKeys:function(){return y(this.callBase(),{space:function(t){t.preventDefault(),this._clickAction({event:t})}})},_getDefaultOptions:function(){return y(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:function(){return!0},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return be.real().deviceType==="desktop"&&!be.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.$element().addClass(ADe)},_initMarkup:function(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon:function(){this._$icon=g("<div>").addClass(Wq),g("<div>").addClass(RDe).appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState:function(t){this.$element().toggleClass(FDe,t).find("."+Wq).toggleClass(PDe,t),this.setAria("checked",t)},_renderClick:function(){var t=ne(lt,this.NAME);this._clickAction=this._createAction((function(e){this._clickHandler(e.event)}).bind(this)),S.off(this.$element(),t),S.on(this.$element(),t,(function(e){this._clickAction({event:e})}).bind(this))},_clickHandler:function(t){this._saveValueChangeEvent(t),this.option("value",!0)},_optionChanged:function(t){switch(t.name){case"value":this._renderCheckedState(t.value),this.callBase(t);break;default:this.callBase(t)}}});Be("dxRadioButton",jq);var $q=jq;var dP="dxListEditDecorator",kDe=ne(Hf,dP),NDe=ne(zf,dP),LDe=ne(Hu,dP),BDe=ot.inherit({ctor:function(t){this._list=t,this._init()},_init:W,_shouldHandleSwipe:!1,_attachSwipeEvent:function(t){var e={itemSizeFunc:(function(){return this._clearSwipeCache&&(this._itemWidthCache=Ae(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}).bind(this)};S.on(t.$itemElement,kDe,e,this._itemSwipeStartHandler.bind(this)),S.on(t.$itemElement,NDe,this._itemSwipeUpdateHandler.bind(this)),S.on(t.$itemElement,LDe,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler:function(t){var e=g(t.currentTarget);if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(e,t)},_itemSwipeUpdateHandler:function(t){var e=g(t.currentTarget);this._swipeUpdateHandler(e,t)},_itemSwipeEndHandler:function(t){var e=g(t.currentTarget);this._swipeEndHandler(e,t),this._clearSwipeCache=!0},beforeBag:W,afterBag:W,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(t){this._shouldHandleSwipe&&(this._attachSwipeEvent(t),this._clearSwipeCache=!0)},afterRender:W,handleClick:W,handleKeyboardEvents:W,handleEnterPressing:W,handleContextMenu:W,_swipeStartHandler:W,_swipeUpdateHandler:W,_swipeEndHandler:W,visibilityChange:W,getExcludedSelectors:W,dispose:W}),ts=BDe;var Gq="dx-list-select-decorator-enabled",VDe="dx-list-select-all",HDe="dx-list-select-all-checkbox",zDe="dx-list-select-all-label",WDe="dx-list-select-checkbox-container",jDe="dx-list-select-checkbox",$De="dx-list-select-radiobutton-container",GDe="dx-list-select-radiobutton",UDe="dx-state-focused",Uq=ne(lt,"dxListEditDecorator");go("selection","default",ts.inherit({_init:function(){this.callBase.apply(this,arguments);var t=this._list.option("selectionMode");this._singleStrategy=t==="single",this._containerClass=this._singleStrategy?$De:WDe,this._controlClass=this._singleStrategy?GDe:jDe,this._controlWidget=this._singleStrategy?$q:Gu,this._list.$element().addClass(Gq)},beforeBag:function(t){var e=t.$itemElement,i=t.$container.addClass(this._containerClass),n=g("<div>").addClass(this._controlClass).appendTo(i);new this._controlWidget(n,y(this._commonOptions(),{value:this._isSelected(e),elementAttr:{"aria-label":"Check State"},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:(function(r){r.event&&this._list._saveSelectionChangeEvent(r.event),this._processCheckedState(e,r.value),r.event&&r.event.stopPropagation()}).bind(this)}))},modifyElement:function(t){this.callBase.apply(this,arguments);var e=t.$itemElement,i=this._controlWidget.getInstance(e.find("."+this._controlClass));S.on(e,"stateChanged",(function(n,r){i.option("value",r)}).bind(this))},_updateSelectAllState:function(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents:function(t,e){var i=!e,n=this._list,r=this._$selectAll,o=n._getLastItemIndex(),s=e&&t===0||i&&t===o,a=!!r;return a&&s?(n.option("focusedElement",r),n.scrollToItem(n.option("focusedElement")),!0):!1},handleEnterPressing:function(t){if(this._$selectAll&&this._$selectAll.hasClass(UDe))return t.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll:function(){var t=this._$selectAll=g("<div>").addClass(VDe),e=this._list,i=e._supportedKeys().downArrow.bind(e);this._selectAllCheckBox=e._createComponent(g("<div>").addClass(HDe).appendTo(t),Gu,{elementAttr:{"aria-label":"Select All"},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",i),g("<div>").addClass(zDe).text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),S.off(this._$selectAll,Uq),S.on(this._$selectAll,Uq,this._selectAllClickHandler.bind(this))},_selectAllHandler:function(t){t.event&&t.event.stopPropagation();var e=this._selectAllCheckBox.option("value");t.event&&this._list._saveSelectionChangeEvent(t.event),e===!0?this._selectAllItems():e===!1&&this._unselectAllItems(),this._list._createActionByOption("onSelectAllValueChanged")({value:e})},_checkSelectAllCapability:function(){var t=this._list,e=t._dataController;return t.option("selectAllMode")==="allPages"&&t.option("grouped")&&!e.group()?(Ke.log("W1010"),!1):!0},_selectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems:function(){this._checkSelectAllCapability()&&this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler:function(t){this._list._saveSelectionChangeEvent(t),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(t){return this._list.isItemSelected(t)},_processCheckedState:function(t,e){e?this._list.selectItem(t):this._list.unselectItem(t)},dispose:function(){this._disposeSelectAll(),this._list.$element().removeClass(Gq),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var KDe={_menuEnabled:function(){return!!this._menuItems().length},_menuItems:function(){return this._list.option("menuItems")},_deleteEnabled:function(){return this._list.option("allowItemDeleting")},_fireMenuAction:function(t,e){this._list._itemEventHandlerByHandler(t,e,{},{excludeValidators:["disabled","readOnly"]})}},DD=KDe;var Kq="dx-list-context-menu",qDe="dx-list-context-menucontent";go("menu","context",ts.inherit({_init:function(){var t=g("<div>").addClass(Kq);this._list.$element().append(t),this._menu=this._renderOverlay(t)},_renderOverlay:function(t){return this._list._createComponent(t,Rn,{shading:!1,deferRendering:!0,hideOnParentScroll:!0,hideOnOutsideClick:function(e){return!g(e.target).closest("."+Kq).length},animation:{show:{type:"slide",duration:300,from:{height:0,opacity:1},to:{height:(function(){return et(this._$menuList)}).bind(this),opacity:1}},hide:{type:"slide",duration:0,from:{opacity:1},to:{opacity:0}}},_ignoreFunctionValueDeprecation:!0,height:(function(){return this._$menuList?et(this._$menuList):0}).bind(this),width:(function(){return it(this._list.$element())}).bind(this),onContentReady:this._renderMenuContent.bind(this)})},_renderMenuContent:function(t){var e=t.component.$content(),i=this._menuItems().slice();this._deleteEnabled()&&i.push({text:j.format("dxListEditDecorator-delete"),action:this._deleteItem.bind(this)}),this._$menuList=g("<div>"),this._list._createComponent(this._$menuList,Eh,{items:i,onItemClick:this._menuItemClickHandler.bind(this),height:"auto",integrationOptions:{}}),e.addClass(qDe),e.append(this._$menuList)},_menuItemClickHandler:function(t){this._menu.hide(),this._fireMenuAction(this._$itemWithMenu,t.itemData.action)},_deleteItem:function(){this._list.deleteItem(this._$itemWithMenu)},handleContextMenu:function(t){return this._$itemWithMenu=t,this._menu.option({position:{my:"top",at:"bottom",of:t,collision:"flip"}}),this._menu.show(),!0},dispose:function(){this._menu&&this._menu.$element().remove(),this.callBase.apply(this,arguments)}}).include(DD));var qq=ts.abstract,Qq="dxListEditDecorator",Jq=ne(nt.down,Qq),Yq=ne(Xl,Qq),JDe="dx-list-item-content",uP="dx-list-switchable-delete-ready",YDe="dx-list-switchable-menu-shield-positioning",XDe="dx-list-switchable-delete-top-shield",QDe="dx-list-switchable-delete-bottom-shield",Xq="dx-list-switchable-menu-item-shield-positioning",ZDe="dx-list-switchable-delete-item-content-shield",eOe="dx-list-switchable-delete-button-container",tOe=ts.inherit({_init:function(){this._$topShield=g("<div>").addClass(XDe),this._$bottomShield=g("<div>").addClass(QDe),this._$itemContentShield=g("<div>").addClass(ZDe),S.on(this._$topShield,Jq,this._cancelDeleteReadyItem.bind(this)),S.on(this._$bottomShield,Jq,this._cancelDeleteReadyItem.bind(this)),this._list.$element().append(this._$topShield.toggle(!1)).append(this._$bottomShield.toggle(!1))},handleClick:function(){return this._cancelDeleteReadyItem()},_cancelDeleteReadyItem:function(){return this._$readyToDeleteItem?(this._cancelDelete(this._$readyToDeleteItem),!0):!1},_cancelDelete:function(t){this._toggleDeleteReady(t,!1)},_toggleDeleteReady:function(t,e){e===void 0&&(e=!this._isReadyToDelete(t)),this._toggleShields(t,e),this._toggleScrolling(e),this._cacheReadyToDeleteItem(t,e),this._animateToggleDelete(t,e)},_isReadyToDelete:function(t){return t.hasClass(uP)},_toggleShields:function(t,e){this._list.$element().toggleClass(YDe,e),this._$topShield.toggle(e),this._$bottomShield.toggle(e),e&&this._updateShieldsHeight(t),this._toggleContentShield(t,e)},_updateShieldsHeight:function(t){var e=this._list.$element(),i=e.offset().top,n=et(e),r=t.offset().top,o=et(t),s=r-i,a=n-o-s;nr(this._$topShield,Math.max(s,0)),nr(this._$bottomShield,Math.max(a,0))},_toggleContentShield:function(t,e){e?t.find("."+JDe).first().append(this._$itemContentShield):this._$itemContentShield.detach()},_toggleScrolling:function(t){var e=this._list.$element().dxScrollView("instance");t?e.on("start",this._cancelScrolling):e.off("start",this._cancelScrolling)},_cancelScrolling:function(t){t.event.cancel=!0},_cacheReadyToDeleteItem:function(t,e){e?this._$readyToDeleteItem=t:delete this._$readyToDeleteItem},_animateToggleDelete:function(t,e){e?(this._enablePositioning(t),this._prepareDeleteReady(t),this._animatePrepareDeleteReady(t),S.off(t,nt.up)):(this._forgetDeleteReady(t),this._animateForgetDeleteReady(t).done(this._disablePositioning.bind(this,t)))},_enablePositioning:function(t){t.addClass(Xq),S.on(t,Yq,W),S.one(t,nt.up,this._disablePositioning.bind(this,t))},_disablePositioning:function(t){t.removeClass(Xq),S.off(t,Yq)},_prepareDeleteReady:function(t){t.addClass(uP)},_forgetDeleteReady:function(t){t.removeClass(uP)},_animatePrepareDeleteReady:qq,_animateForgetDeleteReady:qq,_getDeleteButtonContainer:function(t){return t=t||this._$readyToDeleteItem,t.children("."+eOe)},_deleteItem:function(t){t=t||this._$readyToDeleteItem,this._getDeleteButtonContainer(t).detach(),!t.is(".dx-state-disabled, .dx-state-disabled *")&&this._list.deleteItem(t).always(this._cancelDelete.bind(this,t))},_isRtlEnabled:function(){return this._list.option("rtlEnabled")},dispose:function(){this._$topShield&&this._$topShield.remove(),this._$bottomShield&&this._$bottomShield.remove(),this.callBase.apply(this,arguments)}}),OD=tOe;var iOe="dx-list-switchable-delete-button-container",nOe="dx-list-switchable-delete-button-wrapper",rOe="dx-list-switchable-delete-button-inner-wrapper",oOe="dx-list-switchable-delete-button",Zq=200,e8=OD.inherit({_init:function(){this.callBase.apply(this,arguments);var t=g("<div>").addClass(iOe),e=g("<div>").addClass(nOe),i=g("<div>").addClass(rOe),n=g("<div>").addClass(oOe);this._list._createComponent(n,ci,{text:j.format("dxListEditDecorator-delete"),type:"danger",stylingMode:ki()?"text":"contained",onClick:(function(r){this._deleteItem(),r.event.stopPropagation()}).bind(this),integrationOptions:{}}),t.append(e),e.append(i),i.append(n),this._$buttonContainer=t},_enablePositioning:function(t){this.callBase.apply(this,arguments),Et.stop(this._$buttonContainer,!0),this._$buttonContainer.appendTo(t)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonContainer.detach()},_animatePrepareDeleteReady:function(){var t=this._isRtlEnabled(),e=Ae(this._list.$element()),i=this._buttonWidth(),n=t?e:-i,r=t?e-i:0;return Et.animate(this._$buttonContainer,{type:"custom",duration:Zq,from:{right:n},to:{right:r}})},_animateForgetDeleteReady:function(){var t=this._isRtlEnabled(),e=Ae(this._list.$element()),i=this._buttonWidth(),n=t?e-i:0,r=t?e:-i;return Et.animate(this._$buttonContainer,{type:"custom",duration:Zq,from:{right:n},to:{right:r}})},_buttonWidth:function(){return this._buttonContainerWidth||(this._buttonContainerWidth=it(this._$buttonContainer)),this._buttonContainerWidth},dispose:function(){this._$buttonContainer&&this._$buttonContainer.remove(),this.callBase.apply(this,arguments)}}),sOe="dx-list-toggle-delete-switch-container",aOe="dx-list-toggle-delete-switch";go("delete","toggle",e8.inherit({beforeBag:function(t){var e=t.$itemElement,i=t.$container,n=g("<div>").addClass(aOe);this._list._createComponent(n,ci,{icon:"toggle-delete",onClick:(function(r){Et.stop(this._$buttonContainer,!1),this._toggleDeleteReady(e),r.event.stopPropagation()}).bind(this),integrationOptions:{}}),i.addClass(sOe),i.append(n)}}));go("delete","slideButton",e8.inherit({_shouldHandleSwipe:!0,_swipeEndHandler:function(t,e){return e.targetOffset!==0&&(Et.stop(this._$buttonContainer,!1),this._toggleDeleteReady(t)),!0}}));var ED=5,cP=class{constructor(e){this.init(e)}init(e){var{dragEnabled:i,handle:n,draggableElement:r,positionController:o}=e;this._positionController=o,this._draggableElement=r,this._handle=n,this._dragEnabled=i,this.unsubscribe(),i&&this.subscribe()}moveDown(e){this._moveTo(ED,0,e)}moveUp(e){this._moveTo(-ED,0,e)}moveLeft(e){this._moveTo(0,-ED,e)}moveRight(e){this._moveTo(0,ED,e)}subscribe(){var e=this._getEventNames();S.on(this._handle,e.startEventName,i=>{this._dragStartHandler(i)}),S.on(this._handle,e.updateEventName,i=>{this._dragUpdateHandler(i)}),S.on(this._handle,e.endEventName,i=>{this._dragEndHandler(i)})}unsubscribe(){var e=this._getEventNames();S.off(this._handle,e.startEventName),S.off(this._handle,e.updateEventName),S.off(this._handle,e.endEventName)}_getEventNames(){var e=ne(ca,"overlayDrag"),i=ne(Qo,"overlayDrag"),n=ne(ha,"overlayDrag");return{startEventName:e,updateEventName:i,endEventName:n}}_dragStartHandler(e){var i=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=i.top,e.maxBottomOffset=i.bottom,e.maxLeftOffset=i.left,e.maxRightOffset=i.right}_dragUpdateHandler(e){var i={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(i),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,i,n){if(this._dragEnabled){n.preventDefault(),n.stopPropagation();var r=this._fitOffsetIntoAllowedRange(e,i);this._moveByOffset(r),this._dragEndHandler(n)}}_fitOffsetIntoAllowedRange(e,i){var n=this._getAllowedOffsets();return{top:ln(e,-n.top,n.bottom),left:ln(i,-n.left,n.right)}}_getContainerDimensions(){var e=ie.getDocument(),i=this._positionController.$dragResizeContainer.get(0),n=it(i),r=et(i);return fi(i)&&(r=Math.max(e.body.clientHeight,r),n=Math.max(e.body.clientWidth,n)),{width:n,height:r}}_getContainerPosition(){var e=this._positionController.$dragResizeContainer.get(0);return fi(e)?{top:0,left:0}:ff(e)}_getElementPosition(){return ff(this._draggableElement)}_getInnerDelta(){var e=this._getContainerDimensions(),i=this._getElementDimensions();return{x:e.width-i.width,y:e.height-i.height}}_getOuterDelta(){var{width:e,height:i}=this._getElementDimensions(),n=this._positionController.outsideDragFactor;return{x:e*n,y:i*n}}_getFullDelta(){var e=this._getInnerDelta(),i=this._getOuterDelta();return{x:e.x+i.x,y:e.y+i.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){var e=this._getFullDelta(),i=e.y>=0&&e.x>=0;if(!i)return{top:0,bottom:0,left:0,right:0};var n=this._getElementPosition(),r=this._getContainerPosition(),o=this._getOuterDelta();return{top:n.top-r.top+o.y,bottom:-n.top+r.top+e.y,left:n.left-r.left+o.x,right:-n.left+r.left+e.x}}_moveByOffset(e){var i=In(this._draggableElement),n={left:i.left+e.left,top:i.top+e.top};Vt(this._draggableElement,n)}},t8=cP;var ID="dxResizable",lOe="dx-resizable",dOe="dx-resizable-resizing",SD="dx-resizable-handle",uOe="dx-resizable-handle-top",cOe="dx-resizable-handle-bottom",hOe="dx-resizable-handle-left",pOe="dx-resizable-handle-right",wD="dx-resizable-handle-corner",fOe=ne(ca,ID),gOe=ne(Qo,ID),mOe=ne(ha,ID),vOe={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},i8=Xr.inherit({_getDefaultOptions:function(){return y(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init:function(){this.callBase(),this.$element().addClass(lOe)},_initMarkup:function(){this.callBase(),this._renderHandles()},_render:function(){this.callBase(),this._renderActions()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){this._handles=[];var t=this.option("handles");if(!(t==="none"||!t)){var e=t==="all"?["top","bottom","left","right"]:t.split(" "),i={};F(e,(n,r)=>{i[r]=!0,this._renderHandle(r)}),i.bottom&&i.right&&this._renderHandle("corner-bottom-right"),i.bottom&&i.left&&this._renderHandle("corner-bottom-left"),i.top&&i.right&&this._renderHandle("corner-top-right"),i.top&&i.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}},_renderHandle:function(t){var e=g("<div>").addClass(SD).addClass(SD+"-"+t).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers:function(){if(!this.option("disabled")){var t={};t[fOe]=this._dragStartHandler.bind(this),t[gOe]=this._dragHandler.bind(this),t[mOe]=this._dragEndHandler.bind(this),this._handles.forEach(e=>{S.on(e,t,{direction:"both",immediate:!0})})}},_detachEventHandlers:function(){this._handles.forEach(t=>{S.off(t)})},_toggleEventHandlers:function(t){t?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize:function(){var t=this.$element();return t.css("boxSizing")==="border-box"?{width:it(t),height:et(t)}:{width:Ae(t),height:je(t)}},_dragStartHandler:function(t){var e=this.$element();if(e.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(t),this._elementLocation=In(e),this._elementSize=this._getElementSize(),this._renderDragOffsets(t),this._resizeStartAction({event:t,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),t.targetElements=null},_toggleResizingClass:function(t){this.$element().toggleClass(dOe,t)},_renderDragOffsets:function(t){var e=this._getArea();if(e){var i=g(t.target).closest("."+SD),n=it(i),r=et(i),o=i.offset(),s=e.offset,a=this._getAreaScrollOffset();t.maxLeftOffset=this._leftMaxOffset=o.left-s.left-a.scrollX,t.maxRightOffset=this._rightMaxOffset=s.left+e.width-o.left-n+a.scrollX,t.maxTopOffset=this._topMaxOffset=o.top-s.top-a.scrollY,t.maxBottomOffset=this._bottomMaxOffset=s.top+e.height-o.top-r+a.scrollY}},_getBorderWidth:function(t,e){if(fi(t.get(0)))return 0;var i=t.css(vOe[e]);return parseInt(i)||0},_proportionate:function(t,e){var i=this._elementSize,n=t==="x"?i.width/i.height:i.height/i.width;return e*n},_getProportionalDelta:function(t){var{x:e,y:i}=t,n=this._proportionate("y",e);if(n>=i)return{x:e,y:n};var r=this._proportionate("x",i);return r>=e?{x:r,y:i}:{x:0,y:0}},_getDirectionName:function(t){var e=this._movingSides;return t==="x"?e.left?"left":"right":e.top?"top":"bottom"},_fitIntoArea:function(t,e){var i,n=this._getDirectionName(t);return Math.min(e,(i=this["_".concat(n,"MaxOffset")])!==null&&i!==void 0?i:1/0)},_fitDeltaProportionally:function(t){var e=te({},t),i=this._elementSize,{minWidth:n,minHeight:r,maxWidth:o,maxHeight:s}=this.option(),a=()=>i.width+e.x,l=()=>i.height+e.y,d=c=>e[c]===this._fitIntoArea(c,e[c]),u=()=>No(a(),n,o)&&d("x"),h=()=>No(l(),r,s)&&d("y");if(!u()){var p=this._fitIntoArea("x",ln(a(),n,o)-i.width);e={x:p,y:this._proportionate("y",p)}}if(!h()){var m=this._fitIntoArea("y",ln(l(),r,s)-i.height);e={x:this._proportionate("x",m),y:m}}return u()&&h()?e:{x:0,y:0}},_fitDelta:function(t){var{x:e,y:i}=t,n=this._elementSize,{minWidth:r,minHeight:o,maxWidth:s,maxHeight:a}=this.option();return{x:ln(n.width+e,r,s)-n.width,y:ln(n.height+i,o,a)-n.height}},_getDeltaByOffset:function(t){var e=this._movingSides,i=this._isCornerHandler(e)&&this.option("keepAspectRatio"),n={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)};if(i){var r=this._getProportionalDelta(n),o=this._fitDeltaProportionally(r);n=o}else{var s=this._fitDelta(n),a=this._roundByStep(s);n=a}return n},_updatePosition:function(t,e){var{width:i,height:n}=e,r=this._elementLocation,o=this._movingSides,s=this.$element(),a=this._getElementSize(),l=t.y*(o.top?-1:1)-((a.height||n)-n),d=t.x*(o.left?-1:1)-((a.width||i)-i);Vt(s,{top:r.top+(o.top?l:0),left:r.left+(o.left?d:0)})},_dragHandler:function(t){var e=this._getOffset(t),i=this._getDeltaByOffset(e),n=this._updateDimensions(i);this._updatePosition(i,n),this._triggerResizeAction(t,n)},_updateDimensions:function(t){var e=d=>d.substring(d.length-2)==="px",i=this.option("stepPrecision")==="strict",n=this._elementSize,r=n.width+t.x,o=n.height+t.y,s=this.$element().get(0).style,a=t.x||i||e(s.width),l=t.y||i||e(s.height);return a&&this.option({width:r}),l&&this.option({height:o}),{width:a?r:n.width,height:l?o:n.height}},_triggerResizeAction:function(t,e){var{width:i,height:n}=e;this._resizeAction({event:t,width:this.option("width")||i,height:this.option("height")||n,handles:this._movingSides}),Pr(this.$element())},_isCornerHandler:t=>Object.values(t).reduce((e,i)=>e^i,0)===0,_getOffset:function(t){var e=t.offset,i=this._movingSides;return!i.left&&!i.right&&(e.x=0),!i.top&&!i.bottom&&(e.y=0),e},_roundByStep:function(t){return this.option("stepPrecision")==="strict"?this._roundStrict(t):this._roundNotStrict(t)},_getSteps:function(){return cf(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict:function(t){var e=this._getSteps();return{x:t.x-t.x%e.h,y:t.y-t.y%e.v}},_roundStrict:function(t){var e=this._movingSides,i={x:t.x*(e.left?-1:1),y:t.y*(e.top?-1:1)},n=this._getSteps(),r=this._elementLocation,o=this._elementSize,s=e.left?r.left:r.left+o.width,a=e.top?r.top:r.top+o.height,l=(s+i.x)%n.h,d=(a+i.y)%n.v,u=Math.sign||(T=>(T=+T,T===0||isNaN(T)?T:T>0?1:-1)),h=(T,N)=>(1+.2*u(N))%1*T,p=(T,N)=>Math.abs(T)<.2*N,m=i.x-l,c=i.y-d;l>h(n.h,i.x)&&(m+=n.h),d>h(n.v,i.y)&&(c+=n.v);var x=(e.left||e.right)&&!p(i.x,n.h)?m:0,D=(e.top||e.bottom)&&!p(i.y,n.v)?c:0;return{x:x*(e.left?-1:1),y:D*(e.top?-1:1)}},_getMovingSides:function(t){var e=g(t.target),i=e.hasClass(wD+"-top-left"),n=e.hasClass(wD+"-top-right"),r=e.hasClass(wD+"-bottom-left"),o=e.hasClass(wD+"-bottom-right");return{top:e.hasClass(uOe)||i||n,left:e.hasClass(hOe)||i||r,bottom:e.hasClass(cOe)||r||o,right:e.hasClass(pOe)||n||o}},_getArea:function(){var t=this.option("area");return ce(t)&&(t=t.call(this)),Ve(t)?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaScrollOffset:function(){var t=this.option("area"),e=!ce(t)&&!Ve(t),i={scrollY:0,scrollX:0};if(e){var n=g(t)[0];fi(n)&&(i.scrollX=n.pageXOffset,i.scrollY=n.pageYOffset)}return i},_getAreaFromObject:function(t){var e={width:t.right-t.left,height:t.bottom-t.top,offset:{left:t.left,top:t.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement:function(t){var e=g(t),i;return e.length&&(i={width:pf(e),height:Yc(e),offset:y({top:0,left:0},fi(e[0])?{}:e.offset())},this._correctAreaGeometry(i,e)),i},_correctAreaGeometry:function(t,e){var i=e?this._getBorderWidth(e,"left"):0,n=e?this._getBorderWidth(e,"top"):0;t.offset.left+=i+this._getBorderWidth(this.$element(),"left"),t.offset.top+=n+this._getBorderWidth(this.$element(),"top"),t.width-=it(this.$element())-pf(this.$element()),t.height-=et(this.$element())-Yc(this.$element())},_dragEndHandler:function(t){var e=this.$element();this._resizeEndAction({event:t,width:it(e),height:et(e),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth:function(t){this.option("width",ln(t,this.option("minWidth"),this.option("maxWidth")))},_renderHeight:function(t){this.option("height",ln(t,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(t){switch(t.name){case"disabled":this._toggleEventHandlers(!t.value),this.callBase(t);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":Ne()&&this._renderWidth(it(this.$element()));break;case"minHeight":case"maxHeight":Ne()&&this._renderHeight(et(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(t)}},_clean:function(){this.$element().find("."+SD).remove()},_useTemplates:function(){return!1}});Be(ID,i8);var n8=i8;var _Oe=Sr.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(t){var e=new H,i=new H;this._deferredItems[t.index]=i;var n=this.callBase.call(this,t);return i.done(()=>{e.resolve(n)}),e.promise()},_onItemTemplateRendered:function(t,e){return()=>{this._deferredItems[e.index].resolve()}},_postProcessRenderItems:W,_renderItemsAsync(){var t=new H;return ye.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),t.resolve()}),t.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),r8=_Oe;var TD="dx-toolbar";var hP="dx-toolbar-before",COe="dx-toolbar-center",o8="dx-toolbar-after",xOe="dx-toolbar-mini",yOe="dx-toolbar-item",N_="dx-toolbar-label",bOe="dx-toolbar-button",DOe="dx-toolbar-items-container",OOe="dx-toolbar-group",s8="dx-toolbar-compact",a8="text",EOe="default",SOe="contained",wOe="dxToolbarItemDataKey",IOe=15,MD=class extends r8{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter(e=>e!=="disabled")}_initTemplates(){super._initTemplates();var e=new Er((function(i,n,r){if(Ve(n)){var{text:o,html:s,widget:a}=n;if(o&&i.text(o).wrapInner("<div>"),s&&i.html(s),a==="dxDropDownButton"){var l;n.options=(l=n.options)!==null&&l!==void 0?l:{},O(n.options.stylingMode)||(n.options.stylingMode=this.option("useFlatButtons")?a8:SOe)}if(a==="dxButton"){if(this.option("useFlatButtons")){var d,u;n.options=(d=n.options)!==null&&d!==void 0?d:{},n.options.stylingMode=(u=n.options.stylingMode)!==null&&u!==void 0?u:a8}if(this.option("useDefaultButtons")){var h,p;n.options=(h=n.options)!==null&&h!==void 0?h:{},n.options.type=(p=n.options.type)!==null&&p!==void 0?p:EOe}}}else i.text(String(n));this._getTemplate("dx-polymorph-widget").render({container:i,model:r,parent:this})}).bind(this),["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})}_getDefaultOptions(){return y(super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return ki()},options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".".concat(hP),".".concat(COe),".".concat(o8)].join(","))}_itemClass(){return yOe}_itemDataKey(){return wOe}_dimensionChanged(){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._renderItemsAsync(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass(TD),this._$toolbarItemsContainer=g("<div>").addClass(DOe).appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){var e=this._$toolbarItemsContainer;F(["before","center","after"],(i,n)=>{var r="dx-toolbar-".concat(n),o=e.find(".".concat(r));o.length||(this["_$".concat(n,"Section")]=g("<div>").addClass(r).attr("role","presentation").appendTo(e))})}_arrangeItems(e){var i;e=(i=e)!==null&&i!==void 0?i:Ae(this.$element()),this._$centerSection.css({margin:"0 auto",float:"none"});var n=Jt(this._$beforeSection.get(0)),r=Jt(this._$afterSection.get(0));this._alignCenterSection(n,r,e);var o=this._$toolbarItemsContainer.find(".".concat(N_)).eq(0),s=o.parent();if(o.length){var a=n.width?n.width:o.position().left,l=s.hasClass(hP)?0:a,d=s.hasClass(o8)?0:r.width,u=0;s.children().not(".".concat(N_)).each(function(){u+=it(this)});var h=e-u,p=Math.max(h-l-d,0);if(s.hasClass(hP))this._alignSection(this._$beforeSection,p);else{var m=it(o)-Ae(o);o.css("maxWidth",p-m)}}}_alignCenterSection(e,i,n){this._alignSection(this._$centerSection,n-e.width-i.width);var r=this.option("rtlEnabled"),o=r?i:e,s=r?e:i,a=Jt(this._$centerSection.get(0));(o.right>a.left||a.right>s.left)&&this._$centerSection.css({marginLeft:o.width,marginRight:s.width,float:o.width>s.width?"none":"right"})}_alignSection(e,i){var n=e.find(".".concat(N_)),r=n.toArray();i-=this._getCurrentLabelsPaddings(r);var o=this._getCurrentLabelsWidth(r),s=Math.abs(o-i);i<o?(r=r.reverse(),this._alignSectionLabels(r,s,!1)):this._alignSectionLabels(r,s,!0)}_alignSectionLabels(e,i,n){for(var r=function(u){return Jt(u).width},o=0;o<e.length;o++){var s=g(e[o]),a=Math.ceil(r(e[o])),l=void 0;n&&s.css("maxWidth","inherit");var d=Math.ceil(n?r(e[o]):a);if(d<i)l=n?d:0,i-=d;else{l=n?a+i:a-i,s.css("maxWidth",l);break}s.css("maxWidth",l)}}_applyCompactMode(){var e=this.$element();e.removeClass(s8),this.option("compactMode")&&this._getSummaryItemsSize("width",this.itemElements(),!0)>Ae(e)&&e.addClass(s8)}_getCurrentLabelsWidth(e){var i=0;return e.forEach(function(n,r){i+=it(n)}),i}_getCurrentLabelsPaddings(e){var i=0;return e.forEach(function(n,r){i+=it(n)-Ae(n)}),i}_renderItem(e,i,n,r){var o,s,a=(o=i.location)!==null&&o!==void 0?o:"center",l=n??this["_$".concat(a,"Section")],d=!!((s=i.text)!==null&&s!==void 0?s:i.html),u=super._renderItem(e,i,l,r);return u.toggleClass(bOe,!d).toggleClass(N_,d).addClass(i.cssClass),u}_renderGroupedItems(){F(this.option("items"),(e,i)=>{var n,r=i.items,o=g("<div>").addClass(OOe),s=(n=i.location)!==null&&n!==void 0?n:"center";!r||!r.length||(F(r,(a,l)=>{this._renderItem(a,l,o,null)}),this._$toolbarItemsContainer.find(".dx-toolbar-".concat(s)).append(o))})}_renderItems(e){var i=this.option("grouped")&&e.length&&e[0].items;i?this._renderGroupedItems():super._renderItems(e)}_getToolbarItems(){var e;return(e=this.option("items"))!==null&&e!==void 0?e:[]}_renderContentImpl(){var e=this._getToolbarItems();this.$element().toggleClass(xOe,e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(e){e&&this._arrangeItems()}_isVisible(){return Ae(this.$element())>0&&je(this.$element())>0}_getIndexByItem(e){return this._getToolbarItems().indexOf(e)}_itemOptionChanged(e,i,n){super._itemOptionChanged.apply(this,[e,i,n]),this._arrangeItems()}_optionChanged(e){var{name:i,value:n}=e;switch(i){case"width":super._optionChanged.apply(this,arguments),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged.apply(this,arguments)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){mi()&&Promise.all([new Promise(e=>{var i=()=>{var r=!0;return this.$element().parents().each((o,s)=>{if(Et.isAnimating(g(s)))return r=!1,!1}),r&&e(),r},n=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>i()||n(),IOe)};n()}),(()=>{var e=this.$element().find(".".concat(N_)),i=[];return e.each((n,r)=>{var o=g(r).text(),s=g(r).css("fontWeight");i.push(DM(o,s))}),Promise.all(i)})()]).then(()=>{this._dimensionChanged()})}};Be("dxToolbarBase",MD);var l8=MD;var d8=Le(),TOe={observe:W,unobserve:W,disconnect:W},pP=class{constructor(){if(!Ne()||!d8.ResizeObserver)return TOe;this._callbacksMap=new Map,this._observer=new d8.ResizeObserver(e=>{e.forEach(i=>{var n;(n=this._callbacksMap.get(i.target))===null||n===void 0||n(i)})})}observe(e,i){this._callbacksMap.set(e,i),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}},MOe=new pP,hl=MOe;var AOe=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],fP=Le(),AD=class extends Ru{constructor(e){var{fullScreen:i,forceApplyBindings:n,dragOutsideBoundary:r,dragAndResizeArea:o,outsideDragFactor:s}=e,a=St(e,AOe);super(a),this._props=te({},this._props,{fullScreen:i,forceApplyBindings:n,dragOutsideBoundary:r,dragAndResizeArea:o,outsideDragFactor:s}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}set fullScreen(e){this._props.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}set dragAndResizeArea(e){this._props.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._props.dragOutsideBoundary=e,this._updateDragResizeContainer()}set outsideDragFactor(e){this._props.outsideDragFactor=e}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._props.fullScreen)Vt(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,i;(e=(i=this._props).forceApplyBindings)===null||e===void 0||e.call(i),super.positionContent()}}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return g(fP);if(this._props.dragAndResizeArea)return g(this._props.dragAndResizeArea);var e=Db().get(0)||this._props.container;return e?this._$markupContainer:g(fP)}_getVisualContainer(){return this._props.fullScreen?g(fP):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}};var ROe={setOverflow:W,restoreOverflow:W},u8=()=>{if(!Ne())return ROe;var t=Le(),e=ie.getDocument().documentElement,i=ie.getBody(),n=be.real().platform==="ios",r={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null},o=()=>{var a=t.innerWidth-e.clientWidth;if(!(r.paddingRight||a<=0)){var l=t.getComputedStyle(i).getPropertyValue("padding-right"),d=parseInt(l,10);r.paddingRight=d,i.style.setProperty("padding-right","".concat(d+a,"px"))}},s=()=>{O(r.paddingRight)&&(r.paddingRight?i.style.setProperty("padding-right","".concat(r.paddingRight,"px")):i.style.removeProperty("padding-right"),r.paddingRight=null)};return{setOverflow:n?()=>{if(!(O(r.position)||i.style.position==="fixed")){var{scrollY:a,scrollX:l}=t;r.position=i.style.position,r.top=i.style.top,r.left=i.style.left,i.style.setProperty("position","fixed"),i.style.setProperty("top","".concat(-a,"px")),i.style.setProperty("left","".concat(-l,"px"))}}:()=>{o(),!(r.overflow||i.style.overflow==="hidden")&&(r.overflow=i.style.overflow,r.overflowX=i.style.overflowX,r.overflowY=i.style.overflowY,i.style.setProperty("overflow","hidden"))},restoreOverflow:n?()=>{if(O(r.position)){var a=-parseInt(i.style.top,10),l=-parseInt(i.style.left,10);["position","top","left"].forEach(d=>{r[d]?i.style.setProperty(d,r[d]):i.style.removeProperty(d)}),t.scrollTo(l,a),r.position=null}}:()=>{s(),["overflow","overflowX","overflowY"].forEach(a=>{if(O(r[a])){var l=a.replace(/(X)|(Y)/,d=>"-".concat(d.toLowerCase()));r[a]?i.style.setProperty(l,r[a]):i.style.removeProperty(l),r[a]=null}})}}};var FOe=Le(),gP="dx-popup",c8="dx-popup-wrapper",POe="dx-popup-fullscreen",kOe="dx-popup-fullscreen-width",NOe="dx-popup-normal",LOe="dx-popup-content",BOe="dx-popup-content-scrollable",VOe="dx-state-disabled",HOe="dx-popup-draggable",h8="dx-popup-title",zOe="dx-closebutton",p8="dx-popup-bottom",WOe="dx-has-close-button",jOe="dx-template-wrapper",$Oe="dx-popup-flex-height",GOe="dx-popup-inherit-height",UOe="dx-toolbar-label",f8=["cancel","clear","done"],KOe="default",qOe="normal",JOe="text",g8="contained",YOe="outlined",XOe=Nt.safari&&Xb(Nt.version,[11])<0,Uu={static:"",inherit:GOe,flex:$Oe},QOe=t=>{var e=be.current(),i=e.platform,n="bottom",r="before";if(i==="ios")switch(t){case"cancel":n="top";break;case"clear":n="top",r="after";break;case"done":r="after"}else if(i==="android")switch(t){case"cancel":case"done":r="after"}return{toolbar:n,location:r}},m8=Rn.inherit({_supportedKeys:function(){return y(this.callBase(),{upArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveUp(t)},downArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveDown(t)},leftArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveLeft(t)},rightArrow:t=>{var e;(e=this._drag)===null||e===void 0||e.moveRight(t)}})},_getDefaultOptions:function(){return y(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(t){return be.real().deviceType==="desktop"&&t.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return be.real().deviceType==="desktop"&&!be.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return ki()},options:{useFlatToolbarButtons:!0}},{device:function(){return mi()},options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation:function(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init:function(){var t=this.option("_wrapperClassExternal"),e=t?"".concat(c8," ").concat(t):c8;this.callBase(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass(gP),this.$wrapper().addClass(e),this._$popupContent=this._$content.wrapInner(g("<div>").addClass(LOe)).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")},_render:function(){var t=this.option("fullScreen");this._toggleFullScreenClass(t),this.callBase()},_createBodyOverflowManager:function(){this._bodyOverflowManager=u8()},_toggleFullScreenClass:function(t){this.$overlayContent().toggleClass(POe,t).toggleClass(NOe,!t)},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new kr,bottom:new kr})},_getActionsList:function(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler:function(t){this._shouldSkipContentResize(t)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions:function(){var t=this.option("animation");return["to","from"].some(e=>{var i,n=t==null||(i=t.show)===null||i===void 0?void 0:i[e];return ke(n)&&("width"in n||"height"in n)})},_updateResizeCallbackSkipCondition(){var t=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=e=>t&&this._showAnimationProcessing||this._areContentDimensionsRendered(e)},_observeContentResize:function(t){if(this.option("useResizeObserver")){var e=this._$content.get(0);t?hl.observe(e,i=>{this._contentResizeHandler(i)}):hl.unobserve(e)}},_areContentDimensionsRendered:function(t){var e,i,n,r=(e=t.contentBoxSize)===null||e===void 0?void 0:e[0];if(r){var o,s;return parseInt(r.inlineSize,10)===((o=this._renderedDimensions)===null||o===void 0?void 0:o.width)&&parseInt(r.blockSize,10)===((s=this._renderedDimensions)===null||s===void 0?void 0:s.height)}var a=t.contentRect;return parseInt(a.width,10)===((i=this._renderedDimensions)===null||i===void 0?void 0:i.width)&&parseInt(a.height,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.height)},_renderContent(){this.callBase(),this._observeContentResize(!0)},_renderContentImpl:function(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle:function(){var t=this._getToolbarItems("top"),{title:e,showTitle:i}=this.option();if(i&&e&&t.unshift({location:be.current().ios?"center":"before",text:e}),i||t.length>0){this._$title&&this._$title.remove();var n=g("<div>").addClass(h8).insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",t,n).addClass(h8),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass(WOe,this._hasCloseButton())}else this._$title&&this._$title.detach();this._toggleAriaLabel()},_toggleAriaLabel(){var t,{title:e,showTitle:i}=this.option(),n=i&&!!e,r=n?new kt:null;(t=this._$title)===null||t===void 0||t.find(".".concat(UOe)).eq(0).attr("id",r),this.$overlayContent().attr("aria-labelledby",r)},_renderTemplateByType:function(t,e,i,n){var{rtlEnabled:r,useDefaultToolbarButtons:o,useFlatToolbarButtons:s,disabled:a}=this.option(),l=this._getTemplateByOption(t),d=l instanceof kr;if(d){var u=y({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),h=y(n,{items:e,rtlEnabled:r,useDefaultButtons:o,useFlatButtons:s,disabled:a,integrationOptions:u});this._getTemplate("dx-polymorph-widget").render({container:i,model:{widget:this._getToolbarName(),options:h}});var p=i.children("div");return i.replaceWith(p),p}else{var m=g(l.render({container:Pe(i)}));return m.hasClass(jOe)&&(i.replaceWith(m),i=m),i}},_getToolbarName:function(){return"dxToolbarBase"},_renderVisibilityAnimate:function(t){return this.callBase(t)},_hide(){return this._observeContentResize(!1),this.callBase()},_executeTitleRenderAction:function(t){this._getTitleRenderAction()({titleElement:Pe(t)})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return(t,e,i)=>{var n=g("<div>").addClass(zOe);this._createComponent(n,ci,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),g(i).append(n)}},_getToolbarItems:function(t){var e=this.option("toolbarItems"),i=[];this._toolbarItemClasses=[];var n=be.current().platform,r=0;return F(e,(o,s)=>{var a=O(s.shortcut),l=a?QOe(s.shortcut):s;if(a&&n==="ios"&&r<2&&(l.toolbar="top",r++),l.toolbar=s.toolbar||l.toolbar||"top",l&&l.toolbar===t){a&&y(l,{location:s.location},this._getToolbarItemByAlias(s));var d=n==="generic";s.shortcut==="done"&&d||s.shortcut==="cancel"&&!d?i.unshift(l):i.push(l)}}),t==="top"&&this._hasCloseButton()&&i.push(this._getCloseButton()),i},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:t=>t.toLowerCase()==="done"?"OK":ho(t,!0),_getToolbarButtonStylingMode:function(t){return Ui()?t==="done"?g8:YOe:this.option("useFlatToolbarButtons")?JOe:g8},_getToolbarButtonType:function(t){return Ui()&&t==="done"||this.option("useDefaultToolbarButtons")?KOe:qOe},_getToolbarItemByAlias:function(t){var e=this,i=t.shortcut;if(!f8.includes(i))return!1;var n=y({text:j.format(this._getLocalizationKey(i)),onClick:this._createToolbarItemAction(t.onClick),integrationOptions:{},type:this._getToolbarButtonType(i),stylingMode:this._getToolbarButtonStylingMode(i)},t.options||{}),r=gP+"-"+i;return this._toolbarItemClasses.push(r),{template:function(o,s,a){var l=g("<div>").addClass(r).appendTo(a);e._createComponent(l,ci,n)}}},_createToolbarItemAction:function(t){return this._createAction(t,{afterExecute:function(e){e.component.hide()}})},_renderBottom:function(){var t=this._getToolbarItems("bottom");if(t.length){this._$bottom&&this._$bottom.remove();var e=g("<div>").addClass(p8).insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",t,e,{compactMode:!0}).addClass(p8),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState:function(t){this.callBase(...arguments),this.$content().toggleClass(VOe,!!t)},_toggleClasses:function(){var t=f8;F(t,(e,i)=>{var n=gP+"-"+i;this._toolbarItemClasses.includes(n)?(this.$wrapper().addClass(n+"-visible"),this._$bottom.addClass(n)):(this.$wrapper().removeClass(n+"-visible"),this._$bottom.removeClass(n))})},_toggleFocusClass(t,e){if(this.callBase(t,e),t&&!UU(this._zIndex)){var i=e0(this._zIndexInitValue());Rv(this._zIndex),this._zIndex=i,this._$wrapper.css("zIndex",i),this._$content.css("zIndex",i)}},_toggleContentScrollClass(){var t=!this.option("preventScrollEvents");this.$content().toggleClass(BOe,t)},_getPositionControllerConfig(){var{fullScreen:t,forceApplyBindings:e,dragOutsideBoundary:i,dragAndResizeArea:n,outsideDragFactor:r}=this.option();return y({},this.callBase(),{fullScreen:t,forceApplyBindings:e,dragOutsideBoundary:i,dragAndResizeArea:n,outsideDragFactor:r})},_initPositionController(){this._positionController=new AD(this._getPositionControllerConfig())},_getDragTarget:function(){return this.topToolbar()},_renderGeometry:function(t){var{visible:e,useResizeObserver:i}=this.option();if(e&&Ne()){var n=this._showAnimationProcessing,r=n&&!(t!=null&&t.forceStopAnimation)&&i;this._isAnimationPaused=r||void 0,this._stopAnimation(),t!=null&&t.shouldOnlyReposition?this._renderPosition(!1):this._renderGeometryImpl(t?.isDimensionChange),r&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions:function(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(Ae(this._$content),10),height:parseInt(je(this._$content),10)})},_renderGeometryImpl:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;t||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight:function(){var t=this._getOptionValue("height");t==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag:function(){var t=this._getDragTarget(),e=this.option("dragEnabled");if(t){var i={dragEnabled:e,handle:t.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(i):this._drag=new t8(i),this.$overlayContent().toggleClass(HOe,e)}},_renderResize:function(){this._resizable=this._createComponent(this._$content,n8,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:t=>{this._resizeEndHandler(t),this._observeContentResize(!0)},onResize:t=>{this._setContentHeight(),this._actions.onResize(t)},onResizeStart:t=>{this._observeContentResize(!1),this._actions.onResizeStart(t)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler:function(t){var e=this._resizable.option("width"),i=this._resizable.option("height");e&&this._setOptionWithoutOptionChange("width",e),i&&this._setOptionWithoutOptionChange("height",i),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(t.event),this._actions.onResizeEnd(t)},_setContentHeight:function(){(this.option("forceApplyBindings")||W)();var t=this.$overlayContent().get(0),e=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(e,t)),this._setHeightClasses(this.$overlayContent(),e)},_heightStrategyChangeOffset:function(t,e){return t===Uu.flex?-e:0},_chooseHeightStrategy:function(t){var e=t.style.width==="auto"||t.style.width==="",i=Uu.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||XOe?i=Uu.inherit:i=Uu.flex),i},_getHeightCssStyles:function(t,e){var i={},n=this._getOptionValue("maxHeight",e),r=this._getOptionValue("minHeight",e),o=this._splitPopupHeight(),s=o.header+o.footer+o.contentVerticalOffsets+o.popupVerticalOffsets+this._heightStrategyChangeOffset(t,o.popupVerticalPaddings);if(t===Uu.static){if(!this._isAutoHeight()||n||r){var a=this.option("fullScreen")?Math.min(Jt(e).height,Le().innerHeight):Jt(e).height,l=a-s;i={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{var d=g(this._positionController.$visualContainer).get(0),u=_2(n,-s,d),h=C2(r,-s,d);i={height:"auto",minHeight:h,maxHeight:u}}return i},_setHeightClasses:function(t,e){var i="";for(var n in Uu)Uu[n]!==e&&(i+=" "+Uu[n]);t.removeClass(i).addClass(e)},_isAutoHeight:function(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight:function(){var t=this.topToolbar(),e=this.bottomToolbar();return{header:ZT(t&&t.get(0)),footer:ZT(e&&e.get(0)),contentVerticalOffsets:mb(this.$overlayContent().get(0),!0),popupVerticalOffsets:mb(this.$content().get(0),!0),popupVerticalPaddings:mb(this.$content().get(0),!1)}},_isAllWindowCovered:function(){return this.callBase()||this.option("fullScreen")},_renderDimensions:function(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),Ne()&&this._renderFullscreenWidthClass()},_dimensionChanged:function(){this._renderGeometry({isDimensionChange:!0})},_clean:function(){this.callBase(),this._observeContentResize(!1)},_dispose:function(){this.callBase(),this._toggleBodyScroll(!0)},_renderFullscreenWidthClass:function(){this.$overlayContent().toggleClass(kOe,it(this.$overlayContent())===Ae(FOe))},_toggleSafariScrolling(){this.option("enableBodyScroll")&&this.callBase()},_toggleBodyScroll:function(t){if(this._bodyOverflowManager){var{setOverflow:e,restoreOverflow:i}=this._bodyOverflowManager;t?i():e()}},refreshPosition:function(){this._renderPosition()},_optionChanged:function(t){var e,{value:i,name:n}=t;switch(n){case"disabled":this.callBase(t),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this.option("visible")&&this._toggleBodyScroll(i);break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),Pr(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),Pr(this.$overlayContent());break;case"container":if(this.callBase(t),this.option("resizeEnabled")){var r;(r=this._resizable)===null||r===void 0||r.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":this.callBase(t),(e=this._resizable)===null||e===void 0||e.option(n,i);break;case"onTitleRendered":this._createTitleRenderAction(i);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":var o=!t.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),o&&(this._renderGeometry(),Pr(this.$overlayContent()));break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=i,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=i;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),Pr(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=i,this._toggleFullScreenClass(i),this._toggleSafariScrolling(),this._renderGeometry(),Pr(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;case"preventScrollEvents":this.callBase(t),this._toggleContentScrollClass();break;default:this.callBase(t)}},bottomToolbar:function(){return this._$bottom},topToolbar:function(){return this._$title},$content:function(){return this._$popupContent},content:function(){return Pe(this.$content())},$overlayContent:function(){return this._$content},getFocusableElements:function(){return this.$wrapper().find("[tabindex]").filter((t,e)=>e.getAttribute("tabindex")>=0)}});Be("dxPopup",m8);var Xn=m8;var v8={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"};var ZOe=["shading","target","$arrow"],dd={left:-1,top:-1,center:0,right:1,bottom:1},mP={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},eEe={h:10,v:10},RD=class extends Ru{constructor(e){var{shading:i,target:n,$arrow:r}=e,o=St(e,ZOe);super(o),this._props=te({},this._props,{shading:i,target:n}),this._$arrow=r,this._positionSide=void 0,this.updatePosition(this._props.position)}positionWrapper(){this._props.shading&&this._$wrapper.css({top:0,left:0})}updateTarget(e){this._props.target=e,this.updatePosition(this._props.position)}_renderBoundaryOffset(){}_getContainerPosition(){var e=cf(this._position.offset||""),{h:i,v:n}=e,r=this._isVerticalSide(),o=this._isHorizontalSide();if(r||o){var s=this._isPopoverInside(),a=(s?-1:1)*dd[this._positionSide],l=r?je(this._$arrow):Ae(this._$arrow),d=this._getContentBorderWidth(this._positionSide),u=a*(l-d);r?n+=u:i+=u}return y({},this._position,{offset:i+" "+n})}_getContentBorderWidth(e){var i=this._$content.css(v8[e]);return parseInt(i)||0}_isPopoverInside(){var e=en.setup.normalizeAlign(this._position.my),i=en.setup.normalizeAlign(this._position.at);return e.h===i.h&&e.v===i.v}_isVerticalSide(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return e==="top"||e==="bottom"}_isHorizontalSide(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._positionSide;return e==="left"||e==="right"}_getDisplaySide(e){var i=en.setup.normalizeAlign(e.my),n=en.setup.normalizeAlign(e.at),r=dd[i.h]===dd[n.h]&&dd[i.v]===dd[n.v]?-1:1,o=Math.abs(dd[i.h]-r*dd[n.h]),s=Math.abs(dd[i.v]-r*dd[n.v]);return o>s?n.h:n.v}_normalizePosition(e){var i={of:this._props.target,boundaryOffset:eEe},n;return O(e)?n=y(!0,{},i,this._positionToObject(e)):n=i,this._positionSide=this._getDisplaySide(n),n}_positionToObject(e){return Se(e)?y({},mP[e]):e}};var tEe="dx-popover",iEe="dx-popover-wrapper",nEe="dx-popover-arrow",rEe="dx-popover-without-title",_8={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},C8=function(t){return ke(t)?t.name:t},x8=function(t,e){var i=t.option(e);return C8(i)},oEe=function(t,e){var i=t.option(e);return ke(i)&&i.delay},vP=function(t,e){var{target:i,shading:n,disabled:r,hideEvent:o}=t.option(),s=Se(i),a=n&&e==="hide",l=a?null:x8(t,"".concat(e,"Event"));if(a&&o&&Ke.log("W1020"),!(!l||r)){var d=ne(l,t.NAME),u=t._createAction((function(){var c=oEe(t,e+"Event");this._clearEventsTimeouts(),c?this._timeouts[e]=setTimeout(function(){t[e]()},c):t[e]()}).bind(t),{validatingTargetName:"target"}),h=function(c){u({event:c,target:g(c.currentTarget)})},p="_"+e+"EventHandler";if(s)t[p]=h,S.on(ie.getDocument(),d,i,h);else{var m=Pe(g(i));t[p]=void 0,S.on(m,d,h)}}},_P=function(t,e,i,n){var r=n||x8(t,i+"Event");if(r){r=ne(r,t.NAME);var o="_"+i+"EventHandler";t[o]?S.off(ie.getDocument(),r,e,t[o]):S.off(Pe(g(e)),r)}},y8=Xn.inherit({_getDefaultOptions:function(){return y(this.callBase(),{target:void 0,shading:!1,position:y({},mP.bottom),hideOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:function(){return!Ne()},options:{animation:null}},{device:function(){return ki()},options:{useFlatToolbarButtons:!0}},{device:function(){return mi()},options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}]},_init:function(){var t;this.callBase(),this._renderArrow(),this._timeouts={},this.$element().addClass(tEe),this.$wrapper().addClass(iEe);var e=(t=this.option("toolbarItems"))===null||t===void 0?void 0:t.length;this.setAria("role",e?"dialog":"tooltip")},_render:function(){this.callBase.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()},_detachEvents:function(t){_P(this,t,"show"),_P(this,t,"hide")},_attachEvents:function(){vP(this,"show"),vP(this,"hide")},_renderArrow:function(){this._$arrow=g("<div>").addClass(nEe).prependTo(this.$overlayContent())},_documentDownHandler:function(t){return this._isOutsideClick(t)?this.callBase(t):!0},_isOutsideClick:function(t){return!g(t.target).closest(this.option("target")).length},_animate:function(t){t&&t.to&&typeof t.to=="object"&&y(t.to,{position:this._getContainerPosition()}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this.$wrapper().toggleClass(rEe,!this.option("showTitle")),this.callBase()},_renderPosition:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.callBase(),this._renderOverlayPosition(t),this._actions.onPositioned()},_renderOverlayPosition:function(t){this._resetOverlayPosition(t),this._updateContentSize(t);var e=this._getContainerPosition(),i=en.setup(this.$overlayContent(),e),n=this._getSideByLocation(i);this._togglePositionClass("dx-position-"+n),this._toggleFlippedClass(i.h.flip,i.v.flip);var r=this._isHorizontalSide()||this._isVerticalSide();r&&this._renderArrowPosition(n)},_resetOverlayPosition:function(t){this._setContentHeight(t),this._togglePositionClass("dx-position-"+this._positionController._positionSide),Vt(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(t){if(!(!this.$content()||!t)){var e=en.calculate(this.$overlayContent(),this._getContainerPosition());if(e.h.oversize>0&&this._isHorizontalSide()&&!e.h.fit){var i=Ae(this.$overlayContent())-e.h.oversize;Ao(this.$overlayContent(),i)}if(e.v.oversize>0&&this._isVerticalSide()&&!e.v.fit){var n=je(this.$overlayContent())-e.v.oversize,r=je(this.$content())-e.v.oversize;nr(this.$overlayContent(),n),nr(this.$content(),r)}}},_getContainerPosition:function(){return this._positionController._getContainerPosition()},_getHideOnParentScrollTarget:function(){return g(this._positionController._position.of||this.callBase())},_getSideByLocation:function(t){var e=t.v.flip,i=t.h.flip;return this._isVerticalSide()&&e||this._isHorizontalSide()&&i||this._isPopoverInside()?_8[this._positionController._positionSide]:this._positionController._positionSide},_togglePositionClass:function(t){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(t)},_toggleFlippedClass:function(t,e){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",t).toggleClass("dx-popover-flipped-vertical",e)},_renderArrowPosition:function(t){var e=Jt(this._$arrow.get(0)),i=-(this._isVerticalSide(t)?e.height:e.width);this._$arrow.css(_8[t],i);var n=this._isVerticalSide(t)?"left":"top",r=this._isVerticalSide(t)?"width":"height",o=g(this._positionController._position.of),s=en.offset(o)||{top:0,left:0},a=en.offset(this.$overlayContent()),l=e[r],d=a[n],u=Jt(this.$overlayContent().get(0))[r],h=s[n],p=o.get(0),m=p&&!p.preventDefault?Jt(p)[r]:0,c=Math.max(d,h),x=Math.min(d+u,h+m),D;this.option("arrowPosition")==="start"?D=c-d:this.option("arrowPosition")==="end"?D=x-d-l:D=(c+x)/2-d-l/2;var T=this._positionController._getContentBorderWidth(t),N=ln(D-T+this.option("arrowOffset"),T,u-l-2*T);this._$arrow.css(n,N)},_isPopoverInside:function(){return this._positionController._isPopoverInside()},_setContentHeight:function(t){t&&this.callBase()},_getPositionControllerConfig(){var{shading:t,target:e}=this.option();return y({},this.callBase(),{target:e,shading:t,$arrow:this._$arrow})},_initPositionController(){this._positionController=new RD(this._getPositionControllerConfig())},_renderWrapperDimensions:function(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})},_isVerticalSide:function(t){return this._positionController._isVerticalSide(t)},_isHorizontalSide:function(t){return this._positionController._isHorizontalSide(t)},_clearEventTimeout:function(t){clearTimeout(this._timeouts[t])},_clearEventsTimeouts:function(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")},_clean:function(){this._detachEvents(this.option("target")),this.callBase.apply(this,arguments)},_optionChanged:function(t){switch(t.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":t.value&&this.option("fullScreen",!1);break;case"target":t.previousValue&&this._detachEvents(t.previousValue),this._positionController.updateTarget(t.value),this._invalidate();break;case"showEvent":case"hideEvent":var e=t.name.substring(0,4),i=C8(t.previousValue);this.hide(),_P(this,this.option("target"),e,i),vP(this,e);break;case"visible":this._clearEventTimeout(t.value?"show":"hide"),this.callBase(t);break;default:this.callBase(t)}},show:function(t){return t&&this.option("target",t),this.callBase()}});Be("dxPopover",y8);var b8=y8;var dg=Le(),sEe="dx-actionsheet",aEe="dx-actionsheet-container",lEe="dx-actionsheet-popup-wrapper",dEe="dx-actionsheet-popover-wrapper",uEe="dx-actionsheet-cancel",cEe="dx-actionsheet-item",hEe="dxActionSheetItemData",pEe="dx-actionsheet-without-title",D8="outlined",O8=Sr.inherit({_getDefaultOptions:function(){return y(this.callBase(),{usePopover:!1,target:null,title:"",showTitle:!0,showCancelButton:!0,cancelText:j.format("Cancel"),onCancelClick:null,visible:!1,noDataText:"",focusStateEnabled:!1,selectByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios",tablet:!0},options:{usePopover:!0}}])},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Er(function(t,e){var i=new ci(g("<div>"),y({onClick:e&&e.click,stylingMode:e&&e.stylingMode||D8},e));t.append(i.$element())},["disabled","icon","text","type","onClick","click","stylingMode"],this.option("integrationOptions.watchMethod"))})},_itemContainer:function(){return this._$itemContainer},_itemClass:function(){return cEe},_itemDataKey:function(){return hEe},_toggleVisibility:W,_renderDimensions:W,_initMarkup:function(){this.callBase(),this.$element().addClass(sEe),this._createItemContainer()},_render:function(){this._renderPopup()},_createItemContainer:function(){this._$itemContainer=g("<div>").addClass(aEe),this._renderDisabled()},_renderDisabled:function(){this._$itemContainer.toggleClass("dx-state-disabled",this.option("disabled"))},_renderPopup:function(){this._$popup=g("<div>").appendTo(this.$element()),this._isPopoverMode()?this._createPopover():this._createPopup(),this._renderPopupTitle(),this._mapPopupOption("visible")},_mapPopupOption:function(t){this._popup&&this._popup.option(t,this.option(t))},_isPopoverMode:function(){return this.option("usePopover")&&this.option("target")},_renderPopupTitle:function(){this._mapPopupOption("showTitle"),this._popup&&this._popup.$wrapper().toggleClass(pEe,!this.option("showTitle"))},_clean:function(){this._$popup&&this._$popup.remove(),this.callBase()},_overlayConfig:function(){return{onInitialized:(function(t){this._popup=t.component}).bind(this),disabled:!1,showTitle:!0,title:this.option("title"),deferRendering:!dg.angular,onContentReady:this._popupContentReadyAction.bind(this),onHidden:this.hide.bind(this)}},_createPopover:function(){this._createComponent(this._$popup,b8,y(this._overlayConfig(),{width:this.option("width")||200,height:this.option("height")||"auto",target:this.option("target")})),this._popup.$overlayContent().attr("role","dialog"),this._popup.$wrapper().addClass(dEe)},_createPopup:function(){this._createComponent(this._$popup,Xn,y(this._overlayConfig(),{dragEnabled:!1,width:this.option("width")||"100%",height:this.option("height")||"auto",showCloseButton:!1,position:{my:"bottom",at:"bottom",of:dg},animation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom",of:dg}},to:{position:{my:"bottom",at:"bottom",of:dg}}},hide:{type:"slide",duration:400,from:{position:{my:"bottom",at:"bottom",of:dg}},to:{position:{my:"top",at:"bottom",of:dg}}}}})),this._popup.$wrapper().addClass(lEe)},_popupContentReadyAction:function(){this._popup.$content().append(this._$itemContainer),this._attachClickEvent(),this._attachHoldEvent(),this._prepareContent(),this._renderContent(),this._renderCancelButton()},_renderCancelButton:function(){if(!this._isPopoverMode()&&(this._$cancelButton&&this._$cancelButton.remove(),this.option("showCancelButton"))){var t=this._createActionByOption("onCancelClick")||W,e=this;this._$cancelButton=g("<div>").addClass(uEe).appendTo(this._popup&&this._popup.$content()),this._createComponent(this._$cancelButton,ci,{disabled:!1,stylingMode:D8,text:this.option("cancelText"),onClick:function(i){var n={event:i,cancel:!1};t(n),n.cancel||e.hide()},integrationOptions:{}})}},_attachItemClickEvent:W,_itemClickHandler:function(t){this.callBase(t),g(t.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_itemHoldHandler:function(t){this.callBase(t),g(t.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()},_optionChanged:function(t){switch(t.name){case"width":case"height":case"visible":case"title":this._mapPopupOption(t.name);break;case"disabled":this._renderDisabled();break;case"showTitle":this._renderPopupTitle();break;case"showCancelButton":case"onCancelClick":case"cancelText":this._renderCancelButton();break;case"target":case"usePopover":case"items":this._invalidate();break;default:this.callBase(t)}},toggle:function(t){var e=this,i=new H;return e._popup.toggle(t).done(function(){e.option("visible",t),i.resolveWith(e)}),i.promise()},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)}});Be("dxActionSheet",O8);var E8=O8;var I8="dxListEditDecorator",S8=ne(lt,I8),fEe=ne(Xl,I8),gEe="dx-list-slide-menu",mEe="dx-list-slide-menu-wrapper",CP="dx-list-slide-menu-content",vEe="dx-list-slide-menu-buttons-container",_Ee="dx-list-slide-menu-buttons",w8="dx-list-slide-menu-button",CEe="dx-list-slide-menu-button-menu",xEe="dx-list-slide-menu-button-delete",yEe=400,bEe="cubic-bezier(0.075, 0.82, 0.165, 1)";go("menu","slide",OD.inherit({_shouldHandleSwipe:!0,_init:function(){this.callBase.apply(this,arguments),this._$buttonsContainer=g("<div>").addClass(vEe),S.on(this._$buttonsContainer,fEe,W),this._$buttons=g("<div>").addClass(_Ee).appendTo(this._$buttonsContainer),this._renderMenu(),this._renderDeleteButton()},_renderMenu:function(){if(this._menuEnabled()){var t=this._menuItems();if(t.length===1){var e=t[0];this._renderMenuButton(e.text,(function(r){r.stopPropagation(),this._fireAction(e)}).bind(this))}else{var i=g("<div>").addClass(gEe);this._menu=this._list._createComponent(i,E8,{showTitle:!1,items:t,onItemClick:(function(r){this._fireAction(r.itemData)}).bind(this),integrationOptions:{}}),i.appendTo(this._list.$element());var n=this._renderMenuButton(j.format("dxListEditDecorator-more"),(function(r){r.stopPropagation(),this._menu.show()}).bind(this));this._menu.option("target",n)}}},_renderMenuButton:function(t,e){var i=g("<div>").addClass(w8).addClass(CEe).text(t);return this._$buttons.append(i),S.on(i,S8,e),i},_renderDeleteButton:function(){if(this._deleteEnabled()){var t=g("<div>").addClass(w8).addClass(xEe).text(ki()?"":j.format("dxListEditDecorator-delete"));S.on(t,S8,(function(e){e.stopPropagation(),this._deleteItem()}).bind(this)),this._$buttons.append(t)}},_fireAction:function(t){this._fireMenuAction(g(this._cachedNode),t.action),this._cancelDeleteReadyItem()},modifyElement:function(t){this.callBase.apply(this,arguments);var e=t.$itemElement;e.addClass(mEe);var i=g("<div>").addClass(CP);e.wrapInner(i)},_getDeleteButtonContainer:function(){return this._$buttonsContainer},handleClick:function(t,e){return g(e.target).closest("."+CP).length?this.callBase.apply(this,arguments):!1},_swipeStartHandler:function(t){this._enablePositioning(t),this._cacheItemData(t),this._setPositions(this._getPositions(0))},_swipeUpdateHandler:function(t,e){var i=this._isRtlEnabled(),n=i?-1:1,r=this._isReadyToDelete(t),o=this._getCurrentPositions().content===this._getStartPositions().content;if(o&&!r&&e.offset*n>0){e.cancel=!0;return}var s=this._cachedItemWidth*e.offset,a=r?-this._cachedButtonWidth*n:0,l=(s+a)*n,d=l<0?Math.abs((s+a)/this._cachedButtonWidth):0;return this._setPositions(this._getPositions(d)),!0},_getStartPositions:function(){var t=this._isRtlEnabled(),e=t?-1:1;return{content:0,buttonsContainer:t?-this._cachedButtonWidth:this._cachedItemWidth,buttons:-this._cachedButtonWidth*e}},_getPositions:function(t){var e=this._isRtlEnabled(),i=e?-1:1,n=this._getStartPositions();return{content:n.content-t*this._cachedButtonWidth*i,buttonsContainer:n.buttonsContainer-Math.min(t,1)*this._cachedButtonWidth*i,buttons:n.buttons+Math.min(t,1)*this._cachedButtonWidth*i}},_getCurrentPositions:function(){return{content:In(this._$cachedContent).left,buttonsContainer:In(this._$buttonsContainer).left,buttons:In(this._$buttons).left}},_setPositions:function(t){Vt(this._$cachedContent,{left:t.content}),Vt(this._$buttonsContainer,{left:t.buttonsContainer}),Vt(this._$buttons,{left:t.buttons})},_cacheItemData:function(t){t[0]!==this._cachedNode&&(this._$cachedContent=t.find("."+CP),this._cachedItemWidth=it(t),this._cachedButtonWidth=this._cachedButtonWidth||it(this._$buttons),Ao(this._$buttonsContainer,this._cachedButtonWidth),this._$cachedContent.length&&(this._cachedNode=t[0]))},_minButtonContainerLeftOffset:function(){return this._cachedItemWidth-this._cachedButtonWidth},_swipeEndHandler:function(t,e){this._cacheItemData(t);var i=this._isRtlEnabled()?1:-1,n=this._cachedItemWidth*e.offset,r=!this._isReadyToDelete(t)&&n*i>.2*this._cachedButtonWidth,o=e.targetOffset===i&&r;return this._toggleDeleteReady(t,o),!0},_enablePositioning:function(t){Et.stop(this._$cachedContent,!0),this.callBase.apply(this,arguments),this._$buttonsContainer.appendTo(t)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonsContainer.detach()},_animatePrepareDeleteReady:function(){return this._animateToPositions(this._getPositions(1))},_animateForgetDeleteReady:function(t){return this._cacheItemData(t),this._animateToPositions(this._getPositions(0))},_animateToPositions:function(t){var e=this,i=this._getCurrentPositions(),n=Math.min(Math.abs(i.content-t.content)/this._cachedButtonWidth,1);return Et.animate(this._$cachedContent,{from:i,to:t,easing:bEe,duration:yEe*n,strategy:"frame",draw:function(r){e._setPositions(r)}})},dispose:function(){this._menu&&this._menu.$element().remove(),this._$buttonsContainer&&this._$buttonsContainer.remove(),this.callBase.apply(this,arguments)}}).include(DD));var DEe="dx-list-static-delete-button-container",OEe="dx-list-static-delete-button";go("delete","static",ts.inherit({afterBag:function(t){var e=t.$itemElement,i=t.$container,n=g("<div>").addClass(OEe);this._list._createComponent(n,ci,{icon:"remove",onClick:(function(r){r.event.stopPropagation(),this._deleteItem(e)}).bind(this),integrationOptions:{}}),i.addClass(DEe).append(n)},_deleteItem:function(t){t.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(t)}}));go("delete","swipe",ts.inherit({_shouldHandleSwipe:!0,_renderItemPosition:function(t,e,i){var n=new H,r=e*this._itemElementWidth;return i?Et.animate(t,{to:{left:r},type:"slide",complete:function(){n.resolve(t,e)}}):(Vt(t,{left:r}),n.resolve()),n.promise()},_swipeStartHandler:function(t){return this._itemElementWidth=Ae(t),!0},_swipeUpdateHandler:function(t,e){return this._renderItemPosition(t,e.offset),!0},_swipeEndHandler:function(t,e){var i=e.targetOffset;return this._renderItemPosition(t,i,!0).done((function(n,r){Math.abs(r)&&this._list.deleteItem(n).fail((function(){this._renderItemPosition(n,0,!0)}).bind(this))}).bind(this)),!0}}));var T8=Le(),EEe="keydown",pl="dxDraggable",SEe=ne(ca,pl),wEe=ne(Qo,pl),IEe=ne(ha,pl),TEe=ne(wv,pl),MEe=ne(Iv,pl),AEe=ne(nt.down,pl),REe=ne(EEe,pl),M8="clone",xP,ug,FEe="content",yP=t=>({x:t.pageX-g(T8).scrollLeft(),y:t.pageY-g(T8).scrollTop()}),PEe="dx-gesture-cover",kEe="dx-overlay-wrapper",NEe="dx-overlay-content",FD=class{constructor(e,i){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=i,e==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(e,i){var n=!1;e.some(r=>{var o=g(r),s=o.hasClass(kEe),a=o.hasClass(NEe);return s||a?!0:(n=this._trySetScrollable(r,i),n)}),n||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(e){return(e.css(this._overFlowAttr)==="auto"||e.hasClass("dx-scrollable-container"))&&e.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?Ae(e):je(e))}_trySetScrollable(e,i){var n=g(e),r,o=this._component.option("scrollSensitivity"),s=this.isScrollable(n);return s&&(r=this._calculateDistanceToBorders(n,i),o>r[this._limitProps.start]?this._preventScroll||(this._scrollSpeed=-this._calculateScrollSpeed(r[this._limitProps.start]),this._$scrollableAtPointer=n):o>r[this._limitProps.end]?this._preventScroll||(this._scrollSpeed=this._calculateScrollSpeed(r[this._limitProps.end]),this._$scrollableAtPointer=n):(s=!1,this._preventScroll=!1)),s}_calculateDistanceToBorders(e,i){var n=e.get(0),r;return n?(r=Jt(n),{left:i.x-r.left,top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y}):{}}_calculateScrollSpeed(e){var i=this._component,n=i.option("scrollSensitivity"),r=i.option("scrollSpeed");return Math.ceil(((n-e)/n)**2*r)}scrollByStep(){if(this._$scrollableAtPointer&&this._scrollSpeed){if(this._$scrollableAtPointer.hasClass("dx-scrollable-container")){var e=this._$scrollableAtPointer.closest(".dx-scrollable"),i=e.data("dxScrollable")||e.data("dxScrollView");if(i){var n=i.scrollOffset()[this._limitProps.start]+this._scrollSpeed;i.scrollTo({[this._limitProps.start]:n})}}else{var r=this._$scrollableAtPointer[this._scrollValue]()+this._scrollSpeed;this._$scrollableAtPointer[this._scrollValue](r)}var o=this._component._dragMoveArgs;o&&this._component._dragMoveHandler(o)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(e,i){if(!e)return!1;var n=Jt(e.get(0)),r=n[this._limitProps.start],o=n[this._sizeAttr],s=yP(i),a=this._sizeAttr==="width"?s.x:s.y;return a<r||a>r+o}},LEe=U0.inherit({ctor(t){this.callBase(),this._strategy=t},_step(){var t=this._strategy._horizontalScrollHelper,e=this._strategy._verticalScrollHelper;t&&t.scrollByStep(),e&&e.scrollByStep()}}),A8=Xr.inherit({reset:W,dragMove:W,dragEnter:W,dragLeave:W,dragEnd(t){var e=this._getSourceDraggable();return e._fireRemoveEvent(t),H().resolve()},_fireRemoveEvent:W,_getDefaultOptions(){return y(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference(){this.callBase.apply(this,arguments),y(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new LEe(this),this._horizontalScrollHelper=new FD("horizontal",this),this._verticalScrollHelper=new FD("vertical",this),this._initScrollTop=0,this._initScrollLeft=0},_normalizeCursorOffset(t){return ke(t)&&(t={h:t.x,v:t.y}),t=Ja(t).map(e=>parseFloat(e)),{left:t[0],top:t.length===1?t[0]:t[1]}},_getNormalizedCursorOffset(t,e){return ce(t)&&(t=t.call(this,e)),this._normalizeCursorOffset(t)},_calculateElementOffset(t){var e,i,{event:n}=t,r=g(t.itemElement),o=g(t.dragElement),s=this._dragElementIsCloned(),a=this.option("cursorOffset"),l={left:0,top:0},d=this._initialLocate=In(o);return(s||t.initialOffset||a)&&(e=t.initialOffset||r.offset(),a&&(l=this._getNormalizedCursorOffset(a,t),isFinite(l.left)&&(e.left=n.pageX),isFinite(l.top)&&(e.top=n.pageY)),i=o.offset(),e.top-=i.top+(l.top||0)-d.top,e.left-=i.left+(l.left||0)-d.left),e},_initPosition(t){var e=g(t.dragElement),i=this._calculateElementOffset(t);i&&this._move(i,e),this._startPosition=In(e)},_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator(){this._scrollAnimator.stop()},_addWidgetPrefix(t){var e=this.NAME;return lv(e)+(t?"-".concat(t):"")},_getItemsSelector(){return this.option("filter")||""},_$content(){var t=this.$element(),e=t.children(".dx-template-wrapper");return e.length?e:t},_attachEventHandlers(){if(!this.option("disabled")){var t=this._$content(),e=this._getItemsSelector(),i=this.option("allowMoveByClick"),n={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(r,o)=>{var s=this.option("group"),a=this._getSourceDraggable().option("group"),l=this._getScrollable(r);return this._verticalScrollHelper.isOutsideScrollable(l,o)||this._horizontalScrollHelper.isOutsideScrollable(l,o)?!1:a&&a===s}};i&&(t=this._getArea(),S.on(t,AEe,n,this._pointerDownHandler.bind(this))),e[0]===">"&&(e=e.slice(1)),S.on(t,SEe,e,n,this._dragStartHandler.bind(this)),S.on(t,wEe,n,this._dragMoveHandler.bind(this)),S.on(t,IEe,n,this._dragEndHandler.bind(this)),S.on(t,TEe,n,this._dragEnterHandler.bind(this)),S.on(t,MEe,n,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&S.on(t,REe,this._keydownHandler.bind(this))}},_dragElementIsCloned(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix(M8))},_getDragTemplateArgs(t,e){return{container:Pe(e),model:{itemData:this.option("itemData"),itemElement:Pe(t)}}},_createDragElement(t){var e=t,i=this.option("clone"),n=this._getContainer(),r=this.option("dragTemplate");return r?(r=this._getTemplate(r),e=g("<div>").appendTo(n),r.render(this._getDragTemplateArgs(t,e))):i&&(e=g("<div>").appendTo(n),t.clone().css({width:t.css("width"),height:t.css("height")}).appendTo(e)),e.toggleClass(this._addWidgetPrefix(M8),e.get(0)!==t.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers(){S.off(this._$content(),".".concat(pl)),S.off(this._getArea(),".".concat(pl))},_move(t,e){Vt(e||this._$dragElement,t)},_getDraggableElement(t){var e=this._getSourceElement();if(e)return e;var i=this.option("allowMoveByClick");if(i)return this.$element();var n=g(t&&t.target),r=this._getItemsSelector();if(r[0]===">"){var o=this._$content().find(r);o.is(n)||(n=n.closest(o))}return n},_getSourceElement(){var t=this._getSourceDraggable();return t._$sourceElement},_pointerDownHandler(t){if(!Tb(t)){var e={},i=this.$element(),n=this.option("dragDirection");(n==="horizontal"||n==="both")&&(e.left=t.pageX-i.offset().left+In(i).left-Ae(i)/2),(n==="vertical"||n==="both")&&(e.top=t.pageY-i.offset().top+In(i).top-je(i)/2),this._move(e,i),this._getAction("onDragMove")(this._getEventArgs(t))}},_isValidElement(t,e){var i=this.option("handle"),n=g(t.originalEvent&&t.originalEvent.target);return i&&!n.closest(i).length||!e.length?!1:!e.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler(t){var e=this._getDraggableElement(t);if(this.dragInProgress=!0,!this._isValidElement(t,e)){t.cancel=!0;return}if(!this._$sourceElement){var i=this._getDragStartArgs(t,e);if(this._getAction("onDragStart")(i),i.cancel){t.cancel=!0;return}this.option("itemData",i.itemData),this._setSourceDraggable(),this._$sourceElement=e;var n=e.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),n=this._getDraggableElementOffset(n.left,n.top));var r=this._$dragElement=this._createDragElement(e);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(r.children());var o=r.css("position")==="fixed";this._initPosition(y({},i,{dragElement:r.get(0),initialOffset:o&&n})),this._getAction("onDraggableElementShown")(te(te({},i),{dragElement:r}));var s=this._getArea(),a=this._getAreaOffset(s),l=this._getBoundOffset(),d=it(s),u=et(s),h=Ae(r),p=je(r),m=r.offset().left-a.left,c=r.offset().top-a.top;s.length&&(t.maxLeftOffset=m-l.left,t.maxRightOffset=d-m-h-l.right,t.maxTopOffset=c-l.top,t.maxBottomOffset=u-c-p-l.bottom),this.option("autoScroll")&&this._startAnimator()}},_getAreaOffset(t){var e=t&&en.offset(t);return e||{left:0,top:0}},_toggleDraggingClass(t){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),t)},_toggleDragSourceClass(t,e){var i=e||this._$sourceElement;i&&i.toggleClass(this._addWidgetPrefix("source"),t)},_setGestureCoverCursor(t){g(".".concat(PEe)).css("cursor",t.css("cursor"))},_getBoundOffset(){var t=this.option("boundOffset");return ce(t)&&(t=t.call(this)),X$(t)},_getArea(){var t=this.option("boundary");return ce(t)&&(t=t.call(this)),g(t)},_getContainer(){var t=this.option("container");return t===void 0&&(t=qr()),g(t)},_getDraggableElementOffset(t,e){var i,n,r,o,s=this._initScrollTop,a=this._initScrollLeft,l=this._getScrollableScrollTop(),d=this._getScrollableScrollLeft(),u=g(this.element()).css("position"),h=u==="fixed",p={left:((n=(i=this._startPosition)===null||i===void 0?void 0:i.left)!==null&&n!==void 0?n:0)+t,top:((o=(r=this._startPosition)===null||r===void 0?void 0:r.top)!==null&&o!==void 0?o:0)+e};return h||this._hasClonedDraggable()?p:{left:It(d)?p.left+d-a:p.left,top:It(l)?p.top+l-s:p.top}},_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")},_dragMoveHandler(t){if(this._dragMoveArgs=t,!this._$dragElement){t.cancel=!0;return}var e=this._getDraggableElementOffset(t.offset.x,t.offset.y);this._move(e),this._updateScrollable(t);var i=this._getEventArgs(t);if(this._getAction("onDragMove")(i),i.cancel!==!0){var n=this._getTargetDraggable();n.dragMove(t,scrollBy)}},_updateScrollable(t){if(this.option("autoScroll")){var e=yP(t),i=ie.elementsFromPoint(e.x,e.y,this.$element().get(0));this._verticalScrollHelper.updateScrollable(i,e),this._horizontalScrollHelper.updateScrollable(i,e)}},_getScrollable(t){var e;return t.parents().toArray().some(i=>{var n=g(i);return this._horizontalScrollHelper.isScrollable(n)||this._verticalScrollHelper.isScrollable(n)?(e=n,!0):!1}),e},_getScrollableScrollTop(){var t,e;return(e=(t=this._getScrollable(g(this.element())))===null||t===void 0?void 0:t.scrollTop())!==null&&e!==void 0?e:0},_getScrollableScrollLeft(){var t,e;return(e=(t=this._getScrollable(g(this.element())))===null||t===void 0?void 0:t.scrollLeft())!==null&&e!==void 0?e:0},_defaultActionArgs(){var t=this.callBase.apply(this,arguments),e=this.option("component");return e&&(t.component=e,t.element=e.element()),t},_getEventArgs(t){var e=this._getSourceDraggable(),i=this._getTargetDraggable();return{event:t,itemData:e.option("itemData"),itemElement:Pe(e._$sourceElement),fromComponent:e.option("component")||e,toComponent:i.option("component")||i,fromData:e.option("data"),toData:i.option("data")}},_getDragStartArgs(t,e){var i=this._getEventArgs(t);return{event:i.event,itemData:i.itemData,itemElement:e,fromData:i.fromData}},_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler(t){var e=H(),i=this._getEventArgs(t),n=this._getEventArgs(t),r=this._getTargetDraggable(),o=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(i)}finally{ye(rn(i.cancel)).done(s=>{if(!s&&(r!==this&&r._getAction("onDrop")(n),!n.cancel)){o=!1,ye(rn(r.dragEnd(i))).always(e.resolve);return}e.resolve()}).fail(e.resolve),e.done(()=>{o&&this._revertItemToInitialPosition(),this._resetDragOptions(r)})}},_isTargetOverAnotherDraggable(t){var e=this._getSourceDraggable();if(this===e)return!1;var i=e._$dragElement,n=e.$element(),r=this.$element(),o=yP(t),s=ie.elementsFromPoint(o.x,o.y,this.element()),a=s.filter(h=>{var p=g(h);return p.hasClass(this._addWidgetPrefix())?!p.closest(i).length:!1})[0],l=this._getSourceElement(),d=a===n.get(0),u=g(a).closest(l).length;return!a||a===r.get(0)&&!d&&!u},_dragEnterHandler(t){this._fireDragEnterEvent(t),this._isTargetOverAnotherDraggable(t)&&this._setTargetDraggable();var e=this._getSourceDraggable();e.dragEnter(t)},_dragLeaveHandler(t){this._fireDragLeaveEvent(t),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();var e=this._getSourceDraggable();e.dragLeave(t)},_keydownHandler(t){this.dragInProgress&&t.key==="Escape"&&this._keydownEscapeHandler(t)},_keydownEscapeHandler(t){var e=this._getSourceElement();if(e){var i=this._getEventArgs(t);if(this._getAction("onDragCancel")(i),!i.cancel){this.dragInProgress=!1,ug?._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();var n=this._getTargetDraggable();this._resetDragOptions(n),this._attachEventHandlers()}}},_getAction(t){return this["_".concat(t,"Action")]||this._createActionByOption(t)},_getAnonymousTemplateName:()=>FEe,_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new kr}),this.callBase.apply(this,arguments))},_render(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());var t=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),e=this._getTemplateByOption("contentTemplate");e&&g(e.render({container:this.element(),transclude:t}))},_optionChanged(t){var{name:e}=t;switch(e){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this["_".concat(e,"Action")]=this._createActionByOption(e);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;default:this.callBase(t)}},_getTargetDraggable(){return xP||this},_getSourceDraggable(){return ug||this},_setTargetDraggable(){var t=this.option("group"),e=this._getSourceDraggable();t&&t===e.option("group")&&(xP=this)},_setSourceDraggable(){ug=this},_resetSourceDraggable(){ug=null},_resetTargetDraggable(){xP=null},_resetDragOptions(t){this.reset(),t.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()},_dispose(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent(t){var e=this._getEventArgs(t);this._getAction("onDragEnter")(e)},_fireDragLeaveEvent(t){var e=this._getEventArgs(t);this._getAction("onDragLeave")(e)}});Be(pl,A8);var R8=A8;var F8=Le(),BEe="dxSortable",P8="placeholder",VEe="clone",k8=t=>g(t).is(":visible"),HEe=(t,e)=>{var i,n;if(t){var r=((i=e.to)===null||i===void 0?void 0:i.left)||0,o=((n=e.to)===null||n===void 0?void 0:n.top)||0;t.style.transform="translate(".concat(r,"px,").concat(o,"px)"),t.style.transition=Et.off?"":"transform ".concat(e.duration,"ms ").concat(e.easing)}},zEe=t=>{t&&(t.style.transform="",t.style.transition="")};function WEe(t){var e=t.offset(),{style:i}=t[0],n=parseFloat(i.paddingLeft)||0,r=parseFloat(i.paddingRight)||0,o=parseFloat(i.paddingTop)||0,s=t[0].clientWidth-(n+r),a=je(t),l=e.left+n,d=e.top+o;return{left:l,right:l+s,top:d,bottom:d+a}}var N8=R8.inherit({_init(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions(){return y(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:(t,e)=>t.slice(0,e).reverse().filter(k8)[0],_dragStartHandler(t){if(this.callBase.apply(this,arguments),t.cancel!==!0){var e=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(t),this.option("fromIndex",this._getElementIndex(e)),this.option("fromIndexOffset",this.option("offset"))}},_subscribeToSourceScroll(t){var e=this._getScrollable(g(t.target));e&&(this._sourceScrollableInfo={element:e,scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop()},S.off(e,"scroll",this._sourceScrollHandler),S.on(e,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(S.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll(t){var e=this._sourceScrollableInfo;e&&["scrollLeft","scrollTop"].forEach(i=>{if(t.target[i]!==e[i]){var n=t.target[i]-e[i];this._correctItemPoints(n),this._movePlaceholder(),e[i]=t.target[i]}})},_dragEnterHandler(t){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(t),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){var e=this.option("itemPoints"),i=e[e.length-1];if(i){var n=this.$element(),r=this._getSourceElement(),o=this._isVerticalOrientation(),s=o?et(r,!0):it(r,!0),a=n.get(0)[o?"scrollHeight":"scrollWidth"],l=n.get(0)[o?"scrollTop":"scrollLeft"],d=o?"top":"left",u=i[d],h=n.offset()[d],p=h+a-l-u;if(p<s&&o){var m=this._getItems(),c=g(this._getPrevVisibleItem(m));this._$modifiedItem=c,this._modifiedItemMargin=c.get(0).style.marginBottom,c.css("marginBottom",s-p);var x=c.closest(".dx-sortable"),D=x.data("dxScrollable")||x.data("dxScrollView");D&&D.update()}}}},_dragLeaveHandler(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop(t){var e=this._getTargetDraggable(),i=e.$element(),n=this._getScrollable(i);if(n){var{left:r,right:o,top:s,bottom:a}=WEe(n),l=this.option("toIndex"),d=this.option("itemPoints"),u=d?.filter(p=>p.index===l)[0];if(u&&u.top!==void 0){var h=this._isVerticalOrientation();return h?s<=Math.ceil(u.top)&&Math.floor(u.top)<=a:r<=Math.ceil(u.left)&&Math.floor(u.left)<=o}}return!0},dragEnd(t){this._unsubscribeFromSourceScroll();var e=this._getSourceElement(),i=this._getSourceDraggable(),n=i.NAME!==this.NAME,r=this.option("toIndex"),{event:o}=t,s=this._allowDrop(o);if(r!==null&&r>=0&&s){var a,l;if(i!==this&&(a=this._fireAddEvent(o),a||(l=this._fireRemoveEvent(o))),n&&tl(e),this.option("moveItemOnDrop")&&!a&&this._moveItem(e,r,l),i===this)return this._fireReorderEvent(o)}return H().resolve()},dragMove(t){var e=this.option("itemPoints");if(e){for(var i=this._isVerticalOrientation(),n=i?"top":"left",r=i?t.pageY:t.pageX,o=this.option("rtlEnabled"),s,a=e.length-1;a>=0;a--){var l=e[a+1]&&(e[a][n]+e[a+1][n])/2;if((!i&&o?r>l:l>r)||l===void 0)s=e[a];else break}s&&(this._updatePlaceholderPosition(t,s),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}},_isIndicateMode(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")},_createPlaceholder(){var t;return this._isIndicateMode()&&(t=g("<div>").addClass(this._addWidgetPrefix(P8)).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=t,t},_getItems(){var t=this._getItemsSelector();return this._$content().find(t).not(".".concat(this._addWidgetPrefix(P8))).not(".".concat(this._addWidgetPrefix(VEe))).toArray()},_allowReordering(){var t=this._getSourceDraggable(),e=this._getTargetDraggable();return t!==e||this.option("allowReordering")},_isValidPoint(t,e,i){var n=this.option("allowDropInsideItem"),r=i||this._allowReordering();return!r&&(t!==0||!n)?!1:this._isIndicateMode()?e===-1||t!==e&&(i||t!==e+1):!0},_getItemPoints(){var t=[],e,i,n,r=this.option("rtlEnabled"),o=this._isVerticalOrientation(),s=this._getItems(),a=s.filter(k8),l=a.length,d=this._getDraggableElement(),u=a.indexOf(d.get(0));if(l){for(var h=0;h<=l;h++){var p=!o&&r^h===l,m=o&&h===l;h<l&&(e=g(a[h]),i=e.offset(),n=it(e)),t.push({dropInsideItem:!1,left:i.left+(p?n:0),top:i.top+(m?t[h-1].height:0),index:h===l?s.length:s.indexOf(e.get(0)),$item:e,width:it(e),height:et(e),isValid:this._isValidPoint(h,u)})}if(this.option("allowDropInsideItem")){var c=t;t=[];for(var x=0;x<c.length;x++)t.push(c[x]),c[x+1]&&t.push(y({},c[x],{dropInsideItem:!0,top:Math.floor((c[x].top+c[x+1].top)/2),left:Math.floor((c[x].left+c[x+1].left)/2),isValid:this._isValidPoint(x,u,!0)}))}}else t.push({dropInsideItem:!1,index:0,isValid:!0});return t},_updateItemPoints(t){(t||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints(t){var e=this.option("itemPoints");if(t&&e&&!this.option("autoUpdate")){var i=this._isVerticalOrientation(),n=i?"top":"left";e.forEach(r=>{r[n]-=t})}},_getElementIndex(t){return this._getItems().indexOf(t.get(0))},_getDragTemplateArgs(t){var e=this.callBase.apply(this,arguments);return e.model.fromIndex=this._getElementIndex(t),e},_togglePlaceholder(t){this._$placeholderElement&&this._$placeholderElement.toggle(t)},_isVerticalOrientation(){return this.option("itemOrientation")==="vertical"},_normalizeToIndex(t,e){var i=this._getSourceDraggable()!==this._getTargetDraggable(),n=this._getActualFromIndex();return t===null?n:Math.max(i||n>=t||e?t:t-1,0)},_updatePlaceholderPosition(t,e){var i=this._getSourceDraggable(),n=this._normalizeToIndex(e.index,e.dropInsideItem),r=y(this._getEventArgs(t),{toIndex:n,dropInsideItem:e.dropInsideItem});if(e.isValid&&this._getAction("onDragChange")(r),r.cancel||!e.isValid){e.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:e.dropInsideItem,toIndex:e.index}),this._getAction("onPlaceholderPrepared")(y(this._getEventArgs(t),{placeholderElement:Pe(this._$placeholderElement),dragElement:Pe(i._$dragElement)})),this._updateItemPoints()},_makeWidthCorrection(t,e){if(this._$scrollable=this._getScrollable(t),this._$scrollable){var i=Ae(this._$scrollable),n=this._$scrollable.offset().left-t.offset().left,r=it(t)-n-i;n>0&&(e-=n),r>0&&(e-=r)}return e},_updatePlaceholderSizes(t,e){var i=this.option("dropInsideItem"),n=g(e),r=this._isVerticalOrientation(),o="",s="";t.toggleClass(this._addWidgetPrefix("placeholder-inside"),i),(r||i)&&(o=it(n)),(!r||i)&&(s=et(n)),o=this._makeWidthCorrection(n,o),t.css({width:o,height:s})},_moveItem(t,e,i){var n,r=this._getItems(),o=r[e],s=this._getSourceDraggable();i&&(t=t.clone(),s._toggleDragSourceClass(!1,t)),o||(n=r[e-1]),this._moveItemCore(t,o,n)},_moveItemCore(t,e,i){!e&&!i?t.appendTo(this.$element()):i?t.insertAfter(g(i)):t.insertBefore(g(e))},_getDragStartArgs(t,e){return y(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(e)})},_getEventArgs(t){var e=this._getSourceDraggable(),i=this._getTargetDraggable(),n=i.option("dropInsideItem");return y(this.callBase.apply(this,arguments),{fromIndex:e.option("fromIndex"),toIndex:this._normalizeToIndex(i.option("toIndex"),n),dropInsideItem:n})},_optionChanged(t){var{name:e}=t;switch(e){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this["_".concat(e,"Action")]=this._createActionByOption(e);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(i=>{var n=i?t.value:t.previousValue;if(n!==null){var r=g(this._getItems()[n]);this._toggleDragSourceClass(i,r)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(t);break;case"toIndex":this._optionChangedToIndex(t);break;default:this.callBase(t)}},_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible(t){var e=this.$element(),i;if(e.css("overflow")!=="hidden"?i=e.get(0):e.parents().each(function(){if(g(this).css("overflow")!=="visible")return i=this,!1}),i){var n=Jt(i),r=this._isVerticalOrientation(),o=r?"top":"left",s=r?"bottom":"right",a=r?F8.pageYOffset:F8.pageXOffset;if(t[o]<n[o]+a||t[o]>n[s]+a)return!1}return!0},_optionChangedToIndex(t){var e=t.value;if(this._isIndicateMode()){var i=e!==null&&e>=0;this._togglePlaceholder(i),i&&this._movePlaceholder()}else this._moveItems(t.previousValue,t.value,t.fullUpdate)},update(){if(!(this.option("fromIndex")===null&&this.option("toIndex")===null)){this._updateItemPoints(!0),this._updateDragSourceClass();var t=this.option("toIndex");this._optionChangedToIndex({value:t,fullUpdate:!0})}},_updateDragSourceClass(){var t=this._getActualFromIndex(),e=g(this._getItems()[t]);e.length&&(this._$sourceElement=e,this._toggleDragSourceClass(!0,e))},_makeLeftCorrection(t){var e=this._$scrollable;if(e&&this._isVerticalOrientation()){var i=e.offset().left-t;i>0&&(t+=i)}return t},_movePlaceholder(){var t=this._$placeholderElement||this._createPlaceholder();if(t){var e=this._getItems(),i=this.option("toIndex"),n=this._isVerticalOrientation(),r=this.option("rtlEnabled"),o=this.option("dropInsideItem"),s=null,a=e[i];if(a){var l=g(a);s=l.offset(),!n&&r&&!o&&(s.left+=it(l,!0))}else{var d=a=this._getPrevVisibleItem(e,i);d&&(s=g(d).offset(),n?s.top+=et(d,!0):r||(s.left+=it(d,!0)))}if(this._updatePlaceholderSizes(t,a),s&&!this._isPositionVisible(s)&&(s=null),s){var u=n&&i===e.length,h=et(t);s.left=this._makeLeftCorrection(s.left),s.top=u&&s.top>=h?s.top-h:s.top,this._move(s,t)}t.toggle(!!s)}},_getPositions(t,e,i,n){for(var r=[],o=0;o<t.length;o++){var s=0;if(n===null||i===null){r.push(s);continue}i===-1?o>=n&&(s=e):n===-1?o>i&&(s=-e):i<n?o>i&&o<n&&(s=-e):i>n&&o>=n&&o<i&&(s=e),r.push(s)}return r},_getDraggableElementSize(t){var e=this._getDraggableElement(),i=this.option("draggableElementSize");return i||(i=t?(et(e)+et(e,!0))/2:(it(e)+it(e,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",i)),i},_getActualFromIndex(){var{fromIndex:t,fromIndexOffset:e,offset:i}=this.option();return t==null?null:t+e-i},_moveItems(t,e,i){for(var n=this._getActualFromIndex(),r=this._isVerticalOrientation(),o=r?"top":"left",s=this._getDraggableElementSize(r),a=this._getItems(),l=this._getPositions(a,s,n,t),d=this._getPositions(a,s,n,e),u=this.option("animation"),h=this.option("rtlEnabled"),p=0;p<a.length;p++){var m=a[p],c=l[p],x=d[p];e===null||n===null?zEe(m):(c!==x||i&&x)&&HEe(m,y({},u,{to:{[o]:!r&&h?-x:x}}))}},_toggleDragSourceClass(t,e){var i=e||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||i&&i.toggleClass(this._addWidgetPrefix("source-hidden"),t)},_dispose(){this.reset(),this.callBase()},_fireAddEvent(t){var e=this._getEventArgs(t);return this._getAction("onAdd")(e),e.cancel},_fireRemoveEvent(t){var e=this._getSourceDraggable(),i=this._getEventArgs(t);return e._getAction("onRemove")(i),i.cancel},_fireReorderEvent(t){var e=this._getEventArgs(t);return this._getAction("onReorder")(e),e.promise||H().resolve()}});Be(BEe,N8);var L8=N8;var PD=L8;var jEe="dx-list-reorder-handle-container",B8="dx-list-reorder-handle",$Ee="dx-list-item-ghost-reordering",GEe="dx-state-hover";go("reorder","default",ts.inherit({_init:function(){var t=this._list;this._groupedEnabled=this._list.option("grouped"),this._lockedDrag=!1;var e=this._groupedEnabled?"> .dx-list-items > .dx-list-group > .dx-list-group-body > .dx-list-item":"> .dx-list-items > .dx-list-item";this._sortable=t._createComponent(t._scrollView.content(),PD,y({component:t,contentTemplate:null,allowReordering:!1,filter:e,container:t.$element(),dragDirection:t.option("itemDragging.group")?"both":"vertical",handle:".".concat(B8),dragTemplate:this._dragTemplate,onDragStart:this._dragStartHandler.bind(this),onDragChange:this._dragChangeHandler.bind(this),onReorder:this._reorderHandler.bind(this)},t.option("itemDragging")))},afterRender:function(){this._sortable.update()},_dragTemplate:function(t){var e=g(t.itemElement).clone().addClass($Ee).addClass(GEe);return Ao(e,Ae(t.itemElement)),e},_dragStartHandler:function(t){if(this._lockedDrag){t.cancel=!0;return}},_dragChangeHandler:function(t){if(this._groupedEnabled&&!this._sameParent(t.fromIndex,t.toIndex)){t.cancel=!0;return}},_sameParent:function(t,e){var i=this._list.getItemElementByFlatIndex(t),n=this._list.getItemElementByFlatIndex(e);return n.parent().get(0)===i.parent().get(0)},_reorderHandler:function(t){var e=this._list.getItemElementByFlatIndex(t.toIndex);this._list.reorderItem(g(t.itemElement),e)},afterBag:function(t){var e=g("<div>").addClass(B8);S.on(e,"dxpointerdown",i=>{this._lockedDrag=!Po(i)}),S.on(e,"dxhold",{timeout:30},i=>{i.cancel=!0,this._lockedDrag=!1}),t.$container.addClass(jEe).append(e)}}));var{ios:UEe,mac:KEe}=be.real(),qEe=UEe||KEe,JEe=function(t){var e;try{e={start:t.selectionStart,end:t.selectionEnd}}catch{e={start:0,end:0}}return e},YEe=function(t,e){var i=ie.getBody();if(!(!i.contains(t)&&!i.contains(t.getRootNode().host)))try{t.selectionStart=e.start,t.selectionEnd=e.end}catch{}},XEe=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t=g(t).get(0),!O(e))return JEe(t);!i&&qEe&&ie.getActiveElement(t)!==t||YEe(t,e)},V8=XEe;var cg=" ",H8=ot.inherit({ctor:function(t){this._value=cg,y(this,t)},next:function(t){if(!arguments.length)return this._next;this._next=t},text:W,value:W,rawValue:W,handle:W,_prepareHandlingArgs:function(t,e){var i,n,r;e=e||{};var o=Object.prototype.hasOwnProperty.call(t,"value")?"value":"text";return t[o]=(i=e.str)!==null&&i!==void 0?i:t[o],t.start=(n=e.start)!==null&&n!==void 0?n:t.start,t.length=(r=e.length)!==null&&r!==void 0?r:t.length,t.index=t.index+1,t},reset:W,clear:W,first:function(t){return t=t||0,this.next().first(t+1)},isAccepted:function(){return!1},adjustedCaret:function(t,e,i){return e?this._adjustedForward(t,0,i):this._adjustedBackward(t,0,i)},_adjustedForward:W,_adjustedBackward:W,isValid:W}),z8=H8.inherit({next:W,handle:function(){return 0},text:function(){return""},value:function(){return""},first:function(){return 0},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),bP=H8.inherit({text:function(){return(this._value!==cg?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value")?t.value:t.text;if(!e||!e.length||!t.length)return 0;if(t.start)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start-1}));var i=e[0],n=e.substring(1);return this._tryAcceptChar(i,t),this._accepted()?this.next().handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))+1:this.handle(this._prepareHandlingArgs(t,{str:n,length:t.length-1}))},clear:function(t){this._tryAcceptChar(cg,t),this.next().clear(this._prepareHandlingArgs(t))},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(t,e){if(this._accepted(!1),!!this._isAllowed(t,e)){var i=t===cg?this.maskChar:t;e.fullText=e.fullText.substring(0,e.index)+i+e.fullText.substring(e.index+1),this._accepted(!0),this._value=t}},_accepted:function(t){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!t},first:function(t){return this._value===cg?t||0:this.callBase(t)},_isAllowed:function(t,e){return t===cg?!0:this._isValid(t,e)},_isValid:function(t,e){var i=this.allowedChars;return i instanceof RegExp?i.test(t):ce(i)?i(t,e.index,e.fullText):Array.isArray(i)?i.includes(t):i===t},isAccepted:function(t){return t===0?this._accepted():this.next().isAccepted(t-1)},_adjustedForward:function(t,e,i){return e>=t?e:this.next()._adjustedForward(t,e+1,i)||e+1},_adjustedBackward:function(t,e){return e>=t-1?t:this.next()._adjustedBackward(t,e+1)||e+1},isValid:function(t){return this._isValid(this._value,t)&&this.next().isValid(this._prepareHandlingArgs(t))}}),DP=bP.inherit({value:function(){return this.next().value()},handle:function(t){var e=Object.prototype.hasOwnProperty.call(t,"value"),i=e?t.value:t.text;if(!i.length||!t.length)return 0;if(t.start||e)return this.next().handle(this._prepareHandlingArgs(t,{start:t.start&&t.start-1}));var n=i[0],r=i.substring(1);this._tryAcceptChar(n);var o=this._isAllowed(n)?this._prepareHandlingArgs(t,{str:r,length:t.length-1}):t;return this.next().handle(o)+1},clear:function(t){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(t))},_tryAcceptChar:function(t){this._accepted(this._isValid(t))},_isValid:function(t){return t===this.maskChar},first:function(t){return t=t||0,this.next().first(t+1)},_adjustedForward:function(t,e,i){return e>=t&&i===this.maskChar?e:t===e+1&&this._accepted()?t:this.next()._adjustedForward(t,e+1,i)},_adjustedBackward:function(t,e){return e>=t-1?0:this.next()._adjustedBackward(t,e+1)},isValid:function(t){return this.next().isValid(this._prepareHandlingArgs(t))}});var fl=class{constructor(e,i,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=i,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=g("<div>").appendTo(e)}_addToContainer(e){var{$placeMarker:i,$container:n}=this;i?i.replaceWith(e):e.appendTo(n)}_attachEvents(){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){var{editor:e,options:i}=this;return i.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var{instance:e,$placeMarker:i}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),i&&i.remove()}render(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){var{instance:i,$element:n}=this._create();this.instance=i,this._attachEvents(i,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}};var QEe=nt.down,ZEe="dx-state-invisible",eSe="dx-clear-button-area",tSe="dx-icon-clear",iSe="dx-icon",nSe="dx-show-clear-button",kD=class extends fl{_create(){var e=g("<span>").addClass(eSe).append(g("<span>").addClass(iSe).addClass(tSe));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){var{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,i){var{editor:n}=this,r=n.NAME;S.on(i,ne(QEe,r),o=>{o.preventDefault(),o.pointerType!=="mouse"&&n._clearValueHandler(o)}),S.on(i,ne(lt,r),o=>n._clearValueHandler(o))}_legacyRender(e,i){e.toggleClass(nSe,i)}update(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!e&&super.update();var{editor:i,instance:n}=this,r=i.$element(),o=this._isVisible();n&&n.toggleClass(ZEe,!o),this._legacyRender(r,o)}};var W8="dx-custom-button-hovered",ND=class extends fl{_attachEvents(e,i){var{editor:n}=this;S.on(i,Iu,()=>{n.$element().addClass(W8)}),S.on(i,Tu,()=>{n.$element().removeClass(W8)}),S.on(i,lt,r=>{r.stopPropagation()})}_create(){var{editor:e}=this,i=g("<div>");this._addToContainer(i);var n=e._createComponent(i,ci,y({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}));return{$element:i,instance:n}}_prepareIntegrationOptions(e){return y({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){var e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){var{editor:e}=this;return e.option("visible")}_isDisabled(){var e=this.options.disabled!==void 0;return e?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}};var rSe="dx-texteditor-buttons-container";function oSe(t){(()=>{if(!t||typeof t!="object"||Array.isArray(t))throw Ke.Error("E1053")})(),(()=>{if(!("name"in t))throw Ke.Error("E1054")})(),(()=>{var{name:e}=t;if(typeof e!="string")throw Ke.Error("E1055")})(),(()=>{var{location:e}=t;"location"in t&&e!=="after"&&e!=="before"&&(t.location="after")})()}function j8(t,e){if(t.indexOf(e)!==-1)throw Ke.Error("E1055",e);t.push(e)}function sSe(t,e){return!!e.find(i=>i.name===t)}var LD=class{constructor(e,i){this.buttons=[],this.defaultButtonsInfo=i,this.editor=e}_compileButtonInfo(e){var i=[];return e.map(n=>{var r=typeof n=="string";r||oSe(n);var o=r||sSe(n.name,this.defaultButtonsInfo);if(o){var s=this.defaultButtonsInfo.find(l=>{var{name:d}=l;return d===n||d===n.name});if(!s)throw Ke.Error("E1056",this.editor.NAME,n);return j8(i,n),s}else{var{name:a}=n;return j8(i,a),y(n,{Ctor:ND})}})}_createButton(e){var{Ctor:i,options:n,name:r}=e,o=new i(r,this.editor,n);return this.buttons.push(o),o}_renderButtons(e,i,n){var r=null,o=e?this._compileButtonInfo(e):this.defaultButtonsInfo;return o.forEach(s=>{var{location:a="after"}=s;a===n&&this._createButton(s).render((r=r||g("<div>").addClass(rSe),n==="before"?i.prepend(r):i.append(r),r))}),r}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){var i=this.buttons.find(n=>{var{name:r}=n;return r===e});return i&&i.instance}renderAfterButtons(e,i){return this._renderButtons(e,i,"after")}renderBeforeButtons(e,i){return this._renderButtons(e,i,"before")}updateButtons(e){this.buttons.forEach(i=>{(!e||e.indexOf(i.name)!==-1)&&i.update()})}};var $8="dx-texteditor-label",G8="dx-texteditor-with-label",U8="dx-texteditor-label-outside",K8="dx-texteditor-with-floating-label",q8="dx-texteditor-with-before-buttons",aSe="dx-label-before",lSe="dx-label",dSe="dx-label-after",BD=class{constructor(e){this.NAME="dxLabel",this._props=e,this._id="".concat($8,"-").concat(new kt),this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=g("<div>").addClass(aSe),this._$labelSpan=g("<span>"),this._$label=g("<div>").addClass(lSe).append(this._$labelSpan),this._$after=g("<div>").addClass(dSe),this._$root=g("<div>").addClass($8).attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){var e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach(),this._attachEvents()}_attachEvents(){var e=ne(lt,this.NAME),i=ne(Iu,this.NAME),n=ne(Xl,this.NAME);S.off(this._$labelSpan,e),S.off(this._$labelSpan,i),S.off(this._$labelSpan,n),this._isVisible()&&this._isOutsideMode()&&(S.on(this._$labelSpan,e,r=>{var o=Le().getSelection().toString();o===""&&(this._props.onClickHandler(),r.preventDefault())}),S.on(this._$labelSpan,i,r=>{this._props.onHoverHandler(r)}),S.on(this._$labelSpan,n,r=>{this._props.onActiveHandler(r)}))}_updateEditorLabelClass(e){if(this._props.$editor.removeClass(K8).removeClass(U8).removeClass(G8),e){var i=this._props.mode==="floating"?K8:G8;this._props.$editor.addClass(i),this._isOutsideMode()&&this._props.$editor.addClass(U8)}}_isOutsideMode(){return this._props.mode==="outside"}_updateEditorBeforeButtonsClass(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass(q8),e){var i=this._props.containsButtonsBefore?q8:"";this._props.$editor.addClass(i)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){if(this._isVisible()){var e,i=(e=this._props.beforeWidth)!==null&&e!==void 0?e:this._props.getBeforeWidth();this._$before.css({width:i}),this._updateLabelTransform()}}_updateLabelTransform(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(this._$labelSpan.css("transform",""),this._isVisible()&&this._isOutsideMode()){var i=this._props.rtlEnabled?1:-1,n=i*(Ae(this._$before)+e);this._$labelSpan.css("transform","translateX(".concat(n,"px)"))}}_updateMaxWidth(){if(this._isVisible()&&!this._isOutsideMode()){var e,i=(e=this._props.containerWidth)!==null&&e!==void 0?e:this._props.getContainerWidth();this._$label.css({maxWidth:i})}}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}};var uSe="dx-texteditor",cSe="dx-texteditor-input-container",Q8="dx-texteditor-input",hSe="."+Q8,pSe="dx-texteditor-container",fSe="dx-texteditor-buttons-container",J8="dx-placeholder",gSe="dx-texteditor-empty",mSe="dx-state-invisible",vSe="dx-pending-indicator",Y8="dx-validation-pending",_Se="dx-valid",VD=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],CSe=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],xSe=BD;function X8(t){if(O(t)&&!Array.isArray(t))throw Ke.Error("E1053")}var ySe=Cr.inherit({ctor:function(t,e){e&&X8(e.buttons),this._buttonCollection=new LD(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return y(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:function(t){return O(t)&&t!==!1?t:""},stylingMode:_t().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=an();return mi(t)},options:{labelMode:"floating",stylingMode:_t().editorStylingMode||"filled"}},{device:function(){var t=an();return Ui(t)},options:{labelMode:"outside"}}])},_getDefaultButtons:function(){return[{name:"clear",Ctor:kD}]},_isClearButtonVisible:function(){return this.option("showClearButton")&&!this.option("readOnly")},_input:function(){return this.$element().find(hSe).first()},_isFocused:function(){return Fo(this._input())||this.callBase()},_inputWrapper:function(){return this.$element()},_buttonsContainer:function(){return this._inputWrapper().find("."+fSe).eq(0)},_isControlKey:function(t){return CSe.indexOf(t)!==-1},_renderStylingMode:function(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup:function(){this.$element().addClass(uSe),this._renderInput(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render:function(){this.callBase(),this._refreshValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){this._$buttonsContainer=this._$textEditorContainer=g("<div>").addClass(pSe).appendTo(this.$element()),this._$textEditorInputContainer=g("<div>").addClass(cSe).appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput()),this._renderButtonContainers()},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator:function(){this.$element().addClass(Y8);var t=this._getInputContainer(),e=g("<div>").addClass(vSe).appendTo(t);this._pendingIndicator=this._createComponent(e,Hn)},_disposePendingIndicator:function(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass(Y8))},_renderValidationState:function(){this.callBase();var t=this.option("validationStatus")==="pending";t?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),this._toggleValidMark()},_renderButtonContainers:function(){var t=this.option("buttons");this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(t,this._$buttonsContainer),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(t,this._$buttonsContainer)},_cleanButtonContainers:function(){var t,e;(t=this._$beforeButtonsContainer)===null||t===void 0||t.remove(),(e=this._$afterButtonsContainer)===null||e===void 0||e.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$buttonsContainer=null,this.callBase()},_createInput:function(){var t=g("<input>");return this._applyInputAttributes(t,this.option("inputAttr")),t},_setSubmitElementName:function(t){var e=this.option("inputAttr.name");return this.callBase(t||e||"")},_applyInputAttributes:function(t,e){var i=y(this._getDefaultAttributes(),e);t.attr(i).addClass(Q8),this._setInputMinHeight(t)},_setInputMinHeight:function(t){t.css("minHeight",this.option("height")?"0":"")},_getPlaceholderAttr(){var{ios:t,mac:e}=be.real(),{placeholder:i}=this.option(),n=i||(t||e?" ":null);return n},_getDefaultAttributes(){var t={autocomplete:"off",placeholder:this._getPlaceholderAttr()};return t},_updateButtons:function(t){this._buttonCollection.updateButtons(t)},_updateButtonsStyling:function(t){F(this.option("buttons"),(e,i)=>{var{options:n,name:r}=i;if(n&&!n.stylingMode&&this.option("visible")){var o=this.getButton(r);o.option&&o.option("stylingMode",t==="underlined"?"text":"contained")}})},_renderValue:function(){var t=this._renderInputValue();return t.promise()},_renderInputValue:function(t){var e;t=(e=t)!==null&&e!==void 0?e:this.option("value");var i=this.option("text"),n=this.option("displayValue"),r=this.option("displayValueFormatter");return n!==void 0&&t!==null?i=r(n):O(i)||(i=r(t)),this.option("text",i),this._input().val()!==(O(i)?i:"")?this._renderDisplayText(i):this._toggleEmptinessEventHandler(),new H().resolve()},_renderDisplayText:function(t){this._input().val(t),this._toggleEmptinessEventHandler()},_isValueValid:function(){if(this._input().length){var t=this._input().get(0).validity;if(t)return t.valid}return!0},_toggleEmptiness:function(t){this.$element().toggleClass(gSe,t),this._togglePlaceholder(t)},_togglePlaceholder:function(t){this.$element().find(".".concat(J8)).eq(0).toggleClass(mSe,!t)},_renderProps:function(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState:function(t){this.callBase.apply(this,arguments);var e=this._input();e.prop("disabled",t)},_toggleTabIndex:function(){var t=this._input(),e=this.option("disabled"),i=this.option("focusStateEnabled");e||!i?t.attr("tabIndex",-1):t.removeAttr("tabIndex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize:function(){this._labelContainerElement&&(hl.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer:function(){return this._input()},_getLabelContainerWidth:function(){return Ae(this._getLabelContainer())},_getLabelBeforeWidth:function(){var t=this._$beforeButtonsContainer&&Ae(this._$beforeButtonsContainer);return t??0},_updateLabelWidth:function(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_getFieldElement(){return this._getLabelContainer()},_setFieldAria(t){var{"aria-label":e}=this.option("inputAttr"),i=this._label.getId(),n=e?void 0:i;if(n||t){var r={labelledby:n,label:e};this.setAria(r,this._getFieldElement())}},_renderLabel:function(){this._unobserveLabelContainerResize(),this._labelContainerElement=g(this._getLabelContainer()).get(0);var{label:t,labelMode:e,labelMark:i,rtlEnabled:n}=this.option(),r={onClickHandler:()=>{this.focus()},onHoverHandler:o=>{o.stopPropagation()},onActiveHandler:o=>{o.stopPropagation()},$editor:this.$element(),text:t,mark:i,mode:e,rtlEnabled:n,containsButtonsBefore:!!this._$beforeButtonsContainer,getContainerWidth:()=>this._getLabelContainerWidth(),getBeforeWidth:()=>this._getLabelBeforeWidth()};this._label=new xSe(r),this._setFieldAria(),this._labelContainerElement&&hl.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder:function(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var t=this._input(),e=this.option("placeholder"),i={id:e?"dx-".concat(new kt):void 0,"data-dx_placeholder":e},n=this._$placeholder=g("<div>").attr(i);n.insertAfter(t),n.addClass(J8)},_attachPlaceholderEvents:function(){var t=ne(nt.up,this.NAME);S.on(this._$placeholder,t,()=>{S.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder:function(){return this._$placeholder||g()},_clearValueHandler:function(t){var e=this._input();t.stopPropagation(),this._saveValueChangeEvent(t),this._clearValue(),!this._isFocused()&&S.trigger(e,"focus"),S.trigger(e,"input")},_clearValue:function(){this.clear()},_renderEvents:function(){var t=this._input();F(VD,(e,i)=>{if(this.hasActionSubscription("on"+i)){var n=this._createActionByOption("on"+i,{excludeValidators:["readOnly"]});S.on(t,ne(i.toLowerCase(),this.NAME),r=>{this._disposed||n({event:r})})}})},_refreshEvents:function(){var t=this._input();F(VD,(e,i)=>{S.off(t,ne(i.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_keyDownHandler:function(t){var e=this._input(),i=t.ctrlKey&&qt(t)==="enter",n=e.val()!==this.option("value");i&&n&&S.trigger(e,"change")},_getValueChangeEventOptionName:function(){return"valueChangeEvent"},_renderValueChangeEvent:function(){var t=ne(this._renderValueEventName(),"".concat(this.NAME,"TextChange")),e=ne(this.option(this._getValueChangeEventOptionName()),"".concat(this.NAME,"ValueChange")),i=ne("keydown","".concat(this.NAME,"TextChange")),n=this._input();S.on(n,t,this._keyPressHandler.bind(this)),S.on(n,e,this._valueChangeEventHandler.bind(this)),S.on(n,i,this._keyDownHandler.bind(this))},_cleanValueChangeEvent:function(){var t=".".concat(this.NAME,"ValueChange"),e=".".concat(this.NAME,"TextChange");S.off(this._input(),t),S.off(this._input(),e)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_focusEventTarget:function(){return this.element()},_isInput:function(t){return t===this._input().get(0)},_preventNestedFocusEvent:function(t){if(t.isDefaultPrevented())return!0;var e=this._isNestedTarget(t.relatedTarget);return t.type==="focusin"?e=e&&this._isNestedTarget(t.target)&&!this._isInput(t.target):e||this._toggleFocusClass(!1,this.$element()),e&&t.preventDefault(),e},_isNestedTarget:function(t){return!!this.$element().find(t).length},_focusClassTarget:function(){return this.$element()},_focusInHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_focusOutHandler:function(t){this._preventNestedFocusEvent(t),this.callBase.apply(this,arguments)},_toggleFocusClass:function(t,e){this.callBase(t,this._focusClassTarget(e))},_hasFocusClass:function(t){return this.callBase(g(t||this.$element()))},_renderEmptinessEvent:function(){var t=this._input();S.on(t,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler:function(){var t=this._input().val(),e=(t===""||t===null)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler:function(t,e){this.option("readOnly")||(this._saveValueChangeEvent(t),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),S.off(this._input(),"keyup.onEnterKey.dxTextEditor"),S.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp:function(t){this._disposed||qt(t)==="enter"&&this._enterKeyAction({event:t})},_updateValue:function(){this._options.silent("text",null),this._renderValue()},_dispose:function(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement:function(){return this._input()},_hasActiveElement:function(){return this._input().is(ie.getActiveElement(this._input()[0]))},_optionChanged:function(t){var{name:e,fullName:i,value:n}=t,r=e.replace("on","");if(VD.includes(r)){this._refreshEvents();return}switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(t),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0),this._input().attr({placeholder:this._getPlaceholderAttr()});break;case"label":this._label.updateText(n),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(n);break;case"labelMode":this._label.updateMode(n),this._setFieldAria();break;case"width":this.callBase(t),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(t);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":i===e&&X8(n),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(t),n&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;case"showValidationMark":break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(t){var e=this._input();t==="search"&&(t="text");try{e.prop("type",t)}catch{e.prop("type","text")}},getButton(t){return this._buttonCollection.getButton(t)},focus:function(){S.trigger(this._input(),"focus")},clear:function(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());var t=this._getDefaultOptions();this.option("value")===t.value?(this._options.silent("text",""),this._renderValue()):this.option("value",t.value)},_resetToInitialValue(){this.option("value")===this._initialValue?(this._options.silent("text",this._initialValue),this._renderValue()):this.callBase(),this._disposePendingIndicator(),this._showValidMark=!1,this._toggleValidMark()},_toggleValidMark(){this.$element().toggleClass(_Se,!!this._showValidMark)},reset:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length?this.callBase(t):this.callBase()},on:function(t,e){var i=this.callBase(t,e),n=t.charAt(0).toUpperCase()+t.substr(1);return VD.indexOf(n)>=0&&this._refreshEvents(),i}}),Z8=ySe;var OP="dxMask",bSe="blur beforedeactivate",e6=" ",DSe=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],OSe=["historyUndo","historyRedo"],ESe=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function SSe(t){return e6.repeat(t)}var HD=class{constructor(e){this.editor=e}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}_attachChangeEventHandler(){if(this._editorOption("valueChangeEvent").split(" ").includes("change")){var e=this._editorInput(),i=ne(bSe,OP);S.on(e,i,n=>{this.editor._changeHandler(n)})}}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(e){var{originalEvent:i}=e;if(i){var{inputType:n}=i;if(OSe.includes(n))this._handleHistoryInputEvent();else if(DSe.includes(n))this._handleBackwardDeleteInputEvent();else{var r=this._editorCaret();if(!r.end)return;this._clearSelectedText(),this._autoFillHandler(i),this._editorCaret(r),this._handleInsertTextInputEvent(i.data)}this._editorOption("text")===this._previousText&&e.stopImmediatePropagation()}}_handleHistoryInputEvent(){var e=this._editorCaret();this._updateEditorMask({start:e.start,length:e.end-e.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText();var e=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret();var i=this._editorCaret();i.start!==e.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(){var e,i,n=((e=this._prevCaret)===null||e===void 0?void 0:e.end)-((i=this._prevCaret)===null||i===void 0?void 0:i.start)||1,r=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:r.start,length:n,text:SSe(n)}))}_handleInsertTextInputEvent(e){var i,n,r=e??"";this.editor.setForwardDirection();var o=this._updateEditorMask({start:(i=(n=this._prevCaret)===null||n===void 0?void 0:n.start)!==null&&i!==void 0?i:0,length:r.length||1,text:r});o||this._editorCaret(this._prevCaret)}_updateEditorMask(e){var i=e.text.length,n=this.editor._handleChain(e);if(this.editor._displayMask(),this.editor.isForwardDirection()){var{start:r,end:o}=this._editorCaret(),s=n-i,a=n>1;a&&i===1&&this._editorCaret({start:r+s,end:o+s}),this.editor._adjustCaret()}return!!n}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{var e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:e,end:e})},0)}}_focusOutHandler(e){this.editor._changeHandler(e),this._editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(e){var{editor:i}=this;i._maskKeyHandler(e,()=>{i._hasSelection()||i._handleKey(e6)})}_cutHandler(e){var i=this._editorCaret(),n=this._editorInput().val().substring(i.start,i.end);this.editor._maskKeyHandler(e,()=>Dv(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{var e=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",e)})}_pasteHandler(e){var{editor:i}=this;if(!this._editorOption("disabled")){var n=this._editorCaret();i._maskKeyHandler(e,()=>{var r=Dv(e),o=i._maskRulesChain.text().substring(n.end),s=i._handleChain({text:r,start:n.start,length:r.length}),a=n.start+s;i._handleChain({text:o,start:a,length:o.length}),i._caret({start:a,end:a})})}}_autoFillHandler(e){var{editor:i}=this,n=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(i._maskKeyHandler(e,()=>{i._handleChain({text:n,start:0,length:n.length})}),i._validateMask())})}_isAutoFill(){var e=this._editorInput();if(Nt.webkit){var i,n=e.get(0);return(i=n?.matches(":-webkit-autofill"))!==null&&i!==void 0?i:!1}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}getHandler(e){return i=>{var n;(n=this["_".concat(e,"Handler")])===null||n===void 0||n.call(this,i)}}attachEvents(){var e=this._editorInput();ESe.forEach(i=>{var n=ne(i.toLowerCase(),OP);S.on(e,n,this.getHandler(i))}),this._attachChangeEventHandler()}detachEvents(){S.off(this._editorInput(),".".concat(OP))}clean(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}};var t6=V8,i6=" ",wSe="\\",n6="dx-texteditor-masked",EP="forward",ISe="backward",TSe="drop",MSe={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:function(t){return zD(t)},l:function(t){return zD(t)||o6(t)},C:/\S/,c:/./,A:function(t){return zD(t)||r6(t)},a:function(t){return zD(t)||r6(t)||o6(t)}};function r6(t){return/[0-9]/.test(t)}function zD(t){var e=t.charCodeAt();return 64<e&&e<91||96<e&&e<123||e>127}function o6(t){return t===" "}var ASe=Z8.inherit({_getDefaultOptions:function(){return y(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:j.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys:function(){var t=this,e={del:t._maskStrategy.getHandler("del"),enter:t._changeHandler},i=t.callBase();return F(e,function(n,r){var o=i[n];i[n]=function(s){t.option("mask")&&r.call(t,s),o&&o(s)}}),i},_getSubmitElement:function(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init:function(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy:function(){this._maskStrategy=new HD(this)},_initMarkup:function(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers:function(){var t=this._onMouseWheel!==W;if(t){var e=this._input(),i=ne(Su,this.NAME),n=this._createAction((function(r){var{event:o}=r;Fo(e)&&!Wi(o)&&(this._onMouseWheel(o),o.preventDefault(),o.stopPropagation())}).bind(this));S.off(e,i),S.on(e,i,function(r){n({event:r})})}},_onMouseWheel:W,_useMaskBehavior(){return!!this.option("mask")},_attachDropEventHandler(){var t=this._useMaskBehavior();if(t){var e=ne(TSe,this.NAME),i=this._input();S.off(i,e),S.on(i,e,n=>n.preventDefault())}},_render(){this._renderMask(),this.callBase(),this._attachDropEventHandler(),this._attachMouseWheelEventHandlers()},_renderHiddenElement:function(){this.option("mask")&&(this._$hiddenElement=g("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement:function(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask:function(){this.$element().removeClass(n6),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass(n6),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_changeHandler:function(t){var e=this._input(),i=e.val();if(i!==this._changedValue){this._changedValue=i;var n=la(t,{type:"change"});S.trigger(e,n)}},_parseMask:function(){this._maskRules=y({},MSe,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(t){var e=this.option("mask");if(t>=e.length)return new z8;var i=e[t],n=i===wSe,r=n?new DP({maskChar:e[t+1]}):this._getMaskRule(i);return r.next(this._parseMaskRule(t+1+n)),r},_getMaskRule:function(t){var e;return F(this._maskRules,function(i,n){if(i===t)return e={pattern:i,allowedChars:n},!1}),O(e)?new bP(y({maskChar:this.option("maskChar")||" "},e)):new DP({maskChar:t})},_renderMaskedValue:function(){if(this._maskRulesChain){var t=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());var e={length:t.length};e[this._isMaskedValueMode()?"text":"value"]=t,this._handleChain(e),this._displayMask()}},_replaceSelectedText:function(t,e,i){if(i===void 0)return t;var n=t.slice(0,e.start),r=t.slice(e.end),o=n+i+r;return o},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(t){t=t||this._caret(),this._renderValue(),this._caret(t)},_isValueEmpty:function(){return of(this._value)},_shouldShowMask:function(){var t=this.option("showMaskMode");return t==="onFocus"?Fo(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder:function(){if(this._shouldShowMask()){var t=this._maskRulesChain.text();this.option("text",t),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(t)}},_renderValue:function(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){var t=this._maskRulesChain.value(),e=of(t)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue:function(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler:function(t){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(t),this.option("value",this._getPreparedValue())},_isControlKeyFired:function(t){return this._isControlKey(qt(t))||Wi(t)},_handleChain:function(t){var e=this._maskRulesChain.handle(this._normalizeChainArguments(t));return this._updateMaskInfo(),e},_normalizeChainArguments:function(t){return t=t||{},t.index=0,t.fullText=this._maskRulesChain.text(),t},_convertToValue:function(t){return this._isMaskedValueMode()?t=this._replaceMaskCharWithEmpty(t||this._textValue||""):t=t||this._value||"",t},_replaceMaskCharWithEmpty:function(t){return t.replace(new RegExp(this.option("maskChar"),"g"),i6)},_maskKeyHandler:function(t,e){if(!this.option("readOnly")){this.setForwardDirection(),t.preventDefault(),this._handleSelection();var i=this._input().val(),n=()=>{i!==this._input().val()&&S.trigger(this._input(),"input")},r=e();r?r.then(n):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),n())}},_handleKey:function(t,e){this._direction(e||EP),this._adjustCaret(t),this._handleKeyChain(t),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var t=this._caret(),e=new Array(t.end-t.start+1).join(i6);this._handleKeyChain(e)}},_handleKeyChain:function(t){var e=this._caret(),i=this.isForwardDirection()?e.start:e.start-1,n=this.isForwardDirection()?e.end:e.end-1,r=i===n?1:n-i;this._handleChain({text:t,start:i,length:r})},_tryMoveCaretBackward:function(){this.setBackwardDirection();var t=this._caret().start;return this._adjustCaret(),!t||t!==this._caret().start},_adjustCaret:function(t){var e=this._caret().start,i=this.isForwardDirection(),n=this._maskRulesChain.adjustedCaret(e,i,t);this._caret({start:n,end:n})},_moveCaret:function(){var t=this._caret().start,e=t+(this.isForwardDirection()?0:-1),i=this._maskRulesChain.isAccepted(e)?t+(this.isForwardDirection()?1:-1):t;this._caret({start:i,end:i})},_caret:function(t,e){var i=this._input();if(i.length){if(!arguments.length)return t6(i);t6(i,t,e)}},_hasSelection:function(){var t=this._caret();return t.start!==t.end},_direction:function(t){if(!arguments.length)return this._typingDirection;this._typingDirection=t},setForwardDirection:function(){this._direction(EP)},setBackwardDirection:function(){this._direction(ISe)},isForwardDirection:function(){return this._direction()===EP},_updateMaskInfo(){this._textValue=this._maskRulesChain.text(),this._value=this._maskRulesChain.value()},_clean:function(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var t=of(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_updateHiddenElement:function(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption:function(){this._updateHiddenElement(),this._renderMask(),this._validateMask()},_processEmptyMask:function(t){if(!t){var e=this.option("value");this.option({text:e,isValid:!0}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()}},_optionChanged:function(t){switch(t.name){case"mask":this._updateMaskOption(),this._processEmptyMask(t.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(t),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(t)}},clear:function(){var{value:t}=this._getDefaultOptions();this.option("value")===t&&this._renderMaskedValue(),this.callBase()}}),SP=ASe;Be("dxTextEditor",SP);var WD=SP;var RSe=Le(),FSe=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"],PSe="dx-textbox",s6="dx-searchbox",kSe="dx-icon",NSe="dx-icon-search",a6=WD.inherit({ctor:function(t,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return y(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup:function(){this.$element().addClass(PSe),this.callBase(),this.setAria("role","textbox")},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_useTemplates:function(){return!1},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){var t=this._getMaxLength();t&&t>0?this._input().attr("maxLength",t):this._input().removeAttr("maxLength")},_renderSearchMode:function(){var t=this._$element;this.option("mode")==="search"?(t.addClass(s6),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(t.removeClass(s6),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=g("<div>").addClass(kSe).addClass(NSe);t.prependTo(this._input().parent()),this._$searchIcon=t},_getLabelContainerWidth:function(){if(this._$searchIcon){var t=this._input().parent();return Ae(t)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth:function(){var t=this.callBase();return this._$searchIcon&&(t+=it(this._$searchIcon)),t},_optionChanged:function(t){switch(t.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(t),this._updateLabelWidth();break;case"mask":this.callBase(t),this._toggleMaxLengthProp();break;default:this.callBase(t)}},_onKeyDownCutOffHandler:function(t){var e=this._getMaxLength();if(e&&!t.ctrlKey&&!this._hasSelection()){var i=g(t.target),n=qt(t);return this._cutOffExtraChar(i),i.val().length<e||FSe.includes(n)||RSe.getSelection().toString()!==""}else return!0},_onChangeCutOffHandler:function(t){var e=g(t.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar:function(t){var e=this._getMaxLength(),i=t.val();e&&i.length>e&&t.val(i.substr(0,e))},_getMaxLength:function(){var t=!!this.option("mask");return t?null:this.option("maxLength")}});Be("dxTextBox",a6);var l6=a6;var gl=l6;ya.setEditorClass(gl);var d6=As;var u6=S.on,c6=S.one,h6=S.off,bbt=S.trigger,wP=S.triggerHandler,Dbt=S.Event;var pt=class{setHost(e){this.host=e}setTemplate(e){this.host.setTemplate(e)}};var jD=class{constructor(e,i){this.instance=e,this.zone=i,this.subscriptions={},this.events={}}hasEvent(e){return this.getEmitter(e).observers.length!==0}fireEvent(e,i){let n=this.getEmitter(e);n.observers.length&&((this.subscriptions[e]||[]).length===n.observers.length?n.next(i&&i[0]):this.zone.run(()=>n.next(i&&i[0])))}on(e,i){if(typeof e=="string"){let n=this.subscriptions[e]||[],r=this.getEmitter(e).subscribe(i?.bind(this.instance)),o=r.unsubscribe.bind(r);n.push({handler:i,unsubscribe:o}),this.subscriptions[e]=n}else{let n=e;Object.keys(n).forEach(r=>this.on(r,n[r]))}}off(e,i){let n=this.subscriptions[e]||[];i?n.some((r,o)=>r.handler===i?(r.unsubscribe(),n.splice(o,1),!0):!1):(n.forEach(r=>{r.unsubscribe()}),n.splice(0,n.length))}dispose(){}addEmitter(e,i){this.events[e]=i}getEmitter(e){return this.events[e]||(this.events[e]=new Vi),this.events[e]}},MP=class{constructor(e,i){this.zone=e,this.component=i,this.lockedValueChangeEvent=!1}fireNgEvent(e,i){if(this.lockedValueChangeEvent&&e==="valueChange")return;let n=this.component[e];n&&n.observers.length&&this.zone.run(()=>{n.next(i&&i[0])})}createEmitters(e){e.forEach(i=>{this.component[i.emit]=new Vi})}};var wt=(()=>{class t{constructor(){this._watchers=[]}getWatchMethod(){return(n,r,o)=>{let s=n();o=o||{},o.skipImmediate||r(s);let a=()=>{let l=n();this._isDifferentValues(s,l,o.deep)&&(r(l),s=l)};return this._watchers.push(a),()=>{let l=this._watchers.indexOf(a);l!==-1&&this._watchers.splice(l,1)}}}_isDifferentValues(i,n,r){let o=this._toComparable(n),s=this._toComparable(i),a=o instanceof Object&&s instanceof Object;return r&&a?this._checkObjectsFields(n,i):o!==s}_toComparable(i){return i instanceof Date?i.getTime():i}_checkObjectsFields(i,n){for(let r in i){let o=this._toComparable(i[r]),s=this._toComparable(n[r]),a=!1;if(typeof o=="object"&&typeof s=="object"&&(a=Rt(o,s)),o!==s&&!a)return!0}}checkWatchers(){for(let i of this._watchers)i()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();function f6(t){return t.get?t.get(0):t}var g6="dx-template-wrapper";var hg=(()=>{class t{constructor(i,n,r,o,s){this.templateRef=i,this.viewContainerRef=n,this.renderer=o,this.zone=s,r.setTemplate(this)}set dxTemplateOf(i){this.name=i}renderTemplate(i){let n=this.viewContainerRef.createEmbeddedView(this.templateRef,{$implicit:i.model,index:i.index}),r=f6(i.container);return i.container&&n.rootNodes.forEach(o=>{this.renderer.appendChild(r,o)}),n}render(i){let n;return this.zone.isStable?n=this.zone.run(()=>this.renderTemplate(i)):n=this.renderTemplate(i),n.detectChanges(),n.rootNodes.forEach(r=>{r.nodeType===1&&ie.setClass(r,g6,!0),c6(r,"dxremove",({},o)=>{(!o||!o._angularIntegration)&&n.destroy()})}),n.rootNodes}}return t.\u0275fac=function(i){return new(i||t)(oe(Bl),oe($a),oe(pt),oe(zl),oe(gt))},t.\u0275dir=ia({type:t,selectors:[["","dxTemplate",""]],inputs:{dxTemplateOf:"dxTemplateOf"}}),t})(),Wt=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var p6="dx-visibility-change-handler",m6=(()=>{class t{constructor(){this._initialOptions={},this._collectionContainerImpl=new $D(this._setOption.bind(this),this._filterItems.bind(this))}_optionChangedHandler(i){let n=this._fullOptionPath();if(i.fullName.indexOf(n)===0){let r=i.fullName.slice(n.length),o=this[`${r}Change`];o&&o.next(i.value)}}_createEventEmitters(i){i.forEach(n=>{this[n.emit]=new Vi})}_getOption(i){return this.isLinked?this.instance.option(this._fullOptionPath()+i):this._initialOptions[i]}_setOption(i,n){if(this.isLinked){let r=this._fullOptionPath()+i;this.instance.option(r,n)}else this._initialOptions[i]=n}_addRemovedOption(i){this.instance&&this.removedNestedComponents&&this.removedNestedComponents.push(i)}_deleteRemovedOptions(i){this.instance&&this.removedNestedComponents&&(this.removedNestedComponents=this.removedNestedComponents.filter(n=>!n.startsWith(i)))}_addRecreatedComponent(){this.instance&&this.recreatedNestedComponents&&this.recreatedNestedComponents.push({getOptionPath:()=>this._getOptionPath()})}_getOptionPath(){return this._hostOptionPath()+this._optionPath}setHost(i,n){this._host=i,this._hostOptionPath=n,this.optionChangedHandlers.subscribe(this._optionChangedHandler.bind(this))}setChildren(i,n){return this.resetOptions(i),this._collectionContainerImpl.setChildren(i,n)}_filterItems(i){return i.filter(n=>n!==this)}get instance(){return this._host&&this._host.instance}get resetOptions(){return this._host&&this._host.resetOptions}get isRecreated(){return this._host&&this._host.isRecreated}get removedNestedComponents(){return this._host&&this._host.removedNestedComponents}set removedNestedComponents(i){this._host.removedNestedComponents=i}get recreatedNestedComponents(){return this._host&&this._host.recreatedNestedComponents}set recreatedNestedComponents(i){this._host.recreatedNestedComponents=i}get isLinked(){return!!this.instance&&this._host.isLinked}get optionChangedHandlers(){return this._host&&this._host.optionChangedHandlers}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),$D=class{constructor(e,i){this._setOption=e,this._filterItems=i,this._activatedQueries={}}setChildren(e,i){if(this._filterItems&&(i=this._filterItems(i)),i.length&&(this._activatedQueries[e]=!0),this._activatedQueries[e]){let n=i.map((r,o)=>(r._index=o,r._value));this._setOption(e,n)}}},FP=(()=>{class t extends m6{setHost(i,n){super.setHost(i,n),this._host[this._optionPath]=this._initialOptions}_fullOptionPath(){return`${this._getOptionPath()}.`}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Yo(t)))(n||t)}}(),t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],features:[Pt],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),ud=(()=>{class t extends m6{_fullOptionPath(){return`${this._getOptionPath()}[${this._index}].`}get _value(){return this._initialOptions}get isLinked(){return this._index!==void 0&&!!this.instance&&this._host.isLinked}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Yo(t)))(n||t)}}(),t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],features:[Pt],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),BSe=function(t){let e=[];g(t).hasClass(p6)||e.push(t),e.push.apply(e,t.querySelectorAll(`.${p6}`));for(let i=0;i<e.length;i++)wP(e[i],"dxshown")};function PP(t,e,i,n){!t.template===void 0||!e.nativeElement.hasChildNodes()||![].slice.call(e.nativeElement.childNodes).filter(s=>{if(s.tagName){let a=s.tagName.toLowerCase().substr(0,3);return!(a==="dxi"||a==="dxo")}return s.nodeName!=="#comment"&&s.textContent.replace(/\s/g,"").length}).length||(t.template={render:s=>{let a=e.nativeElement;if(ie.setClass(a,g6,!0),s.container){let l=f6(s.container),d=l.contains(e.nativeElement);i.appendChild(l,e.nativeElement),d||n.body.contains(l)&&BSe(a)}return a}})}var Ge=class{getHost(){return this._host}setHost(e,i){this._host=e,this._optionPath=i||(()=>"")}setNestedOption(e){e.setHost(this._host,this._optionPath)}};var IP,TP=()=>(IP||(IP=K$("DX_isPlatformServer")),IP),tn=(()=>{class t{constructor(i,n,r,o,s,a){this.element=i,this.ngZone=n,this.watcherHelper=o,this.transferState=s,this.platformId=a,this._initialOptions={},this._optionsToUpdate={},this.optionChangedHandlers=new Vi,this.isLinked=!0,this.changedOptions={},this.removedNestedComponents=[],this.widgetUpdateLocked=!1,this.templateUpdateRequired=!1,this.templates=[],r.setHost(this),this._collectionContainerImpl=new $D(this._setOption.bind(this)),this.eventHelper=new MP(n,this)}_updateTemplates(){if(this.templates.length&&this.templateUpdateRequired){let i={};this.templates.forEach(n=>{i[n.name]=n}),this.instance.option("integrationOptions.templates",i),this.templates=Object.values(i),this.templateUpdateRequired=!1}}_initEvents(){this.instance.on("optionChanged",i=>{this.changedOptions[i.name]=i.value;let n=i.name===i.fullName?i.value:i.component.option(i.name);this.eventHelper.fireNgEvent(`${i.name}Change`,[n]),this.optionChangedHandlers.emit(i)})}_initOptions(){this._initialOptions.integrationOptions.watchMethod=this.watcherHelper.getWatchMethod()}_initPlatform(){this.transferState.hasKey(TP())?this._initialOptions.integrationOptions.renderedOnServer=this.transferState.get(TP(),null):Um(this.platformId)&&this.transferState.set(TP(),!0)}_createEventEmitters(i){let n=this.ngZone;this.eventHelper.createEmitters(i),this._initialOptions.eventsStrategy=r=>{let o=new jD(r,n);return i.filter(s=>s.subscribe).forEach(s=>{o.addEmitter(s.subscribe,this[s.emit])}),o},this._initialOptions.nestedComponentOptions=function(r){return{eventsStrategy:o=>new jD(o,n),nestedComponentOptions:r.option("nestedComponentOptions")}}}_shouldOptionChange(i,n){if(this.changedOptions.hasOwnProperty(i)){let r=this.changedOptions[i];return delete this.changedOptions[i],n!==r}return!0}clearChangedOptions(){this.changedOptions={}}_getOption(i){return this.instance?this.instance.option(i):this._initialOptions[i]}lockWidgetUpdate(){!this.widgetUpdateLocked&&this.instance&&(this.instance.beginUpdate(),this.widgetUpdateLocked=!0)}unlockWidgetUpdate(){this.widgetUpdateLocked&&(this.widgetUpdateLocked=!1,this.instance.endUpdate())}_setOption(i,n){this.lockWidgetUpdate(),this._shouldOptionChange(i,n)&&(this.instance?this.instance.option(i,n):this._initialOptions[i]=n)}_createWidget(i){this._initialOptions.integrationOptions={},this._initPlatform(),this._initOptions(),this._initialOptions.onInitializing=function(){this.beginUpdate()},this.instance=this._createInstance(i,this._initialOptions),this._initEvents(),this._initialOptions={}}_destroyWidget(){if(this.removedNestedComponents=[],this.instance){let i=this.instance.element();wP(i,"dxremove",{_angularIntegration:!0}),this.instance.dispose(),ie.removeElement(i)}}ngOnChanges(i){for(let n in i)i[n].currentValue!==this[n]&&(this._optionsToUpdate[n]=i[n].currentValue)}ngOnInit(){this._createWidget(this.element.nativeElement)}ngDoCheck(){this.applyOptions()}ngAfterContentChecked(){this.applyOptions(),this.resetOptions(),this.unlockWidgetUpdate()}ngAfterViewInit(){this._updateTemplates(),this.instance.endUpdate(),this.recreatedNestedComponents=[]}ngAfterViewChecked(){this._updateTemplates()}applyOptions(){Object.keys(this._optionsToUpdate).length&&(this.instance&&this.instance.option(this._optionsToUpdate),this._optionsToUpdate={})}resetOptions(i){this.instance&&(this.removedNestedComponents.filter(n=>n&&!this.isRecreated(n)&&i?n.startsWith(i):!0).forEach(n=>{this.instance.resetOption(n)}),this.removedNestedComponents=[],this.recreatedNestedComponents=[])}isRecreated(i){return this.recreatedNestedComponents&&this.recreatedNestedComponents.some(n=>n.getOptionPath()===i)}setTemplate(i){this.templates.push(i),this.templateUpdateRequired=!0}setChildren(i,n){return this.resetOptions(i),this._collectionContainerImpl.setChildren(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],features:[cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),v6=(()=>{class t extends tn{createInstance(i){this._createWidget(i)}ngOnInit(){}ngAfterViewInit(){this._createWidget(this.element.nativeElement),this.instance.endUpdate()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Yo(t)))(n||t)}}(),t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],features:[Pt],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var VSe=["mousemove","mouseover","mouseout"],HSe=["mouseup","click","mousedown","transitionend","wheel"],AP,RP=[],_6=function(t){AP||(AP=this.callBase.bind(this)),RP.push(t)};sn.inject({add(t){return _6.call(this,t)}});var C6=(t,e,i)=>{Number(r$.major)<12&&console.warn("Your version of Angular is not supported. Please update your project to version 12 or later. Please refer to the Angular Update Guide for more information: https://update.angular.io"),ie.inject({_document:t,listen(...r){let o=r[1];return VSe.includes(o)?e.runOutsideAngular(()=>this.callBase.apply(this,r)):e.isStable&&HSe.includes(o)?e.run(()=>this.callBase.apply(this,r)):this.callBase.apply(this,r)},isElementNode(r){return r&&r.nodeType===1},isTextNode(r){return r&&r.nodeType===3},isDocument(r){return r&&r.nodeType===9}}),rD.inject({getXhr(){if(!i)return this.callBase.apply(this);let r=i.build();return"withCredentials"in r||(r.withCredentials=!1),r}});let n=()=>{e.run(()=>{S.set({}),RP.forEach(r=>AP.call(null,r)),RP=[],sn.fire()})};n(),_6=r=>e.run(()=>r()),C6=n},$i=(()=>{class t{constructor(i,n,r){C6(i,n,r)}}return t.\u0275fac=function(i){return new(i||t)(Ue(An),Ue(gt),Ue(uu,8))},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();function zSe(t){return t&&typeof t[Symbol.iterator]=="function"}var Si=(()=>{class t{constructor(i){this._differs=i,this._propertyDiffers={}}setHost(i){this._host=i}setup(i,n){if(i in n){let r=n[i].currentValue;this.setupSingle(i,r)}}setupSingle(i,n){if(n&&Array.isArray(n)){if(!this._propertyDiffers[i])try{return this._propertyDiffers[i]=this._differs.find(n).create(null),!0}catch{}}else delete this._propertyDiffers[i];return!1}getChanges(i,n){if(this._propertyDiffers[i])return this._propertyDiffers[i].diff(n)}checkChangedOptions(i,n){return this._host.changedOptions[i]===n}doCheck(i){if(this._propertyDiffers[i]&&this._host.instance){let n=this._host[i];zSe(n)&&this.getChanges(i,n)&&!this.checkChangedOptions(i,n)&&(this._host.lockWidgetUpdate(),this._host.instance.option(i,n))}}}return t.\u0275fac=function(i){return new(i||t)(Ue(Wm))},t.\u0275prov=Qe({token:t,factory:t.\u0275fac}),t})();var kP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var cd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var hd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var pd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var WSe=(()=>{class t extends ud{get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get html(){return this._getOption("html")}set html(i){this._setOption("html",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get title(){return this._getOption("title")}set title(i){this._setOption("title",i)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(i){this._setOption("titleTemplate",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get onClick(){return this._getOption("onClick")}set onClick(i){this._setOption("onClick",i)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(i){this._setOption("stylingMode",i)}get type(){return this._getOption("type")}set type(i){this._setOption("type",i)}get baseSize(){return this._getOption("baseSize")}set baseSize(i){this._setOption("baseSize",i)}get box(){return this._getOption("box")}set box(i){this._setOption("box",i)}get ratio(){return this._getOption("ratio")}set ratio(i){this._setOption("ratio",i)}get shrink(){return this._getOption("shrink")}set shrink(i){this._setOption("shrink",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get beginGroup(){return this._getOption("beginGroup")}set beginGroup(i){this._setOption("beginGroup",i)}get closeMenuOnClick(){return this._getOption("closeMenuOnClick")}set closeMenuOnClick(i){this._setOption("closeMenuOnClick",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get selectable(){return this._getOption("selectable")}set selectable(i){this._setOption("selectable",i)}get selected(){return this._getOption("selected")}set selected(i){this._setOption("selected",i)}get colSpan(){return this._getOption("colSpan")}set colSpan(i){this._setOption("colSpan",i)}get cssClass(){return this._getOption("cssClass")}set cssClass(i){this._setOption("cssClass",i)}get dataField(){return this._getOption("dataField")}set dataField(i){this._setOption("dataField",i)}get editorOptions(){return this._getOption("editorOptions")}set editorOptions(i){this._setOption("editorOptions",i)}get editorType(){return this._getOption("editorType")}set editorType(i){this._setOption("editorType",i)}get helpText(){return this._getOption("helpText")}set helpText(i){this._setOption("helpText",i)}get isRequired(){return this._getOption("isRequired")}set isRequired(i){this._setOption("isRequired",i)}get itemType(){return this._getOption("itemType")}set itemType(i){this._setOption("itemType",i)}get label(){return this._getOption("label")}set label(i){this._setOption("label",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get validationRules(){return this._getOption("validationRules")}set validationRules(i){this._setOption("validationRules",i)}get visibleIndex(){return this._getOption("visibleIndex")}set visibleIndex(i){this._setOption("visibleIndex",i)}get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(i){this._setOption("alignItemLabels",i)}get caption(){return this._getOption("caption")}set caption(i){this._setOption("caption",i)}get colCount(){return this._getOption("colCount")}set colCount(i){this._setOption("colCount",i)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(i){this._setOption("colCountByScreen",i)}get tabPanelOptions(){return this._getOption("tabPanelOptions")}set tabPanelOptions(i){this._setOption("tabPanelOptions",i)}get tabs(){return this._getOption("tabs")}set tabs(i){this._setOption("tabs",i)}get badge(){return this._getOption("badge")}set badge(i){this._setOption("badge",i)}get tabTemplate(){return this._getOption("tabTemplate")}set tabTemplate(i){this._setOption("tabTemplate",i)}get buttonOptions(){return this._getOption("buttonOptions")}set buttonOptions(i){this._setOption("buttonOptions",i)}get horizontalAlignment(){return this._getOption("horizontalAlignment")}set horizontalAlignment(i){this._setOption("horizontalAlignment",i)}get verticalAlignment(){return this._getOption("verticalAlignment")}set verticalAlignment(i){this._setOption("verticalAlignment",i)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(i){this._setOption("locateInMenu",i)}get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(i){this._setOption("menuItemTemplate",i)}get options(){return this._getOption("options")}set options(i){this._setOption("options",i)}get showText(){return this._getOption("showText")}set showText(i){this._setOption("showText",i)}get widget(){return this._getOption("widget")}set widget(i){this._setOption("widget",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get imageAlt(){return this._getOption("imageAlt")}set imageAlt(i){this._setOption("imageAlt",i)}get imageSrc(){return this._getOption("imageSrc")}set imageSrc(i){this._setOption("imageSrc",i)}get acceptedValues(){return this._getOption("acceptedValues")}set acceptedValues(i){this._setOption("acceptedValues",i)}get formatName(){return this._getOption("formatName")}set formatName(i){this._setOption("formatName",i)}get formatValues(){return this._getOption("formatValues")}set formatValues(i){this._setOption("formatValues",i)}get key(){return this._getOption("key")}set key(i){this._setOption("key",i)}get showChevron(){return this._getOption("showChevron")}set showChevron(i){this._setOption("showChevron",i)}get linkAttr(){return this._getOption("linkAttr")}set linkAttr(i){this._setOption("linkAttr",i)}get url(){return this._getOption("url")}set url(i){this._setOption("url",i)}get heightRatio(){return this._getOption("heightRatio")}set heightRatio(i){this._setOption("heightRatio",i)}get widthRatio(){return this._getOption("widthRatio")}set widthRatio(i){this._setOption("widthRatio",i)}get expanded(){return this._getOption("expanded")}set expanded(i){this._setOption("expanded",i)}get hasItems(){return this._getOption("hasItems")}set hasItems(i){this._setOption("hasItems",i)}get id(){return this._getOption("id")}set id(i){this._setOption("id",i)}get parentId(){return this._getOption("parentId")}set parentId(i){this._setOption("parentId",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Yo(t)))(n||t)}}(),t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],features:[Pt],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var wh=(()=>{class t extends ud{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get message(){return this._getOption("message")}set message(i){this._setOption("message",i)}get trim(){return this._getOption("trim")}set trim(i){this._setOption("trim",i)}get type(){return this._getOption("type")}set type(i){this._setOption("type",i)}get ignoreEmptyValue(){return this._getOption("ignoreEmptyValue")}set ignoreEmptyValue(i){this._setOption("ignoreEmptyValue",i)}get max(){return this._getOption("max")}set max(i){this._setOption("max",i)}get min(){return this._getOption("min")}set min(i){this._setOption("min",i)}get reevaluate(){return this._getOption("reevaluate")}set reevaluate(i){this._setOption("reevaluate",i)}get validationCallback(){return this._getOption("validationCallback")}set validationCallback(i){this._setOption("validationCallback",i)}get comparisonTarget(){return this._getOption("comparisonTarget")}set comparisonTarget(i){this._setOption("comparisonTarget",i)}get comparisonType(){return this._getOption("comparisonType")}set comparisonType(i){this._setOption("comparisonType",i)}get pattern(){return this._getOption("pattern")}set pattern(i){this._setOption("pattern",i)}get _optionPath(){return"validationRules"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1))},t.\u0275cmp=rt({type:t,selectors:[["dxi-validation-rule"]],inputs:{message:"message",trim:"trim",type:"type",ignoreEmptyValue:"ignoreEmptyValue",max:"max",min:"min",reevaluate:"reevaluate",validationCallback:"validationCallback",comparisonTarget:"comparisonTarget",comparisonType:"comparisonType",pattern:"pattern"},features:[oi([Ge]),Pt],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),fd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var jSe=(()=>{class t extends ud{get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(i){this._setOption("alignItemLabels",i)}get badge(){return this._getOption("badge")}set badge(i){this._setOption("badge",i)}get colCount(){return this._getOption("colCount")}set colCount(i){this._setOption("colCount",i)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(i){this._setOption("colCountByScreen",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get tabTemplate(){return this._getOption("tabTemplate")}set tabTemplate(i){this._setOption("tabTemplate",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get title(){return this._getOption("title")}set title(i){this._setOption("title",i)}get commands(){return this._getOption("commands")}set commands(i){this._setOption("commands",i)}get groups(){return this._getOption("groups")}set groups(i){this._setOption("groups",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Yo(t)))(n||t)}}(),t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],features:[Pt],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var $Se=(()=>{class t extends ud{get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Yo(t)))(n||t)}}(),t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],features:[Pt],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var x6=(()=>{class t extends $Se{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"commands"}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1))},t.\u0275cmp=rt({type:t,selectors:[["dxi-command"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,lr,4),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o)}},inputs:{icon:"icon",items:"items",location:"location",name:"name",text:"text"},features:[oi([Ge]),Pt],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})();var GSe=(()=>{class t extends ud{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get commands(){return this._getOption("commands")}set commands(i){this._setOption("commands",i)}get title(){return this._getOption("title")}set title(i){this._setOption("title",i)}get category(){return this._getOption("category")}set category(i){this._setOption("category",i)}get displayMode(){return this._getOption("displayMode")}set displayMode(i){this._setOption("displayMode",i)}get expanded(){return this._getOption("expanded")}set expanded(i){this._setOption("expanded",i)}get shapes(){return this._getOption("shapes")}set shapes(i){this._setOption("shapes",i)}get _optionPath(){return"groups"}get commandsChildren(){return this._getOption("commands")}set commandsChildren(i){this.setChildren("commands",i)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1))},t.\u0275cmp=rt({type:t,selectors:[["dxi-group"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,x6,4),i&2){let o;Di(o=Oi())&&(n.commandsChildren=o)}},inputs:{commands:"commands",title:"title",category:"category",displayMode:"displayMode",expanded:"expanded",shapes:"shapes"},features:[oi([Ge]),Pt],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})();var USe=["*"],KSe=(()=>{class t extends jSe{constructor(i,n,r,o,s,a){super(),this.renderer=r,this.document=o,this.element=a,i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this)),s.setHost(this)}get _optionPath(){return"tabs"}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}get commandsChildren(){return this._getOption("commands")}set commandsChildren(i){this.setChildren("commands",i)}get groupsChildren(){return this._getOption("groups")}set groupsChildren(i){this.setChildren("groups",i)}setTemplate(i){this.template=i}ngAfterViewInit(){PP(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1),oe(zl),oe(An),oe(pt,1),oe(Xt))},t.\u0275cmp=rt({type:t,selectors:[["dxi-tab"]],contentQueries:function(i,n,r){if(i&1&&(Hi(r,lr,4),Hi(r,x6,4),Hi(r,GSe,4)),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o),Di(o=Oi())&&(n.commandsChildren=o),Di(o=Oi())&&(n.groupsChildren=o)}},inputs:{alignItemLabels:"alignItemLabels",badge:"badge",colCount:"colCount",colCountByScreen:"colCountByScreen",disabled:"disabled",icon:"icon",items:"items",tabTemplate:"tabTemplate",template:"template",title:"title",commands:"commands",groups:"groups",name:"name"},features:[oi([Ge,pt]),Pt],ngContentSelectors:USe,decls:1,vars:0,template:function(i,n){i&1&&(tr(),Un(0))},styles:["[_nghost-%COMP%] { display: block; }"]}),t})(),pg=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var qSe=(()=>{class t extends ud{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get lat(){return this._getOption("lat")}set lat(i){this._setOption("lat",i)}get lng(){return this._getOption("lng")}set lng(i){this._setOption("lng",i)}get col(){return this._getOption("col")}set col(i){this._setOption("col",i)}get colspan(){return this._getOption("colspan")}set colspan(i){this._setOption("colspan",i)}get row(){return this._getOption("row")}set row(i){this._setOption("row",i)}get rowspan(){return this._getOption("rowspan")}set rowspan(i){this._setOption("rowspan",i)}get screen(){return this._getOption("screen")}set screen(i){this._setOption("screen",i)}get _optionPath(){return"location"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1))},t.\u0275cmp=rt({type:t,selectors:[["dxi-location"]],inputs:{lat:"lat",lng:"lng",col:"col",colspan:"colspan",row:"row",rowspan:"rowspan",screen:"screen"},features:[oi([Ge]),Pt],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})();var JSe=["*"],lr=(()=>{class t extends WSe{constructor(i,n,r,o,s,a){super(),this.renderer=r,this.document=o,this.element=a,i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this)),s.setHost(this)}get _optionPath(){return"items"}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(i){this.setChildren("validationRules",i)}get tabsChildren(){return this._getOption("tabs")}set tabsChildren(i){this.setChildren("tabs",i)}get locationChildren(){return this._getOption("location")}set locationChildren(i){this.setChildren("location",i)}setTemplate(i){this.template=i}ngAfterViewInit(){PP(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1),oe(zl),oe(An),oe(pt,1),oe(Xt))},t.\u0275cmp=rt({type:t,selectors:[["dxi-item"]],contentQueries:function(i,n,r){if(i&1&&(Hi(r,t,4),Hi(r,wh,4),Hi(r,KSe,4),Hi(r,qSe,4)),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o),Di(o=Oi())&&(n.validationRulesChildren=o),Di(o=Oi())&&(n.tabsChildren=o),Di(o=Oi())&&(n.locationChildren=o)}},inputs:{disabled:"disabled",html:"html",icon:"icon",template:"template",text:"text",title:"title",titleTemplate:"titleTemplate",visible:"visible",onClick:"onClick",stylingMode:"stylingMode",type:"type",baseSize:"baseSize",box:"box",ratio:"ratio",shrink:"shrink",elementAttr:"elementAttr",hint:"hint",beginGroup:"beginGroup",closeMenuOnClick:"closeMenuOnClick",items:"items",selectable:"selectable",selected:"selected",colSpan:"colSpan",cssClass:"cssClass",dataField:"dataField",editorOptions:"editorOptions",editorType:"editorType",helpText:"helpText",isRequired:"isRequired",itemType:"itemType",label:"label",name:"name",validationRules:"validationRules",visibleIndex:"visibleIndex",alignItemLabels:"alignItemLabels",caption:"caption",colCount:"colCount",colCountByScreen:"colCountByScreen",tabPanelOptions:"tabPanelOptions",tabs:"tabs",badge:"badge",tabTemplate:"tabTemplate",buttonOptions:"buttonOptions",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",widget:"widget",height:"height",width:"width",imageAlt:"imageAlt",imageSrc:"imageSrc",acceptedValues:"acceptedValues",formatName:"formatName",formatValues:"formatValues",key:"key",showChevron:"showChevron",linkAttr:"linkAttr",url:"url",heightRatio:"heightRatio",widthRatio:"widthRatio",expanded:"expanded",hasItems:"hasItems",id:"id",parentId:"parentId"},features:[oi([Ge,pt]),Pt],ngContentSelectors:JSe,decls:1,vars:0,template:function(i,n){i&1&&(tr(),Un(0))},styles:["[_nghost-%COMP%] { display: block; }"]}),t})(),Tn=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var YSe=(()=>{class t extends ud{get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get options(){return this._getOption("options")}set options(i){this._setOption("options",i)}get cssClass(){return this._getOption("cssClass")}set cssClass(i){this._setOption("cssClass",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get onClick(){return this._getOption("onClick")}set onClick(i){this._setOption("onClick",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Yo(t)))(n||t)}}(),t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],features:[Pt],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})();var GD=(()=>{class t extends YSe{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get _optionPath(){return"buttons"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1))},t.\u0275cmp=rt({type:t,selectors:[["dxi-button"]],inputs:{location:"location",name:"name",options:"options",cssClass:"cssClass",disabled:"disabled",hint:"hint",icon:"icon",onClick:"onClick",template:"template",text:"text",visible:"visible"},features:[oi([Ge]),Pt],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),Co=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var fg=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var NP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var y6=(()=>{class t extends FP{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get lg(){return this._getOption("lg")}set lg(i){this._setOption("lg",i)}get md(){return this._getOption("md")}set md(i){this._setOption("md",i)}get sm(){return this._getOption("sm")}set sm(i){this._setOption("sm",i)}get xs(){return this._getOption("xs")}set xs(i){this._setOption("xs",i)}get _optionPath(){return"colCountByScreen"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1))},t.\u0275cmp=rt({type:t,selectors:[["dxo-col-count-by-screen"]],inputs:{lg:"lg",md:"md",sm:"sm",xs:"xs"},features:[oi([Ge]),Pt],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),gg=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var gd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var LP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var BP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var VP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var mg=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var HP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var zP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var WP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var vg=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var jP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var $P=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var GP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var UP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var KP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var qP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var JP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var YP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var XP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var QP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var ZP=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var md=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var ek=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var tk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var ik=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var nk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var rk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var vd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var ok=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var sk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var b6=(()=>{class t extends FP{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get connectorColor(){return this._getOption("connectorColor")}set connectorColor(i){this._setOption("connectorColor",i)}get connectorWidth(){return this._getOption("connectorWidth")}set connectorWidth(i){this._setOption("connectorWidth",i)}get customizeText(){return this._getOption("customizeText")}set customizeText(i){this._setOption("customizeText",i)}get font(){return this._getOption("font")}set font(i){this._setOption("font",i)}get format(){return this._getOption("format")}set format(i){this._setOption("format",i)}get indent(){return this._getOption("indent")}set indent(i){this._setOption("indent",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get horizontalAlignment(){return this._getOption("horizontalAlignment")}set horizontalAlignment(i){this._setOption("horizontalAlignment",i)}get position(){return this._getOption("position")}set position(i){this._setOption("position",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get verticalAlignment(){return this._getOption("verticalAlignment")}set verticalAlignment(i){this._setOption("verticalAlignment",i)}get alignment(){return this._getOption("alignment")}set alignment(i){this._setOption("alignment",i)}get customizeHint(){return this._getOption("customizeHint")}set customizeHint(i){this._setOption("customizeHint",i)}get displayMode(){return this._getOption("displayMode")}set displayMode(i){this._setOption("displayMode",i)}get indentFromAxis(){return this._getOption("indentFromAxis")}set indentFromAxis(i){this._setOption("indentFromAxis",i)}get overlappingBehavior(){return this._getOption("overlappingBehavior")}set overlappingBehavior(i){this._setOption("overlappingBehavior",i)}get rotationAngle(){return this._getOption("rotationAngle")}set rotationAngle(i){this._setOption("rotationAngle",i)}get staggeringSpacing(){return this._getOption("staggeringSpacing")}set staggeringSpacing(i){this._setOption("staggeringSpacing",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get textOverflow(){return this._getOption("textOverflow")}set textOverflow(i){this._setOption("textOverflow",i)}get wordWrap(){return this._getOption("wordWrap")}set wordWrap(i){this._setOption("wordWrap",i)}get argumentFormat(){return this._getOption("argumentFormat")}set argumentFormat(i){this._setOption("argumentFormat",i)}get backgroundColor(){return this._getOption("backgroundColor")}set backgroundColor(i){this._setOption("backgroundColor",i)}get border(){return this._getOption("border")}set border(i){this._setOption("border",i)}get connector(){return this._getOption("connector")}set connector(i){this._setOption("connector",i)}get displayFormat(){return this._getOption("displayFormat")}set displayFormat(i){this._setOption("displayFormat",i)}get horizontalOffset(){return this._getOption("horizontalOffset")}set horizontalOffset(i){this._setOption("horizontalOffset",i)}get showForZeroValues(){return this._getOption("showForZeroValues")}set showForZeroValues(i){this._setOption("showForZeroValues",i)}get verticalOffset(){return this._getOption("verticalOffset")}set verticalOffset(i){this._setOption("verticalOffset",i)}get hideFirstOrLast(){return this._getOption("hideFirstOrLast")}set hideFirstOrLast(i){this._setOption("hideFirstOrLast",i)}get indentFromTick(){return this._getOption("indentFromTick")}set indentFromTick(i){this._setOption("indentFromTick",i)}get useRangeColors(){return this._getOption("useRangeColors")}set useRangeColors(i){this._setOption("useRangeColors",i)}get location(){return this._getOption("location")}set location(i){this._setOption("location",i)}get showColon(){return this._getOption("showColon")}set showColon(i){this._setOption("showColon",i)}get radialOffset(){return this._getOption("radialOffset")}set radialOffset(i){this._setOption("radialOffset",i)}get topIndent(){return this._getOption("topIndent")}set topIndent(i){this._setOption("topIndent",i)}get shadow(){return this._getOption("shadow")}set shadow(i){this._setOption("shadow",i)}get useNodeColors(){return this._getOption("useNodeColors")}set useNodeColors(i){this._setOption("useNodeColors",i)}get dataField(){return this._getOption("dataField")}set dataField(i){this._setOption("dataField",i)}get enabled(){return this._getOption("enabled")}set enabled(i){this._setOption("enabled",i)}get _optionPath(){return"label"}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1))},t.\u0275cmp=rt({type:t,selectors:[["dxo-label"]],inputs:{connectorColor:"connectorColor",connectorWidth:"connectorWidth",customizeText:"customizeText",font:"font",format:"format",indent:"indent",visible:"visible",horizontalAlignment:"horizontalAlignment",position:"position",text:"text",verticalAlignment:"verticalAlignment",alignment:"alignment",customizeHint:"customizeHint",displayMode:"displayMode",indentFromAxis:"indentFromAxis",overlappingBehavior:"overlappingBehavior",rotationAngle:"rotationAngle",staggeringSpacing:"staggeringSpacing",template:"template",textOverflow:"textOverflow",wordWrap:"wordWrap",argumentFormat:"argumentFormat",backgroundColor:"backgroundColor",border:"border",connector:"connector",displayFormat:"displayFormat",horizontalOffset:"horizontalOffset",showForZeroValues:"showForZeroValues",verticalOffset:"verticalOffset",hideFirstOrLast:"hideFirstOrLast",indentFromTick:"indentFromTick",useRangeColors:"useRangeColors",location:"location",showColon:"showColon",radialOffset:"radialOffset",topIndent:"topIndent",shadow:"shadow",useNodeColors:"useNodeColors",dataField:"dataField",enabled:"enabled"},features:[oi([Ge]),Pt],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),_g=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var ak=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var lk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var dk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var D6=(()=>{class t extends ud{constructor(i,n){super(),i.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}get action(){return this._getOption("action")}set action(i){this._setOption("action",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get _optionPath(){return"menuItems"}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}}return t.\u0275fac=function(i){return new(i||t)(oe(Ge,5),oe(Ge,1))},t.\u0275cmp=rt({type:t,selectors:[["dxi-menu-item"]],inputs:{action:"action",text:"text"},features:[oi([Ge]),Pt],decls:0,vars:0,template:function(i,n){},styles:[""]}),t})(),uk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var _d=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Cd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var ck=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Rs=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var hk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var pk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var fk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var xd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var gk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var mk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var vk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Cg=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var _k=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Ck=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var xk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var yk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var bk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var yd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Dk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Ok=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Ek=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Sk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var wk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var xg=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Ik=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var bd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Tk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var Mk=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({}),t})();var O6=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l,d){super(i,n,r,o,l,d),this._watcherHelper=o,this._idh=s,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"groupRendered",emit:"onGroupRendered"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"itemContextMenu",emit:"onItemContextMenu"},{subscribe:"itemDeleted",emit:"onItemDeleted"},{subscribe:"itemDeleting",emit:"onItemDeleting"},{subscribe:"itemHold",emit:"onItemHold"},{subscribe:"itemRendered",emit:"onItemRendered"},{subscribe:"itemReordered",emit:"onItemReordered"},{subscribe:"itemSwipe",emit:"onItemSwipe"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"pageLoading",emit:"onPageLoading"},{subscribe:"pullRefresh",emit:"onPullRefresh"},{subscribe:"scroll",emit:"onScroll"},{subscribe:"selectAllValueChanged",emit:"onSelectAllValueChanged"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowItemDeletingChange"},{emit:"bounceEnabledChange"},{emit:"collapsibleGroupsChange"},{emit:"dataSourceChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"groupedChange"},{emit:"groupTemplateChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"indicateLoadingChange"},{emit:"itemDeleteModeChange"},{emit:"itemDraggingChange"},{emit:"itemHoldTimeoutChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"keyExprChange"},{emit:"menuItemsChange"},{emit:"menuModeChange"},{emit:"nextButtonTextChange"},{emit:"noDataTextChange"},{emit:"pageLoadingTextChange"},{emit:"pageLoadModeChange"},{emit:"pulledDownTextChange"},{emit:"pullingDownTextChange"},{emit:"pullRefreshEnabledChange"},{emit:"refreshingTextChange"},{emit:"repaintChangesOnlyChange"},{emit:"rtlEnabledChange"},{emit:"scrollByContentChange"},{emit:"scrollByThumbChange"},{emit:"scrollingEnabledChange"},{emit:"searchEditorOptionsChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"searchValueChange"},{emit:"selectAllModeChange"},{emit:"selectAllTextChange"},{emit:"selectByClickChange"},{emit:"selectedItemKeysChange"},{emit:"selectedItemsChange"},{emit:"selectionModeChange"},{emit:"showScrollbarChange"},{emit:"showSelectionControlsChange"},{emit:"tabIndexChange"},{emit:"useNativeScrollingChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),a.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get allowItemDeleting(){return this._getOption("allowItemDeleting")}set allowItemDeleting(i){this._setOption("allowItemDeleting",i)}get bounceEnabled(){return this._getOption("bounceEnabled")}set bounceEnabled(i){this._setOption("bounceEnabled",i)}get collapsibleGroups(){return this._getOption("collapsibleGroups")}set collapsibleGroups(i){this._setOption("collapsibleGroups",i)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(i){this._setOption("displayExpr",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get grouped(){return this._getOption("grouped")}set grouped(i){this._setOption("grouped",i)}get groupTemplate(){return this._getOption("groupTemplate")}set groupTemplate(i){this._setOption("groupTemplate",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get indicateLoading(){return this._getOption("indicateLoading")}set indicateLoading(i){this._setOption("indicateLoading",i)}get itemDeleteMode(){return this._getOption("itemDeleteMode")}set itemDeleteMode(i){this._setOption("itemDeleteMode",i)}get itemDragging(){return this._getOption("itemDragging")}set itemDragging(i){this._setOption("itemDragging",i)}get itemHoldTimeout(){return this._getOption("itemHoldTimeout")}set itemHoldTimeout(i){this._setOption("itemHoldTimeout",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(i){this._setOption("itemTemplate",i)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(i){this._setOption("keyExpr",i)}get menuItems(){return this._getOption("menuItems")}set menuItems(i){this._setOption("menuItems",i)}get menuMode(){return this._getOption("menuMode")}set menuMode(i){this._setOption("menuMode",i)}get nextButtonText(){return this._getOption("nextButtonText")}set nextButtonText(i){this._setOption("nextButtonText",i)}get noDataText(){return this._getOption("noDataText")}set noDataText(i){this._setOption("noDataText",i)}get pageLoadingText(){return this._getOption("pageLoadingText")}set pageLoadingText(i){this._setOption("pageLoadingText",i)}get pageLoadMode(){return this._getOption("pageLoadMode")}set pageLoadMode(i){this._setOption("pageLoadMode",i)}get pulledDownText(){return this._getOption("pulledDownText")}set pulledDownText(i){this._setOption("pulledDownText",i)}get pullingDownText(){return this._getOption("pullingDownText")}set pullingDownText(i){this._setOption("pullingDownText",i)}get pullRefreshEnabled(){return this._getOption("pullRefreshEnabled")}set pullRefreshEnabled(i){this._setOption("pullRefreshEnabled",i)}get refreshingText(){return this._getOption("refreshingText")}set refreshingText(i){this._setOption("refreshingText",i)}get repaintChangesOnly(){return this._getOption("repaintChangesOnly")}set repaintChangesOnly(i){this._setOption("repaintChangesOnly",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get scrollByContent(){return this._getOption("scrollByContent")}set scrollByContent(i){this._setOption("scrollByContent",i)}get scrollByThumb(){return this._getOption("scrollByThumb")}set scrollByThumb(i){this._setOption("scrollByThumb",i)}get scrollingEnabled(){return this._getOption("scrollingEnabled")}set scrollingEnabled(i){this._setOption("scrollingEnabled",i)}get searchEditorOptions(){return this._getOption("searchEditorOptions")}set searchEditorOptions(i){this._setOption("searchEditorOptions",i)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(i){this._setOption("searchEnabled",i)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(i){this._setOption("searchExpr",i)}get searchMode(){return this._getOption("searchMode")}set searchMode(i){this._setOption("searchMode",i)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(i){this._setOption("searchTimeout",i)}get searchValue(){return this._getOption("searchValue")}set searchValue(i){this._setOption("searchValue",i)}get selectAllMode(){return this._getOption("selectAllMode")}set selectAllMode(i){this._setOption("selectAllMode",i)}get selectAllText(){return this._getOption("selectAllText")}set selectAllText(i){this._setOption("selectAllText",i)}get selectByClick(){return this._getOption("selectByClick")}set selectByClick(i){this._setOption("selectByClick",i)}get selectedItemKeys(){return this._getOption("selectedItemKeys")}set selectedItemKeys(i){this._setOption("selectedItemKeys",i)}get selectedItems(){return this._getOption("selectedItems")}set selectedItems(i){this._setOption("selectedItems",i)}get selectionMode(){return this._getOption("selectionMode")}set selectionMode(i){this._setOption("selectionMode",i)}get showScrollbar(){return this._getOption("showScrollbar")}set showScrollbar(i){this._setOption("showScrollbar",i)}get showSelectionControls(){return this._getOption("showSelectionControls")}set showSelectionControls(i){this._setOption("showSelectionControls",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get useNativeScrolling(){return this._getOption("useNativeScrolling")}set useNativeScrolling(i){this._setOption("useNativeScrolling",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}get menuItemsChildren(){return this._getOption("menuItems")}set menuItemsChildren(i){this.setChildren("menuItems",i)}_createInstance(i,n){return new d6(i,n)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("dataSource",i),this.setupChanges("items",i),this.setupChanges("menuItems",i),this.setupChanges("searchExpr",i),this.setupChanges("selectedItemKeys",i),this.setupChanges("selectedItems",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("menuItems"),this._idh.doCheck("searchExpr"),this._idh.doCheck("selectedItemKeys"),this._idh.doCheck("selectedItems"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-list"]],contentQueries:function(i,n,r){if(i&1&&(Hi(r,lr,4),Hi(r,D6,4)),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o),Di(o=Oi())&&(n.menuItemsChildren=o)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowItemDeleting:"allowItemDeleting",bounceEnabled:"bounceEnabled",collapsibleGroups:"collapsibleGroups",dataSource:"dataSource",disabled:"disabled",displayExpr:"displayExpr",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",grouped:"grouped",groupTemplate:"groupTemplate",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",indicateLoading:"indicateLoading",itemDeleteMode:"itemDeleteMode",itemDragging:"itemDragging",itemHoldTimeout:"itemHoldTimeout",items:"items",itemTemplate:"itemTemplate",keyExpr:"keyExpr",menuItems:"menuItems",menuMode:"menuMode",nextButtonText:"nextButtonText",noDataText:"noDataText",pageLoadingText:"pageLoadingText",pageLoadMode:"pageLoadMode",pulledDownText:"pulledDownText",pullingDownText:"pullingDownText",pullRefreshEnabled:"pullRefreshEnabled",refreshingText:"refreshingText",repaintChangesOnly:"repaintChangesOnly",rtlEnabled:"rtlEnabled",scrollByContent:"scrollByContent",scrollByThumb:"scrollByThumb",scrollingEnabled:"scrollingEnabled",searchEditorOptions:"searchEditorOptions",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",searchValue:"searchValue",selectAllMode:"selectAllMode",selectAllText:"selectAllText",selectByClick:"selectByClick",selectedItemKeys:"selectedItemKeys",selectedItems:"selectedItems",selectionMode:"selectionMode",showScrollbar:"showScrollbar",showSelectionControls:"showSelectionControls",tabIndex:"tabIndex",useNativeScrolling:"useNativeScrolling",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onGroupRendered:"onGroupRendered",onInitialized:"onInitialized",onItemClick:"onItemClick",onItemContextMenu:"onItemContextMenu",onItemDeleted:"onItemDeleted",onItemDeleting:"onItemDeleting",onItemHold:"onItemHold",onItemRendered:"onItemRendered",onItemReordered:"onItemReordered",onItemSwipe:"onItemSwipe",onOptionChanged:"onOptionChanged",onPageLoading:"onPageLoading",onPullRefresh:"onPullRefresh",onScroll:"onScroll",onSelectAllValueChanged:"onSelectAllValueChanged",onSelectionChanged:"onSelectionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowItemDeletingChange:"allowItemDeletingChange",bounceEnabledChange:"bounceEnabledChange",collapsibleGroupsChange:"collapsibleGroupsChange",dataSourceChange:"dataSourceChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",groupedChange:"groupedChange",groupTemplateChange:"groupTemplateChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",indicateLoadingChange:"indicateLoadingChange",itemDeleteModeChange:"itemDeleteModeChange",itemDraggingChange:"itemDraggingChange",itemHoldTimeoutChange:"itemHoldTimeoutChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",keyExprChange:"keyExprChange",menuItemsChange:"menuItemsChange",menuModeChange:"menuModeChange",nextButtonTextChange:"nextButtonTextChange",noDataTextChange:"noDataTextChange",pageLoadingTextChange:"pageLoadingTextChange",pageLoadModeChange:"pageLoadModeChange",pulledDownTextChange:"pulledDownTextChange",pullingDownTextChange:"pullingDownTextChange",pullRefreshEnabledChange:"pullRefreshEnabledChange",refreshingTextChange:"refreshingTextChange",repaintChangesOnlyChange:"repaintChangesOnlyChange",rtlEnabledChange:"rtlEnabledChange",scrollByContentChange:"scrollByContentChange",scrollByThumbChange:"scrollByThumbChange",scrollingEnabledChange:"scrollingEnabledChange",searchEditorOptionsChange:"searchEditorOptionsChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",searchValueChange:"searchValueChange",selectAllModeChange:"selectAllModeChange",selectAllTextChange:"selectAllTextChange",selectByClickChange:"selectByClickChange",selectedItemKeysChange:"selectedItemKeysChange",selectedItemsChange:"selectedItemsChange",selectionModeChange:"selectionModeChange",showScrollbarChange:"showScrollbarChange",showSelectionControlsChange:"showSelectionControlsChange",tabIndexChange:"tabIndexChange",useNativeScrollingChange:"useNativeScrollingChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),E6=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[ok,mg,Tn,uk,Cg,Co,Rs,$i,Wt],ok,mg,Tn,uk,Cg,Co,Rs,Wt]}),t})();var QSe=ot.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(t,e){var i=this;F(t,function(n,r){var o=O(e)?e:i._getParentId(r),s=i._convertItemToNode(r,o);i._dataStructure.push(s),i._checkForDuplicateId(s.internalFields.key),i._indexByKey[s.internalFields.key]=i._dataStructure.length-1,i._itemHasChildren(r)&&i._convertItemsToNodes(i._dataAccessors.getters.items(r),s.internalFields.key)})},_checkForDuplicateId:function(t){if(O(this._indexByKey[t]))throw Ke.Error("E1040",t)},_getParentId:function(t){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(t):void 0},_itemHasChildren:function(t){if(this._dataType!=="plain"){var e=this._dataAccessors.getters.items(t);return e&&e.length}},_getUniqueKey:function(t){var e=this._dataAccessors.getters.key,i=e(t),n=e&&(i||i===0)&&pu(i);return n?i:this.getItemsCount()},_convertItemToNode:function(t,e){this._itemsCount++,t.visible!==!1&&this._visibleItemsCount++;var i={internalFields:{disabled:this._dataAccessors.getters.disabled(t,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(t,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(t,{defaultValue:!1}),key:this._getUniqueKey(t),parentKey:O(e)?e:this._rootValue,item:this._makeObjectFromPrimitive(t),childrenKeys:[]}};return y(i,t),delete i.items,i},setChildrenKeys:function(){var t=this;F(this._dataStructure,function(e,i){if(i.internalFields.parentKey!==t._rootValue){var n=t.getParentNode(i);n&&n.internalFields.childrenKeys.push(i.internalFields.key)}})},_makeObjectFromPrimitive:function(t){if(pu(t)){var e=t;t={},this._dataAccessors.setters.key(t,e)}return t},_convertToPublicNode:function(t,e){if(!t)return null;var i={text:this._dataAccessors.getters.display(t),key:t.internalFields.key,selected:t.internalFields.selected,expanded:t.internalFields.expanded,disabled:t.internalFields.disabled,parent:e||null,itemData:t.internalFields.item,children:[],items:[]};return i.parent&&(i.parent.children.push(i),i.parent.items.push(i)),i},convertToPublicNodes:function(t,e){if(!t.length)return[];var i=this,n=[];return F(t,function(r,o){o=pu(o)?i._getByKey(o):o;var s=i._convertToPublicNode(o,e);s.children=i.convertToPublicNodes(o.internalFields.childrenKeys,s),n.push(s),o.internalFields.publicNode=s}),n},setDataAccessors:function(t){this._dataAccessors=t},_getByKey:function(t){return this._dataStructure[this.getIndexByKey(t)]||null},getParentNode:function(t){return this._getByKey(t.internalFields.parentKey)},getByKey:function(t,e){if(e==null)return null;var i=null,n=this,r=function(o,s){return F(o,function(a,l){var d=l.internalFields&&l.internalFields.key||n._dataAccessors.getters.key(l);if(d.toString()===s.toString())return i=l,!1}),i};return r(t,e)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var t=this;this._indexByKey={},F(this._dataStructure,function(e,i){t._checkForDuplicateId(i.internalFields.key),t._indexByKey[i.internalFields.key]=e})},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},F(this._dataStructure,function(t,e){e.internalFields.childrenKeys=[]})},getIndexByKey:function(t){return this._indexByKey[t]},createPlainStructure:function(t,e,i){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=e,this._dataType=i,this._indexByKey={},this._convertItemsToNodes(t),this.setChildrenKeys(),this._dataStructure}}),S6=QSe;var yg="expanded",Ih="selected",ZSe="disabled";ya.setEditorClass(gl);var ewe=ot.inherit({ctor:function(t){this.options={},y(this.options,this._defaultOptions(),t),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(t,e){this.options[t]=e,t==="recursiveSelection"&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new S6,onNodeChanged:W,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(Ih)},_updateExpansion:function(t){this.options.recursiveExpansion&&(t?this._updateOneBranch(t):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(yg)},_updateNodesKeysArray:function(t){var e=this,i=[];return F(e._getDataBySelectionMode(),function(n,r){e._isNodeVisible(r)&&r.internalFields[t]&&(t===yg||e.options.multipleSelection?i.push(r.internalFields.key):(i.length&&e.toggleSelection(i[0],!1,!0),i=[r.internalFields.key]))}),i},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(t){return t.internalFields.item.visible!==!1},_getByKey:function(t,e){return t===this._dataStructure?this.options.dataConverter._getByKey(e):this.options.dataConverter.getByKey(t,e)},_setChildrenSelection:function(){var t=this;F(this._dataStructure,function(e,i){if(i.internalFields.childrenKeys.length){var n=i.internalFields.selected;n===!0&&t._toggleChildrenSelection(i,n)}})},_setParentSelection:function(){var t=this;F(this._dataStructure,function(e,i){var n=t.options.dataConverter.getParentNode(i);n&&i.internalFields.parentKey!==t.options.rootValue&&t._iterateParents(i,function(r){var o=t._calculateSelectedState(r);t._setFieldState(r,Ih,o)})})},_setParentExpansion:function(){var t=this;F(this._dataStructure,function(e,i){i.internalFields.expanded&&t._updateOneBranch(i.internalFields.key)})},_updateOneBranch:function(t){var e=this,i=this.getNodeByKey(t);e._iterateParents(i,function(n){e._setFieldState(n,yg,!0)})},_iterateChildren:function(t,e,i,n){if(ce(i)){var r=this,o=t.internalFields.key;n=n||[],n.indexOf(o)===-1&&(n.push(o),F(t.internalFields.childrenKeys,function(s,a){var l=r.getNodeByKey(a);i(l),l.internalFields.childrenKeys.length&&e&&r._iterateChildren(l,e,i,n)}))}},_iterateParents:function(t,e,i){if(!(t.internalFields.parentKey===this.options.rootValue||!ce(e))){i=i||[];var n=t.internalFields.key;if(i.indexOf(n)===-1){i.push(n);var r=this.options.dataConverter.getParentNode(t);r&&(e(r),r.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(r,e,i))}}},_calculateSelectedState:function(t){for(var e=t.internalFields.childrenKeys.length,i=0,n=0,r=!1,o=0;o<=e-1;o++){var s=this.getNodeByKey(t.internalFields.childrenKeys[o]),a=s.internalFields.item.visible===!1,l=s.internalFields.selected;if(a){n++;continue}l?i++:l===void 0&&(i+=.5)}return i&&(r=i===e-n?!0:void 0),r},_toggleChildrenSelection:function(t,e){var i=this;this._iterateChildren(t,!0,function(n){i._isNodeVisible(n)&&i._setFieldState(n,Ih,e)})},_setFieldState:function(t,e,i){t.internalFields[e]!==i&&(t.internalFields[e]=i,t.internalFields.publicNode&&(t.internalFields.publicNode[e]=i),this.options.dataAccessors.setters[e](t.internalFields.item,i),this.options.onNodeChanged(t))},_markChildren:function(t){var e=this;F(t,function(i,n){var r=e.getIndexByKey(n),o=e.getNodeByKey(n);e._dataStructure[r]=0,o.internalFields.childrenKeys.length&&e._markChildren(o.internalFields.childrenKeys)})},_removeNode:function(t){var e=this.getNodeByKey(t);this._dataStructure[this.getIndexByKey(t)]=0,this._markChildren(e.internalFields.childrenKeys);var i=this,n=0,r=y([],this._dataStructure);F(r,function(o,s){s||(i._dataStructure.splice(o-n,1),n++)})},_addNode:function(t){var e=this.options.dataConverter,i=e._convertItemToNode(t,this.options.dataAccessors.getters.parentKey(t));this._dataStructure=this._dataStructure.concat(i),this._initialDataStructure=this._initialDataStructure.concat(i),e._dataStructure=e._dataStructure.concat(i)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(t){var e=null;return F(this._dataStructure,function(i,n){if(n.internalFields.item===t)return e=n,!1}),e},getNodesByItems:function(t){var e=this,i=[];return F(t,function(n,r){var o=e.getNodeByItem(r);o&&i.push(o)}),i},getNodeByKey:function(t,e){return this._getByKey(e||this._getDataBySelectionMode(),t)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(t){return t.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(t){return hn(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",t]).toArray()},getIndexByKey:function(t){return this.options.dataConverter.getIndexByKey(t)},addItem:function(t){this._addNode(t),this._updateFields()},removeItem:function(t){this._removeNode(t),this._updateFields()},toggleSelection:function(t,e,i){var n=this._isSingleModeUnselect(e),r=this._getByKey(i||n?this._initialDataStructure:this._dataStructure,t);this._setFieldState(r,Ih,e),this.options.recursiveSelection&&!i&&(e?this._setChildrenSelection():this._toggleChildrenSelection(r,e),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(Ih)},_isSingleModeUnselect:function(t){return!this.options.multipleSelection&&!t},toggleNodeDisabledState:function(t,e){var i=this.getNodeByKey(t);this._setFieldState(i,ZSe,e)},toggleSelectAll:function(t){if(O(t)){var e=this,i=e._selectedNodesKeys[e._selectedNodesKeys.length-1],n=e._isSingleModeUnselect(t)?this._initialDataStructure:this._dataStructure;F(n,function(r,o){e._isNodeVisible(o)&&e._setFieldState(o,Ih,t)}),e._selectedNodesKeys=e._updateNodesKeysArray(Ih),!t&&e.options.selectionRequired&&e.toggleSelection(i,!0)}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion:function(t,e){var i=this.getNodeByKey(t);this._setFieldState(i,yg,e),e&&this._updateExpansion(t),this._expandedNodesKeys=this._updateNodesKeysArray(yg)},isFiltered:function(t){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[t]).length},_createCriteria:function(t,e,i){var n=[];return Array.isArray(t)?(F(t,function(r,o){n.push([o,i,e],"or")}),n.pop(),n):[t,i,e]},_filterDataStructure:function(t,e){var i=this.options.searchExpr||this.options.dataAccessors.getters.display,n=ya.getOperationBySearchMode(this.options.searchMode),r=this._createCriteria(i,t,n);return e=e||this._initialDataStructure,hn(e,{langParams:this.options.langParams}).filter(r).toArray()},search:function(t){var e=this,i=this._filterDataStructure(t),n=this.options.dataConverter;return function r(o,s){for(var a=o.length;s<a;){var l=o[s];if(l.internalFields.parentKey===e.options.rootValue){s++;continue}var d=n.getParentNode(l);if(!d){Ke.log("W1007",l.internalFields.parentKey,l.internalFields.key),s++;continue}if(d.internalFields.expanded||e._setFieldState(d,yg,!0),o.includes(d)){s++;continue}o.splice(s,0,d),r(o,s)}}(i,0),this.options.sort&&(i=Zr.queryByOptions(hn(i),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),n._indexByKey={},F(i,function(r,o){o.internalFields.childrenKeys=[],n._indexByKey[o.internalFields.key]=r}),n._dataStructure=i,n.setChildrenKeys(),n._dataStructure}}),w6=ewe;var twe="dx-state-disabled",iwe="dx-item-url",nwe=Sr.inherit({_getDefaultOptions:function(){return y(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return be.real().deviceType==="desktop"&&!be.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var t=this._createDataAdapterAccessors();this._dataAdapter=new w6(y({dataAccessors:{getters:t.getters,setters:t.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:W,_getItemExtraPropNames:W,_initDynamicTemplates:function(){var t=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new Er(this._addContent.bind(this),t,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_addContent:function(t,e){t.html(e.html).append(this._getIconContainer(e)).append(this._getTextContainer(e))},_getLinkContainer:function(t,e,i){var{linkAttr:n,url:r}=i,o=ke(n)?n:{};return g("<a>").addClass(iwe).attr(te({},o,{href:r})).append(t).append(e)},_getIconContainer:function(t){if(t.icon){var e=Dr(t.icon);return e.is("img")&&e.attr("alt","".concat(this.NAME," item icon")),e}},_getTextContainer:function(t){return g("<span>").text(t.text)},_initAccessors:function(){var t=this;F(this._getAccessors(),function(e,i){t._compileAccessor(i)}),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(t){var e=this,i=[];return F(t.internalFields.childrenKeys,function(n,r){var o=e._dataAdapter.getNodeByKey(r);i.push(o)}),i},_hasChildren:function(t){return t&&t.internalFields.childrenKeys.length},_compileAccessor:function(t){var e="_"+t+"Getter",i="_"+t+"Setter",n=this.option(t+"Expr");if(n){if(ce(n)){this[i]=function(r,o){r[n()]=o},this[e]=function(r){return r[n()]};return}}else{this[e]=W,this[i]=W;return}this[e]=Tt(n),this[i]=lf(n)},_createDataAdapterAccessors:function(){var t=this,e={getters:{},setters:{}};return F(this._getAccessors(),function(i,n){var r="_"+n+"Getter",o="_"+n+"Setter",s=n==="parentId"?"parentKey":n;e.getters[s]=t[r],e.setters[s]=t[o]}),e.getters.display=this._displayGetter?this._displayGetter:i=>i.text,e},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:W,_renderItemFrame:function(t,e){var i=this.callBase.apply(this,arguments);return i.toggleClass(twe,!!this._disabledGetter(e)),i},_optionChanged:function(t){switch(t.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(t);break;default:this.callBase(t)}}}),UD=nwe;var Rk=class extends Vf{_getPlainItems(){return gi(this._collectionWidget.option("items"),function e(i){return i.items?[i].concat(gi(i.items,e)):i})}_stringifyItem(e){return JSON.stringify(e,(i,n)=>i==="template"?this._getTemplateString(n):n)}_getTemplateString(e){var i;return typeof e=="object"?i=g(e).text():i=e.toString(),i}},I6=Rk;var L_="dx-menu",rwe=L_+"-no-icons",owe="dx-menu-base",Fs=L_+"-item",swe=Fs+"-content",Fk=Fs+"-selected",T6=Fs+"-wrapper",awe=L_+"-items-container",lwe=Fs+"-expanded",dwe=L_+"-separator",uwe=L_+"-last-group-item",cwe=Fs+"-has-text",hwe=Fs+"-has-icon",pwe=Fs+"-has-submenu",M6=Fs+"-popout",fwe=M6+"-container",A6=Fs+"-text",gwe="single",mwe={show:50,hide:300},vwe="".concat(A6,"-with-url"),_we="dx-icon-with-url",Cwe="dx-item-url",xwe=(()=>{class t extends UD{_getDefaultOptions(){return y(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return Fs}_setAriaSelectionAttribute(){}_selectedItemClass(){return Fk}_widgetClass(){return owe}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return y(super._supportedKeys(),{space:()=>{var i=g(this.option("focusedElement"));!i.length||!this._isSelectionEnabled()||this.selectItem(i[0])},pageUp:W,pageDown:W})}_isSelectionEnabled(){return this.option("selectionMode")===gwe}_init(){this._activeStateUnit=".".concat(Fs),super._init(),this._renderSelectedItem(),this._initActions()}_getLinkContainer(i,n,r){var{linkAttr:o,url:s}=r;return i?.addClass(_we),n?.addClass(vwe),super._getLinkContainer(i,n,{linkAttr:o,url:s})}_addContent(i,n){var{html:r,url:o}=n;if(o){i.html(r);var s=this._getLinkContainer(this._getIconContainer(n),this._getTextContainer(n),n);i.append(s)}else super._addContent(i,n);i.append(this._getPopoutContainer(n)),this._addContentClasses(n,i.parent())}_getTextContainer(i){var{text:n}=i;if(n){var r=g("<span>").addClass(A6),o=Ve(i)?n:String(i);return r.text(o)}}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(i){var n=i.items,r;if(n&&n.length){var o=g("<div>").addClass(M6);r=g("<span>").addClass(fwe).append(o)}return r}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(i){if(i){var n=this._dataAdapter.getNodeByItem(i);this._dataAdapter.toggleSelection(n.internalFields.key,!0)}}_renderSelectedItem(){var i=this._dataAdapter.getSelectedNodesKeys(),n=i.length&&i[0],r=this.option("selectedItem");if(!n){this._selectByItem(r);return}var o=this._dataAdapter.getNodeByKey(n);if(o.selectable!==!1){if(!r){this.option("selectedItem",o.internalFields.item);return}r!==o.internalFields.item&&(this._dataAdapter.toggleSelection(n,!1),this._selectByItem(r))}}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=zu()}_toggleActiveState(i,n,r){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var o={element:i,event:r};n?this._inkRipple.showWave(o):this._inkRipple.hideWave(o)}}_getShowSubmenuMode(){var i=this.option("showSubmenuMode");return i=ke(i)?i.name:i,this._isDesktopDevice()?i:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return be.real().deviceType==="desktop"}_initEditStrategy(){var i=I6;this._editStrategy=new i(this)}_addCustomCssClass(i){i.addClass(this.option("cssClass"))}_itemWrapperSelector(){return".".concat(T6)}_hoverStartHandler(i){var n=this._getItemElementByEventArgs(i);!n||this._isItemDisabled(n)||(i.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,n),this._getSubmenuDelay("show"))))}_getAvailableItems(i){return super._getAvailableItems(i).filter(function(){return g(this).css("visibility")!=="hidden"})}_isItemDisabled(i){return this._disabledGetter(i.data(this._itemDataKey()))}_showSubmenu(i){this._addExpandedClass(i)}_addExpandedClass(i){g(i).addClass(lwe)}_getSubmenuDelay(i){var{delay:n}=this.option("showSubmenuMode");return O(n)?ke(n)?n[i]:n:mwe[i]}_getItemElementByEventArgs(i){var n=g(i.target);if(n.hasClass(this._itemClass())||n.get(0)===i.currentTarget)return n;for(;!n.hasClass(this._itemClass());)if(n=n.parent(),n.hasClass("dx-submenu"))return null;return n}_hoverEndHandler(){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(i){return i&&i.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(i,n){if(i.length){this.hasIcons=!1;var r=this._renderContainer(this.$element(),n),o=-1,s=-1;F(i,(a,l)=>{var d=l.visible!==!1;d&&o<0&&(o=a);var u=o<a&&(l.beginGroup||a===s);u&&(s=d?a:a+1),a===s&&o<a&&this._renderSeparator(r),this._renderItem(a,l,r)}),this.hasIcons||r.addClass(rwe)}}_renderContainer(i){var n=g("<ul>");return this.setAria("role","none",n),n.appendTo(i).addClass(awe)}_createDOMElement(i){var n=g("<li>");return this.setAria("role","none",n),n.appendTo(i).addClass(T6)}_renderItem(i,n,r,o){var s=this.option("items"),a=o||this._createDOMElement(r);s[i+1]&&s[i+1].beginGroup&&a.addClass(uwe);var l=super._renderItem(i,n.internalFields.item,a);n.internalFields.item===this.option("selectedItem")&&l.addClass(Fk),l.attr("tabIndex",-1),this._hasSubmenu(n)&&this.setAria("haspopup","true",l)}_renderItemFrame(i,n,r){var o=r.children(".".concat(Fs));return o.length?o:super._renderItemFrame.apply(this,arguments)}_refreshItem(i,n){var r=this._dataAdapter.getNodeByItem(n),o=i.data(this._itemIndexKey()),s=i.closest("ul"),a=i.closest("li");this._renderItem(o,r,s,a)}_addContentClasses(i,n){var r=i.text?!!i.text.length:!1,o=!!i.icon,s=i.items?!!i.items.length:!1;n.toggleClass(cwe,r),n.toggleClass(hwe,o),this.hasIcons||(this.hasIcons=o),n.toggleClass(pwe,s)}_getItemContent(i){var n=super._getItemContent(i);return n.length||(n=i.children(".".concat(swe))),n}_postprocessRenderItem(i){var n=g(i.itemElement),r=this._dataAdapter.getSelectedNodesKeys();if(!r.length||!this._selectedGetter(i.itemData)||!this._isItemSelectable(i.itemData)){this._setAriaSelectionAttribute(n,"false");return}var o=this._dataAdapter.getNodeByItem(i.itemData);o.internalFields.key===r[0]?(n.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(n,"true")):this._setAriaSelectionAttribute(n,"false")}_isItemSelectable(i){return i.selectable!==!1}_renderSeparator(i){g("<li>").appendTo(i).addClass(dwe)}_itemClickHandler(i){if(!i._skipHandling){var n=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(i,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:n.bind(this)}),i._skipHandling=!0}}_itemClick(i){var{event:n,itemData:r}=i.args[0],o=this._getItemElementByEventArgs(n),s=o.find(".".concat(Cwe)).get(0);r.url&&s&&s.click()}_updateSubmenuVisibilityOnClick(i){this._updateSelectedItemOnClick(i),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(i.args[0].itemElement)}_updateSelectedItemOnClick(i){var n=i.args?i.args[0]:i;if(this._isItemSelectAllowed(n.itemData)){var r=this._dataAdapter.getSelectedNodesKeys(),o=r.length&&this._dataAdapter.getNodeByKey(r[0]);o&&this._toggleItemSelection(o,!1),!o||o.internalFields.item!==n.itemData?this.selectItem(n.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}}_isItemSelectAllowed(i){var n=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&n&&this._isItemSelectable(i)&&!this._itemsGetter(i)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return hb()}_optionChanged(i){switch(i.name){case"showSubmenuMode":break;case"selectedItem":var n=this._dataAdapter.getNodeByItem(i.value),r=this._dataAdapter.getSelectedNodesKeys()[0];if(n&&n.internalFields.key!==r){if(n.selectable===!1)break;r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(n,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(i)}}_toggleItemSelection(i,n){var r=this._getElementByItem(i.internalFields.item);r&&g(r).toggleClass(Fk),this._dataAdapter.toggleSelection(i.internalFields.key,n)}_getElementByItem(i){var n;return F(this._itemElements(),(r,o)=>g(o).data(this._itemDataKey())!==i?!0:(n=o,!1)),n}_updateSelectedItems(i,n){(i||n)&&this._fireSelectionChangeEvent(n,i)}_fireSelectionChangeEvent(i,n){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[i],removedItems:[n]})}selectItem(i){var n=i.nodeType?this._getItemData(i):i,r=this._dataAdapter.getSelectedNodesKeys()[0],o=this.option("selectedItem"),s=this._dataAdapter.getNodeByItem(n);s.internalFields.key!==r&&(r&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(r),!1),this._toggleItemSelection(s,!0),this._updateSelectedItems(o,n),this._setOptionWithoutOptionChange("selectedItem",n))}unselectItem(i){var n=i.nodeType?this._getItemData(i):i,r=this._dataAdapter.getNodeByItem(n),o=this.option("selectedItem");r.internalFields.selected&&(this._toggleItemSelection(r,!1),this._updateSelectedItems(o,null),this._setOptionWithoutOptionChange("selectedItem",null))}}return t.ItemClass=ws,t})(),KD=xwe;var N6="dx-menu",B_=N6+"-item",bg=B_+"-expanded",ywe="dx-menu-phone-overlay",qD=N6+"-items-container",R6=B_+"-wrapper",Vo="dx-submenu",bwe="dx-context-menu",Dwe="dx-has-context-menu",Owe="dx-state-disabled",Ewe="dx-state-focused",F6="dx-state-hover",Swe="dx-overlay-content",L6="up",B6="down",wwe="left",Iwe="right",V6="first",H6="last",P6=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],Twe=[L6,B6,V6,H6],k6="dxcontextmenu",Mwe=Le(),JD=class extends KD{getShowEvent(e){var i=null;return ke(e)?e.name!==null&&(i=e.name||k6):i=e,i}getShowDelay(e){return ke(e)&&e.delay}_getDefaultOptions(){return y(super._getDefaultOptions(),{showEvent:k6,hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!Ne(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),y(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},F(P6,(e,i)=>{this._actions[i]=this._createActionByOption(i)||W})}_setOptionsByReference(){super._setOptionsByReference(),y(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():g()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return y(super._supportedKeys(),{space:()=>{var e=g(this.option("focusedElement"));this.hide(),!(!e.length||!this._isSelectionEnabled())&&this.selectItem(e[0])},escape:this.hide})}_getActiveItem(){var e=this._getAvailableItems(),i=e.filter(".".concat(Ewe)),n=e.filter(".".concat(F6)),r=n.closest(".".concat(qD));return r.find(".".concat(B_)).index(i)>=0?i:n.length?n:super._getActiveItem()}_moveFocus(e){var i=this._getItemsByLocation(e),n=this._getActiveItem(!0),r=this.itemsContainer().find(".".concat(F6)),o=g(this.option("focusedElement")),s=!!(o.length||r.length),a;switch(e){case L6:a=s?this._prevItem(i):n,this._setFocusedElement(a),n.is(i.first())&&this._actions.onLeftFirstItem(n);break;case B6:a=s?this._nextItem(i):n,this._setFocusedElement(a),n.is(i.last())&&this._actions.onLeftLastItem(n);break;case Iwe:a=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(i,e),this._setFocusedElement(a);break;case wwe:a=this.option("rtlEnabled")?this._expandSubmenuHandler(i,e):this._hideSubmenuHandler(),this._setFocusedElement(a);break;case V6:a=i.first(),this._setFocusedElement(a);break;case H6:a=i.last(),this._setFocusedElement(a);break;default:return super._moveFocus(e)}}_setFocusedElement(e){e&&e.length!==0&&this.option("focusedElement",Pe(e))}_getItemsByLocation(e){var i=this._getActiveItem(!0),n;return Twe.includes(e)&&(n=i.closest(".".concat(qD)).children().children()),n=this._getAvailableItems(n),n}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(O(this._overlay)){var e=this._overlay.$content();super._refreshActiveDescendant(e)}}_hideSubmenuHandler(){var e=this._getActiveItem(!0),i=e.parents(".".concat(bg)).first();return i.length?(this._hideSubmenusOnSameLevel(i),this._hideSubmenu(e.closest(".".concat(Vo))),i):(this._actions.onCloseRootSubmenu(e),e)}_expandSubmenuHandler(e,i){var n=this._getActiveItem(!0),r=this._getItemData(n),o=this._dataAdapter.getNodeByItem(r),s=this._hasSubmenu(o),a=n.children(".".concat(Vo));if(s&&!n.hasClass(Owe))return(!a.length||a.css("visibility")==="hidden")&&this._showSubmenu(n),this._nextItem(this._getItemsByLocation(i));this._actions.onExpandLastSubmenu(n)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass(Dwe),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent(g("<div>").appendTo(this._$element),Rn,e);var i=this._overlay.$content();i.addClass(bwe),this._addCustomCssClass(i),this._addPlatformDependentClass(i),this._attachContextMenuEvent()}}preventShowingDefaultContextMenuAboveOverlay(){var e=this._itemContainer(),i=ne(lD,this.NAME);S.off(e,i,".".concat(Vo)),S.on(e,i,".".concat(Vo),(n=>{n.stopPropagation(),n.preventDefault(),S.off(e,i,".".concat(Vo))}).bind(this))}_itemContextMenuHandler(e){super._itemContextMenuHandler(e),e.stopPropagation()}_addPlatformDependentClass(e){be.current().phone&&e.addClass(ywe)}_detachShowContextMenuEvents(e){var i=this.getShowEvent(this.option("showEvent"));if(i){var n=ne(i,this.NAME);this._showContextMenuEventHandler?S.off(ie.getDocument(),n,e,this._showContextMenuEventHandler):S.off(g(e),n)}}_attachShowContextMenuEvents(){var e=this._getTarget(),i=this.getShowEvent(this.option("showEvent"));if(i){var n=ne(i,this.NAME),r=this._createAction(s=>{var a=this.getShowDelay(this.option("showEvent"));a?setTimeout(()=>this._show(s.event),a):this._show(s.event)},{validatingTargetName:"target"}),o=s=>r({event:s,target:g(s.currentTarget)});r=this._createAction(r),Ln(e)||e.nodeType||fi(e)?(this._showContextMenuEventHandler=void 0,S.on(e,n,o)):(this._showContextMenuEventHandler=o,S.on(ie.getDocument(),n,e,this._showContextMenuEventHandler))}}_hoverEndHandler(e){super._hoverEndHandler(e),e.stopPropagation()}_renderDimensions(){}_renderContainer(e,i){var n=i||this._itemContainer();e=g("<div>"),e.appendTo(n).addClass(Vo).css("visibility",i?"hidden":"visible"),e.parent().hasClass(Swe)||this._addCustomCssClass(e);var r=super._renderContainer(e);return i?r:this.option("width")?r.css("minWidth",this.option("width")):this.option("height")?r.css("minHeight",this.option("height")):r}_renderSubmenuItems(e,i){this._renderItems(this._getChildNodes(e),i),this._actions.onSubmenuCreated({itemElement:Pe(i),itemData:e.internalFields.item,submenuElement:Pe(i.children(".".concat(Vo)))})}_getOverlayOptions(){var e=this.option("position"),i={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:n=>this._hideOnOutsideClickHandler(n),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:Mwe};return i}_overlayShownActionHandler(e){this._actions.onShown(e)}_overlayHidingActionHandler(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(e){this._actions.onHidden(e)}_shouldHideOnOutsideClick(e){var{closeOnOutsideClick:i,hideOnOutsideClick:n}=this.option();return ce(n)?n(e):ce(i)?i(e):n||i}_hideOnOutsideClickHandler(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(ie.isDocument(e.target))return!0;var i=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),r=this._searchActiveItem(e.target),o=this.$element().parents(".".concat(B_)),s=r[0]===o[0]&&r.length&&o.length,a=this._isIncludeOverlay(i,n)&&r.length;return a||s?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(r),!1):!0}_getActiveItemsContainer(e){return g(e).closest(".".concat(qD))}_getItemsContainers(){return this._overlay.$content().find(".".concat(qD))}_searchActiveItem(e){return g(e).closest(".".concat(B_)).eq(0)}_isIncludeOverlay(e,i){var n=!1;return F(i,(r,o)=>{e.is(o)&&!n&&(n=!0)}),n}_hideAllShownChildSubmenus(e){var i=e.find(".".concat(Vo)),n=y([],this._shownSubmenus);i.length>0&&F(n,(r,o)=>{var s=this._searchActiveItem(o.context).parent();s.parent().is(e.parent().parent())&&!s.is(e.parent())&&this._hideSubmenu(o)})}_showSubmenu(e){var i=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),!!this._hasSubmenu(i)){var n=e.children(".".concat(Vo)),r=n.length;super._showSubmenu(e),r||this._renderSubmenuItems(i,e),this._isSubmenuVisible(n)||this._drawSubmenu(e)}}_hideSubmenusOnSameLevel(e){var i=e.parent(".".concat(R6)).siblings().find(".".concat(bg));i.length&&(i.removeClass(bg),this._hideSubmenu(i.find(".".concat(Vo))))}_hideSubmenuGroup(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}_isSubmenuVisible(e){return e.css("visibility")==="visible"}_drawSubmenu(e){var i=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(Vo)),r=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&(O(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),i&&Et.stop(n),en.setup(n,r),i&&(Ve(i.to)&&(i.to.position=r),this._animate(n,i)),n.css("visibility","visible"))}_animate(e,i){Et.animate(e,i)}_getSubmenuPosition(e){var i=this.option("submenuDirection").toLowerCase(),n=e.parent(".".concat(R6)),r={collision:"flip",of:n,offset:{h:0,v:-1}};switch(i){case"left":r.at="left top",r.my="right top";break;case"right":r.at="right top",r.my="left top";break;default:this.option("rtlEnabled")?(r.at="left top",r.my="right top"):(r.at="right top",r.my="left top")}return r}_updateSubmenuVisibilityOnClick(e){if(e.args.length){var i=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(i);if(n){var r=g(e.args[0].itemElement),o=r.find(".".concat(Vo)),s=this._hasSubmenu(n)&&!o.length;if(s&&(this._renderSubmenuItems(n,r),o=r.find(".".concat(Vo))),!(r.context===o.context&&o.css("visibility")==="visible")){this._updateSelectedItemOnClick(e);var a=i&&i.closeMenuOnClick===!1;if(!(!i||i.disabled||a))if(o.length===0){var l=g(r.parents(".".concat(Vo))[0]);this._hideSubmenu(l),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(o)&&this._hideSubmenu(o),this._showSubmenu(r)}}}}_hideSubmenu(e){var i=y([],this._shownSubmenus);F(i,(n,r)=>{(e.is(r)||ko(e[0],r[0]))&&(r.parent().removeClass(bg),this._hideSubmenuCore(r))})}_hideSubmenuCore(e){var i=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;i>=0&&this._shownSubmenus.splice(i,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")}_stopAnimate(e){Et.stop(e,!0)}_hideAllShownSubmenus(){var e=y([],this._shownSubmenus),i=this._overlay.$content().find(".".concat(bg));i.removeClass(bg),F(e,(n,r)=>{this._hideSubmenu(r)})}_visibilityChanged(e){e&&this._renderContentImpl()}_optionChanged(e){if(P6.includes(e.name)){this._initActions();return}switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(e)}}_renderVisibility(e){return e?this._show():this._hide()}_toggleVisibility(){}_show(e){var i={jQEvent:e},n=new H().reject().promise();if(this._actions.onShowing(i),i.cancel)return n;var r=this._positionContextMenu(e);if(r){var o;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",r),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(e==null||(o=e.originalEvent)===null||o===void 0?void 0:o.type)===_o.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return n}_setAriaAttributes(){this._overlayContentId="dx-".concat(new kt),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||g(ie.getDocument())}_getContextMenuPosition(){return y({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(e){var i=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),r=this._createActionByOption("onPositioning");e&&e.preventDefault&&n&&(i.of=e);var o={position:i,event:e};return r(o),o.cancel?i=null:o.event&&(o.event.cancel=!0,e.preventDefault()),i}_refresh(){if(!Ne())super._refresh();else if(this._overlay){var e=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",e)}else super._refresh()}_hide(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||new H().reject().promise()}toggle(e){var i=this.option("visible");return e=e===void 0?!i:e,this._renderVisibility(e)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}};Be("dxContextMenu",JD);var z6=JD;var Dg=z6;var W6=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l,d){super(i,n,r,o,l,d),this._watcherHelper=o,this._idh=s,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"hidden",emit:"onHidden"},{subscribe:"hiding",emit:"onHiding"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"itemContextMenu",emit:"onItemContextMenu"},{subscribe:"itemRendered",emit:"onItemRendered"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"positioning",emit:"onPositioning"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"showing",emit:"onShowing"},{subscribe:"shown",emit:"onShown"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"animationChange"},{emit:"closeOnOutsideClickChange"},{emit:"cssClassChange"},{emit:"dataSourceChange"},{emit:"disabledChange"},{emit:"disabledExprChange"},{emit:"displayExprChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hideOnOutsideClickChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"itemsChange"},{emit:"itemsExprChange"},{emit:"itemTemplateChange"},{emit:"positionChange"},{emit:"rtlEnabledChange"},{emit:"selectByClickChange"},{emit:"selectedExprChange"},{emit:"selectedItemChange"},{emit:"selectionModeChange"},{emit:"showEventChange"},{emit:"showSubmenuModeChange"},{emit:"submenuDirectionChange"},{emit:"tabIndexChange"},{emit:"targetChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),a.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get animation(){return this._getOption("animation")}set animation(i){this._setOption("animation",i)}get closeOnOutsideClick(){return this._getOption("closeOnOutsideClick")}set closeOnOutsideClick(i){this._setOption("closeOnOutsideClick",i)}get cssClass(){return this._getOption("cssClass")}set cssClass(i){this._setOption("cssClass",i)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get disabledExpr(){return this._getOption("disabledExpr")}set disabledExpr(i){this._setOption("disabledExpr",i)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(i){this._setOption("displayExpr",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(i){this._setOption("hideOnOutsideClick",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get itemsExpr(){return this._getOption("itemsExpr")}set itemsExpr(i){this._setOption("itemsExpr",i)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(i){this._setOption("itemTemplate",i)}get position(){return this._getOption("position")}set position(i){this._setOption("position",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get selectByClick(){return this._getOption("selectByClick")}set selectByClick(i){this._setOption("selectByClick",i)}get selectedExpr(){return this._getOption("selectedExpr")}set selectedExpr(i){this._setOption("selectedExpr",i)}get selectedItem(){return this._getOption("selectedItem")}set selectedItem(i){this._setOption("selectedItem",i)}get selectionMode(){return this._getOption("selectionMode")}set selectionMode(i){this._setOption("selectionMode",i)}get showEvent(){return this._getOption("showEvent")}set showEvent(i){this._setOption("showEvent",i)}get showSubmenuMode(){return this._getOption("showSubmenuMode")}set showSubmenuMode(i){this._setOption("showSubmenuMode",i)}get submenuDirection(){return this._getOption("submenuDirection")}set submenuDirection(i){this._setOption("submenuDirection",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get target(){return this._getOption("target")}set target(i){this._setOption("target",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}_createInstance(i,n){return new Dg(i,n)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("dataSource",i),this.setupChanges("items",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-context-menu"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,lr,4),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",animation:"animation",closeOnOutsideClick:"closeOnOutsideClick",cssClass:"cssClass",dataSource:"dataSource",disabled:"disabled",disabledExpr:"disabledExpr",displayExpr:"displayExpr",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hint:"hint",hoverStateEnabled:"hoverStateEnabled",items:"items",itemsExpr:"itemsExpr",itemTemplate:"itemTemplate",position:"position",rtlEnabled:"rtlEnabled",selectByClick:"selectByClick",selectedExpr:"selectedExpr",selectedItem:"selectedItem",selectionMode:"selectionMode",showEvent:"showEvent",showSubmenuMode:"showSubmenuMode",submenuDirection:"submenuDirection",tabIndex:"tabIndex",target:"target",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onItemClick:"onItemClick",onItemContextMenu:"onItemContextMenu",onItemRendered:"onItemRendered",onOptionChanged:"onOptionChanged",onPositioning:"onPositioning",onSelectionChanged:"onSelectionChanged",onShowing:"onShowing",onShown:"onShown",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",animationChange:"animationChange",closeOnOutsideClickChange:"closeOnOutsideClickChange",cssClassChange:"cssClassChange",dataSourceChange:"dataSourceChange",disabledChange:"disabledChange",disabledExprChange:"disabledExprChange",displayExprChange:"displayExprChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hideOnOutsideClickChange:"hideOnOutsideClickChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemsChange:"itemsChange",itemsExprChange:"itemsExprChange",itemTemplateChange:"itemTemplateChange",positionChange:"positionChange",rtlEnabledChange:"rtlEnabledChange",selectByClickChange:"selectByClickChange",selectedExprChange:"selectedExprChange",selectedItemChange:"selectedItemChange",selectionModeChange:"selectionModeChange",showEventChange:"showEventChange",showSubmenuModeChange:"showSubmenuModeChange",submenuDirectionChange:"submenuDirectionChange",tabIndexChange:"tabIndexChange",targetChange:"targetChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),j6=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[cd,vd,md,xd,hd,pd,gd,_d,Cd,bd,yd,Tn,yk,bk,WP,$i,Wt],cd,vd,md,xd,hd,pd,gd,_d,Cd,bd,yd,Tn,yk,bk,WP,Wt]}),t})();var Rwe=()=>({my:"top",at:"bottom"});function Fwe(t,e){if(t&1&&si(0,"dx-context-menu",5),t&2){let i=gr();ri("items",i.menuItems)("position",Ua(2,Rwe))}}function Pwe(t,e){if(t&1&&si(0,"dx-list",6),t&2){let i=gr();ri("items",i.menuItems)}}var $6=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=rt({type:e,selectors:[["app-user-panel"]],inputs:{menuItems:"menuItems",menuMode:"menuMode",user:"user"},decls:6,vars:3,consts:[[1,"user-panel"],[1,"user-info"],[1,"user-name"],["target",".user-button","showEvent","dxclick","width","170px","cssClass","user-menu",3,"items","position",4,"ngIf"],["class","dx-toolbar-menu-action",3,"items",4,"ngIf"],["target",".user-button","showEvent","dxclick","width","170px","cssClass","user-menu",3,"items","position"],[1,"dx-toolbar-menu-action",3,"items"]],template:function(r,o){r&1&&(mt(0,"div",0)(1,"div",1)(2,"div",2),Rr(3),Ot()(),er(4,Fwe,1,3,"dx-context-menu",3)(5,Pwe,1,1,"dx-list",4),Ot()),r&2&&(zt(3),Ga(o.user==null?null:o.user.name),zt(),ri("ngIf",o.menuMode==="context"),zt(),ri("ngIf",o.menuMode==="list"))},dependencies:[O6,W6,ef],styles:[".user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.dx-toolbar-menu-section[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%], .dx-toolbar-menu-section   [_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:10px 6px;border-bottom:1px solid rgba(0,0,0,.1)}.user-info[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{overflow:hidden;border-radius:50%;height:30px;width:30px;margin:0 4px;border:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px #00000026}.user-info[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{width:100%;height:100%;background:url(https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/images/employees/06.png) no-repeat #fff;background-size:cover}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:14px;color:#333;margin:0 9px}.user-panel[_ngcontent-%COMP%]     .dx-list-item .dx-icon{vertical-align:middle;color:#333;margin-right:16px}.user-panel[_ngcontent-%COMP%]     .dx-rtl .dx-list-item .dx-icon{margin-right:0;margin-left:16px}  .dx-context-menu.user-menu.dx-rtl .dx-submenu .dx-menu-items-container .dx-icon{margin-left:16px}  .dx-context-menu.user-menu .dx-submenu .dx-menu-items-container .dx-icon{margin-right:16px}  .dx-context-menu.user-menu .dx-menu-item .dx-menu-item-content{padding:3px 15px 4px}  .dx-theme-generic .user-menu .dx-menu-item-content .dx-menu-item-text{padding-left:4px;padding-right:4px}"]});let t=e;return t})(),G6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[E6,j6,Mo]});let t=e;return t})();var Nwe=["*"],Th=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l){super(i,n,r,o,a,l),this._createEventEmitters([{subscribe:"click",emit:"onClick"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"iconChange"},{emit:"rtlEnabledChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"templateChange"},{emit:"textChange"},{emit:"typeChange"},{emit:"useSubmitBehaviorChange"},{emit:"validationGroupChange"},{emit:"visibleChange"},{emit:"widthChange"}]),s.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(i){this._setOption("stylingMode",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get type(){return this._getOption("type")}set type(i){this._setOption("type",i)}get useSubmitBehavior(){return this._getOption("useSubmitBehavior")}set useSubmitBehavior(i){this._setOption("useSubmitBehavior",i)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(i){this._setOption("validationGroup",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}_createInstance(i,n){return new ci(i,n)}ngOnDestroy(){this._destroyWidget()}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-button"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",template:"template",text:"text",type:"type",useSubmitBehavior:"useSubmitBehavior",validationGroup:"validationGroup",visible:"visible",width:"width"},outputs:{onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",iconChange:"iconChange",rtlEnabledChange:"rtlEnabledChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",templateChange:"templateChange",textChange:"textChange",typeChange:"typeChange",useSubmitBehaviorChange:"useSubmitBehaviorChange",validationGroupChange:"validationGroupChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge]),Pt],ngContentSelectors:Nwe,decls:1,vars:0,template:function(i,n){i&1&&(tr(),Un(0))},encapsulation:2}),t})(),Mh=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[$i,Wt],Wt]}),t})();var Lwe="dx-buttongroup",Bwe=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],Vwe=function(t){var e=t.data&&t.data(),i=e&&e.dxComponents,n=i&&i[0];return n&&e[n]};function Og(t,e){var i;if(t){var n=t._findItemElementByItem(e);if(n.length){var r=t._getItemData(n),o=!!((i=r.options)!==null&&i!==void 0&&i.disabled||r.disabled||t.option("disabled")),{widget:s}=r;if(s&&Bwe.indexOf(s)!==-1){var a=n.find(s.toLowerCase().replace("dx",".dx-"));if(a.length){var l,d,u=Vwe(a);if(!u)return;var h=(l=u._focusTarget)===null||l===void 0?void 0:l.call(u);if(s==="dxDropDownButton")h=h&&h.find(".".concat(Lwe));else{var p;h=(p=h)!==null&&p!==void 0?p:g(u.element())}var m=(d=r.options)===null||d===void 0?void 0:d.tabIndex;o?h.attr("tabIndex",-1):h.attr("tabIndex",m??0)}}}}}var Hwe="dx-toolbar-label",YD=class{constructor(e){this._toolbar=e}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){var e;return(e=this._toolbar.option("items"))!==null&&e!==void 0?e:[]}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",this._toolbar.itemElements(),!0)}_arrangeItems(){var e=this._toolbar._$toolbarItemsContainer.find(".".concat(Hwe)).eq(0);if(e.length){var i=Ae(this._toolbar.$element()),n=it(e)-Ae(e);e.css("maxWidth",i-n)}}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}};var Pk="dx-toolbar-menu-action",zwe="dx-toolbar-hidden-button",U6="dx-toolbar-hidden-button-group",K6="dx-toolbar-menu-section",Wwe="dx-toolbar-menu-custom",q6="dx-toolbar-menu-last-section",jwe="dx-scrollview-content",XD=class extends Eh{_init(){super._init(),this._activeStateUnit=".".concat(Pk,":not(.").concat(U6,")")}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){var e=this._itemContainer();F(["before","center","after","menu"],(i,n)=>{var r="_$".concat(n,"Section");this[r]||(this[r]=g("<div>").addClass(K6)),this[r].appendTo(e)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){var e=this.$element().find(".".concat(jwe));e.attr("role","menu")}_updateSections(){var e=this.$element().find(".".concat(K6));e.removeClass(q6),e.not(":empty").eq(-1).addClass(q6)}_renderItem(e,i,n,r){var o,s=(o=i.location)!==null&&o!==void 0?o:"menu",a=this["_$".concat(s,"Section")],l=super._renderItem(e,i,a,r);return this._getItemTemplateName({itemData:i})&&l.addClass(Wwe),(s==="menu"||i.widget==="dxButton"||i.widget==="dxButtonGroup"||i.isAction)&&l.addClass(Pk),i.widget==="dxButton"&&l.addClass(zwe),i.widget==="dxButtonGroup"&&l.addClass(U6),l.addClass(i.cssClass),l}_getItemTemplateName(e){var i=super._getItemTemplateName(e),n=e.itemData,r=n&&n.menuItemTemplate;return r||i}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(e,i,n){g(e.target).closest(".".concat(Pk)).length&&super._itemClickHandler(e,i,n)}_clean(){this._getSections().empty(),super._clean()}};var kk=(()=>{class t extends Xn{_getDefaultOptions(){return y(super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}return t.defaultOptions=function(e){Xn.defaultOptions(e)},t})();Be("dxPopup",kk);var J6=kk;var $we="dx-dropdownmenu",Gwe="dx-dropdownmenu-popup",Uwe="dx-dropdownmenu-popup-wrapper",Kwe="dx-dropdownmenu-list",qwe="dx-dropdownmenu-button",Jwe=10,Y6=3,QD=class extends Ci{_supportedKeys(){var e={};return(!this.option("opened")||!this._list.option("focusedElement"))&&(e=this._button._supportedKeys()),y(super._supportedKeys(),e,{tab:function(){this._popup&&this._popup.hide()}})}_getDefaultOptions(){return y(super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return be.real().deviceType==="desktop"&&!be.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return ki()},options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass($we),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick")}_initTemplates(){this._templateManager.addDefaultTemplates({content:new wu("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}_renderButton(){var e=this.$element().addClass(qwe);this._button=this._createComponent(e,ci,{icon:"overflow",template:"content",stylingMode:Ui()?"text":"contained",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:i=>{this.option("opened",!this.option("opened")),this._buttonClickAction(i)}})}_toggleActiveState(e,i,n){this._button._toggleActiveState(e,i,n)}_toggleMenuVisibility(e){var i=e??!this._popup.option("visible");e&&this._renderPopup(),this._popup.toggle(i),this.setAria("expanded",i)}_renderPopup(){if(!this._$popup){this._$popup=g("<div>").appendTo(this.$element());var{rtlEnabled:e,container:i,animation:n}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(r){var{component:o}=r;o.$wrapper().addClass(Uwe).addClass(Gwe)},deferRendering:!1,contentTemplate:r=>this._renderList(r),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top ".concat(e?"left":"right"),at:"bottom ".concat(e?"left":"right"),collision:"fit flip",offset:{v:Y6},of:this.$element()},animation:n,onOptionChanged:r=>{var{name:o,value:s}=r;o==="visible"&&this.option("opened",s)},container:i,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:r=>this._closeOutsideDropDownHandler(r),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}}_getMaxHeight(){var e=this.$element(),i=e.offset().top,n=et(Le()),r=Math.max(i,n-i-et(e));return Math.min(n,r-Y6-Jwe)}_closeOutsideDropDownHandler(e){var i=!g(e.target).closest(this.$element()).length;return i}_renderList(e){var i=g(e);i.addClass(Kwe),this._list=this._createComponent(i,XD,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:n=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(n)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(e,i,n){var r;(r=this._list)===null||r===void 0||r._itemOptionChanged(e,i,n),Og(this._list,e)}_getListDataSource(){var e;return(e=this.option("dataSource"))!==null&&e!==void 0?e:this.option("items")}_setListDataSource(){var e;(e=this._list)===null||e===void 0||e.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(e){super._toggleVisibility(e),this._button.option("visible",e)}_optionChanged(e){var i,n,r,{name:o,value:s}=e;switch(o){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":(i=this._list)===null||i===void 0||i.option(o,this._getTemplate(s));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":(n=this._list)===null||n===void 0||n.option(o,s),super._optionChanged(e);break;case"onItemRendered":(r=this._list)===null||r===void 0||r.option(o,s);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(s),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(o,s);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(e=>Og(this._list,e))}};var X6="dx-state-invisible",Ywe="dx-toolbar-menu-container",Xwe="dx-toolbar-button",ZD="dx-toolbar-item-auto-hide",Nk="dx-toolbar-item-invisible",eO=class{constructor(e){this._toolbar=e}_initMarkup(){zi(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var e=g("<div>").appendTo(this._overflowMenuContainer()),i=this._toolbar._createActionByOption("onItemClick"),n=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(e,QD,{disabled:this._toolbar.option("disabled"),itemTemplate:()=>n,onItemClick:r=>{i(r)},container:this._toolbar.option("menuContainer"),onOptionChanged:r=>{var{name:o,value:s}=r;o==="opened"&&this._toolbar.option("overflowMenuVisible",s),o==="items"&&this._updateMenuVisibility(s)}})}}renderMenuItems(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=g("<div>").appendTo(this._toolbar._$afterSection).addClass(Xwe).addClass(Ywe)}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(e){var i=e??this._getMenuItems(),n=i.length&&this._hasVisibleMenuItems(i);this._toggleMenuVisibility(n)}_toggleMenuVisibility(e){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass(X6,!e)}_renderMenuItems(){zi(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){var e;return Sn((e=this._toolbar.option("items"))!==null&&e!==void 0?e:[],i=>!this._toolbar._isMenuItem(i))}_getHiddenItems(){return this._toolbar._itemContainer().children(".".concat(ZD,".").concat(Nk)).not(".".concat(X6))}_getMenuItems(){var e,i,n=Sn((e=this._toolbar.option("items"))!==null&&e!==void 0?e:[],s=>this._toolbar._isMenuItem(s)),r=this._getHiddenItems();this._restoreItems=(i=this._restoreItems)!==null&&i!==void 0?i:[];var o=[].slice.call(r).map(s=>{var a=this._toolbar._getItemData(s),l=g(s),d=l.children();return y({menuItemTemplate:()=>{this._restoreItems.push({container:l,item:d});var u=g("<div>").addClass(ZD);return u.append(d)}},a)});return[...o,...n]}_hasVisibleMenuItems(e){var i=e??this._toolbar.option("items"),n=!1,r=Tt("visible"),o=Tt("locateInMenu");return F(i,function(s,a){var l=r(a,{functionsAsIs:!0}),d=o(a,{functionsAsIs:!0});(l!==!1&&(d==="auto"||d==="always")||a.location==="menu")&&(n=!0)}),n}_arrangeItems(){var e;this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),F((e=this._restoreItems)!==null&&e!==void 0?e:[],function(n,r){g(r.container).append(r.item)}),this._restoreItems=[];var i=Ae(this._toolbar.$element());return this._hideOverflowItems(i),i}_hideOverflowItems(e){var i,n=this._toolbar.$element().find(".".concat(ZD));if(n.length){e=(i=e)!==null&&i!==void 0?i:Ae(this._toolbar.$element()),g(n).removeClass(Nk);for(var r=this._getItemsWidth();n.length&&e<r;){var o=n.eq(-1);o.addClass(Nk),r=this._getItemsWidth(),n.splice(-1,1)}}}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",[this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(e,i,n){if((i==="disabled"||i==="options.disabled")&&this._toolbar._isMenuItem(e)){var r;(r=this._menu)===null||r===void 0||r._itemOptionChanged(e,i,n);return}this.renderMenuItems()}_renderItem(e,i){e.locateInMenu==="auto"&&i.addClass(ZD)}_optionChanged(e,i){var n,r,o,s,a;switch(e){case"disabled":(n=this._menu)===null||n===void 0||n.option(e,i);break;case"overflowMenuVisible":(r=this._menu)===null||r===void 0||r.option("opened",i);break;case"onItemClick":(o=this._menu)===null||o===void 0||o.option(e,i);break;case"menuContainer":(s=this._menu)===null||s===void 0||s.option("container",i);break;case"menuItemTemplate":(a=this._menu)===null||a===void 0||a.option("itemTemplate",i)}}};var Qwe="dx-toolbar-multiline",Zwe="dx-toolbar-text-auto-hide",tO=class extends l8{_getDefaultOptions(){return y(super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(e){e!=="height"&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass(Qwe,this._isMultiline()),this._layoutStrategy=this._isMultiline()?new YD(this):new eO(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(e,i,n,r){var o=super._renderItem(e,i,n,r);this._layoutStrategy._renderItem(i,o);var{widget:s,showText:a}=i;return s==="dxButton"&&a==="inMenu"&&o.toggleClass(Zwe),o}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(!this.$element().is(":hidden")){var e=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(e)}}_itemOptionChanged(e,i,n){this._isMenuItem(e)||super._itemOptionChanged(e,i,n),this._layoutStrategy._itemOptionChanged(e,i,n),(i==="disabled"||i==="options.disabled")&&Og(this,e),i==="location"&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>Og(this,e))}_isMenuItem(e){return e.location==="menu"||e.locateInMenu==="always"}_isToolbarItem(e){return e.location===void 0||e.locateInMenu==="never"}_optionChanged(e){var{name:i,value:n}=e;switch(this._layoutStrategy._optionChanged(i,n),i){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged.apply(this,arguments),this._updateFocusableItemsTabIndex();break;default:super._optionChanged.apply(this,arguments)}}updateDimensions(){this._dimensionChanged()}};Be("dxToolbar",tO);var Q6=tO;var iO=Q6;var Z6=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l,d){super(i,n,r,o,l,d),this._watcherHelper=o,this._idh=s,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"itemContextMenu",emit:"onItemContextMenu"},{subscribe:"itemHold",emit:"onItemHold"},{subscribe:"itemRendered",emit:"onItemRendered"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"dataSourceChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"itemHoldTimeoutChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"menuItemTemplateChange"},{emit:"multilineChange"},{emit:"noDataTextChange"},{emit:"rtlEnabledChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),a.setHost(this)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get itemHoldTimeout(){return this._getOption("itemHoldTimeout")}set itemHoldTimeout(i){this._setOption("itemHoldTimeout",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(i){this._setOption("itemTemplate",i)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(i){this._setOption("menuItemTemplate",i)}get multiline(){return this._getOption("multiline")}set multiline(i){this._setOption("multiline",i)}get noDataText(){return this._getOption("noDataText")}set noDataText(i){this._setOption("noDataText",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}_createInstance(i,n){return new iO(i,n)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("dataSource",i),this.setupChanges("items",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-toolbar"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,lr,4),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o)}},inputs:{dataSource:"dataSource",disabled:"disabled",elementAttr:"elementAttr",hint:"hint",hoverStateEnabled:"hoverStateEnabled",itemHoldTimeout:"itemHoldTimeout",items:"items",itemTemplate:"itemTemplate",menuItemTemplate:"menuItemTemplate",multiline:"multiline",noDataText:"noDataText",rtlEnabled:"rtlEnabled",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onItemClick:"onItemClick",onItemContextMenu:"onItemContextMenu",onItemHold:"onItemHold",onItemRendered:"onItemRendered",onOptionChanged:"onOptionChanged",dataSourceChange:"dataSourceChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemHoldTimeoutChange:"itemHoldTimeoutChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",menuItemTemplateChange:"menuItemTemplateChange",multilineChange:"multilineChange",noDataTextChange:"noDataTextChange",rtlEnabledChange:"rtlEnabledChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),nO=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[Tn,$i,Wt],Tn,Wt]}),t})();var tIe="dx-dropdowneditor-button",iIe="dx-dropdowneditor-button-visible",nIe="dxDropDownEditor-selectLabel",rO=class extends fl{constructor(e,i,n){super(e,i,n),this.currentTemplate=null}_attachEvents(e){var{editor:i}=this;e.option("onClick",n=>{var r;if((r=i._shouldCallOpenHandler)!==null&&r!==void 0&&r.call(i)){i._openHandler(n);return}!i.option("openOnFieldClick")&&i._openHandler(n)}),S.on(e.$element(),"mousedown",n=>{i.$element().is(".dx-state-focused")&&n.preventDefault()})}_create(){var{editor:e}=this,i=g("<div>"),n=this._getOptions();this._addToContainer(i);var r=e._createComponent(i,ci,y({},n,{elementAttr:{"aria-label":j.format(nIe)}}));return this._legacyRender(e.$element(),i,n.visible),{$element:i,instance:r}}_getOptions(){var{editor:e}=this,i=this._isVisible(),n=e.option("readOnly"),r={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:n,visible:i};return this._addTemplate(r),r}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,i,n){e.toggleClass(iIe,n),i&&i.removeClass("dx-button").removeClass("dx-button-mode-contained").addClass(tIe)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var e=super.update();if(e){var{editor:i,instance:n}=this,r=i.$element(),o=this._getOptions();n?.option(o),this._legacyRender(r,n?.$element(),o.visible)}}};var Eg=function(t){if(Ne())return it(t)},Sg=function(t){return t===null&&(t=void 0),typeof t=="function"&&(t=t()),t};var rIe="dx-dropdowneditor",e9="dx-dropdowneditor-input-wrapper",oIe="dx-dropdowneditor-icon",oO="dx-dropdowneditor-overlay",sIe="dx-dropdowneditor-overlay-flipped",aIe="dx-dropdowneditor-active",lIe="dx-dropdowneditor-field-clickable",dIe="dx-dropdowneditor-field-template-wrapper",t9=be.current().platform==="ios",i9=gl.inherit({_supportedKeys:function(){return y({},this.callBase(),{tab:function(t){if(this.option("opened")){if(!this._popup.getFocusableElements().length){this.close();return}var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&(S.trigger(e,"focus"),e.select()),t.preventDefault()}},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!Wi(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this.close(),!1):!0},downArrow:function(t){return!Wi(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey)?(this._validatedOpening(),!1):!0},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:rO}])},_getDefaultOptions:function(){return y(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:j.format("OK"),cancelButtonText:j.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=Yr(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){var e=t.platform==="generic";return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+e9).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var{my:e,at:i}=this._getDefaultPopupPosition(t),n=this.option("popupPosition");this.option("popupPosition",y({},n,{my:e,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(rIe),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner(g("<div>").addClass(e9)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){var t=!!this._getFieldTemplate();t||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var t=this.callBase();t.always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var i=Fo(this._input()),n=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),n.empty();var r=g("<div>").addClass(dIe).appendTo(n);t.render({model:e,container:Pe(r),onRendered:()=>{var o=!!this.$element().find(r).length;if(o){var s=this._input();if(!s.length)throw Ke.Error("E1010");this._integrateInput(),i&&S.trigger(s,"focus")}}}),this._attachWrapperContent(n)},_detachWrapperContent(){var t,e,i,n=this.option("useHiddenSubmitElement");n&&((t=this._$submitElement)===null||t===void 0||t.detach());var r=(e=this._$beforeButtonsContainer)===null||e===void 0?void 0:e[0].parentNode,o=(i=this._$afterButtonsContainer)===null||i===void 0?void 0:i[0].parentNode;r?.removeChild(this._$beforeButtonsContainer[0]),o?.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(t){var e,i=this.option("useHiddenSubmitElement");t.prepend(this._$beforeButtonsContainer),i&&((e=this._$submitElement)===null||e===void 0||e.appendTo(t)),t.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){S.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new Os(function(t){var e=g("<div>").addClass(oIe);g(t.container).append(e)})}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=ne(lt,this.NAME),i=this.option("openOnFieldClick");S.off(t,e),S.on(t,e,this._getInputClickHandler(i)),this.$element().toggleClass(lIe,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){t9&&(this._detachFocusOutEvents(),S.on(this._inputWrapper(),ne("focusout",this.NAME),t=>{var e=t.relatedTarget;if(e&&this.option("opened")){var i=this._isTargetOutOfComponent(e);i&&this.close()}}))},_isTargetOutOfComponent:function(t){var e=this.content?g(this.content()).closest(".".concat(oO)):this._$popup,i=g(t).closest(".".concat(oO),e).length===0;return i},_detachFocusOutEvents:function(){t9&&S.off(this._inputWrapper(),ne("focusout",this.NAME))},_getInputClickHandler:function(t){return t?e=>{this._executeOpenAction(e)}:e=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!Fo(this._input())&&(this._resetCaretPosition(),S.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this._input().get(0);if(e){var{value:i}=e,n=O(i)&&(t||this._isEditable())?i.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_getControlsAria(){return this._popup&&this._popupContentId},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(aIe,t),this._setPopupOption("visible",t);var e={expanded:t,controls:this._getControlsAria()};this.setAria(e),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=g("<div>").addClass(oO).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:W,_renderPopup:function(){var t=y(this._popupConfig(),this._options.cache("dropDownOptions"));delete t.closeOnOutsideClick,t.elementAttr&&!Object.keys(t.elementAttr).length&&delete t.elementAttr,this._popup=this._createComponent(this._$popup,Xn,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._attachPopupKeyHandler(),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_attachPopupKeyHandler(){S.on(this._popup.$overlayContent(),ne("keydown",this.NAME),t=>this._popupKeyHandler(t))},_popupKeyHandler(t){switch(qt(t)){case"tab":this._popupTabHandler(t);break;case"escape":this._popupEscHandler(t)}},_popupTabHandler(t){var e=g(t.target),i=t.shiftKey&&e.is(this._getFirstPopupElement()),n=!t.shiftKey&&e.is(this._getLastPopupElement());(n||i)&&(S.trigger(this.field(),"focus"),t.preventDefault())},_popupEscHandler(){S.trigger(this._input(),"focus"),this.close()},_setPopupContentId(t){this._popupContentId="dx-"+new kt,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:W,_popupConfig:function(){return{onInitialized:this._getPopupInitializedHandler(),position:y(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>Eg(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:t=>this._closeOutsideDropDownHandler(t),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_hideOnParentScrollTarget:this.$element(),_wrapperClassExternal:oO,_ignorePreventScrollEventsDeprecation:!0}},_popupInitializedHandler:W,_getPopupInitializedHandler:function(){var t=this.option("onPopupInitialized");return e=>{this._popupInitializedHandler(e),t&&this._popupInitializedAction({popup:e.component})}},_dimensionChanged:function(){if(Ne()&&!this.$element().is(":visible")){this.close();return}this._updatePopupWidth()},_updatePopupWidth:function(){var t=Sg(this.option("dropDownOptions.width"));t===void 0&&this._setPopupOption("width",()=>Eg(this.$element()))},_popupPositionedHandler:function(t){var e,i,{labelMode:n,stylingMode:r}=this.option();if(this._popup){var o=this._popup.$overlayContent(),s=(e=t.position)===null||e===void 0||(i=e.v)===null||i===void 0?void 0:i.flip,a=n!=="hidden"&&n!=="outside"&&r==="outlined";if(t.position&&o.toggleClass(sIe,s),s&&a&&this._label.isVisible()){var l=this._label.$element();Vt(o,{top:In(o).top-parseInt(l.css("fontSize"))})}}},_popupShowingHandler:W,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler:function(){var t;this._closeAction(),(t=this._validationMessage)===null||t===void 0||t.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide:function(){var t=this.option("validationMessagePosition");if(t!=="auto")return t;var e="bottom";if(this._popup&&this._popup.option("visible")){var{top:i}=en.setup(this.$element()),{top:n}=en.setup(this._popup.$content());e=i+this.option("popupPosition").offset.v>n?"bottom":"top"}return e},_closeOutsideDropDownHandler:function(t){var{target:e}=t,i=g(e),n=this.getButton("dropDown"),r=n&&n.$element(),o=!!i.closest(this.$element()).length,s=!!i.closest(r).length,a=!o&&!s;return a},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return g(this._popup.getFocusableElements()).first()},_getLastPopupElement:function(){return g(this._popup.getFocusableElements()).last()},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText")}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText")}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),i=t;if(e!=="default"){var n=Ja(e);F(i,function(r,o){y(o,{toolbar:n[0],location:n[1]})})}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=Ci.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=g("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),(e=this._popup)===null||e===void 0||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":O(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":Ne()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return Pe(this._input())},content:function(){return this._popup?this._popup.content():null}});Be("dxDropDownEditor",i9);var sO=i9;var uIe=y({},$u,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new Lr({store:new cl(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter:function(){this._displayGetter=Tt(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=Tt(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new H;return t=this._unwrappedValue(t),O(t)?(this._loadSingle(this._valueGetterExpr(),t).done((function(i){this._isValueEquals(this._valueGetter(i),t)?e.resolve(i):e.reject()}).bind(this)).fail(function(){e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;(t=this._loadValueDeferred)===null||t===void 0||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return t=(e=t)!==null&&e!==void 0?e:this._getCurrentValue(),t&&this._dataSource&&this._valueGetterExpr()==="this"&&(t=this._getItemKey(t)),En.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var i={},n=0,r=e.length;n<r;n++)i[e[n]]=t[e[n]];return i}return e&&typeof t=="object"&&(t=t[e]),t},_isValueEquals:function(t,e){var i=this._dataSource&&this._dataSource.key(),n=this._compareValues(t,e);return!n&&i&&O(t)&&O(e)&&(Array.isArray(i)?n=this._compareByCompositeKey(t,e,i):n=this._compareByKey(t,e,i)),n},_compareByCompositeKey:function(t,e,i){var n=ke;if(!n(t)||!n(e))return!1;for(var r=0,o=i.length;r<o;r++)if(t[i[r]]!==e[i[r]])return!1;return!0},_compareByKey:function(t,e,i){var n=En.unwrap,r=Qt(n(t[i]),t),o=Qt(n(e[i]),e);return this._compareValues(r,o)},_compareValues:function(t,e){return Cn(t,!0)===Cn(e,!0)},_initDynamicTemplates:W,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr"),e=Se(t)&&t!=="this"||ce(t);return e?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),Ah=uIe;var n9=Le(),cIe=".dx-list-item",hIe="dxListItemData",pIe="dx-dropdownlist-popup-wrapper",fIe="input",gIe=["startswith","contains","endwith","notcontains"],r9=be.real().platform!=="android",o9=sO.inherit({_supportedKeys:function(){var t=this.callBase();return y({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var i=g(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}t.tab.apply(this,arguments)},space:W,home:W,end:W})},_allowSelectItemByTab:function(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return y(this.callBase(),y(Ah._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:j.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:W,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),y(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new wu("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,i){return t>i?e:t<e?i:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items()),e=new hn(t).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(t){var e=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1);return e[i]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),i=-1;return F(t,(function(n,r){if(this._isValueEquals(r,e))return i=n,!1}).bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();S.off(t,"mouseup"),S.on(t,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&g(t);if(e&&e.length&&!fi(e.get(0))){var i=[].slice.call(e.parents());i.unshift(e.get(0)),F(i,(function(n,r){if(r===g("body").get(0))return!1;if(n9.getComputedStyle(r).overflowY==="hidden")return this._$customBoundaryContainer=g(r),!1}).bind(this))}},_popupWrapperClass:function(){return pIe},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var i,n;return e&&typeof t!="object"&&(e.itemByValue||(e.itemByValue={},i=this._getPlainItems(),i.forEach(function(r){e.itemByValue[this._valueGetter(r)]=r},this)),n=e.itemByValue[t]),n||(i=this._getPlainItems(),n=Sn(i,(function(r){return this._isValueEquals(this._valueGetter(r),t)}).bind(this))[0]),n},_loadItem:function(t,e){var i=this._getItemFromPlain(t,e);return i!==void 0?new H().resolve(i).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},_updateActiveDescendant(t){var e,i=this.option("opened"),n=(e=this._list)===null||e===void 0?void 0:e.getFocusedItemId(),r=g("#".concat(n)).length>0,o=i&&r&&n;this.setAria({activedescendant:o||null},t)},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",Qt(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each((function(e,i){var n=g(i),r=this._valueGetter(n.data(hIe)),o=this._isSelectedValue(r,t);o?this._list.selectItem(n):this._list.unselectItem(n)}).bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if(!gIe.includes(e))throw Ke.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail((function(){this._isCustomValueAllowed()||this._clearSelectedItem()}).bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},clear:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(cIe):g()},_popupConfig:function(){return y(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_renderList:function(){this._listId="dx-"+new kt()._value;var t=g("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=t,this._list=this._createComponent(t,As,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=ne("mousedown","dxDropDownList");S.off(this._$list,t),S.on(this._$list,t,e=>e.preventDefault())},_getControlsAria(){return this._list&&this._listId},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var t=!!this._list.option("dataSource");return t!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return be.real().deviceType==="desktop"},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:W,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource:function(){var t=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!t&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return ne(fIe,this.NAME+"Search")},_getCompositionStartEvent:function(){return ne("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return ne("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return ne("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),S.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(S.on(this._input(),this._getSearchEvent(),t=>{this._searchHandler(t)}),r9&&(S.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),S.on(this._input(),this._getCompositionEndEvent(),t=>{this._isTextCompositionInProgress(void 0),this._searchHandler(t,this._searchValue())})))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){S.off(this._input(),this._getSearchEvent()),S.off(this._input(),this._getSetFocusPolicyEvent()),r9&&(S.off(this._input(),this._getCompositionStartEvent()),S.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(arguments.length)this._isTextComposition=t;else return this._isTextComposition},_searchHandler:function(t,e){if(!this._isTextCompositionInProgress()){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(e)},i)):this._searchDataSource(e)}},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataController;e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t))},_clearFilter:function(){var t=this._dataController;t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!(this.option("readOnly")||!this._searchValue())){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&(this._updatePopupWidth(),this._updateListDimensions()))}},_dataSourceChangedHandler:function(t){this._dataController.pageIndex()===0?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=this._dataController,e=t.items()||[],i=e.length,n=this._needPassDataSourceToList();return!!(n&&i)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._updatePopupWidth(),this._updateListDimensions()},_dimensionChanged:function(){this.callBase(),this._updateListDimensions()},_needPopupRepaint:function(){var t=this._dataController,e=t.pageIndex(),i=O(this._pageIndex)&&e<=this._pageIndex||t.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,i},_updateListDimensions:function(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,i=t.offset().top-(e?e.offset().top:0),n=et(n9),r=e?Math.min(et(e),n):n,o=Math.max(i,r-i-et(t));return Math.min(.5*r,o)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return this.option("valueExpr")==="this"&&ke(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(Ah,mD);Be("dxDropDownList",o9);var s9=o9;var Ig=new Dt("");var mIe=new Dt(""),vIe=new Dt("");function c9(t){return t!=null}function h9(t){return Gc(t)?_n(t):t}function p9(t){let e={};return t.forEach(i=>{e=i!=null?ht(ht({},e),i):e}),Object.keys(e).length===0?null:e}function f9(t,e){return e.map(i=>i(t))}function _Ie(t){return!t.validate}function g9(t){return t.map(e=>_Ie(e)?e:i=>e.validate(i))}function CIe(t){if(!t)return null;let e=t.filter(c9);return e.length==0?null:function(i){return p9(f9(i,e))}}function zk(t){return t!=null?CIe(g9(t)):null}function xIe(t){if(!t)return null;let e=t.filter(c9);return e.length==0?null:function(i){let n=f9(i,e).map(h9);return fw(n).pipe(Ut(p9))}}function Wk(t){return t!=null?xIe(g9(t)):null}function a9(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function yIe(t){return t._rawValidators}function bIe(t){return t._rawAsyncValidators}function Lk(t){return t?Array.isArray(t)?t:[t]:[]}function lO(t,e){return Array.isArray(t)?t.includes(e):t===e}function l9(t,e){let i=Lk(e);return Lk(t).forEach(r=>{lO(i,r)||i.push(r)}),i}function d9(t,e){return Lk(e).filter(i=>!lO(t,i))}var Bk=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},W_=class extends Bk{get formDirective(){return null}get path(){return null}};var Vk=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},DIe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fSt=nn(ht({},DIe),{"[class.ng-submitted]":"isSubmitted"});var m9=(()=>{let e=class e extends Vk{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(oe(W_,10))},e.\u0275dir=ia({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&pT("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Pt]});let t=e;return t})();var V_="VALID",aO="INVALID",wg="PENDING",H_="DISABLED";function OIe(t){return(jk(t)?t.validators:t)||null}function EIe(t){return Array.isArray(t)?zk(t):t||null}function SIe(t,e){return(jk(e)?e.asyncValidators:t)||null}function wIe(t){return Array.isArray(t)?Wk(t):t||null}function jk(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function IIe(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new bt(1e3,"");if(!n[i])throw new bt(1001,"")}function TIe(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new bt(1002,"")})}var Hk=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===V_}get invalid(){return this.status===aO}get pending(){return this.status==wg}get disabled(){return this.status===H_}get enabled(){return this.status!==H_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(l9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(l9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(d9(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(d9(e,this._rawAsyncValidators))}hasValidator(e){return lO(this._rawValidators,e)}hasAsyncValidator(e){return lO(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wg,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=H_,this.errors=null,this._forEachChild(n=>{n.disable(nn(ht({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(nn(ht({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=V_,this._forEachChild(n=>{n.enable(nn(ht({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(nn(ht({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===V_||this.status===wg)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?H_:V_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wg,this._hasOwnPendingAsyncValidator=!0;let i=h9(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Vi,this.statusChanges=new Vi}_calculateStatus(){return this._allControlsDisabled()?H_:this.errors?aO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wg)?wg:this._anyControlsHaveStatus(aO)?aO:V_}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jk(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=EIe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wIe(this._rawAsyncValidators)}},dO=class extends Hk{constructor(e,i,n){super(OIe(i),SIe(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){TIe(this,!0,e),Object.keys(e).forEach(n=>{IIe(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var v9=new Dt("CallSetDisabledState",{providedIn:"root",factory:()=>$k}),$k="always";function MIe(t,e,i=$k){_9(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),RIe(t,e),PIe(t,e),FIe(t,e),AIe(t,e)}function u9(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function AIe(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function _9(t,e){let i=yIe(t);e.validator!==null?t.setValidators(a9(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=bIe(t);e.asyncValidator!==null?t.setAsyncValidators(a9(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();u9(e._rawValidators,r),u9(e._rawAsyncValidators,r)}function RIe(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&C9(t,e)})}function FIe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&C9(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function C9(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PIe(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function kIe(t,e){t==null,_9(t,e)}function NIe(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}var LIe={provide:W_,useExisting:Wa(()=>Gk)},z_=Promise.resolve(),Gk=(()=>{let e=class e extends W_{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Vi,this.form=new dO({},zk(n),Wk(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){z_.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),MIe(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){z_.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){z_.then(()=>{let r=this._findContainer(n.path),o=new dO({});kIe(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){z_.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){z_.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,NIe(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(r){return new(r||e)(oe(mIe,10),oe(vIe,10),oe(v9,8))},e.\u0275dir=ia({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Nn("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Va.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[oi([LIe]),Pt]});let t=e;return t})();var x9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ia({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var BIe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({});let t=e;return t})();var y9=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:v9,useValue:n.callSetDisabledState??$k}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[BIe]});let t=e;return t})();var HIe={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function j_(t){return HIe[t]}var G_=7,b9=4,D9=7,O9=52,$_=["millisecond","second","minute","hour","day","week","month","quarter","year"],zIe=function(t,e,i){var n=e.getTime()-t.getTime(),r=j_(i)||1;return Math.floor(n/r)},WIe=function(t,e){var i=hO(t);switch(i){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},w9=function(t){var e,i,n,r=["millisecond","second","minute","hour","day","month","year"],o={};for(e=r.length-1;e>=0;e--)n=r[e],i=Math.floor(t/j_(n)),i>0&&(o[n+"s"]=i,t-=uO(n,i));return o},jIe=function(t){var e=0;return ke(t)&&F(t,function(i,n){e+=uO(i.substr(0,i.length-1),n)}),Se(t)&&(e=uO(t,1)),e};function uO(t,e){return j_(t)*e}function hO(t){var e=-1,i;return Se(t)?t:ke(t)?(F(t,function(n,r){for(i=0;i<$_.length;i++)r&&(n===$_[i]+"s"||n===$_[i])&&e<i&&(e=i)}),$_[e]):""}var $Ie={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function GIe(t){return $Ie[hO(t)]||""}var I9=function(t){return Math.floor(t/3)},T9=function(t){return 3*I9(t)};function M9(t,e,i,n){t=new Date(t.getTime());var r=new Date(t.getTime()),o,s,a=hO(e);switch(a){case"second":t=new Date(1e3*Math.floor(r.getTime()/1e3));break;case"minute":t=new Date(6e4*Math.floor(r.getTime()/6e4));break;case"hour":t=new Date(36e5*Math.floor(r.getTime()/36e5));break;case"year":t.setMonth(0);case"month":t.setDate(1);case"day":t.setHours(0,0,0,0);break;case"week":t=N9(t,n||0),t.setHours(0,0,0,0);break;case"quarter":o=T9(t.getMonth()),s=t.getMonth(),t.setDate(1),t.setHours(0,0,0,0),s!==o&&t.setMonth(o)}return i&&a!=="hour"&&a!=="minute"&&a!=="second"&&V9(r,t),t}function A9(t){return M9(t,"day")}var UIe=function(t){var e=A9(t);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},KIe=function(t,e){var i=0,n={year:t.getFullYear()!==e.getFullYear(),month:t.getMonth()!==e.getMonth(),day:t.getDate()!==e.getDate(),hour:t.getHours()!==e.getHours(),minute:t.getMinutes()!==e.getMinutes(),second:t.getSeconds()!==e.getSeconds(),millisecond:t.getMilliseconds()!==e.getMilliseconds()};return F(n,function(r,o){o&&i++}),i===0&&H9(t,e)!==0&&(n.hour=!0,i++),n.count=i,n};function R9(t,e,i){var n=new Date(t.getTime()),r=Se(e)?P9(e.toLowerCase()):It(e)?w9(e):e;return r.years&&n.setFullYear(n.getFullYear()+r.years*i),r.quarters&&n.setMonth(n.getMonth()+3*r.quarters*i),r.months&&n.setMonth(n.getMonth()+r.months*i),r.weeks&&n.setDate(n.getDate()+7*r.weeks*i),r.days&&n.setDate(n.getDate()+r.days*i),r.hours&&n.setTime(n.getTime()+36e5*r.hours*i),r.minutes&&n.setTime(n.getTime()+6e4*r.minutes*i),r.seconds&&n.setTime(n.getTime()+1e3*r.seconds*i),r.milliseconds&&n.setTime(n.getTime()+r.milliseconds*i),n}var F9=function(t,e,i){var n=i?-1:1;return Dn(t)?R9(t,e,n):Ov(t+e*n,e)},qIe=function(t,e,i){var n=[],r;for(n.push(Dn(t)?new Date(t.getTime()):t),r=t;r<e;)r=F9(r,i),n.push(r);return n},JIe=function(t,e){if(t==="month")return is(e.getFullYear(),e.getMonth(),1);if(t==="year")return is(e.getFullYear(),0,e.getDate());if(t==="decade")return is(K_(e),e.getMonth(),e.getDate());if(t==="century")return is(U_(e),e.getMonth(),e.getDate())},YIe=function(t,e){if(t==="month")return is(e.getFullYear(),e.getMonth(),cO(e));if(t==="year")return is(e.getFullYear(),11,e.getDate());if(t==="decade")return is(K_(e)+9,e.getMonth(),e.getDate());if(t==="century")return is(U_(e)+90,e.getMonth(),e.getDate())},XIe=function(t,e){var i=is(e.getFullYear(),e.getMonth(),1);return t==="month"||(i.setMonth(0),t==="year")||(t==="decade"&&i.setFullYear(K_(e)),t==="century"&&i.setFullYear(U_(e))),i},QIe=function(t,e){var i=new Date(e);return i.setDate(cO(e)),t==="month"||(i.setMonth(11),i.setDate(cO(i)),t==="year")||(t==="decade"&&i.setFullYear(K_(e)+9),t==="century"&&i.setFullYear(U_(e)+99)),i};function cO(t){var e=is(t.getFullYear(),t.getMonth()+1,0);return e.getDate()}var ZIe=function(t){switch(t){case"month":return"year";case"year":return"decade";case"decade":return"century"}},eTe=function(t){switch(t){case"century":return"decade";case"decade":return"year";case"year":return"month"}},tTe=function(t){var e=1;return t==="year"&&(e=12),t==="decade"&&(e=120),t==="century"&&(e=1200),e},iTe=function(t){var e=1;return t==="decade"&&(e=12),t==="century"&&(e=120),e};function P9(t){var e={};switch(t){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function nTe(t,e){return Kk(t,e)&&t.getDate()===e.getDate()}function Kk(t,e){return k9(t,e)&&t.getMonth()===e.getMonth()}function k9(t,e){return t&&e&&t.getFullYear()===e.getFullYear()}function rTe(t,e){return t&&e&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()}var oTe=function(t,e){if(!(!O(t)||!O(e))){var i=t.getFullYear()-t.getFullYear()%10,n=e.getFullYear()-e.getFullYear()%10;return t&&e&&i===n}},sTe=function(t,e){if(!(!O(t)||!O(e))){var i=t.getFullYear()-t.getFullYear()%100,n=e.getFullYear()-e.getFullYear()%100;return t&&e&&i===n}};function U_(t){return t&&t.getFullYear()-t.getFullYear()%100}function K_(t){return t&&t.getFullYear()-t.getFullYear()%10}var aTe=function(){return"yyyy/MM/dd"},lTe=function(t){if(O(t))return is(t.getFullYear(),t.getMonth(),1)},dTe=function(t){if(O(t))return is(t.getFullYear(),t.getMonth()+1,0)};function N9(t,e){var i=(t.getDay()-e+G_)%G_,n=new Date(t);return n.setDate(t.getDate()-i),n}function E9(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())}function uTe(t){var e=E9(t)-E9(L9(t.getFullYear()));return 1+Math.floor(e/j_("day"))}function L9(t){return new Date(t,0,1)}function Uk(t){return new Date(t,11,31)}function S9(t,e){var i=t.getDay()-e+1;return i<=0&&(i+=G_),i}function qk(t,e,i){var n=S9(L9(t.getFullYear()),e),r=S9(Uk(t.getFullYear()),e),o=G_-n+1,s=Math.ceil((uTe(t)-o)/7);switch(i){case"fullWeek":if(o===G_&&s++,s===0){var a=Uk(t.getFullYear()-1);return qk(a,e,i)}return s;case"firstDay":o>0&&s++;var l=n===D9||r===D9;return(s>O9&&!l||s===54)&&(s=1),s;case"firstFourDays":o>3&&s++;var d=n===b9||r===b9;if(s>O9&&!d&&(s=1),s===0){var u=Uk(t.getFullYear()-1);return qk(u,e,i)}return s}}var cTe=function(t,e){var i=Rh.getDatesInterval(t,e,"day"),n=new Date(t);return i>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},hTe=function(t,e,i,n){return n==="date"&&(e=e&&Rh.correctDateWithUnitBeginning(e,"day"),i=i&&Rh.correctDateWithUnitBeginning(i,"day"),t=t&&Rh.correctDateWithUnitBeginning(t,"day")),B9(t,e,i)===t},pTe=function(t){var{firstMin:e,firstMax:i,secondMin:n,secondMax:r}=t;return e<=n&&n<=i||e>n&&e<r||e<r&&i>r},fTe=function(t){var e=Math.floor(t),i=t%1*60;return{hours:e,minutes:i}},gTe=function(t,e){var i=this.dateTimeFromDecimal(e),n=new Date(t);return(t.getHours()===i.hours&&t.getMinutes()<i.minutes||t.getHours()<i.hours)&&n.setHours(i.hours,i.minutes,0,0),n};function B9(t,e,i){var n=t;return O(t)?(O(e)&&t<e&&(n=e),O(i)&&t>i&&(n=i),n):t}function V9(t,e){if(O(t)){var i=e.getHours()-t.getHours();if(i!==0){var n=i===1||i===-23?-1:1,r=new Date(e.getTime()+36e5*n);(n>0||r.getDate()===e.getDate())&&e.setTime(r.getTime())}}}var mTe=function(t){var e=new Date(t.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e};function H9(t,e){return 60*(e.getTimezoneOffset()-t.getTimezoneOffset())*1e3}var vTe=function(t){return new Date(t)},_Te=function(t,e,i){for(var n=[],r=new Date(t.getTime());r<e;)n.push(new Date(r.getTime())),r=this.addInterval(r,i);return n},is=function(t){var e=new Date(...arguments);return e.setFullYear(t),e},CTe=()=>{var t=typeof Intl<"u";return t?Intl.DateTimeFormat().resolvedOptions().timeZone:null},Rh={dateUnitIntervals:$_,convertMillisecondsToDateUnits:w9,dateToMilliseconds:jIe,getNextDateUnit:WIe,convertDateUnitToMilliseconds:uO,getDateUnitInterval:hO,getDateFormatByTickInterval:GIe,getDatesDifferences:KIe,correctDateWithUnitBeginning:M9,trimTime:A9,setToDayEnd:UIe,roundDateByStartDayHour:gTe,dateTimeFromDecimal:fTe,addDateInterval:R9,addInterval:F9,getSequenceByInterval:qIe,getDateIntervalByString:P9,sameHoursAndMinutes:rTe,sameDate:nTe,sameMonthAndYear:Kk,sameMonth:Kk,sameYear:k9,sameDecade:oTe,sameCentury:sTe,getDifferenceInMonth:tTe,getDifferenceInMonthForCells:iTe,getFirstYearInDecade:K_,getFirstDecadeInCentury:U_,getShortDateFormat:aTe,getViewFirstCellDate:JIe,getViewLastCellDate:YIe,getViewDown:eTe,getViewUp:ZIe,getLastMonthDay:cO,getLastMonthDate:dTe,getFirstMonthDate:lTe,getFirstWeekDate:N9,getWeekNumber:qk,normalizeDateByWeek:cTe,getQuarter:I9,getFirstQuarterMonth:T9,dateInRange:hTe,intervalsOverlap:pTe,roundToHour:mTe,normalizeDate:B9,getViewMinBoundaryDate:XIe,getViewMaxBoundaryDate:QIe,fixTimezoneGap:V9,getTimezonesDifference:H9,makeDate:vTe,getDatesInterval:zIe,getDatesOfInterval:_Te,createDateWithFullYear:is,getMachineTimezoneName:CTe};Rh.sameView=function(t,e,i){return Rh[ho("same "+t)](e,i)};var ze=Rh;var z9={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},Jk=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),Number((parseInt(t[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Number((parseInt(t[4]+t[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var e=parseInt(t[1],10),i=parseInt(t[2],10),n=parseInt(t[3],10),r=W9(e,i,n);return[r[0],r[1],r[2],1,[e,i,n]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var e=parseInt(t[1],10),i=parseInt(t[2],10),n=parseInt(t[3],10),r=j9(e,i,n);return[r[0],r[1],r[2],1,null,[e,i,n]]}}],Dd=Math.round;function Ku(t){this.baseColor=t;var e;t&&(e=String(t).toLowerCase().replace(/ /g,""),e=z9[e]?"#"+z9[e]:e,e=xTe(e)),e||(this.colorIsInvalid=!0),e=e||{},this.r=ml(e[0]),this.g=ml(e[1]),this.b=ml(e[2]),this.a=ml(e[3],1,1),e[4]?this.hsv={h:e[4][0],s:e[4][1],v:e[4][2]}:this.hsv=bTe(this.r,this.g,this.b),e[5]?this.hsl={h:e[5][0],s:e[5][1],l:e[5][2]}:this.hsl=OTe(this.r,this.g,this.b)}function xTe(t){if(t==="transparent")return[0,0,0,0];for(var e=0,i=Jk.length,n;e<i;++e)if(n=Jk[e].re.exec(t),n)return Jk[e].process(n);return null}function ml(t,e,i){return e=e||0,i=i||255,t<0||isNaN(t)?e:t>i?i:t}function yTe(t,e,i){return"#"+(16777216|t<<16|e<<8|i).toString(16).slice(1)}function bTe(t,e,i){var n=Math.max(t,e,i),r=Math.min(t,e,i),o=n-r,s,a,l=n;if(a=n===0?0:1-r/n,n===r)s=0;else switch(n){case t:s=(e-i)/o*60,e<i&&(s+=360);break;case e:s=(i-t)/o*60+120;break;case i:s=(t-e)/o*60+240}return a*=100,l*=100/255,{h:Math.round(s),s:Math.round(a),v:Math.round(l)}}function W9(t,e,i){var n=Math.floor(t%360/60),r=(100-e)*i/100,o=t%60/60*(i-r),s=r+o,a=i-o,l,d,u;switch(n){case 0:l=i,d=s,u=r;break;case 1:l=a,d=i,u=r;break;case 2:l=r,d=i,u=s;break;case 3:l=r,d=a,u=i;break;case 4:l=s,d=r,u=i;break;case 5:l=i,d=r,u=a}return[Math.round(2.55*l),Math.round(2.55*d),Math.round(2.55*u)]}function DTe(t,e,i,n){var r=Math.max(t,e,i);switch(r){case t:return(e-i)/n+(e<i?6:0);case e:return(i-t)/n+2;case i:return(t-e)/n+4}}function OTe(t,e,i){t=Tg(t,255),e=Tg(e,255),i=Tg(i,255);var n=Math.max(t,e,i),r=Math.min(t,e,i),o=n+r,s,a,l=o/2;if(n===r)s=a=0;else{var d=n-r;l>.5?a=d/(2-o):a=d/o,s=DTe(t,e,i,d),s/=6}return{h:Dd(360*s),s:Dd(100*a),l:Dd(100*l)}}function Yk(t,e){var i=e;return t==="r"&&(i=e+1/3),t==="b"&&(i=e-1/3),i}function ETe(t){return t<0&&(t+=1),t>1&&(t-=1),t}function Xk(t,e,i){return i=ETe(i),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function j9(t,e,i){var n,r,o;if(t=Tg(t,360),e=Tg(e,100),i=Tg(i,100),e===0)n=r=o=i;else{var s=i<.5?i*(1+e):i+e-i*e,a=2*i-s;n=Xk(a,s,Yk("r",t)),r=Xk(a,s,Yk("g",t)),o=Xk(a,s,Yk("b",t))}return[Dd(255*n),Dd(255*r),Dd(255*o)]}function Tg(t,e){return t=Math.min(e,Math.max(0,parseFloat(t))),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Qk(t,e,i){return e=e||0,i=i||255,!(t%1!==0||t<e||t>i||typeof t!="number"||isNaN(t))}Ku.prototype={constructor:Ku,highlight:function(t){return t=t||10,this.alter(t).toHex()},darken:function(t){return t=t||10,this.alter(-t).toHex()},alter:function(t){var e=new Ku;return e.r=ml(this.r+t),e.g=ml(this.g+t),e.b=ml(this.b+t),e},blend:function(t,e){var i=t instanceof Ku?t:new Ku(t),n=new Ku;return n.r=ml(Dd(this.r*(1-e)+i.r*e)),n.g=ml(Dd(this.g*(1-e)+i.g*e)),n.b=ml(Dd(this.b*(1-e)+i.b*e)),n},toHex:function(){return yTe(this.r,this.g,this.b)},getPureColor:function(){var t=W9(this.hsv.h,100,100);return new Ku("rgb("+t.join(",")+")")},isValidHex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},isValidRGB:function(t,e,i){return!(!Qk(t)||!Qk(e)||!Qk(i))},isValidAlpha:function(t){return!(isNaN(t)||t<0||t>1||typeof t!="number")},colorIsInvalid:!1,fromHSL:function(t){var e=new Ku,i=j9(t.h,t.s,t.l);return e.r=i[0],e.g=i[1],e.b=i[2],e}};var{PI:STe,LN10:PSt,abs:kSt,log:NSt,floor:LSt,ceil:BSt,pow:VSt,sqrt:HSt,atan2:zSt}=Math;var WSt=ze.dateToMilliseconds;var jSt=STe/180;function Ps(t,e){for(;t.length<e;)t="0"+t;return t}var q_={3:"abbreviated",4:"wide",5:"narrow"},Zk={y:function(t,e,i){var n=t[i?"getUTCFullYear":"getFullYear"]();return e===2&&(n%=100),Ps(n.toString(),e)},M:function(t,e,i,n){var r=t[i?"getUTCMonth":"getMonth"](),o=q_[e];return o?n.getMonthNames(o,"format")[r]:Ps((r+1).toString(),Math.min(e,2))},L:function(t,e,i,n){var r=t[i?"getUTCMonth":"getMonth"](),o=q_[e];return o?n.getMonthNames(o,"standalone")[r]:Ps((r+1).toString(),Math.min(e,2))},Q:function(t,e,i,n){var r=t[i?"getUTCMonth":"getMonth"](),o=Math.floor(r/3),s=q_[e];return s?n.getQuarterNames(s)[o]:Ps((o+1).toString(),Math.min(e,2))},E:function(t,e,i,n){var r=t[i?"getUTCDay":"getDay"](),o=q_[e<3?3:e];return n.getDayNames(o)[r]},a:function(t,e,i,n){var r=t[i?"getUTCHours":"getHours"](),o=r<12?0:1,s=q_[e];return n.getPeriodNames(s)[o]},d:function(t,e,i){return Ps(t[i?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(t,e,i){return Ps(t[i?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(t,e,i){var n=t[i?"getUTCHours":"getHours"]();return Ps((n%12||12).toString(),Math.min(e,2))},m:function(t,e,i){return Ps(t[i?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(t,e,i){return Ps(t[i?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(t,e,i){return Ps(t[i?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(t,e,i){var n=i?0:t.getTimezoneOffset(),r=n>0?"-":"+",o=Math.abs(n),s=Math.floor(o/60),a=o%60,l=Ps(s.toString(),2),d=Ps(a.toString(),2);return r+l+(e>=3?":":"")+(e>1||a?d:"")},X:function(t,e,i){return i||!t.getTimezoneOffset()?"Z":Zk.x(t,e,i)},Z:function(t,e,i){return Zk.X(t,e>=5?3:2,i)}},pO=function(t,e){return function(i){var n,r,o,s=0,a=!1,l,d="";if(!i)return null;if(!t)return i;var u=t[t.length-1]==="Z"||t.slice(-3)==="'Z'";for(n=0;n<t.length;n++)o=t[n],r=Zk[o],l=o===t[n+1],s++,l||(r&&!a&&(d+=r(i,s,u,e)),s=0),o==="'"&&!l?a=!a:(a||!r)&&(d+=o),o==="'"&&l&&n++;return d}};var wTe=["January","February","March","April","May","June","July","August","September","October","November","December"],ITe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],TTe=["AM","PM"],MTe=["Q1","Q2","Q3","Q4"],$9=(t,e)=>{var i={abbreviated:3,short:2,narrow:1};return gi(t,n=>n.substr(0,i[e]))},Od={getMonthNames:function(t){return $9(wTe,t)},getDayNames:function(t){return $9(ITe,t)},getQuarterNames:function(t){return MTe},getPeriodNames:function(t){return TTe}};var U9="number",K9="yyyy/MM/dd",ATe="yyyy/MM/dd HH:mm:ss",q9=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,J9=/^(\d{2}):(\d{2})(:(\d{2}))?$/,G9=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],RTe=/^(\d{4})\/(\d{2})\/(\d{2})$/,FTe=3,Y9=function(t,e){var i;return Se(t)&&!e&&(i=kTe(t)),i||PTe(t)};function to(t){return+t||0}function PTe(t){var e=X9(t)===K9,i=!Dn(t)&&Date.parse(t);if(!i&&e){var n=t.match(RTe);if(n){var r=new Date(to(n[1]),to(n[2]),to(n[3]));return r.setFullYear(to(n[1])),r.setMonth(to(n[2])-1),r.setDate(to(n[3])),r}}return It(i)?new Date(i):t}function kTe(t){var e=t.match(q9);if(!e)return e=t.match(J9),e?new Date(0,0,0,to(e[1]),to(e[2]),to(e[4])):void 0;var i=to(e[1]),n=--e[3],r=e[5],o=0,s=0,a=p=>(i<100&&p.setFullYear(i),p);o=to(e[14]),s=to(e[16]),e[13]==="-"&&(o=-o,s=-s);var l=to(e[6])-o,d=to(e[8])-s,u=to(e[10]),h=function(p){return p=p||"",to(p)*Math.pow(10,FTe-p.length)}(e[11]);return e[12]?a(new Date(Date.UTC(i,n,r,l,d,u,h))):a(new Date(i,n,r,l,d,u,h))}var NTe=function(t,e){var i=t.match(q9),n="";if(!i)return i=t.match(J9),i?i[3]?"HH:mm:ss":"HH:mm":void 0;for(var r=1;r<G9.length;r++)i[r]&&(n+=G9[r]||i[r]);return i[12]==="Z"&&(n+="'Z'"),i[14]&&(i[15]?n+="xxx":i[16]?n+="xx":n+="x"),n},LTe=function(t){return typeof t=="number"?new Date(t):Y9(t,!_t().forceIsoDateParsing)},BTe=function(t,e){return e?Dn(t)?e===U9?t&&t.valueOf?t.valueOf():null:pO(e,Od)(t):null:t},X9=function(t){if(typeof t=="number")return U9;if(Se(t)){var e;return _t().forceIsoDateParsing&&(e=NTe(t)),e||(t.indexOf(":")>=0?ATe:K9)}else if(t)return null},Gi={dateParser:Y9,deserializeDate:LTe,serializeDate:BTe,getDateSerializationFormat:X9};var VTe="\u060C",Z9=" .,:;/\\<>()-[]"+VTe,HTe=". m.",qu=function(t){var e=t&&ei.convertDigits(t,!1).charCodeAt(0),i=ei.convertDigits("0",!1).charCodeAt(0);return i<=e&&e<i+10},zTe=function(t,e,i,n){var r=t[i],o=t[i+1];if(!n&&(r==="."||r===" "&&t.slice(i-1,i+3)===HTe||r==="-"&&!qu(o)))return!0;var s=n&&e.some(a=>t[i]!==a[i]);return Z9.indexOf(r)<0&&n===qu(r)&&(!n||s)},WTe=function(t,e){if(!qu(t[e]))for(;e>0&&!qu(t[e-1])&&(t[e-1]==="."||Z9.indexOf(t[e-1])<0);)e--;return e},jTe=function(t,e,i,n){var r=0,o=[],s=function(a){return t[r]!==a[r]&&(n===void 0||qu(t[r])===n)};for(Array.isArray(e)||(e=[e]),r=0;r<t.length;r++)if(i.indexOf(r)<0&&e.filter(s).length){r=WTe(t,r);do{if(n=qu(t[r]),!o.length&&!n&&qu(e[0][r]))break;o.push(r),i.unshift(r),r++}while(t[r]&&zTe(t,e,r,n));break}return o.length===1&&(t[i[0]-1]==="0"||t[i[0]-1]==="\u0660")&&i.unshift(i[0]-1),o},$Te=function(t,e,i,n){var r=e[0],o=r<n.length?n[r]:r;return e.forEach(function(s,a){t=t.substr(0,o+a)+(i.length>1?i[a]:i)+t.substr(o+a+1)}),e.length===1&&(t=t.replace("0"+i,i+i),t=t.replace("\u0660"+i,i+i)),t},GTe=function(t,e,i,n){var r,o,s;if(!qu(t[e[0]]||"0")){for(var a=Math.max(e.length<=3?3:4,i.length);e.length>a;){for(o=e.pop(),s=n[o],n[o]=-1,r=o+1;r<n.length;r++)n[r]--;t=t.substr(0,s)+t.substr(s+1)}for(o=e[e.length-1]+1,s=o<n.length?n[o]:o;e.length<a;){for(e.push(e[e.length-1]+1),r=o;r<n.length;r++)n[r]++;t=t.substr(0,s)+" "+t.substr(s)}}return t=$Te(t,e,i,n),t},Q9=function(t,e){return Array.isArray(t)?t.map(function(i){return(e(i)||"").toString()}):(e(t)||"").toString()},UTe=/[a-zA-Z]/g,KTe=function(t,e,i,n){var r=e.split("").map(function(o,s){return i.indexOf(s)<0&&(o.match(UTe)||o==="'")?n[s]:-1});return t=t.split("").map(function(o,s){var a=o,l=r.indexOf(s)>=0,d=s>0&&r.indexOf(s-1)>=0,u=r.indexOf(s+1)>=0;return l&&(d||(a="'"+a),u||(a+="'")),a}).join(""),t},fO=function(t){var e=[],i=Q9(new Date(2009,8,8,6,5,4),t),n=i.split("").map(function(a,l){return l}),r=i,o={},s=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(r&&(s.forEach(function(a){var l=jTe(i,Q9(a.date,t),e,a.isDigit),d=a.pattern==="M"&&!o.d?"L":a.pattern;r=GTe(r,l,d,n),o[d]=l.length}),r=KTe(r,i,e,n),e.length))return r};var Sd={3:"abbreviated",4:"wide",5:"narrow"},e7=function(t,e){return t>2?Object.keys(Sd).map(function(i){return["format","standalone"].map(function(n){return e.getMonthNames(Sd[i],n).join("|")}).join("|")}).join("|"):t===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},qTe={":":function(t,e){var i=t>1?"{".concat(t,"}"):"",n=fs(e.getTimeSeparator());return n!==":"&&(n="".concat(n,"|:")),"".concat(n).concat(i)},y:function(t){return t===2?"[0-9]{".concat(t,"}"):"[0-9]+?"},M:e7,L:e7,Q:function(t,e){return t>2?e.getQuarterNames(Sd[t],"format").join("|"):"0?[1-4]"},E:function(t,e){return"\\D*"},a:function(t,e){return e.getPeriodNames(Sd[t<3?3:t],"format").join("|")},d:function(t){return t===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(t){return t===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(t){return t===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(t){return"[0-9]{1,".concat(t,"}")},w:function(t){return t===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"}},Ed=Number,eN=function(t,e){return t.map(i=>i.toLowerCase()).indexOf(e.toLowerCase())},t7=function(t,e,i){return e>2?["format","standalone"].map(function(n){return Object.keys(Sd).map(function(r){var o=i.getMonthNames(Sd[r],n);return eN(o,t)})}).reduce(function(n,r){return n.concat(r)}).filter(function(n){return n>=0})[0]:Ed(t)-1},JTe={y:function(t,e){var i=Ed(t);return e===2?i<30?2e3+i:1900+i:i},M:t7,L:t7,Q:function(t,e,i){return e>2?i.getQuarterNames(Sd[e],"format").indexOf(t):Ed(t)-1},E:function(t,e,i){var n=i.getDayNames(Sd[e<3?3:e],"format");return eN(n,t)},a:function(t,e,i){var n=i.getPeriodNames(Sd[e<3?3:e],"format");return eN(n,t)},d:Ed,H:Ed,h:Ed,m:Ed,s:Ed,S:function(t,e){for(e=Math.max(e,3),t=t.slice(0,3);e<3;)t+="0",e++;return Ed(t)}},gO=["y","M","d","h","m","s","S"],tN={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(t,e,i){var n=t.getHours(),r=i.h;r!==void 0&&r!==n&&n--,!e&&n===12?n=0:e&&n!==12&&(n+=12),t.setHours(n)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},YTe=function(t,e){var i=t[e];if(!i)return 0;var n=0;do e++,n++;while(t[e]===i);return n},XTe=function(t,e){for(var i="",n=0;n<e;n++)i+=t;return i},iN=function(t,e){for(var i="",n="",r,o=[],s=function(){n&&(o.push("'".concat(n,"'")),i+="".concat(fs(n),")"),n="")},a=0;a<t.length;a++){var l=t[a],d=l==="'",u=qTe[l];if(!(d&&(r=!r,t[a-1]!=="'")))if(u&&!r){var h=YTe(t,a),p=XTe(l,h);s(),o.push(p),i+="(".concat(u(h,e),")"),a+=h-1}else n||(i+="("),n+=l}return s(),ZTe(o)||fu.warn("The following format may be parsed incorrectly: ".concat(t,".")),{patterns:o,regexp:new RegExp("^".concat(i,"$"),"i")}},QTe=["d","H","h","m","s","w","M","L","Q"],ZTe=function(t){var e=r=>{if(!r)return!1;var o=r[0];return["y","S"].includes(o)||QTe.includes(o)&&r.length<3},i=!0,n=0;return t.every((r,o,s)=>(e(r)&&((a=>a[0]!=="S"&&a.length!==2)(r)&&(i=++n<2),e(s[o+1])||(n=0)),i))},i7=function(){return tN},eMe=function(t,e,i,n,r){var o=e[0],s=tN[o],a=JTe[o];if(s&&a){var l=a(i,e.length,n);r[e]=l,t[s]?t[s](l):s(t,l,r)}},tMe=function(t,e,i){var n=tN[e],r="g"+n.substr(1),o=i[r]();t[n](o)},iMe=function(t){return t.map(function(e){return e[0]==="'"?"":e[0]==="H"?"h":e[0]})},nMe=function(t){var e=t.map(function(i){return gO.indexOf(i)});return Math.max.apply(Math,e)},rMe=function(t){var e=t.filter(function(i){return gO.indexOf(i)<0});return gO.concat(e)},n7=function(t,e){var i=iN(t,e);return function(n){var r=i.regexp.exec(n);if(r){var o=new Date,s=new Date(o.getFullYear(),0,1),a=iMe(i.patterns),l=nMe(a),d=rMe(a),u={};return d.forEach(function(h,p){if(!(!h||p<gO.length&&p>l)){var m=a.indexOf(h);if(m>=0){var c=i.patterns[m],x=r[m+1];eMe(s,c,x,e,u)}else tMe(s,h,o)}}),s}return null}};var r7={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var oMe=/[\u200E\u200F]/g,sMe=/[\u202F]/g,Fh=t=>e=>{if(!t.timeZoneName){var i=e.getFullYear(),n=String(i).length<3,r=n?i+400:i,o=new Date(Date.UTC(r,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));n&&o.setFullYear(i);var s=y({timeZone:"UTC"},t);return rN(o,s)}return rN(e,t)},nN={},aMe=t=>{var e=vr.locale()+"/"+JSON.stringify(t);return nN[e]||(nN[e]=new Intl.DateTimeFormat(vr.locale(),t).format),nN[e]};function rN(t,e){return aMe(e)(t).replace(oMe,"").replace(sMe," ")}var oN=t=>new Intl.NumberFormat(vr.locale()).format(t),lMe=(()=>{var t={};return e=>{if(!(e in t)){if(oN(0)==="0")return t[e]=!1,!1;t[e]={};for(var i=0;i<10;++i)t[e][oN(i)]=i}return t[e]}})(),mO=t=>{var e=lMe(vr.locale());return e?t.split("").map(i=>i in e?String(e[i]):i).join(""):t},o7=t=>t.replace(/(\D)0+(\d)/g,"$1$2"),dMe=(t,e)=>o7(t)===o7(e),sN=t=>t.replace("d\u2019","de "),aN={day:{day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(aN,"shortdateshorttime",{get:function(){var t=Intl.DateTimeFormat(vr.locale()).resolvedOptions();return{year:t.year,month:t.month,day:t.day,hour:"numeric",minute:"numeric"}}});var uMe=t=>typeof t=="string"&&aN[t.toLowerCase()],s7={standalone:function(t,e){var i=new Date(1999,t,13,1),n=Fh({month:e})(i);return n},format:function(t,e){var i=new Date(0,t,13,1),n=sN(Fh({day:"numeric",month:e})(i)),r=n.split(" ").filter(o=>o.indexOf("13")<0);return r.length===1?r[0]:r.length===2?r[0].length>r[1].length?r[0]:r[1]:s7.standalone(t,e)}},a7={engine:function(){return"intl"},getMonthNames:function(t,e){var i={wide:"long",abbreviated:"short",narrow:"narrow"}[t||"wide"];return e=e==="format"?e:"standalone",Array.apply(null,new Array(12)).map((n,r)=>s7[e](r,i))},getDayNames:function(t){var e=(i=>Array.apply(null,new Array(7)).map((n,r)=>Fh({weekday:i})(new Date(0,0,r))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[t||"wide"]);return e},getPeriodNames:function(){var t=Fh({hour:"numeric",hour12:!0});return[1,13].map(e=>{var i=oN(1),n=t(new Date(0,0,1,e)).split(i);if(n.length!==2)return"";var r=n[0].length>n[1].length?n[0]:n[1];return r.trim()})},format:function(t,e){if(t){if(!e)return t;typeof e!="function"&&!e.formatter&&(e=e.type||e);var i=uMe(e);if(i)return Fh(i)(t);var n=typeof e;return e.formatter||n==="function"||n==="string"?this.callBase.apply(this,arguments):Fh(e)(t)}},parse:function(t,e){var i;return e&&!e.parser&&typeof t=="string"&&(t=sN(t),i=n=>sN(this.format(n,e))),this.callBase(t,i||e)},_parseDateBySimpleFormat:function(t,e){t=mO(t);var i=this.getFormatParts(e),n=t.split(/\D+/).filter(s=>s.length>0);if(i.length===n.length){var r=this._generateDateArgs(i,n),o=s=>{var a=((l,d)=>{var u=d?12:0;return new Date(l.year,l.month,l.day,(l.hours+u)%24,l.minutes,l.seconds)})(r,s);if(dMe(mO(this.format(a,e)),t))return a};return o(!1)||o(!0)}},_generateDateArgs:function(t,e){var i=new Date,n={year:i.getFullYear(),month:i.getMonth(),day:i.getDate(),hours:0,minutes:0,seconds:0};return t.forEach((r,o)=>{var s=e[o],a=parseInt(s,10);r==="month"&&(a-=1),n[r]=a}),n},formatUsesMonthName:function(t){return typeof t=="object"&&!(t.type||t.format)?t.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(t){return typeof t=="object"&&!(t.type||t.format)?t.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return mO(rN(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(t){if(typeof t=="string")return this.callBase(t);var e=y({},aN[t.toLowerCase()]),i=new Date(2001,2,4,5,6,7),n=Fh(e)(i);return n=mO(n),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(r=>({name:r.name,index:n.indexOf(r.value)})).filter(r=>r.index>-1).sort((r,o)=>r.index-o.index).map(r=>r.name)}};var cMe=0,hMe=typeof Intl<"u",lN={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},pMe={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},l7=On({engine:function(){return"base"},_getPatternByFormat:function(t){return lN[t.toLowerCase()]},_expandPattern:function(t){return this._getPatternByFormat(t)||t},formatUsesMonthName:function(t){return this._expandPattern(t).indexOf("MMMM")!==-1},formatUsesDayName:function(t){return this._expandPattern(t).indexOf("EEEE")!==-1},getFormatParts:function(t){var e=this._getPatternByFormat(t)||t,i=[];return F(e.split(/\W+/),(n,r)=>{F(pMe,(o,s)=>{s.includes(r)&&i.push(o)})}),i},getMonthNames:function(t){return Od.getMonthNames(t)},getDayNames:function(t){return Od.getDayNames(t)},getQuarterNames:function(t){return Od.getQuarterNames(t)},getPeriodNames:function(t){return Od.getPeriodNames(t)},getTimeSeparator:function(){return":"},is24HourFormat:function(t){for(var e=new Date(2017,0,20,11,0,0,0),i=new Date(2017,0,20,23,0,0,0),n=this.format(e,t),r=this.format(i,t),o=0;o<n.length;o++)if(n[o]!==r[o])return!isNaN(parseInt(n[o]))},format:function(t,e){if(t){if(!e)return t;var i;if(typeof e=="function")i=e;else if(e.formatter)i=e.formatter;else if(e=e.type||e,Se(e))return e=lN[e.toLowerCase()]||e,ei.convertDigits(pO(e,this)(t));if(i)return i(t)}},parse:function(t,e){var i=this,n,r;if(t){if(!e)return this.parse(t,"shortdate");if(e.parser)return e.parser(t);if(typeof e=="string"&&!lN[e.toLowerCase()])n=e;else{r=s=>{var a=i.format(s,e);return ei.convertDigits(a,!0)};try{n=fO(r)}catch{}}if(n)return t=ei.convertDigits(t,!0),n7(n,this)(t);xt.log("W0012");var o=new Date(t);if(!(!o||isNaN(o.getTime())))return o}},firstDayOfWeekIndex:function(){var t=vr.getValueByClosestLocale(e=>r7[e]);return t===void 0?cMe:t}});hMe&&l7.inject(a7);var ft=l7;var vO=On({format:function(t,e){var i=Se(e)&&e!==""||Ve(e)||ce(e),n=It(t)||Dn(t);if(!i||!n)return O(t)?t.toString():"";if(ce(e))return e(t);if(Se(e)&&(e={type:e}),It(t))return ei.format(t,e);if(Dn(t))return ft.format(t,e)},getTimeFormat:function(t){return t?"longtime":"shorttime"},_normalizeFormat:function(t){return Array.isArray(t)?t.length===1?t[0]:function(e){return t.map(function(i){return ft.format(e,i)}).join(" ")}:t},getDateFormatByDifferences:function(t,e){var i=[],n=e&&t.millisecond&&!(t.year||t.month||t.day);return n?i.push(function(r){return r.getSeconds()+r.getMilliseconds()/1e3+"s"}):t.millisecond&&i.push("millisecond"),(t.hour||t.minute||!n&&t.second)&&i.unshift(this.getTimeFormat(t.second)),t.year&&t.month&&t.day?e&&e==="month"?"monthandyear":(i.unshift("shortdate"),this._normalizeFormat(i)):t.year&&t.month?"monthandyear":t.year&&t.quarter?"quarterandyear":t.year?"year":t.quarter?"quarter":t.month&&t.day?(e?i.unshift(function(r){return ft.getMonthNames("abbreviated")[r.getMonth()]+" "+ft.format(r,"day")}):i.unshift("monthandday"),this._normalizeFormat(i)):t.month?"month":t.day?(e?i.unshift("day"):i.unshift(function(r){return ft.format(r,"dayofweek")+", "+ft.format(r,"day")}),this._normalizeFormat(i)):this._normalizeFormat(i)},getDateFormatByTicks:function(t){var e,i,n;if(t.length>1)for(e=ze.getDatesDifferences(t[0],t[1]),n=1;n<t.length-1;n++)i=ze.getDatesDifferences(t[n],t[n+1]),e.count<i.count&&(e=i);else e={year:!0,month:!0,day:!0,hour:t[0].getHours()>0,minute:t[0].getMinutes()>0,second:t[0].getSeconds()>0,millisecond:t[0].getMilliseconds()>0};var r=this.getDateFormatByDifferences(e);return r},getDateFormatByTickInterval:function(t,e,i){var n,r=function(a,l,d){switch(l){case"year":case"quarter":a.month=d;case"month":a.day=d;case"week":case"day":a.hour=d;case"hour":a.minute=d;case"minute":a.second=d;case"second":a.millisecond=d}};i=Se(i)?i.toLowerCase():i;var o=ze.getDatesDifferences(t,e);t!==e&&function(a,l,d){!d.getMilliseconds()&&d.getSeconds()?d.getSeconds()-l.getSeconds()===1&&(a.millisecond=!0,a.second=!1):!d.getSeconds()&&d.getMinutes()?d.getMinutes()-l.getMinutes()===1&&(a.second=!0,a.minute=!1):!d.getMinutes()&&d.getHours()?d.getHours()-l.getHours()===1&&(a.minute=!0,a.hour=!1):!d.getHours()&&d.getDate()>1?d.getDate()-l.getDate()===1&&(a.hour=!0,a.day=!1):d.getDate()===1&&d.getMonth()?d.getMonth()-l.getMonth()===1&&(a.day=!0,a.month=!1):!d.getMonth()&&d.getFullYear()&&d.getFullYear()-l.getFullYear()===1&&(a.month=!0,a.year=!1)}(o,t>e?e:t,t>e?t:e),n=ze.getDateUnitInterval(o),r(o,n,!0),n=ze.getDateUnitInterval(i||"second"),r(o,n,!1),o[{week:"day"}[n]||n]=!0;var s=this.getDateFormatByDifferences(o);return s}});var Fwt=vr.locale.bind(vr),Pwt=j.load.bind(j),kwt=j.format.bind(j),Nwt=ei.format.bind(ei),Lwt=ei.parse.bind(ei),fMe=ft.format.bind(ft),dN=ft.parse.bind(ft);var mMe="dx-box",vMe="dx-box-flex",_Me="dx-box-item",c7="dxBoxItemData",CMe=1,xMe={row:"minWidth",col:"minHeight"},yMe={row:"maxWidth",col:"maxHeight"},d7={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},u7={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},bMe={row:"row",col:"column"},Mg=(t,e,i)=>{if(i=Xa(e,i),t.style[sa(e)]=i,!Ne()){if(i===""||!O(i))return;var n=lv(e),r=n+": "+i+";";yb(t,r,!1)}},uN=class extends ws{_renderVisible(e,i){super._renderVisible(e),O(i)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:i})}},cN=class{constructor(e,i){this._$element=e,this._option=i}renderBox(){this._$element.css({display:mf("flexDirection")+"flex"}),Mg(this._$element.get(0),"flexDirection",bMe[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var e=this._option("align");return e in d7?d7[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var e=this._option("crossAlign");return e in u7?u7[e]:e}renderItems(e){var i=mf("flexDirection"),n=this._option("direction");F(e,function(){var r=g(this),o=r.data(c7);r.css({display:i+"flex"}).css(yMe[n],o.maxSize||"none").css(xMe[n],o.minSize||"0"),Mg(r.get(0),"flexBasis",o.baseSize||0),Mg(r.get(0),"flexGrow",o.ratio),Mg(r.get(0),"flexShrink",O(o.shrink)?o.shrink:CMe),r.children().each((s,a)=>{g(a).css({width:"auto",height:"auto",display:mf("flexDirection")+"flex",flexBasis:0}),Mg(a,"flexGrow",1),Mg(a,"flexDirection",g(a)[0].style.flexDirection||"column")})})}},h7=(()=>{class t extends Sr{_getDefaultOptions(){return y(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return _Me}_itemDataKey(){return c7}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass(vMe),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new cN(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(i,n){this._queue.push({$item:i,config:n})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(mMe),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(i){for(super._renderItems(i);this._queueIsNotEmpty();){var n=this._shiftItemFromQueue();this._createComponent(n.$item,t,y({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},n.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(i){var n=i.itemData&&i.itemData.node;return n?this._renderItemContentByNode(i,n):super._renderItemContent(i)}_postprocessRenderItem(i){var n=i.itemData.box;n&&this._pushItemToQueue(i.itemContent,n)}_createItemByTemplate(i,n){return n.itemData.box?i.source?i.source():g():super._createItemByTemplate(i,n)}_itemOptionChanged(i,n,r,o){n==="visible"&&this._onItemStateChanged({name:n,state:r,oldState:o!==!1}),super._itemOptionChanged(i,n,r)}_optionChanged(i){switch(i.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(i)}}_itemOptions(){var i=super._itemOptions();return i.fireItemStateChangedAction=n=>{this._onItemStateChanged(n)},i}}return t.ItemClass=uN,t})();Be("dxBox",h7);var Ph=h7;var J_="dx-buttongroup",DMe=J_+"-wrapper",f7=J_+"-item",OMe=J_+"-first-item",EMe=J_+"-last-item",p7=f7+"-has-width",SMe="dx-shape-standard",_O={contained:"dx-buttongroup-mode-contained",outlined:"dx-buttongroup-mode-outlined",text:"dx-buttongroup-mode-text"},wMe=Sr.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Er((t,e,i)=>{this._prepareItemStyles(t);var n=this.option("buttonTemplate");this._createComponent(t,ci,y({},i,e,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(n)?i:{},template:i.template||n}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions:function(){return y(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(t){return ce(t)||this.option("integrationOptions.templates")[t]},_selectedItemClass:()=>"dx-item-selected dx-state-selected",_prepareItemStyles(t){var e=t.data("dxItemIndex");e===0&&t.addClass(OMe);var i=this.option("items");i&&e===i.length-1&&t.addClass(EMe),t.addClass(SMe)},_renderItemContent(t){return t.container=g(t.container).parent(),this.callBase(t)},_setAriaSelectionAttribute:function(t,e){this.setAria("pressed",e,t)},_renderItemContentByNode:function(t,e){return t.container=g(t.container.children().first()),this.callBase(t,e)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>f7,_itemSelectHandler:function(t){this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)||this.callBase(t)}}),g7=Ci.inherit({_getDefaultOptions(){return y(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass(J_),this._renderStylingMode(),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_renderStylingMode(){var t,{stylingMode:e}=this.option();for(var i in _O)this.$element().removeClass(_O[i]);this.$element().addClass((t=_O[e])!==null&&t!==void 0?t:_O.contained)},_fireSelectionChangeEvent:function(t,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:t,removedItems:e})},_renderButtons(){var t=g("<div>").addClass(DMe).appendTo(this.$element()),e=this.option("selectedItems"),i={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:n=>{var r=this.option("width");O(r)&&g(n.itemElement).addClass(p7)},onSelectionChanged:n=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(n.addedItems,n.removedItems)},onItemClick:n=>{this._itemClickAction(n)}};O(e)&&e.length&&(i.selectedItems=e),this._buttonsCollection=this._createComponent(t,wMe,i)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(t){switch(t.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(t.name,t.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(t),this._buttonsCollection.itemElements().toggleClass(p7,!!t.value);break;default:this.callBase(t)}}});Be("dxButtonGroup",g7);var m7=g7;var v7="dxSwipeable",IMe="dx-swipeable",TMe={onStart:Hf,onUpdated:zf,onEnd:Hu,onCancel:"dxswipecancel"},MMe=180,_7=Xr.inherit({_getDefaultOptions:function(){return y(this.callBase(),{elastic:!0,immediate:!1,immediateTimeout:MMe,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(IMe),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),F(TMe,(function(e,i){var n=this._createActionByOption(e,{context:this});i=ne(i,t),S.on(this.$element(),i,this._eventData,function(r){return n({event:r})})}).bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}},_detachEventHandlers:function(){S.off(this.$element(),"."+v7)},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});bu(_7,v7);var Y_=_7;var AMe="dx-calendar-navigator",RMe="dx-calendar-navigator-previous-month",FMe="dx-calendar-navigator-next-month",PMe="dx-calendar-navigator-previous-view",kMe="dx-calendar-navigator-next-view",NMe="dx-calendar-disabled-navigator-link",LMe="dx-calendar-caption-button",BMe="dx-button-text",hN=class extends Ci{_getDefaultOptions(){return y(super._getDefaultOptions(),{onClick:null,onCaptionClick:null,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:function(){return mi()},options:{type:"default",stylingMode:"text"}},{device:function(){return Ui()},options:{type:"normal",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),this.$element().addClass(AMe),this._renderButtons(),this._renderCaption()}_renderButtons(){var{rtlEnabled:e,type:i,stylingMode:n,focusStateEnabled:r}=this.option();this._prevButton=this._createComponent(g("<div>"),ci,{focusStateEnabled:r,icon:e?"chevronright":"chevronleft",onClick:l=>{this._clickAction({direction:-1,event:l})},type:i,stylingMode:n,integrationOptions:{}});var o=this._prevButton.$element().addClass(PMe).addClass(RMe);this._nextButton=this._createComponent(g("<div>"),ci,{focusStateEnabled:r,icon:e?"chevronleft":"chevronright",onClick:l=>{this._clickAction({direction:1,event:l})},type:i,stylingMode:n,integrationOptions:{}});var s=this._nextButton.$element().addClass(kMe).addClass(FMe);this._caption=this._createComponent(g("<div>").addClass(LMe),ci,{focusStateEnabled:r,onClick:l=>{this._captionClickAction({event:l})},type:i,stylingMode:n,template:(l,d)=>{var{text:u}=this.option(),h=u.split(" - ");h.forEach(p=>{g(d).append(g("<span>").addClass(BMe).text(p))})},integrationOptions:{}});var a=this._caption.$element();this.$element().append(o,a,s)}_renderCaption(){this._caption.option("text",this.option("text"))}toggleButton(e,i){var n="_"+e+"Button",r=this[n];r&&(r.option("disabled",i),r.$element().toggleClass(NMe,i))}_optionChanged(e){switch(e.name){case"text":this._renderCaption();break;default:super._optionChanged(e)}}},C7=hN;var{abstract:vl}=Ci,VMe="dx-calendar-other-view",pN="dx-calendar-cell",HMe="dx-calendar-cell-start",zMe="dx-calendar-cell-end",WMe="dx-calendar-cell-start-in-row",jMe="dx-calendar-cell-end-in-row",S7="dx-calendar-week-number-cell",fN="dx-calendar-empty-cell",$Me="dx-calendar-today",x7="dx-calendar-selected-date",y7="dx-calendar-cell-in-range",gN="dx-calendar-cell-range-hover",mN="dx-calendar-cell-range-hover-start",vN="dx-calendar-cell-range-hover-end",b7="dx-calendar-range-start-date",D7="dx-calendar-range-end-date",_N="dx-calendar-contoured-date",O7="td:not(.".concat(S7,")"),CN=ne(lt,"dxCalendar"),E7=ne(Iu,"dxCalendar"),X_="dxDateValueKey",GMe=864e5,UMe=Ci.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return y(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,onWeekNumberClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents()},_createTable:function(){this._$table=g("<table>");var t=j.format("dxCalendar-ariaWidgetName");return this.setAria({label:t,role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=g("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,i=this.option("rowCount");e<i;e++){t.row=this._createRow();for(var n=0,r=this.option("colCount");n<r;n++)this._renderCell(t,n);this._renderWeekNumberCell(t)}},_createRow:function(){var t=ie.createElement("tr");return this.setAria("role","row",g(t)),this.$body.get(0).appendChild(t),t},_createCell:function(t,e){var i=ie.createElement("td"),n=g(i);return i.className=this._getClassNameByDate(t,e),i.setAttribute("data-value",Gi.serializeDate(t,ze.getShortDateFormat())),ui(i,X_,t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},n),{cell:i,$cell:n}},_renderCell:function(t,e){var{cellDate:i,prevCellDate:n,row:r}=t;n&&ze.fixTimezoneGap(n,i),t.prevCellDate=i;var{cell:o,$cell:s}=this._createCell(i,e),a=this.option("cellTemplate");g(r).append(o),a?a.render(this._prepareCellTemplateData(i,e,s)):o.innerHTML=this._getCellText(i),t.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(t,e){var i=pN;return this._isTodayCell(t)&&(i+=" ".concat($Me)),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(i+=" ".concat(fN)),this._isOtherView(t)&&(i+=" ".concat(VMe)),this.option("selectionMode")==="range"&&(e===0&&(i+=" ".concat(WMe)),e===this.option("colCount")-1&&(i+=" ".concat(jMe)),this._isStartDayOfMonth(t)&&(i+=" ".concat(HMe)),this._isEndDayOfMonth(t)&&(i+=" ".concat(zMe))),i},_prepareCellTemplateData:function(t,e,i){var n=t instanceof Date,r=n?this._getCellText(t):t,o=n?t:void 0,s=this._getViewName();return{model:{text:r,date:o,view:s},container:Pe(i),index:e}},_renderEvents:function(){this._createCellClickAction(),S.off(this._$table,CN),S.on(this._$table,CN,O7,e=>{g(e.currentTarget).hasClass(fN)||this._cellClickAction({event:e,value:g(e.currentTarget).data(X_)})});var{selectionMode:t}=this.option();S.off(this._$table,E7),t==="range"&&(this._createCellHoverAction(),S.on(this._$table,E7,O7,e=>{g(e.currentTarget).hasClass(fN)||this._cellHoverAction({event:e,value:g(e.currentTarget).data(X_)})})),t!=="single"&&(this._createWeekNumberCellClickAction(),S.on(this._$table,CN,".".concat(S7),e=>{var i=g(e.currentTarget).closest("tr"),n=i.find(".".concat(pN)).first().data(X_),r=i.find(".".concat(pN)).last().data(X_),o=[...ze.getDatesOfInterval(n,r,GMe),r];this._weekNumberCellClickAction({event:e,rowDates:o})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createCellHoverAction:function(){this._cellHoverAction=this._createActionByOption("onCellHover")},_createWeekNumberCellClickAction:function(){this._weekNumberCellClickAction=this._createActionByOption("onWeekNumberClick")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||W},_getDefaultDisabledDatesHandler:function(t){return W},_isTodayCell:vl,_isDateOutOfRange:vl,isDateDisabled:function(t){var e={date:t,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:vl,_isStartDayOfMonth:vl,_isEndDayOfMonth:vl,_getCellText:vl,_getFirstCellData:vl,_getNextCellData:vl,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var e=this._getContouredCell(),i=this._getCellByDate(t);e.removeClass(_N),t&&i.addClass(_N)}},_getContouredCell:function(){return this._$table.find(".".concat(_N))},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value");Array.isArray(t)||(t=[t]),this._updateSelectedClass(t)}},_updateSelectedClass:function(t){var e;this._isRangeMode()&&!this._isMonthView()||((e=this._$selectedCells)===null||e===void 0||e.forEach(i=>{i.removeClass(x7)}),this._$selectedCells=t.map(i=>this._getCellByDate(i)),this._$selectedCells.forEach(i=>{i.addClass(x7)}))},_renderRange:function(){var t,e,i,n,r,o,s,a,{allowValueSelection:l,value:d,range:u}=this.option();!l||!this._isRangeMode()||!this._isMonthView()||((t=this._$rangeCells)===null||t===void 0||t.forEach(h=>{h.removeClass(y7)}),(e=this._$hoveredRangeCells)===null||e===void 0||e.forEach(h=>{h.removeClass(gN)}),(i=this._$rangeStartHoverCell)===null||i===void 0||i.removeClass(mN),(n=this._$rangeEndHoverCell)===null||n===void 0||n.removeClass(vN),(r=this._$rangeStartDateCell)===null||r===void 0||r.removeClass(b7),(o=this._$rangeEndDateCell)===null||o===void 0||o.removeClass(D7),this._$rangeCells=u.map(h=>this._getCellByDate(h)),this._$rangeStartDateCell=this._getCellByDate(d[0]),this._$rangeEndDateCell=this._getCellByDate(d[1]),this._$rangeCells.forEach(h=>{h.addClass(y7)}),(s=this._$rangeStartDateCell)===null||s===void 0||s.addClass(b7),(a=this._$rangeEndDateCell)===null||a===void 0||a.addClass(D7))},_renderHoveredRange(){var t,e,i,n,r,{allowValueSelection:o,hoveredRange:s}=this.option();!o||!this._isRangeMode()||!this._isMonthView()||((t=this._$hoveredRangeCells)===null||t===void 0||t.forEach(a=>{a.removeClass(gN)}),(e=this._$rangeStartHoverCell)===null||e===void 0||e.removeClass(mN),(i=this._$rangeEndHoverCell)===null||i===void 0||i.removeClass(vN),this._$hoveredRangeCells=s.map(a=>this._getCellByDate(a)),this._$rangeStartHoverCell=this._getCellByDate(s[0]),this._$rangeEndHoverCell=this._getCellByDate(s[s.length-1]),this._$hoveredRangeCells.forEach(a=>{a.addClass(gN)}),(n=this._$rangeStartHoverCell)===null||n===void 0||n.addClass(mN),(r=this._$rangeEndHoverCell)===null||r===void 0||r.addClass(vN))},_isMonthView:function(){return this.option("zoomLevel")==="month"},_isRangeMode:function(){return this.option("selectionMode")==="range"},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),e=this.option("min");return t=ze.getViewFirstCellDate(this._getViewName(),t),new Date(e&&t<e?e:t)},_getCellByDate:vl,isBoundary:vl,_optionChanged:function(t){var{name:e,value:i}=t;switch(e){case"value":this._renderValue();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:this.callBase(t)}}}),Q_=UMe;var KMe="dx-calendar-other-month",qMe="dx-calendar-other-view",JMe="dx-calendar-week-number-cell",YMe="dx-calendar-week-selection",XMe={month:Q_.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return y(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(qMe)).addClass(KMe)},_renderFocusTarget:W,getCellAriaLabel:function(t){return ft.format(t,"longdate")},_renderHeader:function(){var t=g("<tr>"),e=g("<thead>").append(t);this._$table.prepend(e);for(var i=0,n=this.option("colCount");i<n;i++)this._renderHeaderCell(i,t);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(t)},_renderHeaderCell:function(t,e){var{firstDayOfWeek:i}=this.option(),{full:n,abbreviated:r}=this._getDayCaption(i+t),o=g("<th>").attr({scope:"col",abbr:n}).text(r);e.append(o)},_renderWeekHeaderCell:function(t){var e=g("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});t.prepend(e)},_renderWeekNumberCell:function(t){var{showWeekNumbers:e,cellTemplate:i,selectionMode:n,selectWeekOnClick:r}=this.option();if(e){var o=this._getWeekNumber(t.prevCellDate),s=ie.createElement("td"),a=g(s);s.className=JMe,n!=="single"&&r&&a.addClass(YMe),i?i.render(this._prepareCellTemplateData(o,-1,a)):s.innerHTML=o,t.row.prepend(s),this.setAria({role:"gridcell",label:"Week ".concat(o)},a)}},_getWeekNumber:function(t){var{weekNumberRule:e,firstDayOfWeek:i}=this.option();return e==="auto"?ze.getWeekNumber(t,i,i===1?"firstFourDays":"firstDay"):ze.getWeekNumber(t,i,e)},getNavigatorCaption:function(){return ft.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=this.option("_todayDate")();return ze.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!ze.dateInRange(t,e,i,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_isStartDayOfMonth:function(t){return ze.sameDate(t,ze.getFirstMonthDate(this.option("date")))},_isEndDayOfMonth:function(t){return ze.sameDate(t,ze.getLastMonthDate(this.option("date")))},_getCellText:function(t){return ft.format(t,"d")},_getDayCaption:function(t){var e=this.option("colCount"),i=t%e;return{full:ft.getDayNames()[i],abbreviated:ft.getDayNames("abbreviated")[i]}},_getFirstCellData:function(){var{firstDayOfWeek:t}=this.option(),e=ze.getFirstMonthDate(this.option("date")),i=t-e.getDay(),n=this.option("colCount");return i>=0&&(i-=n),e.setDate(e.getDate()+i),e},_getNextCellData:function(t){return t=new Date(t),t.setDate(t.getDate()+1),t},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(Gi.serializeDate(t,ze.getShortDateFormat()),"']"))},isBoundary:function(t){return ze.sameMonthAndYear(t,this.option("min"))||ze.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){var i=t.some(function(n){return ze.sameDate(n,e.date)});if(i)return!0}}}),year:Q_.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){var e=this.option("_todayDate")();return ze.sameMonthAndYear(t,e)},_isDateOutOfRange:function(t){return!ze.dateInRange(t,ze.getFirstMonthDate(this.option("min")),ze.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){return ft.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),e=new Date(t);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(t){return t=new Date(t),t.setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),this._$table.find("td[data-value='".concat(Gi.serializeDate(e,ze.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return ft.format(t,"monthandyear")},getNavigatorCaption:function(){return ft.format(this.option("date"),"yyyy")},isBoundary:function(t){return ze.sameYear(t,this.option("min"))||ze.sameYear(t,this.option("max"))},_renderWeekNumberCell:W}),decade:Q_.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){var e=this.option("_todayDate")();return ze.sameYear(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!ze.dateInRange(t.getFullYear(),e&&e.getFullYear(),i&&i.getFullYear())},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!ze.sameDecade(e,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){return ft.format(t,"yyyy")},_getFirstCellData:function(){var t=ze.getFirstYearInDecade(this.option("date"))-1;return ze.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=ze.getFirstYearInDecade(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+9),ft.format(i,"yyyy")+"-"+ft.format(n,"yyyy")},_isValueOnCurrentView:function(t,e){return ze.sameDecade(t,e)},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(Gi.serializeDate(e,ze.getShortDateFormat()),"']"))},isBoundary:function(t){return ze.sameDecade(t,this.option("min"))||ze.sameDecade(t,this.option("max"))},_renderWeekNumberCell:W}),century:Q_.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){var e=this.option("_todayDate")();return ze.sameDecade(t,e)},_isDateOutOfRange:function(t){var e=ze.getFirstYearInDecade(t),i=ze.getFirstYearInDecade(this.option("min")),n=ze.getFirstYearInDecade(this.option("max"));return!ze.dateInRange(e,i,n)},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!ze.sameCentury(e,this.option("date"))},_isStartDayOfMonth:function(){return!1},_isEndDayOfMonth:function(){return!1},_getCellText:function(t){var e=ft.format(t,"yyyy"),i=new Date(t);return i.setFullYear(i.getFullYear()+9),e+" - "+ft.format(i,"yyyy")},_getFirstCellData:function(){var t=ze.getFirstDecadeInCentury(this.option("date"))-10;return ze.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),e.setFullYear(ze.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(Gi.serializeDate(e,ze.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),e=ze.getFirstDecadeInCentury(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+99),ft.format(i,"yyyy")+"-"+ft.format(n,"yyyy")},isBoundary:function(t){return ze.sameCentury(t,this.option("min"))||ze.sameCentury(t,this.option("max"))},_renderWeekNumberCell:W})},w7=XMe;var xN=class{constructor(e){this.calendar=e}dateOption(e){return this.calendar._dateOption(e)}dateValue(e,i){this.calendar._dateValue(e,i)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,i){this.calendar._updateAriaSelected(e,i),e[0]&&this.calendar.option("currentDate").getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,i){var n,r;O(e)&&!Array.isArray(e)&&(e=[e]),O(i)&&!Array.isArray(i)&&(i=[i]),e=((n=e)===null||n===void 0?void 0:n.map(o=>this._convertToDate(o)))||[],i=((r=i)===null||r===void 0?void 0:r.map(o=>this._convertToDate(o)))||[],this._updateViewsValue(e),this.updateAriaSelected(e,i),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_isDateDisabled(e){var i=this.calendar._dateOption("min"),n=this.calendar._dateOption("max"),r=O(i)&&e<i&&!ze.sameDate(i,e),o=O(n)&&e>n&&!ze.sameDate(n,e);return this.calendar._view.isDateDisabled(e)||r||o}_getLowestDateInArray(e){if(e.length)return new Date(Math.min(...e))}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,i){this.calendar._updateViewsOption(e,i)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",e??new Date)}_shouldHandleWeekNumberClick(){var{selectionMode:e,selectWeekOnClick:i}=this.calendar.option();return i&&e!=="single"}},Ag=xN;var yN=class extends Ag{constructor(e){super(e),this.NAME="SingleSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"single"}}selectValue(e,i){this.skipNavigate(),this.dateValue(e,i)}updateAriaSelected(e,i){var n,r;(n=e)!==null&&n!==void 0||(e=[this.dateOption("value")]),(r=i)!==null&&r!==void 0||(i=[]),super.updateAriaSelected(e,i)}getDefaultCurrentDate(){return this.dateOption("value")}restoreValue(){this.calendar.option("value",null)}_updateViewsValue(e){this._updateViewsOption("value",e[0])}},I7=yN;var bN=class extends Ag{constructor(e){super(e),this.NAME="MultiSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"multi",onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,i){var n=[...this.dateOption("value")],r=n.findIndex(o=>o?.toDateString()===e.toDateString());r>-1?n.splice(r,1):n.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(n,i)}updateAriaSelected(e,i){var n,r;(n=e)!==null&&n!==void 0||(e=this.dateOption("value")),(r=i)!==null&&r!==void 0||(i=[]),super.updateAriaSelected(e,i)}getDefaultCurrentDate(){var e=this.dateOption("value").filter(i=>i);return this._getLowestDateInArray(e)}restoreValue(){this.calendar.option("value",[])}_weekNumberClickHandler(e){var{rowDates:i,event:n}=e,r=i.filter(o=>!this._isDateDisabled(o));this.dateValue(r,n)}},T7=bN;var QMe=864e5,DN=class extends Ag{constructor(e){super(e),this.NAME="RangeSelection"}getViewOptions(){var e=this._getValue(),i=this._getDaysInRange(e[0],e[1]);return{value:e,range:i,selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this),onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,i){var[n,r]=this._getValue();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.calendar.option("_allowChangeSelectionOrder")===!0?(this.calendar._valueSelected=!0,this.calendar.option("_currentSelection")==="startDate"?this.calendar._convertToDate(e)>this.calendar._convertToDate(r)?this.dateValue([e,null],i):this.dateValue([e,r],i):this.calendar._convertToDate(e)>=this.calendar._convertToDate(n)?this.dateValue([n,e],i):this.dateValue([e,null],i)):!n||r?this.dateValue([e,null],i):this.dateValue(n<e?[n,e]:[e,n],i)}updateAriaSelected(e,i){var n,r;(n=e)!==null&&n!==void 0||(e=this._getValue()),(r=i)!==null&&r!==void 0||(i=[]),super.updateAriaSelected(e,i)}processValueChanged(e,i){super.processValueChanged(e,i);var n=this._getRange();this._updateViewsOption("range",n)}getDefaultCurrentDate(){var{_allowChangeSelectionOrder:e,_currentSelection:i}=this.calendar.option(),n=this.dateOption("value");if(e){if(i==="startDate"&&n[0])return n[0];if(i==="endDate"&&n[1])return n[1]}var r=n.filter(o=>o);return this._getLowestDateInArray(r)}restoreValue(){this.calendar.option("value",[null,null])}_getValue(){var e=this.dateOption("value");if(!e.length)return e;var[i,n]=e;return i&&n&&i>n&&([i,n]=[n,i]),[i,n]}_getRange(){var[e,i]=this._getValue();return this._getDaysInRange(e,i)}_getDaysInRange(e,i){if(!e||!i)return[];var{currentDate:n,viewsCount:r}=this.calendar.option(),o=this.calendar._isAdditionalViewDate(n),s=ze.getFirstMonthDate(ze.addDateInterval(n,"month",o?-2:-1)),a=ze.getLastMonthDate(ze.addDateInterval(n,"month",o?1:r)),l=new Date(Math.max(s,e)),d=new Date(Math.min(a,i));return[...ze.getDatesOfInterval(l,d,QMe),d]}_cellHoverHandler(e){var i=this._isMaxZoomLevel(),[n,r]=this._getValue(),{_allowChangeSelectionOrder:o,_currentSelection:s}=this.calendar.option();if(i){var a=o&&s==="startDate";if(n&&!r&&!a){if(e.value>n){this._updateViewsOption("hoveredRange",this._getDaysInRange(n,e.value));return}}else if(!n&&r&&!(o&&s==="endDate")){if(e.value<r){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,r));return}}else if(n&&r){if(s==="startDate"&&e.value<n){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,n));return}else if(s==="endDate"&&e.value>r){this._updateViewsOption("hoveredRange",this._getDaysInRange(r,e.value));return}}this._updateViewsOption("hoveredRange",[])}}_weekNumberClickHandler(e){var{rowDates:i,event:n}=e,r=i.filter(s=>!this._isDateDisabled(s)),o=r.length?[r[0],r[r.length-1]]:[null,null];this.dateValue(o,n)}},M7=DN;var ON="dx-calendar",ZMe="dx-calendar-body",eAe="dx-calendar-cell",tAe="dx-calendar-footer",iAe="dx-calendar-today-button",nAe="dx-calendar-with-footer",rAe="dx-calendar-views-wrapper",A7="dx-calendar-view",oAe="dx-calendar-multiview",sAe="dx-calendar-range",aAe="dx-gesture-cover",CO=250,R7=.6,F7=1,lAe="yyyy-MM-dd",dAe="dxDateValueKey",P7=ne(Tu,"dxCalendar"),Rg={month:3,year:2,decade:1,century:0},Ir={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},uAe={SingleSelection:I7,MultipleSelection:T7,RangeSelection:M7},k7=Cr.inherit({_activeStateUnit:"."+eAe,_getDefaultOptions:function(){return y(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,viewsCount:1,zoomLevel:Ir.MONTH,maxZoomLevel:Ir.MONTH,minZoomLevel:Ir.CENTURY,selectionMode:"single",selectWeekOnClick:!0,showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return be.real().deviceType==="desktop"&&!be.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return y(this.callBase(),{rightArrow:function(t){t.preventDefault(),Wi(t)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),Wi(t)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),Wi(t))this._navigateUp();else{if(Et.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),Wi(t))this._navigateDown();else{if(Et.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("min");if(!this._view.isDateDisabled(i)){var r=ze.sameView(e,i,n)?n:ze.getViewFirstCellDate(e,i);this._moveToClosestAvailableDate(r)}},end:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("max");if(!this._view.isDateDisabled(i)){var r=ze.sameView(e,i,n)?n:ze.getViewLastCellDate(e,i);this._moveToClosestAvailableDate(r)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:W,enter:this._enterKeyHandler})},_enterKeyHandler:function(t){if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._selectionStrategy.selectValue(e,t)}},_getSerializationFormat:function(t){var e=this.option(t||"value");if(this.option("dateSerializationFormat"))return this.option("dateSerializationFormat");if(It(e))return"number";if(Se(e))return Gi.getDateSerializationFormat(e)},_convertToDate:function(t){return Gi.deserializeDate(t)},_dateValue:function(t,e){if(e){if(e.type==="keydown"){var i=this._view._getContouredCell().get(0);e.target=i}this._saveValueChangeEvent(e)}this._dateOption("value",t)},_dateOption:function(t,e){var i=t==="value"&&!this._isSingleMode(),n=this.option("value");if(arguments.length===1)return i?(n??[]).map(s=>this._convertToDate(s)):this._convertToDate(this.option(t));var r=this._getSerializationFormat(t),o=i?e?.map(s=>Gi.serializeDate(s,r))||[]:Gi.serializeDate(e,r);this.option(t,o)},_isSingleMode:function(){return this.option("selectionMode")==="single"},_shiftDate:function(t,e,i,n){switch(t){case Ir.MONTH:e.setDate(e.getDate()+i*n);break;case Ir.YEAR:e.setMonth(e.getMonth()+i*n);break;case Ir.DECADE:e.setFullYear(e.getFullYear()+i*n);break;case Ir.CENTURY:e.setFullYear(e.getFullYear()+10*i*n)}},_moveCurrentDateByOffset:function(t){var e=this.option("currentDate"),i=new Date(e),n=this.option("zoomLevel");this._shiftDate(n,i,t,1);for(var r=this._getMaxDate(),o=this._getMinDate(),s=this._areDatesInNeighborView(n,i,e),a=No(i,o,r)&&s,l=new Date(i);a;){if(!this._view.isDateDisabled(l)){i=l;break}this._shiftDate(n,l,t,1),s=this._areDatesInNeighborView(n,l,e),a=No(l,o,r)&&s}if(this._view.isDateDisabled(e)||this._view.isDateDisabled(i)){var d=t>0?1:-1,u=d===1?this._isNextViewDisabled():this._isPrevViewDisabled();u?this._moveToClosestAvailableDate(i):this._waitRenderView(d)}else this._skipNavigate=!0,this.option("currentDate",i)},_isNextViewDisabled(){return this._navigator._nextButton.option("disabled")},_isPrevViewDisabled(){return this._navigator._prevButton.option("disabled")},_areDatesInSameView(t,e,i){switch(t){case Ir.MONTH:return e.getMonth()===i.getMonth();case Ir.YEAR:return e.getYear()===i.getYear();case Ir.DECADE:return parseInt(e.getYear()/10)===parseInt(i.getYear()/10);case Ir.CENTURY:return parseInt(e.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView(t,e,i){switch(t){case Ir.MONTH:return n=e.getMonth(),r=i.getMonth(),o=Math.abs(n-r),Math.min(o,12-o)<=1;case Ir.YEAR:return Math.abs(e.getYear()-i.getYear())<=1;case Ir.DECADE:return Math.abs(e.getYear()-i.getYear())<=10;case Ir.CENTURY:return Math.abs(e.getYear()-i.getYear())<=100}var n,r,o},_moveToClosestAvailableDate:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.option("currentDate"),e=new Date(t),i=this.option("zoomLevel"),n=!this._isDateNotAvailable(e),r=n,o=n,s,a,l=new Date(e),d=new Date(e);do{if(r){e=l;break}if(o){e=d;break}this._shiftDate(i,l,1,1),this._shiftDate(i,d,1,-1),s=this._areDatesInSameView(i,l,t),a=this._areDatesInSameView(i,d,t),r=s&&!this._isDateNotAvailable(l),o=a&&!this._isDateNotAvailable(d)}while(s||a);this.option("currentDate",e)},_isDateNotAvailable:function(t){var e=this._getMaxDate(),i=this._getMinDate();return!No(t,i,e)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_initSelectionStrategy:function(){var t=this._getSelectionStrategyName(),e=uAe[t];(!this._selectionStrategy||this._selectionStrategy.NAME!==t)&&(this._selectionStrategy=new e(this))},_refreshSelectionStrategy:function(){this._initSelectionStrategy(),this._selectionStrategy.restoreValue(),this._refresh()},_getSelectionStrategyName:function(){var t=this.option("selectionMode");switch(t){case"multiple":return"MultipleSelection";case"range":return"RangeSelection";default:return"SingleSelection"}},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),i=this.option("zoomLevel");Rg[e]<Rg[t]||(Rg[i]>Rg[e]?this.option("zoomLevel",e):Rg[i]<Rg[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t,e=(t=this._getNormalizedDate(this._selectionStrategy.getDefaultCurrentDate()))!==null&&t!==void 0?t:this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)},_getNormalizedDate:function(t){return t=ze.normalizeDate(t,this._getMinDate(),this._getMaxDate()),O(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new Os(function(t){var e=t.model;g(t.container).append(g("<span>").text(e&&e.text||String(e)))})}),this.callBase()},_updateCurrentDate:function(t){Et.isAnimating(this._$viewsWrapper)&&Et.stop(this._$viewsWrapper,!0);var e=this._getMinDate(),i=this._getMaxDate();if(e>i){this.option("currentDate",new Date);return}var n=this._getNormalizedDate(t);if(t.getTime()!==n.getTime()){this.option("currentDate",new Date(n));return}var r=this._getViewsOffset(this._view.option("date"),n);r!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(r=0),this._view&&r!==0&&!this._suppressNavigation?this._additionalView?r>2||r<-1?(this._refreshViews(),this._setViewContoured(n),this._updateAriaId(n),this._renderNavigator()):r===1&&this._skipNavigate?(this._setViewContoured(n),this._updateAriaId(n)):this._navigate(r,n):this._navigate(r,n):(this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n)),this._skipNavigate=!1},_isAdditionalViewDate(t){return this._additionalView?t>=this._additionalView._getFirstAvailableDate():!1},_getActiveView:function(t){return this._isAdditionalViewDate(t)?this._additionalView:this._view},_setViewContoured:function(t){if(this.option("skipFocusCheck")||g(this._$viewsWrapper).is(":focus")){var e;this._view.option("contouredDate",null),(e=this._additionalView)===null||e===void 0||e.option("contouredDate",null);var i=this._isAdditionalViewDate(t)?this._additionalView:this._view;i.option("contouredDate",t)}},_getMinDate:function(){var t=this.option("_rangeMin");return t||(this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min))},_getMaxDate:function(){var t=this.option("_rangeMax");return t||(this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max))},_getViewsOffset:function(t,e){var i=this.option("zoomLevel");if(i===Ir.MONTH)return this._getMonthsOffset(t,e);var n;switch(i){case Ir.CENTURY:n=100;break;case Ir.DECADE:n=10;break;default:n=1}return parseInt(e.getFullYear()/n)-parseInt(t.getFullYear()/n)},_getMonthsOffset:function(t,e){var i=e.getFullYear()-t.getFullYear(),n=e.getMonth()-t.getMonth();return 12*i+n},_waitRenderView:function(t){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var e=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(e),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,e){var i;e=this._getDate((i=e)!==null&&i!==void 0?i:this.option("currentDate"));var n=e.getDate(),r=ze.getDifferenceInMonth(this.option("zoomLevel"))*t;e.setDate(1),e.setMonth(e.getMonth()+r);var o=ze.getLastMonthDate(e).getDate();return e.setDate(n>o?o:n),e},_focusTarget:function(){return this._$viewsWrapper},_focusEventTarget(){return this.$element()},_initMarkup:function(){this._renderSubmitElement();var t=this.$element();t.addClass(ON),t.toggleClass(sAe,this.option("selectionMode")==="range"),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderNavigator(),this.callBase(),this._renderEvents(),t.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this._updateNavigatorLabels(),this.setAria("role","application"),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=g("<div>").addClass(ZMe),this._$viewsWrapper=g("<div>").addClass(rAe),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(A7+"-"+this.option("zoomLevel"));var{currentDate:t,viewsCount:e}=this.option();if(this.$element().toggleClass(oAe,e>1),this._view=this._renderSpecificView(t),Ne()){var i=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(i)?this._renderSpecificView(i):null;var n=this._getDateByOffset(e,t);n.setDate(1),this._afterView=this._isViewAvailable(n)?this._renderSpecificView(n):null}e>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,t))),this._translateViews()},_renderSpecificView:function(t){var{zoomLevel:e}=this.option(),i=w7[e],n=g("<div>").appendTo(this._$viewsWrapper),r=this._viewConfig(t),o=this._createComponent(n,i,r);return o},_viewConfig:function(t){var e,i=this.option("disabledDates");return i=ce(i)?this._injectComponent(i.bind(this)):i,te({},this._selectionStrategy.getViewOptions(),{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:(e=this.option("firstDayOfWeek"))!==null&&e!==void 0?e:ft.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),selectWeekOnClick:this.option("selectWeekOnClick"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:i,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")})},_renderEvents(){S.off(this._$viewsWrapper,P7),this.option("selectionMode")==="range"&&S.on(this._$viewsWrapper,P7,null,t=>{this._updateViewsOption("hoveredRange",[])})},_injectComponent:function(t){var e=this;return function(i){return y(i,{component:e}),t(i)}},_isViewAvailable:function(t){var e=this.option("zoomLevel"),i=ze.getViewMinBoundaryDate(e,this._getMinDate()),n=ze.getViewMaxBoundaryDate(e,this._getMaxDate());return ze.dateInRange(t,i,n)},_translateViews:function(){var{viewsCount:t}=this.option();Vt(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,t),this._moveViewElement(this._additionalView,1)},_moveViewElement(t,e){t&&Vt(t.$element(),{left:this._getViewPosition(e),top:0})},_getViewPosition:function(t){var e=this.option("rtlEnabled")?-1:1;return 100*t*e+"%"},_cellClickHandler:function(t){var e=this.option("zoomLevel"),i=ze.getViewDown(e),n=this._isMaxZoomLevel();if(i&&!n)this._navigateDown(t.event.currentTarget);else{var r=this._updateTimeComponent(t.value);this._selectionStrategy.selectValue(r,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var e=new Date(t),i=this._dateOption("value");return i&&this._isSingleMode()&&(e.setHours(i.getHours()),e.setMinutes(i.getMinutes()),e.setSeconds(i.getSeconds()),e.setMilliseconds(i.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=ze.getViewDown(e);if(i){var n=this._view.option("contouredDate")||this._view.option("date");t&&(n=g(t).data(dAe)),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new C7(g("<div>"),this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()},_navigatorConfig:function(){var{focusStateEnabled:t,rtlEnabled:e}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),focusStateEnabled:t,rtlEnabled:e,tabIndex:void 0}},_navigatorClickHandler:function(t){var{currentDate:e,viewsCount:i}=this.option(),n=t.direction;if(i>1){var r=this._isAdditionalViewDate(e),o=r&&n<0||!r&&n>0;o&&(n*=2)}var s=this._getDateByOffset(n,e);this._moveToClosestAvailableDate(s)},_navigateUp:function(){var t=this.option("zoomLevel"),e=ze.getViewUp(t);!e||this._isMinZoomLevel(t)||(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var e=this._getMinDate(),i=this._getMaxDate();return ze.sameView(t,e,i)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!O(this._afterView)),this._navigator.toggleButton("prev",!O(this._beforeView))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),Y_,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){Et.stop(this._$viewsWrapper,!0);var{viewsCount:e}=this.option();this._toggleGestureCoverCursor("grabbing"),t.event.maxLeftOffset=this._getRequiredView("next")?1/e:0,t.event.maxRightOffset=this._getRequiredView("prev")?1/e:0},_toggleGestureCoverCursor:function(t){g(".".concat(aAe)).css("cursor",t)},_getRequiredView:function(t){var e,i=this.option("rtlEnabled");return t==="next"?e=i?this._beforeView:this._afterView:t==="prev"&&(e=i?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(t){var e=t.event.offset;Vt(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(t){this._toggleGestureCoverCursor("auto");var{currentDate:e,rtlEnabled:i}=this.option(),n=t.event.targetOffset,r=n?n/Math.abs(n):0,o=this._isAdditionalViewDate(e),s=o&&(i?r===-1:r===1);if(r===0){this._animateWrapper(0,CO);return}var a=-r*this._getRtlCorrection()*(s?2:1),l=this._getDateByOffset(a);this._isDateInInvalidRange(l)&&(r>=0?l=new Date(this._getMinDate()):l=new Date(this._getMaxDate())),this.option("currentDate",l)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=Ae(this.$element())/this.option("viewsCount")),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var e=this.option("viewsCount")>1,i,n;t>.5&&this._beforeView?(i=this._beforeView,n=e&&this._view):t<-.5&&this._afterView?(i=e?this._additionalView:this._afterView,n=e?this._afterView:null):(i=this._view,n=e?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(i,n))},_getViewsCaption:function(t,e){var i=t.getNavigatorCaption(),{viewsCount:n}=this.option();if(n>1&&e){var r=e.getNavigatorCaption();i="".concat(i," - ").concat(r)}return i},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var e=this._getMinDate(),i=this._getMaxDate(),n=ze.normalizeDate(t,e,i);return n===e||n===i}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var e=this._createComponent(g("<div>"),ci,{focusStateEnabled:this.option("focusStateEnabled"),text:j.format("dxCalendar-todayButtonText"),onClick:i=>{this._toTodayView(i)},type:Ui()?"normal":"default",stylingMode:Ui()?"outlined":"text",integrationOptions:{}}).$element().addClass(iAe);this._$footer=g("<div>").addClass(tAe).append(e),this.$element().append(this._$footer)}this.$element().toggleClass(nAe,t)},_renderSubmitElement:function(){this._$submitElement=g("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var e=this._convertToDate(t);this._getSubmitElement().val(Gi.serializeDate(e,lAe))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){Et.stop(this._view.$element(),!0),this._popAnimationView(this._view,R7,F7,CO),this.option("viewsCount")>1&&(Et.stop(this._additionalView.$element(),!0),this._popAnimationView(this._additionalView,R7,F7,CO))},_popAnimationView:function(t,e,i,n){return Et.animate(t.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:i,opacity:i},duration:n})},_navigate:function(t,e){if(t!==0&&Math.abs(t)!==1&&this._isViewAvailable(e)){var i=this._renderSpecificView(e);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var n=this._getRtlCorrection(),r=t>0?1:t<0?-1:0,o=-n*r*this._viewWidth(),s=this._$viewsWrapper.position().left;s!==o&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,e):this._animateWrapper(o,CO).done(this._wrapperAnimationEndHandler.bind(this,t,e)))},_animateWrapper:function(t,e){return Et.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:e})},_getDate:t=>new Date(t),_toTodayView:function(t){var e=new Date;if(this._isMaxZoomLevel()){this._selectionStrategy.selectValue(e,t.event);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(e,t.event),this._animateShowView(),this._preventViewChangeAnimation=!1},_wrapperAnimationEndHandler:function(t,e){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e),this._selectionStrategy.updateAriaSelected()},_rearrangeViews:function(t){var e;if(t!==0){var{viewsCount:i}=this.option(),n,r,o,s,a;if(t<0?(n=1,r="_beforeView",o="_afterView",s="_view",a=i===1?"_view":"_additionalView"):(n=-1,r="_afterView",o="_beforeView",s=i===1?"_view":"_additionalView",a="_view"),!!this[r]){var l=this[r].option("date");(e=this[o])===null||e===void 0||e.$element().remove(),this[o]=this._renderSpecificView(this._getDateByOffset(n*i,l)),this[a].$element().remove(),i===1?this[a]=this[r]:(this[a]=this[s],this[s]=this[r]);var d=this._getDateByOffset(-n,l);this[r]=this._isViewAvailable(d)?this._renderSpecificView(d):null}}},_resetLocation:function(){Vt(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._additionalView&&this._additionalView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._resetActiveState(),this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_shouldSkipFocusEvent(t){var{target:e,relatedTarget:i}=t;return g(e).parents(".".concat(ON)).length&&g(i).parents(".".concat(ON)).length},_focusInHandler:function(t){g(t.target).is(this._$viewsWrapper)&&this._setViewContoured(this.option("currentDate")),!this._shouldSkipFocusEvent(t)&&(this.callBase.apply(this,arguments),this._toggleFocusClass(!0,this.$element()))},_focusOutHandler:function(t){if(g(t.target).is(this._$viewsWrapper)){var e;this._view.option("contouredDate",null),(e=this._additionalView)===null||e===void 0||e.option("contouredDate",null)}this._shouldSkipFocusEvent(t)||(this.callBase.apply(this,arguments),this._toggleFocusClass(!1,this.$element()))},_updateViewsOption:function(t,e){var i,n,r;this._view.option(t,e),(i=this._additionalView)===null||i===void 0||i.option(t,e),(n=this._beforeView)===null||n===void 0||n.option(t,e),(r=this._afterView)===null||r===void 0||r.option(t,e)},_setViewsMinOption:function(t){this._restoreViewsMinMaxOptions(),this.option("_rangeMin",this._convertToDate(t)),this._updateViewsOption("min",this._getMinDate())},_setViewsMaxOption:function(t){this._restoreViewsMinMaxOptions(),this.option("_rangeMax",this._convertToDate(t)),this._updateViewsOption("max",this._getMaxDate())},_restoreViewsMinMaxOptions:function(){this._resetActiveState(),this.option({_rangeMin:null,_rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())},_updateNavigatorLabels:function(){var t=this.option("zoomLevel");t=t.charAt(0).toUpperCase()+t.slice(1);var e=this._navigator._caption.option("text"),i=j.format("dxCalendar-previous".concat(t,"ButtonLabel")),n=j.format("dxCalendar-caption".concat(t,"Label")),r=j.format("dxCalendar-next".concat(t,"ButtonLabel"));this.setAria("label",i,this._navigator._prevButton.$element()),this.setAria("label","".concat(e,". ").concat(n),this._navigator._caption.$element()),this.setAria("label",r,this._navigator._nextButton.$element())},_updateAriaSelected:function(t,e){e.forEach(i=>{this.setAria("selected",void 0,this._view._getCellByDate(i))}),t.forEach(i=>{this.setAria("selected",!0,this._view._getCellByDate(i))}),this.option("viewsCount")>1&&(e.forEach(i=>{this.setAria("selected",void 0,this._additionalView._getCellByDate(i))}),t.forEach(i=>{this.setAria("selected",!0,this._additionalView._getCellByDate(i))}))},_updateAriaId:function(t){var e;t=(e=t)!==null&&e!==void 0?e:this.option("currentDate");var i="dx-"+new kt,n=this._getActiveView(t),r=n._getCellByDate(t);this.setAria("id",i,r),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(t,e){this._suppressNavigation=!0,t.apply(this,e),delete this._suppressNavigation},_optionChanged:function(t){var{value:e,previousValue:i}=t;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"selectWeekOnClick":this._refreshViews();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"focusStateEnabled":this._invalidate();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass(A7+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId(),this._updateNavigatorLabels();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":this._selectionStrategy.processValueChanged(e,i),this._setSubmitValue(e),this.callBase(t);break;case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;default:this.callBase(t)}},getContouredDate:function(){return this._view.option("contouredDate")}});Be("dxCalendar",k7);var N7=k7;var L7=N7;var Fg=function(t){for(var e=0,i=0,n=0;n<t.length;++n)if(t[n]==="'"&&e++,t[n]==="."&&(++i,e%2===0))return{occurrence:i,index:n};return{occurrence:1,index:-1}},Z_=function(t,e,i){for(var n=-1;i--&&n++<t.length;)n=t.indexOf(e,n);return n},eC=function(t,e){return e===-1?[t]:[t.slice(0,e),t.slice(e+1)]},B7=function(t,e){return t&&Ov(t/100,e)};var tC=function(t,e){if(typeof e=="string"){var i=e.split(";"),n=ei.getSign(t,e);i[1]=i[1]||"-"+i[0],e=i[n<0?1:0],e=(s=e,s.replace(/'([^']*)'/g,a=>a.split("").map(()=>" ").join("").substr(2)));var r=/^[^#0.,]*/.exec(e)[0].length,o=/[^#0.,]*$/.exec(e)[0].length;return{start:r,end:t.length-o}}else return{start:0,end:t.length};var s},V7=function(t,e){var i=ei.getDecimalSeparator(),n=new RegExp("[^0-9"+fs(i)+"]","g"),r=e.slice(0,t);return r.replace(n,"").length},H7=function(t){return t.split("").reverse().join("")},z7=function(t,e){if(!t)return-1;for(var i=/[0-9]/g,n=1,r=null,o=i.exec(e);o;){if(r=o.index,n>=t)return r;n++,o=i.exec(e)}return r===null?e.length:r},cAe=function(t){return t.replace(/[^0-9e]+$/,"")},Ju=function(t,e){return t.start===void 0&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}},W7=function(t,e,i,n){i=Ju(i,0);var r=ei.getDecimalSeparator(),o=hAe(t),s=Fg(n).occurrence,a=o?0:Z_(t,r,s),l=Z_(e,r,s),d=eC(t,a),u=eC(e,l),h=a!==-1&&i.start>a;if(h){var p=i.start-a-1,m=V7(p,d[1]),c=u[1]?l+1+z7(m,u[1])+1:e.length;return wd(c,e,n)}else{var x=cAe(u[0]),D=d[0].length-i.start,T=V7(D,H7(d[0])),N=z7(T,H7(x)),G=x.length-(N+1);return wd(G,e,n)}};function hAe(t){return t.length===1&&!!t.match(/^[,.][0-9]*$/g)}var j7=function(t,e,i){t=Ju(t,0);var n=wd(t,e,i);return t.start>=n.start&&t.end<=n.end};function wd(t,e,i){t=Ju(t,0);var n=tC(e,i),r={start:ln(t.start,n.start,n.end),end:ln(t.end,n.start,n.end)};return r}var $7=function(t,e,i){var n=tC(t,i),r=tC(e,i);return r.start-n.start};var pAe="dx-numberbox-spin",fAe="dx-numberbox-spin-button",gAe=100,K7="dxNumberBox",G7=ne(nt.up,K7),U7=ne(nt.cancel,K7),mAe=Ci.inherit({_getDefaultOptions:function(){return y(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t=pAe+"-"+this.option("direction");this.$element().addClass(fAe).addClass(t),this._spinIcon=g("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=ne(nt.down,this.NAME),e=this.$element();S.off(e,t),S.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),S.on(this.$element(),_o.name,(function(){this._feedBackDeferred=new H,HU(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,gAe,{event:t})}).bind(this));var e=ie.getDocument();S.on(e,G7,this._clearTimer.bind(this)),S.on(e,U7,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){S.off(this.$element(),_o.name);var t=ie.getDocument();S.off(t,G7),S.off(t,U7),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}}),kh=mAe;var vAe="dx-numberbox-spin",_Ae="dx-numberbox-spin-container",CAe="dx-numberbox-spin-touch-friendly",xO=class extends fl{_attachEvents(e,i){var{editor:n}=this,r=ne(nt.down,n.NAME),o=i.children(),s=n._createAction(a=>n._spinButtonsPointerDownHandler(a));S.off(i,r),S.on(i,r,a=>s({event:a})),kh.getInstance(o.eq(0)).option("onChange",a=>n._spinUpChangeHandler(a)),kh.getInstance(o.eq(1)).option("onChange",a=>n._spinDownChangeHandler(a))}_create(){var{editor:e}=this,i=g("<div>").addClass(_Ae),n=g("<div>").appendTo(i),r=g("<div>").appendTo(i),o=this._getOptions();return this._addToContainer(i),e._createComponent(n,kh,y({direction:"up"},o)),e._createComponent(r,kh,y({direction:"down"},o)),this._legacyRender(e.$element(),this._isTouchFriendly(),o.visible),{instance:i,$element:i}}_getOptions(){var{editor:e}=this,i=this._isVisible(),n=e.option("disabled");return{visible:i,disabled:n}}_isVisible(){var{editor:e}=this;return super._isVisible()&&e.option("showSpinButtons")}_isTouchFriendly(){var{editor:e}=this;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}_legacyRender(e,i,n){e.toggleClass(CAe,i),e.toggleClass(vAe,n)}update(){var e=super.update();if(e){var{editor:i,instance:n}=this,r=i.$element(),o=this._isVisible(),s=this._isTouchFriendly(),a=n.children(),l=kh.getInstance(a.eq(0)),d=kh.getInstance(a.eq(1)),u=this._getOptions();l.option(u),d.option(u),this._legacyRender(r,s,o)}}};var xAe=Math,yAe="dx-numberbox",bAe=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],DAe="NumberBoxForceValueChange",OAe=WD.inherit({_supportedKeys:function(){return y(this.callBase(),{upArrow:function(t){Wi(t)||(t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t))},downArrow:function(t){Wi(t)||(t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t))},enter:function(){}})},_getDefaultOptions:function(){return y(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:j.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:xO}])},_isSupportInputMode:function(){var t=parseFloat(Nt.version);return Nt.chrome&&t>=66||Nt.safari&&t>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return be.real().generic&&!be.isSimulator()},options:{useLargeSpinButtons:!1}},{device:(function(){return be.real().deviceType!=="desktop"&&!this._isSupportInputMode()}).bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(yAe),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=g("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val(l2(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=gv(t),i=/[\d.,eE\-+]/.test(e);if(!i){var n=qt(t);return Wi(t)||n&&bAe.includes(n)?void 0:(t.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");(!t.length||Number(t)!==e)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=O(e)?null:j.format("dxNumberBox-noDataText");return this.setAria({valuenow:Qt(e,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),new H().resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),i=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:Qt(this.option("min"),""),valuemax:Qt(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();!this.option("useLargeSpinButtons")&&ie.getActiveElement()!==t[0]&&S.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var i=parseFloat(this.option("step"));if(i!==0){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,i*t);var r=this.option("min"),o=this.option("max");O(r)&&(n=Math.max(r,n)),O(o)&&(n=Math.min(o,n)),this._saveValueChangeEvent(e),this.option("value",n)}},_correctRounding:function(t,e){var i=/[,.](.*)/,n=i.test(t),r=i.test(e);if(n||r){var o=n?i.exec(t)[0].length:0,s=r?i.exec(e)[0].length:0,a=xAe.max(o,s);return t=this._round(t+e,a),t}return t+e},_round:function(t,e){e=e||0;var i=Math.pow(10,e);return t*=i,t=Math.round(t)/i,t},_renderValueChangeEvent:function(){this.callBase();var t=ne("focusout",DAe);S.off(this.element(),t),S.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if(this.option("mode")!=="number"){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),i=this._normalizeText(),n=this._parseValue(i),r=i!=="."&&i!=="-";if(this._isValueValid()&&!this._validateValue(n)){e.val(this._applyDisplayValueFormatter(n));return}r&&this.callBase(t,isNaN(n)?null:n),this._applyValueBoundaries(i,n),this.validationRequest.fire({value:n,editor:this})},_applyValueBoundaries:function(t,e){var i=this._isValueIncomplete(t),n=this._isValueInRange(t);!i&&!n&&e!==null&&Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t=this.option("mode")==="number",e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return No(t,this.option("min"),this.option("max"))},_isNumber:function(t){return this._parseValue(t)!==null},_validateValue:function(t){var e=this._normalizeText(),i=this._isValueValid(),n=!0,r=this._isNumber(e);return isNaN(Number(t))&&(n=!1),!t&&i?n=!0:!r&&!i&&(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:ln(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},clear:function(){this.option("value")===null?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}}),q7=OAe;var EN="dxNumberFormatter",yO=1,SN=-1,J7="-",iC="minus",EAe="input",Y7=0,SAe=q7.inherit({_getDefaultOptions:function(){return y(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return t==="del"},_supportedKeys:function(){return this._useMaskBehavior()?y(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,SN),rightArrow:this._arrowHandler.bind(this,yO),home:this._moveCaretToBoundaryEventHandler.bind(this,yO),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,SN)}):this.callBase()},_getTextSeparatorIndex:function(t){var e=ei.getDecimalSeparator(),i=Fg(this.option("format")).occurrence;return Z_(t,e,i)},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var i=this._getInputVal(),n=this._getTextSeparatorIndex(i);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(SN,t)}}).bind(this),Y7)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(t){var e=this._getFormatPattern(),i=this.option("value"),n=this._format(i,e)||"";return n!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&S.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var i=this._getInputVal(),n=this._getFormatPattern(),r=Ju(this._caret(),t);j7(r,i,n)||(r=t===yO?r.end:r.start,e.preventDefault(),this._caret(wd(r,i,n)))}},_moveCaretToBoundary:function(t){var e=tC(this._getInputVal(),this._getFormatPattern()),i=Ju(t===yO?e.start:e.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var i=ei.getDecimalSeparator(),n=t.charAt(e.end)===i,r=(this._lastKey===i||this._lastKey==="."||this._lastKey===",")&&n;return r},_getInputVal:function(){return ei.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=ei.convertDigits(gv(t),!0),this._lastKeyName=qt(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),i=this._caret(),n=this._lastKeyName===iC?"":this._lastKey,r=this._tryParse(e,i,n);return this._shouldMoveCaret(e,i)&&(this._moveCaret(1),t.originalEvent.preventDefault()),r===void 0?this._lastKeyName!==iC&&t.originalEvent.preventDefault():this._parsedValue=r,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),i=this._getInputVal(),n=e.start,r=e.end;this._lastKey=gv(t),this._lastKeyName=qt(t);var o=this._isDeleteKey(this._lastKeyName),s=!o;if(n===r){var a=n,l=s&&a>0||o&&a<i.length;if(l)o&&r++,s&&n--;else{t.preventDefault();return}}var d=i.slice(n,r);if(this._isStub(d)){if(this._moveCaret(o?1:-1),this._parsedValue<0||1/this._parsedValue===-1/0){this._revertSign(t),this._setTextByParsedValue();var u=this.option("valueChangeEvent").split(" ").includes("input");u&&S.trigger(this._input(),"input")}t.preventDefault();return}var h=ei.getDecimalSeparator();if(d===h){var p=i.indexOf(h);this._isNonStubAfter(p+1)&&(this._moveCaret(o?1:-1),t.preventDefault());return}if(r-n<i.length){var m=this._replaceSelectedText(i,{start:n,end:r},""),c=m.search(/[0-9]/)<0;if(c&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}}var x=this._tryParse(i,{start:n,end:r},"");x===void 0?t.preventDefault():this._parsedValue=x},_isPercentFormat:function(){var t=this._getFormatPattern(),e=t.replace(/'[^']+'/g,"");return e.indexOf("%")!==-1},_parse:function(t,e){var i=this.option("format"),n=ce(i.parser),r=n?i.parser:ei.parse,o=0;if(!n){var s=Fg(e).index,a=this._getTextSeparatorIndex(t),l=s!==-1?s:e.length,d=a!==-1?a:t.length;d>l&&e.indexOf("#")===-1&&(o=d-l)}return t=t.substr(o),r(t,e)},_format:function(t,e){var i=this.option("format"),n=i?.formatter||i,r=ce(n)?n:ei.format,o=t===null?"":r(t,e);return o},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this.option("format"),e=ce(t?.parser),i=Se(t)&&(t.indexOf("0")>=0||t.indexOf("#")>=0),n=t==="exponential"||t?.type==="exponential",r=e||i||n;this._currentFormat=r?t:z3(o=>{var s=this._format(o,t);return ei.convertDigits(s,!0)})},_getFormatForSign:function(t){var e=this._getFormatPattern();if(Se(e)){var i=e.split(";"),n=ei.getSign(t,e);return i[1]=i[1]||"-"+i[0],n<0?i[1]:i[0]}else{var r=ei.getSign(t);return r<0?"-":""}},_removeStubs:function(t,e){var i=this._getFormatForSign(t),n=ei.getThousandsSeparator(),r=this._getStubs(i),o=t;if(r.length){var s=r[0],a=new RegExp("("+fs(r[1]||"")+")$","g"),l=new RegExp("[-"+fs(e?"":n)+"]","g");o=o.replace(s,"").replace(a,"").replace(l,"")}return o},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),i=e&&e[0].trim();return t.split(i).map(function(n){return n.replace(/'/g,"")})},_truncateToPrecision:function(t,e){if(O(t)){var i=t.toString(),n=i.indexOf(".");if(i&&n>-1){var r=parseFloat(i.substr(0,n+e+1));return isNaN(r)?t:r}}return t},_tryParse:function(t,e,i){var n=e.start!==e.end,r=n&&e.start===0&&e.end===t.length,o=ei.getDecimalSeparator();if(r&&i===o)return 0;var s=this._replaceSelectedText(t,e,i),a=this._getFormatPattern(),l=this._getParsedValue(s,a),d=!a.parser&&this._getPrecisionLimits(s).max,u=l!==this._parsedValue,h=i===o&&d===0,p=!n&&!u&&i!==J7&&!this._isValueIncomplete(s)&&this._isStub(i);if(!(h||p)&&(this._removeStubs(s)===""&&(l=Math.abs(0*this._parsedValue)),!isNaN(l))){var m=l===null?this._parsedValue:l;return l=d?this._truncateToPrecision(m,d):l,!a.parser&&this._isPercentFormat()?B7(l,d):l}},_getParsedValue:function(t,e){var i=ei.getSign(t,e?.formatter||e),n=this._removeStubs(t,!0),r=this._parse(n,e),o=r<0?-1:1,s=It(r)&&i!==o?i*r:r;return s},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),i=ei.getDecimalSeparator(),n=this._getTextSeparatorIndex(t),r=n>=0&&n<e.start,o=this._removeStubs(t,!0).split(i);if(!r||o.length!==2)return!1;var s=o[1].length,a=this._getFormatPattern(),l=!!a.parser,d=!l&&this._getPrecisionLimits(this._getFormatPattern(),t),u=l?!0:No(s,d.min,d.max),h=o[1].charAt(s-1)==="0";return u&&(h||!s)},_isValueInRange:function(t){var e=Qt(this.option("min"),-1/0),i=Qt(this.option("max"),1/0);return No(t,e,i)},_setInputText:function(t){var e=ei.convertDigits(t,!0),i=W7(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t=this.option("mode")==="number",e=be.real().deviceType==="desktop";this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return Se(t)&&t.length===1},_moveCaret:function(t){if(t){var e=Ju(this._caret(),t),i=wd(e,this._getInputVal(),this._getFormatPattern());this._caret(i)}},_shouldHandleKey:function(t){var e=qt(t),i=Wi(t)||t.altKey||t.shiftKey||!this._isChar(e),n=e===iC,r=this._useMaskBehavior();return r&&!i&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){S.off(this._input(),"."+EN)},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return O(e)?e==="insertFromPaste":this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();S.on(t,ne(EAe,EN),(function(e){this._formatValue(e),this._isValuePasted=!1}).bind(this)),S.on(t,ne("dxclick",EN),(function(){this._caretTimeout||(this._caretTimeout=setTimeout((function(){this._caretTimeout=void 0,this._caret(wd(this._caret(),this._getInputVal(),this._getFormatPattern()))}).bind(this),Y7))}).bind(this)),S.on(t,"dxdblclick",(function(){this.clearCaretTimeout()}).bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t){var e=this._getInputVal().slice(t);return e&&!this._isStub(e,!0)},_isStub:function(t,e){var i=fs(ei.getDecimalSeparator()),n="^[^0-9"+i+"]+$",r=new RegExp(n,"g");return r.test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=this._getFormatForSign(t),i=Fg(e).index,n=(eC(e,i)[1]||"").replace(/[^#0]/g,""),r=n.replace(/^(0*)#*/,"$1").length,o=n.length;return{min:r,max:o}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end)if(qt(t)===iC){this._applyRevertedSign(t,e,!0);return}else this._caret(wd(0,this._getInputVal(),this._getFormatPattern()));this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,i){var n=-1*Qt(this._parsedValue,null);if((this._isValueInRange(n)||n===0)&&(this._parsedValue=n,i)){var r=this._getFormatPattern(),o=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var s=this._getInputVal(),a=$7(o,s,r);e=Ju(e,a);var l=wd(e,s,r);this._caret(l)}},_removeMinusFromText:function(t,e){var i=this._lastKeyName===iC&&t.charAt(e.start-1)===J7;return i?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),i=this._format(e,t)||"";this._setInputText(i)},_formatValue:function(t){var e=this._getInputVal(),i=this._caret(),n=this._removeMinusFromText(e,i),r=n!==e;if(e=n,!this._isInputFromPaste(t)&&this._isValueIncomplete(n)){this._formattedValue=e,r&&this._setTextByParsedValue();return}var o=ei.convertDigits(this._formattedValue,!0)!==e;if(o){var s=this._tryParse(e,i,"");O(s)&&(this._parsedValue=s)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var t=this._getInputVal();this._parsedValue=this._tryParse(t,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal()),e=t?this._parseValue():null;if(!It(e)){this._parsedValue=e;return}this._parsedValue=ln(e,this.option("min"),this.option("max"))}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}}),wN=SAe;Be("dxNumberBox",wN);var X7=wN;var nC=X7;var TN="dx-state-focused",wAe="dx-cell-focus-disabled",IAe=".dx-row-focused",tJ=".dx-datagrid-rowsview .dx-row",Q7="".concat(tJ," > td"),iJ=".dx-treelist-rowsview .dx-row",Z7="".concat(iJ," > td"),eJ={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(IAe),"".concat(tJ,"[tabindex]"),"".concat(Q7,"[tabindex]"),"".concat(Q7),"".concat(iJ,"[tabindex]"),"".concat(Z7,"[tabindex]"),"".concat(Z7)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},IN=!1,bO=!1,Pg=null;function TAe(t,e,i,n,r,o){var s=AAe(e,i.originalEvent,o);if(!s){var a=qt(i);a==="enter"||a==="space"?(MN(i.target,e),n&&n({event:i})):a==="tab"?r.addClass(TN):rC(t,e,i)}}function MN(t,e){var i=g(t),n=i.attr("aria-label"),r=nJ(n,e.element()),o=r.index(i);Pg=y({},{ariaLabel:n,index:o},{viewInstance:e})}function nJ(t,e){var i=g(e),n;return t?n=i.find('[aria-label="'.concat(t,'"][tabindex]')):n=i.find("[tabindex]"),n}function MAe(t,e){var i=e?.getRootNode()||ie.getDocument();for(var n in t){var r=t[n],o=g(i).find(r).first();if(o.length)return o}}function AAe(t,e,i){var n={event:e,handled:!1};return i?i(n):t._createActionByOption("onKeyDown")(n),n.handled}function rJ(){bO=ie.getDocument().visibilityState==="visible"}function oJ(){S.on(ie.getDocument(),"visibilitychange",rJ)}function AN(){S.off(ie.getDocument(),"visibilitychange",rJ)}function sJ(t,e){bO=!0,t.focus({preventScroll:e}),bO=!1}function DO(t,e,i,n,r,o){if(e.option("useLegacyKeyboardNavigation"))return W;var s=()=>g(e.element()),a=u=>TAe(t,e,u,r,s(),o),l=()=>{IN=!0,s().removeClass(TN)},d=()=>{var u=!IN&&!bO;u&&s().addClass(TN),IN=!1};return S.on(i,"keydown",n,a),S.on(i,"mousedown",n,l),S.on(i,"focusin",n,d),()=>{S.off(i,"keydown",n,a),S.off(i,"mousedown",n,l),S.off(i,"focusin",n,d)}}function kg(t){if(!t.option("useLegacyKeyboardNavigation")&&Pg){var e=Pg.viewInstance;if(e){var i=nJ(Pg.ariaLabel,e.element()),n=i.eq(Pg.index);Pg=null,S.trigger(n,"focus")}}}function rC(t,e,i){var n=qt(i);if(i.ctrlKey&&(n==="upArrow"||n==="downArrow"))for(var r=Object.keys(eJ),o=r.indexOf(t);o>=0&&o<r.length;){o=n==="upArrow"?--o:++o;var s=r[o],a=eJ[s],l=MAe(a,i.target);if(l&&l.length){l.attr("tabindex",e.option("tabindex")||0),S.trigger(l,"focus"),l.removeClass(wAe);break}}}function aJ(t,e){t.option("useLegacyKeyboardnavigation")||e.attr("tabindex",t.option("tabindex")||0)}var Yu=function(t,e,i,n,r){var o=e.getController("keyboardNavigation");e.option("useLegacyKeyboardNavigation")||o&&!o.isKeyboardEnabled()||(e.createAction("onKeyDown"),DO(t,e,i,n,r,s=>{e.executeAction("onKeyDown",s)}))};var Nh="dxdblclick",RAe="dxDblClick",lJ=ne(lt,RAe),dJ=300,FAe=ot.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-dJ},add:function(){this._handlerCount<=0&&S.on(ie.getDocument(),lJ,this._clickHandler.bind(this)),this._handlerCount++},_clickHandler:function(t){var e=t.timeStamp||Date.now(),i=e-this._lastClickTimeStamp,n=i<0,r=!n&&i<dJ;r?(Jr({type:Nh,target:JG(this._firstClickTarget,t.target),originalEvent:t}),this._forgetLastClick()):(this._firstClickTarget=t.target,this._lastClickTimeStamp=e)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),S.off(ie.getDocument(),lJ))}});mr(Nh,new FAe);var uJ="dx-column-indicators",PAe="dx-group-panel-item",cJ={_applyColumnState(t){var e,i=this.option("rtlEnabled"),n=this._getColumnAlignment(t.column.alignment,i),r=y(!0,{columnAlignment:n},t),o=r.rootElement.hasClass(PAe),s=this._createIndicatorContainer(r,o),a=g("<span>").addClass(this._getIndicatorClassName(t.name)),l=(e=this.component)===null||e===void 0?void 0:e.getController("columns"),d=l?.getHeaderContentAlignment(n)||n;return r.container=s,r.indicator=a,this._renderIndicator(r),s[(o||!t.showColumnLines)&&d==="left"?"appendTo":"prependTo"](t.rootElement),a},_getIndicatorClassName:W,_getColumnAlignment(t,e){return e=e||this.option("rtlEnabled"),t&&t!=="center"?t:Yr(e)},_createIndicatorContainer(t,e){var i=this._getIndicatorContainer(t.rootElement),n=t.columnAlignment==="left"?"right":"left";return i.length||(i=g("<div>").addClass(uJ)),this.setAria("role","presentation",i),i.css("float",t.showColumnLines&&!e?n:null)},_getIndicatorContainer:t=>t&&t.find(".".concat(uJ)),_getIndicatorElements(t){var e=this._getIndicatorContainer(t);return e&&e.children()},_renderIndicator(t){var e=t.container,i=t.indicator;e&&i&&e.append(i)},_updateIndicators(t){var e=this.getColumns(),i=this.getColumnElements(),n;if(!(!i||e.length!==i.length))for(var r=0;r<e.length;r++){n=i.eq(r),this._updateIndicator(n,e[r],t);var o=n.parent().data("options");o&&o.cells&&(o.cells[n.index()].column=e[r])}},_updateIndicator(t,e,i){if(!e.command)return this._applyColumnState({name:i,rootElement:t,column:e,showColumnLines:this.option("showColumnLines")})}};var kAe=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i},Xu={borderedTop:"dx-bordered-top-view",borderedBottom:"dx-bordered-bottom-view"},NAe=t=>{var{columnHeadersView:e,rowsView:i}=t;return e?.isVisible()?e.element():i.element()},LAe=t=>{var{filterPanelView:e,footerView:i,rowsView:n}=t;return e?.isVisible()?e.element():i?.isVisible()?i.element():n.element()},hJ=(t,e)=>{var i,n=Object.values(t).find(r=>{var o;return(o=r?.element())===null||o===void 0?void 0:o.hasClass(e)});return(i=n?.element())!==null&&i!==void 0?i:null},BAe=(t,e)=>{var i;if(!Object.keys(e).includes(t))return!1;var{rowsView:n}=e,r=kAe(e,["rowsView"]);return O((i=n?.element)===null||i===void 0?void 0:i.call(n))?Object.values(r).filter(o=>{var s;return(s=o?.isVisible)===null||s===void 0?void 0:s.call(o)}).every(o=>O(o?.element())):!1},pJ=(t,e)=>{if(BAe(t,e)){var i=hJ(e,Xu.borderedTop),n=hJ(e,Xu.borderedBottom),r=NAe(e),o=LAe(e);i&&!i.is(r)&&i.removeClass(Xu.borderedTop),n&&!n.is(o)&&n.removeClass(Xu.borderedBottom),r.hasClass(Xu.borderedTop)||r.addClass(Xu.borderedTop),o.hasClass(Xu.borderedBottom)||o.addClass(Xu.borderedBottom)}};var VAe="dxDataGrid",mJ=ot.inherit({_endUpdateCore(){},ctor(t){var e=this;e._updateLockCount=0,e.component=t,e._actions={},e._actionConfigs={},F(this.callbackNames()||[],function(i,n){var r=e.callbackFlags(n)||{};r.unique=!0,r.syncStrategy=!0,e[this]=vt(r)})},init(){},callbackNames(){},callbackFlags(){},publicMethods(){},beginUpdate(){this._updateLockCount++},endUpdate(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option(t){var{component:e}=this,i=e._optionCache;return arguments.length===1&&i?(t in i||(i[t]=e.option(t)),i[t]):e.option.apply(e,arguments)},_silentOption(t,e){var{component:i}=this,n=i._optionCache;return n&&(n[t]=e),i._setOptionWithoutOptionChange(t,e)},localize(t){var e=this.component._optionCache;return e?(t in e||(e[t]=j.format(t)),e[t]):j.format(t)},on(){return this.component.on.apply(this.component,arguments)},off(){return this.component.off.apply(this.component,arguments)},optionChanged(t){t.name in this._actions&&(this.createAction(t.name,this._actionConfigs[t.name]),t.handled=!0)},getAction(t){return this._actions[t]},setAria(t,e,i){var n=i.get(0),r=t!=="role"&&t!=="id"?"aria-":"";n.setAttribute?n.setAttribute(r+t,e):i.attr(r+t,e)},_createComponent(){return this.component._createComponent.apply(this.component,arguments)},getController(t){return this.component._controllers[t]},createAction(t,e){if(ce(t)){var i=this.component._createAction(t.bind(this),e);return function(n){i({event:n})}}this._actions[t]=this.component._createActionByOption(t,e),this._actionConfigs[t]=e},executeAction(t,e){var i=this._actions[t];return i&&i(e)},dispose(){var t=this;F(t.callbackNames()||[],function(){t[this].empty()})},addWidgetPrefix(t){var e=this.component.NAME;return"dx-".concat(e.slice(2).toLowerCase()).concat(t?"-".concat(t):"")},getWidgetContainerClass(){var t=this.component.NAME===VAe?null:"container";return this.addWidgetPrefix(t)},elementIsInsideGrid(t){var e=t.closest(".".concat(this.getWidgetContainerClass())).parent();return e.is(this.component.$element())}}),FN=mJ,HAe=FN.inherit({getView(t){return this.component._views[t]},getViews(){return this.component._views}}),vJ=mJ.inherit({_isReady(){return this.component.isReady()},_endUpdateCore(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate(t,e){this._requireRender=!0,this.component._requireResize=Ne()&&(this.component._requireResize||t),this._requireReady=this._requireReady||e},_renderCore(){},_resizeCore(){},_parentElement(){return this._$parent},ctor(t){this.callBase(t),this.renderCompleted=vt(),this.resizeCompleted=vt()},element(){return this._$element},getElementHeight(){var t=this.element();if(!t)return 0;var e=parseFloat(t.css("marginTop"))||0,i=parseFloat(t.css("marginBottom"))||0,{offsetHeight:n}=t.get(0);return n+e+i},isVisible:()=>!0,getTemplate(t){return this.component._getTemplate(t)},getView(t){return this.component._views[t]},_getBorderedViews(){return{columnHeadersView:this.component._views.columnHeadersView,rowsView:this.component._views.rowsView,filterPanelView:this.component._views.filterPanelView,footerView:this.component._views.footerView}},render(t,e){var i=this._$element,n=this.isVisible();if(!(!i&&!t)&&(this._requireReady=!1,i||(i=this._$element=g("<div>").appendTo(t),this._$parent=t),i.toggleClass("dx-hidden",!n),this.component._views&&pJ(this.name,this._getBorderedViews()),n)){this.component._optionCache={};var r=this._renderCore(e);this.component._optionCache=void 0,r?r.done(()=>{this.renderCompleted.fire(e)}):this.renderCompleted.fire(e)}},resize(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus(t){this.element().get(0).focus({preventScroll:t})}}),fJ=1e6;function gJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i={};return Object.entries(e).forEach(n=>{var[r,o]=n,s=t[r];if(s)if(ce(o))i[r]=o(s);else{var a=s;i[r]=a.inherit(o)}}),i}function zAe(t,e,i){var n=i.publicMethods();n&&F(n,(r,o)=>{if(i[o])if(!t[o])t[o]=function(){return i[o](...arguments)};else throw Ke.Error("E1005",o);else throw Ke.Error("E1006",e,o)})}function WAe(t,e){var{modules:i}=e,{modulesOrder:n}=e;function r(u){var h={};return F(u,(p,m)=>{var c=new m(t);c.name=p,zAe(t,p,c),h[p]=c}),h}n&&i.sort((u,h)=>{var p=n.indexOf(u.name),m=n.indexOf(h.name);return p<0&&(p=fJ),m<0&&(m=fJ),p-m});var o={},s={};i.forEach(u=>{var{name:h,controllers:p={},views:m={}}=u;Object.entries(p).forEach(c=>{var[x,D]=c,T;if(o[x])throw Ke.Error("E1001",h,x);if(!(!((T=D?.subclassOf)===null||T===void 0)&&T.call(D,FN)))throw Ke.Error("E1002",h,x);o[x]=D}),Object.entries(m).forEach(c=>{var[x,D]=c,T;if(s[x])throw Ke.Error("E1003",h,x);if(!(!((T=D?.subclassOf)===null||T===void 0)&&T.call(D,vJ)))throw Ke.Error("E1004",h,x);s[x]=D})});var a=i.filter(u=>{var{extenders:h}=u;return!!h}),l=a.reduce((u,h)=>{var{extenders:p}=h;return te(te({},u),gJ(u,p?.controllers))},o),d=a.reduce((u,h)=>{var{extenders:p}=h;return te(te({},u),gJ(u,p?.views))},s);t._controllers=r(l),t._views=r(d)}var jAe=function(t,e,i){i=i||[],t._controllers&&F(t._controllers,function(){this[e]&&this[e].apply(this,i)}),t._views&&F(t._views,function(){this[e]&&this[e].apply(this,i)})},Mt={modules:[],View:vJ,ViewController:HAe,Controller:FN,registerModule(t,e){for(var{modules:i}=this,n=0;n<i.length;n++)if(i[n].name===t)return;e.name=t,i.push(e)},registerModulesOrder(t){this.modulesOrder=t},unregisterModule(t){this.modules=Sn(this.modules,e=>e.name!==t)},processModules:WAe,callModuleItemsMethod:jAe};var $Ae=["year","month","day"],GAe=["year","month","day","hour","minute"],kN=function(t){return t==="date"||t==="datetime"},PN=function(t){var e,i=[],n=["year","month","day","hour","minute","second"],r=t.headerFilter&&t.headerFilter.groupInterval,o=r==="quarter"?"month":r;if(kN(t.dataType)&&r!==null)return i=t.dataType==="datetime"?GAe:$Ae,e=n.indexOf(o),e>=0&&(i=n.slice(0,e),i.push(r)),i;if(O(r))return Array.isArray(r)?r:[r]},ks=function(){var t=function(r,o){var s=r.dataField||r.selector;return o==="search"&&(s=r.displayField||r.calculateDisplayValue||s),s},e=function(r,o){var s,a,l,d=t(this,o);if(Array.isArray(r)&&O(r[0])&&O(r[1]))return a=[d,">=",r[0]],l=[d,"<=",r[1]],kN(this.dataType)&&(u=r[1],u.getHours()+u.getMinutes()+u.getSeconds()+u.getMilliseconds()<1)&&(s=new Date(r[1].getTime()),this.dataType==="date"&&s.setDate(r[1].getDate()+1),l=[d,"<",s]),[a,"and",l];var u},i=function(r,o,s){var a,l,d,u=function(p){return Dn(p)?[p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds()]:gi((""+p).split("/"),function(m,c){return c===1?Number(m)-1:Number(m)})}(r),h=t(this,s);switch(s==="headerFilter"?d=PN(this)[u.length-1]:this.dataType==="datetime"&&(d="minute"),d){case"year":a=new Date(u[0],0,1),l=new Date(u[0]+1,0,1);break;case"month":a=new Date(u[0],u[1],1),l=new Date(u[0],u[1]+1,1);break;case"quarter":a=new Date(u[0],3*u[1],1),l=new Date(u[0],3*u[1]+3,1);break;case"hour":a=new Date(u[0],u[1],u[2],u[3]),l=new Date(u[0],u[1],u[2],u[3]+1);break;case"minute":a=new Date(u[0],u[1],u[2],u[3],u[4]),l=new Date(u[0],u[1],u[2],u[3],u[4]+1);break;case"second":a=new Date(u[0],u[1],u[2],u[3],u[4],u[5]),l=new Date(u[0],u[1],u[2],u[3],u[4],u[5]+1);break;default:a=new Date(u[0],u[1],u[2]),l=new Date(u[0],u[1],u[2]+1)}switch(o){case"<":return[h,"<",a];case"<=":return[h,"<",l];case">":return[h,">=",l];case">=":return[h,">=",a];case"<>":return[[h,"<",a],"or",[h,">=",l]];default:return[[h,">=",a],"and",[h,"<",l]]}},n=function(r,o,s){var a=t(this,s),l=PN(this);if(s==="headerFilter"&&l&&O(r)){var d=(""+r).split("/"),u=Number(d[d.length-1]),h=l[d.length-1],p=[a,">=",u],m=[a,"<",u+h],c=[p,"and",m];return c}return[a,o||"=",r]};return{defaultCalculateFilterExpression:function(r,o,s){var a=this,l=t(a,s),d=a.calculateDisplayValue&&s==="search",u=d&&a.lookup&&a.lookup.dataType||a.dataType,h=null;if((s==="headerFilter"||s==="filterBuilder")&&r===null)h=[l,o||"=",null],u==="string"&&(h=[h,o==="="?"or":"and",[l,o||"=",""]]);else if(u==="string"&&(!a.lookup||d))h=[l,o||"contains",r];else{if(o==="between")return e.apply(a,[r,s]);if(kN(u)&&O(r))return i.apply(a,arguments);if(u==="number")return n.apply(a,arguments);h=[l,o||"=",r]}return h},getGroupInterval:PN}}();var UAe="dx-selection-disabled",KAe="dx-datagrid-group-opened",qAe="dx-datagrid-group-closed",JAe="dx-datagrid-expand",YAe="nodata",XAe="infinite",_J="virtual",QAe="scrolling.legacyMode",CJ="scrolling.mode",ZAe="scrolling.rowRenderingMode",eRe={year:t=>t&&t.getFullYear(),month:t=>t&&t.getMonth()+1,day:t=>t&&t.getDate(),quarter:t=>t&&Math.floor(t.getMonth()/3)+1,hour:t=>t&&t.getHours(),minute:t=>t&&t.getMinutes(),second:t=>t&&t.getSeconds()},tRe=function(){var t=arguments[1],e=this.calculateCellValue(t);if(!O(e))return null;if(DJ(this.dataType)){var i=arguments[0];return eRe[i](e)}if(this.dataType==="number"){var n=arguments[0];return Math.floor(Number(e)/n)*n}},iRe=function(t,e){return ce(t)&&ce(e)&&t.originalCallback&&e.originalCallback?t.originalCallback===e.originalCallback&&t.columnIndex===e.columnIndex:t===e};function DJ(t){return t==="date"||t==="datetime"}var xJ=function(t){t.get(0).textContent="\xA0"},NN=function(t){t=t||[];for(var e=fo(t),i=0;i<t.length;i++)t&&t[i]&&t[i].isExpanded!==void 0&&(e[i].isExpanded=t[i].isExpanded),t&&t[i]&&t[i].groupInterval!==void 0&&(e[i].groupInterval=t[i].groupInterval);return e},OJ=function(t,e){var i=vO.format(t,e.format)||t&&t.toString()||"",n={value:t,valueText:e.getDisplayFormat?e.getDisplayFormat(i):i,target:e.target||"row",groupInterval:e.groupInterval};return e.customizeText?e.customizeText.call(e,n):n.valueText},yJ=function(t,e){var i=t.displayFormat||t.columnCaption&&e["".concat(t.summaryType,"OtherColumn")]||e[t.summaryType];return OJ(t.value,{format:t.valueFormat,getDisplayFormat:n=>i?yr(i,n,t.columnCaption):n,customizeText:t.customizeText})},bJ=function(t){var e=t.data&&t.data(),i=e&&e.dxComponents,n=i&&i[0];return n&&e[n]},nRe=function t(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;for(var n=0;n<e.length;n++)if(!t(e[n],i[n]))return!1;return!0}return ce(e)&&e.columnIndex>=0&&ce(i)&&i.columnIndex>=0?e.columnIndex===i.columnIndex&&Cn(e.filterValue)===Cn(i.filterValue)&&Cn(e.selectedFilterOperation)===Cn(i.selectedFilterOperation):Cn(e)==Cn(i)};function rRe(t){return Array.isArray(t)||(t=[t]),t.map((e,i)=>Se(e)?{selector:e,isExpanded:i<t.length-1}:e)}var he={renderNoDataText(t){if(t=t||this.element(),!!t){var e=this.addWidgetPrefix(YAe),i=t.find(".".concat(e)).last(),n=this._dataController.isEmpty(),r=this._dataController.isLoading();i.length||(i=g("<span>").addClass(e)),i.parent().is(t)||i.appendTo(t),n&&!r?i.removeClass("dx-hidden").text(this._getNoDataText()):i.addClass("dx-hidden")}},renderLoadPanel(t,e,i){var n;this._loadPanel&&this._loadPanel.$element().remove(),n=this.option("loadPanel"),n&&(n.enabled==="auto"?!i:n.enabled)?(n=y({shading:!1,message:n.text,container:e},n),this._loadPanel=this._createComponent(g("<div>").appendTo(e),iD,n)):this._loadPanel=null},calculateLoadPanelPosition(t){var e=g(Le());return je(t)>je(e)?{of:e,boundary:t,collision:"fit"}:{of:t}},getIndexByKey(t,e,i){var n=-1;if(t!==void 0&&Array.isArray(e)){i=arguments.length<=2?"key":i;for(var r=0;r<e.length;r++){var o=O(i)?e[r][i]:e[r];if(Rt(t,o)){n=r;break}}}return n},combineFilters(t,e){var i,n=[];e=e||"and";for(var r=0;r<t.length;r++)if(t[r]){if(((i=t[r])===null||i===void 0?void 0:i.length)===1&&t[r][0]==="!"){if(e==="and")return["!"];if(e==="or")continue}n.length&&n.push(e),n.push(t[r])}if(n.length===1&&(n=n[0]),n.length)return n},checkChanges(t,e){for(var i=0,n=0;n<e.length;n++)t[e[n]]&&i++;return t.length&&t.length===i},equalFilterParameters:nRe,proxyMethod(t,e,i){t[e]||(t[e]=function(){var n=this._dataSource;return n?n[e].apply(n,arguments):i})},formatValue:OJ,getFormatOptionsByColumn:(t,e)=>({format:t.format,getDisplayFormat:t.getDisplayFormat,customizeText:t.customizeText,target:e,trueText:t.trueText,falseText:t.falseText}),getDisplayValue(t,e,i,n){return t.displayValueMap&&t.displayValueMap[e]!==void 0?t.displayValueMap[e]:t.calculateDisplayValue&&i&&n!=="group"?t.calculateDisplayValue(i):t.lookup&&!(n==="group"&&(t.calculateGroupValue||t.calculateDisplayValue))?t.lookup.calculateCellValue(e):e},getGroupRowSummaryText(t,e){for(var i="(",n=0;n<t.length;n++){var r=t[n];i+=(n>0?", ":"")+yJ(r,e)}return i+")"},getSummaryText:yJ,normalizeSortingInfo:NN,getFormatByDataType(t){switch(t){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters(t,e){var i=[],n=t.dataField||t.name,r=ks.getGroupInterval(t);return r?(F(r,(o,s)=>{i.push(e?{selector:n,groupInterval:s,isExpanded:o<r.length-1}:tRe.bind(t,s))}),i):(e?i=[{selector:n,isExpanded:!1}]:(i=function(o){var s=t.calculateCellValue(o);return(s===void 0||s==="")&&(s=null),s},t.sortingMethod&&(i=[{selector:i,compare:t.sortingMethod.bind(t)}])),i)},equalSortParameters(t,e,i){if(t=NN(t),e=NN(e),Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!iRe(t[n].selector,e[n].selector)||t[n].desc!==e[n].desc||t[n].groupInterval!==e[n].groupInterval||!i&&!!t[n].isExpanded!=!!e[n].isExpanded)return!1;return!0}return(!t||!t.length)==(!e||!e.length)},getPointsByColumns(t,e,i,n){for(var r=t.length,o=!1,s,a,l=n||0,d=[],u,h=0;h<=r;h++){h<r&&(s=t.eq(h),a=s.offset(),u=s.css("direction")==="rtl");var p={index:l,x:a?a.left+(!i&&u^h===r?Jt(s[0]).width:0):0,y:a?a.top+(i&&h===r?Jt(s[0]).height:0):0,columnIndex:l};if(!i&&h>0){var m=t.eq(h-1).offset();m.top<p.y&&(p.y=m.top)}e&&(o=e(p)),o||d.push(p),l++}return d},getExpandCellTemplate:()=>({allowRenderToDetachedContainer:!0,render(t,e){var i=g(t);if(O(e.value)&&!(e.data&&e.data.isContinuation)&&!e.row.isNewRow){var n=e.component.getView("rowsView");i.addClass(JAe).addClass(UAe),g("<div>").addClass(e.value?KAe:qAe).appendTo(i),n.setAria("label",e.value?n.localize("dxDataGrid-ariaCollapse"):n.localize("dxDataGrid-ariaExpand"),i)}else xJ(i)}}),setEmptyText:xJ,isDateType:DJ,getSelectionRange(t){try{if(t)return{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}}catch{}return{}},setSelectionRange(t,e){try{t&&t.setSelectionRange&&t.setSelectionRange(e.selectionStart,e.selectionEnd)}catch{}},focusAndSelectElement(t,e){var i=e.is(":focus");S.trigger(e,"focus");var n=t.option("editing.selectTextOnEditStart"),r=e.get(0);if(!i&&n&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){var o=bJ(e.closest(".dx-texteditor"));ye(o&&o._loadItemDeferred).done(()=>{r.select()})}},getWidgetInstance:bJ,getLastResizableColumnIndex(t,e){var i=t.some(a=>a&&!a.command&&!a.fixed&&a.allowResizing!==!1),n;for(n=t.length-1;t[n];n--){var r=t[n],o=e&&e[n],s=!i||r.allowResizing!==!1;if(!r.command&&!r.fixed&&o!=="adaptiveHidden"&&s)break}return n},isElementInCurrentGrid(t,e){if(e&&e.length){var i=e.closest(".".concat(t.getWidgetContainerClass())).parent();return i.is(t.component.$element())}return!1},isVirtualRowRendering(t){var e=t.option(ZAe),i=t.option(CJ)===_J,n=t.option(CJ)===XAe;return t.option(QAe)===!1&&(i||n)?!0:e===_J},getPixelRatio:t=>t.devicePixelRatio||1,getContentHeightLimit(t){return t.mozilla?8e6:15e6/this.getPixelRatio(Le())},normalizeLookupDataSource(t){var e;return t.items?e=t.items:(e=t.dataSource,ce(e)&&!En.isWrapped(e)&&(e=e({}))),Ms(e)},getWrappedLookupDataSource(t,e,i){if(!e)return[];var n=this.normalizeLookupDataSource(t.lookup);if(t.calculateCellValue!==t.defaultCalculateCellValue)return n;var r=e.remoteOperations().groupPaging,o=t.displayField&&Se(t.displayField),s,a,l,d=(h,p)=>{var m,c=(m=p.skip)!==null&&m!==void 0?m:0,x=p.take?c+p.take:h.length;return h.slice(c,x)},u=te(te({},n),{__dataGridSourceFilter:i,load:h=>{var p=new H;return(m=>{var c=rRe(o?[t.dataField,t.displayField]:t.dataField),x=new H,D=s&&(!r||m.skip===l&&m.take===a);return D?x.resolve(d(s,m)):(l=m.skip,a=m.take,e.load({filter:i,group:c,take:r?m.take:void 0,skip:r?m.skip:void 0}).done(T=>{s=T,x.resolve(r?T:d(T,m))}).fail(x.fail)),x})(h).done(m=>{if(m.length===0){p.resolve([]);return}var c=this.combineFilters(m.flatMap(D=>D.key).map(D=>[t.lookup.valueExpr,D]),"or"),x=new Lr(te(te(te({},n),h),{filter:this.combineFilters([c,h.filter],"and"),paginate:!1}));x.load().done(p.resolve).fail(p.fail)}).fail(p.fail),p},key:t.lookup.valueExpr,byKey(h){var p=H();return this.load({filter:[t.lookup.valueExpr,"=",h]}).done(m=>{p.resolve(m[0])}),p.promise()}});return u},logHeaderFilterDeprecatedWarningIfNeed(t){var e=t._logDeprecatedOptionWarning.bind(t);O(t.option("headerFilter.allowSearch"))&&e("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),O(t.option("headerFilter.searchTimeout"))&&e("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});var i=t.NAME==="dxPivotGrid"?"dataSource.fields":"columns",n=t.option(i);if(Array.isArray(n)){var r=o=>{o.forEach(s=>{var a,l=s.headerFilter||{};O(l.allowSearch)&&e("".concat(i,"[].headerFilter.allowSearch"),{since:"23.1",alias:"".concat(i,"[].headerFilter.search.enabled")}),O(l.searchMode)&&e("".concat(i,"[].headerFilter.searchMode"),{since:"23.1",alias:"".concat(i,"[].headerFilter.search.mode")}),!((a=s.columns)===null||a===void 0)&&a.length&&r(s.columns)})};r(n)}}};var EJ="scroll-container",oRe="scrollable-simulated",sRe="group-space",aRe="content",lRe="table",dRe="table-fixed",uRe="content-fixed",oC="dx-row",LN="dx-group-row",cRe="dx-group-cell",BN="dx-master-detail-row",hRe="filter-row",pRe="dx-error-row",fRe="cell-updated-animation",wJ="0.0001px",VN="dxCellHintVisible",gRe="dx-field-item-content",mRe={render(t){t.container.append(t.content)}},vRe=function(t,e){var i,n,r;function o(s){return setTimeout(()=>{i=n=null},s)}S.on(e,"touchstart touchend",".dx-row",s=>{clearTimeout(r),s.type==="touchstart"?(i=s.target,n=s.currentTarget,r=o(1e3)):r=o()}),S.on(e,[lt,Nh,nt.down].join(" "),".dx-row",t.createAction(s=>{var{event:a}=s;i&&(a.target=i,a.currentTarget=n),g(a.target).closest("a").length||(s.rowIndex=t.getRowIndex(a.currentTarget),s.rowIndex>=0&&(s.rowElement=Pe(g(a.currentTarget)),s.columns=t.getColumns(),a.type===nt.down?t._rowPointerDown(s):a.type===lt?t._rowClick(s):t._rowDblClick(s)))}))},OO=function(t){return t==="auto"?"":It(t)?"".concat(t,"px"):t},SJ=function(t,e,i){t.style.width=t.style.maxWidth=e.width==="auto"?"":i},_Re=function(t,e){if(!(!t||!e)){var i=t.attributes,n=e.attributes,r;for(r=0;r<i.length;r++){var o=i[r].nodeName;e.hasAttribute(o)||t.removeAttribute(o)}for(r=0;r<n.length;r++)t.setAttribute(n[r].nodeName,n[r].nodeValue)}},CRe=function(t){t.resolve()},HN=t=>typeof t=="number"?"".concat(t.toFixed(3),"px"):t==="adaptiveHidden"?wJ:t,xRe=Mt.View.inherit(cJ),Ns=class extends xRe{_createScrollableOptions(){var e=this.option("scrolling"),i=this.option("scrolling.useNative"),n=y({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return i===void 0&&(i=!0),i==="auto"?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!i,n.useSimulatedScrollbar=!i),n}_updateCell(e,i){i.rowType&&this._cellPrepared(e,i)}_createCell(e){var{column:i}=e,n=i.alignment||Yr(this.option("rtlEnabled")),r=ie.createElement("td");r.style.textAlign=n;var o=g(r);return e.rowType==="data"&&i.headerId&&!i.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",i.headerId,o),i.cssClass&&o.addClass(i.cssClass),Array.isArray(i.elementAttr)&&i.elementAttr.forEach(s=>{var{name:a,value:l}=s;o.attr(a,l)}),i.command==="expand"&&(o.addClass(i.cssClass),o.addClass(this.addWidgetPrefix(sRe))),i.colspan>1?o.attr("colSpan",i.colspan):!i.isBand&&i.visibleWidth!=="auto"&&this.option("columnAutoWidth")&&((i.width||i.minWidth)&&(r.style.minWidth=OO(i.minWidth||i.width)),i.width&&SJ(r,i,OO(i.width))),o}_createRow(e,i){i=i||"tr";var n=g("<".concat(i,">")).addClass(oC);return this.setAria("role","row",n),n}_isAltRow(e){return e&&e.dataIndex%2===1}_createTable(e,i){var n=g("<table>").addClass(this.addWidgetPrefix(lRe)).addClass(this.addWidgetPrefix(dRe));if(e&&!i?(n.attr("id","dx-".concat(new kt)).append(this._createColGroup(e)),Nt.safari&&n.append(g("<thead>").append("<tr>")),this.setAria("role","presentation",n)):this.setAria("hidden",!0,n),this.setAria("role","presentation",g("<tbody>").appendTo(n)),i)return n;Nt.mozilla&&S.on(n,"mousedown","td",o=>{o.ctrlKey&&o.preventDefault()}),this.option("cellHintEnabled")&&S.on(n,"mousemove",".dx-row > td",this.createAction(o=>{var s=o.event,a=g(s.target),l=g(s.currentTarget),d=l.parent(),u=this._columnsController.getVisibleColumns(),h=d.data("options"),p=l.index(),m=h&&h.cells&&h.cells[p],c=m?m.column:u[p],x=d.hasClass("dx-header-row"),D=d.hasClass("dx-data-row"),T=d.hasClass(BN),N=d.hasClass(LN),G=d.hasClass(this.addWidgetPrefix(hRe)),U=D&&(!c||c.cellTemplate),re=D&&m&&(h.isEditing||m.isEditing||c?.showEditorAlways),_=x&&(!c||c.headerCellTemplate),Oe=N&&(!c||c.groupIndex&&c.groupCellTemplate),fe=!T&&!G&&!re&&!U&&!_&&!Oe;if(fe){a.data(VN)&&(a.removeAttr("title"),a.data(VN,!1));var we=a[0].scrollWidth-a[0].clientWidth;we>0&&!O(a.attr("title"))&&(a.attr("title",a.text()),a.data(VN,!0))}}));var r=o=>{var s=g(o.currentTarget),a=g(o.target).closest(".".concat(gRe)),l=s.parent(),d=l.data("options"),u=d&&d.cells&&d.cells[s.index()];if(s.closest("table").is(o.delegateTarget)){var h=y({},u,{cellElement:Pe(s),event:o,eventType:o.type});if(h.rowIndex=this.getRowIndex(l),a.length){var p=a.data("dx-form-item");p.column&&(h.column=p.column,h.columnIndex=this._columnsController.getVisibleIndex(h.column.index))}return h}};return S.on(n,"mouseover",".dx-row > td",o=>{var s=r(o);s&&this.executeAction("onCellHoverChanged",s)}),S.on(n,"mouseout",".dx-row > td",o=>{var s=r(o);s&&this.executeAction("onCellHoverChanged",s)}),S.on(n,lt,".dx-row > td",o=>{var s=r(o);s&&this.executeAction("onCellClick",s)}),S.on(n,Nh,".dx-row > td",o=>{var s=r(o);s&&this.executeAction("onCellDblClick",s)}),vRe(this,n),n}_rowPointerDown(){}_rowClick(){}_rowDblClick(){}_createColGroup(e){for(var i=g("<colgroup>"),n=0;n<e.length;n++)for(var r=e[n].colspan||1,o=0;o<r;o++)i.append(this._createCol(e[n]));return i}_createCol(e){var i=e.visibleWidth||e.width;i==="adaptiveHidden"&&(i=wJ);var n=g("<col>");return dv(n,i),n}renderDelayedTemplates(e){var i=this._delayedTemplates,n=i.filter(o=>!o.async),r=i.filter(o=>o.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(n,!1,e),this._renderDelayedTemplatesCoreAsync(r)}_renderDelayedTemplatesCoreAsync(e){if(e.length){var i=Le().setTimeout(()=>{this._templateTimeouts.delete(i),this._renderDelayedTemplatesCore(e,!0)});this._templateTimeouts.add(i)}}_renderDelayedTemplatesCore(e,i,n){for(var r=new Date;e.length;){var o=e.shift(),{options:s}=o,a=ie.getRootNode(g(s.container).get(0)),l=this.needWaitAsyncTemplates();if((!i||g(s.container).closest(a).length||l)&&(n&&(s.change=n),o.template.render(s)),i&&new Date-r>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()}_processTemplate(e,i){var n;if(e&&e.render&&!Ln(e))n={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render(o){e.render(o.container,o.model,o.change),o.deferred&&o.deferred.resolve()}};else if(ce(e))n={render(o){var s=e(Pe(o.container),o.model,o.change);s&&(s.nodeType||Ln(s))&&o.container.append(s),o.deferred&&o.deferred.resolve()}};else{var r=Se(e)?e:g(e).attr("id");r?(this._templatesCache[r]||(this._templatesCache[r]=this.getTemplate(e)),n=this._templatesCache[r]):n=this.getTemplate(e)}return n}renderTemplate(e,i,n,r,o){var s,a=this._processTemplate(i,n),{column:l}=n,d=n.rowType==="data",u=new H,h={container:e,model:n,deferred:u,onRendered:()=>{this.isDisposed()?u.reject():u.resolve()}};if(a){n.component=this.component;var p=l&&(l.renderAsync&&d||this.option("renderAsync")&&(l.renderAsync!==!1&&(l.command||l.showEditorAlways)&&d||n.rowType==="filter")),m=(s=n.renderAsync)!==null&&s!==void 0?s:p;(a.allowRenderToDetachedContainer||r)&&!m?a.render(h):this._delayedTemplates.push({template:a,options:h,async:m}),this._templateDeferreds.add(u),S.on(e,xn,CRe.bind(null,u))}else u.reject();return u.promise().always(()=>{this._templateDeferreds.delete(u)})}_getBodies(e){return g(e).children("tbody").not(".dx-header").not(".dx-footer")}_needWrapRow(e){var i,n=!!this.option().rowTemplate;return n&&!!(!((i=this._getBodies(e))===null||i===void 0)&&i.filter(".".concat(oC)).length)}_wrapRowIfNeed(e,i,n){var r=n?e||this._tableElement:this._tableElement||e,o=this._needWrapRow(r);if(o){var s=g("<tbody>").addClass(i.attr("class"));return this.setAria("role","presentation",s),s.append(i)}return i}_appendRow(e,i,n){n=n||mRe,n.render({content:i,container:e})}_resizeCore(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}_renderCore(e){var i=this.element().parent();(!i||i.parent().length)&&this.renderDelayedTemplates(e)}_renderTable(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();var i=e.change&&e.change.changeType,n=this._createTable(e.columns,i==="append"||i==="prepend"||i==="update");return this._renderRows(n,e),n}_renderRows(e,i){for(var n=this._getRows(i.change),r=i.change&&i.change.columnIndices||[],o=i.change&&i.change.changeTypes||[],s=0;s<n.length;s++)this._renderRow(e,y({row:n[s],columnIndices:r[s],changeType:o[s]},i))}_renderRow(e,i){i.columnIndices||(i.row.cells=[]);var n=this._createRow(i.row),r=this._wrapRowIfNeed(e,n);i.changeType!=="remove"&&this._renderCells(n,i),this._appendRow(e,r);var o=y({columns:i.columns},i.row);this._addWatchMethod(o,i.row),this._rowPrepared(r,o,i.row)}_needRenderCell(e,i){return!i||i.indexOf(e)>=0}_renderCells(e,i){for(var n=0,{row:r}=i,{columns:o}=i,s=0;s<o.length;s++)this._needRenderCell(s,i.columnIndices)&&this._renderCell(e,y({column:o[s],columnIndex:n,value:r.values&&r.values[n],oldValue:r.oldValues&&r.oldValues[n]},i)),o[s].colspan>1?n+=o[s].colspan:n++}_updateCells(e,i,n){var r=e.children(),o=i.children(),s=this.option("highlightChanges"),a=this.addWidgetPrefix(fRe);n.forEach((l,d)=>{var u=r.eq(l),h=o.eq(d);u.replaceWith(h),s&&!h.hasClass("dx-command-expand")&&h.addClass(a)}),_Re(e.get(0),i.get(0))}_setCellAriaAttributes(e,i){if(i.rowType!=="freeSpace"){this.setAria("role","gridcell",e);var n=this._columnsController.getColumnIndexOffset(),r=i.columnIndex+n+1;this.setAria("colindex",r,e)}}_renderCell(e,i){var n=this._getCellOptions(i);if(i.columnIndices){if(i.row.cells){var r=i.row.cells.findIndex(s=>s.columnIndex===n.columnIndex);i.row.cells[r]=n}}else i.row.cells.push(n);var o=this._createCell(n);return this._setCellAriaAttributes(o,n),this._renderCellContent(o,n,i),e.get(0).appendChild(o.get(0)),o}_renderCellContent(e,i,n){var r=this._getCellTemplate(i);ye(!r||this.renderTemplate(e,r,i,void 0,n.change)).done(()=>{this._updateCell(e,i)})}_getCellTemplate(e){}_getRows(e){return[]}_getCellOptions(e){var i={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(i),i}_addWatchMethod(e,i){if(this.option("repaintChangesOnly")){var n=[];return i=i||e,i.watch=i.watch||function(r,o,s){var a=r(i.data),l=function(d){d&&s&&s(d);var u=r(i.data);JSON.stringify(a)!==JSON.stringify(u)&&(d&&o(u),a=u)};return n.push(l),function(){var d=n.indexOf(l);d>=0&&n.splice(d,1)}},i.update=i.update||function(r,o){r&&(this.data=e.data=r.data,this.rowIndex=e.rowIndex=r.rowIndex,this.dataIndex=e.dataIndex=r.dataIndex,this.isExpanded=e.isExpanded=r.isExpanded,e.row&&!o&&(e.row=r)),n.forEach(s=>{s(r)})},i!==e&&(e.watch=i.watch.bind(i)),e}}_cellPrepared(e,i){i.cellElement=Pe(g(e)),this.executeAction("onCellPrepared",i)}_rowPrepared(e,i,n){ui(e.get(0),"options",i),i.rowElement=Pe(e),this.executeAction("onRowPrepared",i)}_columnOptionChanged(e){var{optionNames:i}=e;if(he.checkChanges(i,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns(),r=n.map(o=>o.visibleWidth||o.width);this.setColumnWidths({widths:r,optionNames:i});return}this._requireReady||this.render()}getCellIndex(e){var i=e.length?e[0].cellIndex:-1;return i}getTableElements(){return this._tableElement||g()}getTableElement(e){return this._tableElement}setTableElement(e,i){this._tableElement=e}optionChanged(e){switch(super.optionChanged(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":case"keyboardNavigation":this._invalidate(!0,!0),e.handled=!0}}init(){this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:e=>{this._afterRowPrepared(e)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))}_afterRowPrepared(e){}_handleDataChanged(){}callbackNames(){return["scrollChanged"]}_updateScrollLeftPosition(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}scrollTo(e){var i=this.element(),n=i&&i.children(".".concat(this.addWidgetPrefix(EJ))).not(".".concat(this.addWidgetPrefix(uRe)));O(e)&&O(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))}_getContent(e){var i;return(i=this._tableElement)===null||i===void 0?void 0:i.parent()}_removeContent(e){var i=this._getContent(e);i?.length&&i.remove()}_wrapTableInScrollContainer(e,i){var n=g("<div>"),r=this.option("scrolling.useNative");return(r===!1||r==="auto"&&!Cs)&&n.addClass(this.addWidgetPrefix(oRe)),S.on(n,"scroll",()=>{var o=n.scrollLeft();o!==this._scrollLeft&&this.scrollChanged.fire({left:o},this.name)}),n.addClass(this.addWidgetPrefix(aRe)).addClass(this.addWidgetPrefix(EJ)).append(e).appendTo(this.element()),this.setAria("role","presentation",n),n}needWaitAsyncTemplates(){return this.option("templatesRenderAsynchronously")&&this.option("renderAsync")===!1}waitAsyncTemplates(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new H,n=e||this.needWaitAsyncTemplates();if(!n)return i.resolve();var r=()=>ye.apply(this,Array.from(this._templateDeferreds)).done(()=>{this.isDisposed()?i.reject():this._templateDeferreds.size>0?r():i.resolve()}).fail(i.reject);return r(),i.promise()}_updateContent(e,i,n){return this.waitAsyncTemplates().done(()=>{this._removeContent(n),this.setTableElement(e,n),this._wrapTableInScrollContainer(e,n)})}_findContentElement(){}_getWidths(e){if(!e)return[];var i=[],n=e.toArray();return n.forEach(r=>{var o=r.offsetWidth;if(r.getBoundingClientRect){var s=Jt(r);s.width>r.offsetWidth-1&&(o=s.width)}i.push(o)}),i}getColumnWidths(e){if((this.option("forceApplyBindings")||W)(),e=e??this.getTableElement(),e)for(var i=e.children("tbody:not(.dx-header)").children(),n=0;n<i.length;n++){var r=i.eq(n),o=r.hasClass(LN),s=r.hasClass(BN),a=r.hasClass(pRe),l=r.get(0).style.display!=="none"&&!r.hasClass("dx-state-invisible"),d=!o&&!s&&!a;if(l&&d){var u=r.children("td"),h=this._getWidths(u);return h}}return[]}getVisibleColumnIndex(e,i){return e}setColumnWidths(e){var{widths:i,optionNames:n}=e,r=this.getTableElement();if(!(!r?.length||!i)){var o=this.getColumns(),s=this.option("columnAutoWidth"),a=r.children("colgroup").children("col");a.toArray().forEach(l=>l.removeAttribute("style")),o.forEach((l,d)=>{if(s&&l.width&&!l.command)for(var u=OO(l.visibleWidth||l.width),h=OO(l.minWidth||u),p=r.children().children(".dx-row").not(".".concat(BN)),m=0;m<p.length;m++){var c=this.getVisibleColumnIndex(d,m);if(c>=0){var x=p.eq(m),D=x.hasClass(LN)?x.find("td[aria-colindex='".concat(c+1,"']:not(.").concat(cRe,")")):x.find("td").eq(c);if(D.length){var T=D.get(0);SJ(T,l,u),T.style.minWidth=h}}}var N=HN(i[d]);O(N)&&dv(a.eq(d),N)})}}getCellElements(e){return this._getCellElementsCore(e)}_getCellElementsCore(e){if(!(e<0)){var i=this._getRowElements().eq(e);return i.children()}}_getCellElement(e,i){var n=this.getCellElements(e),r=this._getVisibleColumnIndex(n,e,i);if(!(!n?.length||r<0)){var o=n.eq(r);return o.length>0?o:void 0}}_getRowElement(e){var i=this,n=g(),r=i.getTableElements();if(F(r,(o,s)=>{n=n.add(i._getRowElements(g(s)).eq(e))}),n.length)return n}getCellElement(e,i){var n=this._getCellElement(e,i);if(n)return Pe(n)}getRowElement(e){var i=this._getRowElement(e),n=[];if(i&&!Pe(i).get)for(var r=0;r<i.length;r++)n.push(i[r]);else n=i;return n}_getVisibleColumnIndex(e,i,n){if(Se(n)){var r=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(r)}return n}getColumnElements(){}getColumns(e){return this._columnsController.getVisibleColumns(e)}getCell(e,i,n){var r=i||this._getRowElements(),o;if(r.length>0&&e.rowIndex>=0&&(this.option("scrolling.mode")!=="virtual"&&this.option("scrolling.rowRenderingMode")!=="virtual"&&(e.rowIndex=e.rowIndex<r.length?e.rowIndex:r.length-1),o=n||this.getCellElements(e.rowIndex),o?.length>0))return o.eq(o.length>e.columnIndex?e.columnIndex:o.length-1)}getRowsCount(){var e=this.getTableElement();return e&&e.length===1?e[0].rows.length:0}_getRowElementsCore(e){if(e=e||this.getTableElement(),e){var i=this.option().rowTemplate||this.option("dataRowTemplate"),n=i&&e.find("> tbody.".concat(oC));return n&&n.length?n:e.find("> tbody > "+".".concat(oC,", > .").concat(oC))}return g()}_getRowElements(e){return this._getRowElementsCore(e)}getRowIndex(e){return this._getRowElements().index(e)}getBoundingRect(){}getName(){}setScrollerSpacing(e){var i=this.element(),n=this.option("rtlEnabled");i&&i.css({paddingLeft:n?e:"",paddingRight:n?"":e})}isScrollbarVisible(e){var i=this.element(),n=this._tableElement;return i&&n?e?it(n)-Ae(i)>0:et(n)-je(i)>0:!1}isDisposed(){var e;return(e=this.component)===null||e===void 0?void 0:e._disposed}dispose(){var e,i;if(Ne()){var n=Le();(e=this._templateTimeouts)===null||e===void 0||e.forEach(r=>n.clearTimeout(r)),(i=this._templateTimeouts)===null||i===void 0||i.clear()}}};var zN="text-content",yRe="headers",bRe="nowrap",DRe=".dx-row",IJ="dx-header-row",ORe="dx-column-lines",ERe="context-menu-sort-asc",SRe="context-menu-sort-desc",wRe="context-menu-sort-none",IRe="dx-cell-focus-disabled",WN="dx-visibility-hidden",TJ="dx-text-content-alignment-",TRe="dx-sort-indicator",MRe="dx-sort-index-indicator",ARe=".dx-header-filter",RRe="dx-header-filter-indicator",FRe="dx-header-multi-row",PRe="dx-link",jN={defaultOptions:()=>({showColumnHeaders:!0,cellHintEnabled:!0}),views:{columnHeadersView:Ns.inherit(function(){var t=function(n,r,o){var s=g("<div>").addClass(n.addWidgetPrefix(zN));n.setAria("role","presentation",s),e(n,r,o.column,s);var a=n.option("showColumnLines"),l=n.getController("columns").getHeaderContentAlignment(o.column.alignment);return s[a||l==="right"?"appendTo":"prependTo"](r)};function e(n,r,o,s){var a=n._getIndicatorElements(r,!0),l=n._getIndicatorElements(r),d=a&&a.length,u=n._getColumnAlignment(o.alignment),h=".".concat(n._getIndicatorClassName("sort")),p=".".concat(n._getIndicatorClassName("sortIndex")),m=l.filter(h),c=l.children().filter(p);s=s||r.children(".".concat(n.addWidgetPrefix(zN))),s.toggleClass(TJ+u,d>0).toggleClass(TJ+(u==="left"?"right":"left"),d>0&&o.alignment==="center").toggleClass(TRe,!!m.length).toggleClass(MRe,!!c.length).toggleClass(RRe,!!l.filter(".".concat(n._getIndicatorClassName("headerFilter"))).length)}var i={_createTable(){var n=this.callBase.apply(this,arguments);return S.on(n,"mousedown selectstart",this.createAction(r=>{var{event:o}=r;o.shiftKey&&o.preventDefault()})),n},_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate(n){var r=this;return function(o,s){var{caption:a}=n,l=!n.command||a&&n.command!=="expand";if(n.command==="empty")r._renderEmptyMessage(o,s);else if(l){var d=t(r,o,s);d.text(a)}else n.command&&o.html("&nbsp;")}},_renderEmptyMessage(n,r){var o=this._getEmptyHeaderText();if(!o){n.html("&nbsp;");return}var s=t(this,n,r),a=o.includes("{0}");if(a){var[l,d]=o.split("{0}"),u=j.format("dxDataGrid-emptyHeaderColumnChooserText"),h=this.component.getView("columnChooserView"),p=g("<a>").text(u).addClass(PRe);S.on(p,"click",this.createAction(()=>h.showColumnChooser())),s.append(ie.createTextNode(l)).append(p).append(ie.createTextNode(d))}else s.text(o)},_getEmptyHeaderText(){var n=!!this.component.getView("columnChooserView").hasHiddenColumns(),r=!!this.component.getView("headerPanel").hasGroupedColumns();switch(!0){case(n&&r):return j.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case r:return j.format("dxDataGrid-emptyHeaderWithGroupPanelText");case n:return j.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}},_getHeaderTemplate(n){return n.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(n)}},_processTemplate(n,r){var o=this,s,{column:a}=r,l=o.callBase(n);return r.rowType==="header"&&l&&a.headerCellTemplate&&!a.command?s={render(d){var u=t(o,d.container,d.model);l.render(y({},d,{container:u}))}}:s=l,s},_handleDataChanged(n){n.changeType==="refresh"&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell(n,r){var o=this.callBase(n,r);return r.row.rowType==="header"&&(o.addClass(IRe),this._isLegacyKeyboardNavigation()||r.column&&!r.column.type&&o.attr("tabindex",this.option("tabindex")||0)),o},_setCellAriaAttributes(n,r){this.callBase(n,r),r.rowType==="header"&&(r.column.type||this.setAria("role","columnheader",n),r.column&&!r.column.command&&!r.column.isBand&&(n.attr("id",r.column.headerId),this.setAria("label","".concat(j.format("dxDataGrid-ariaColumn")," ").concat(r.column.caption),n)))},_createRow(n){var r=this.callBase.apply(this,arguments);return r.toggleClass(ORe,this.option("showColumnLines")),n.rowType==="header"&&(r.addClass(IJ),this._isLegacyKeyboardNavigation()||Yu("columnHeaders",this,r,"td",this._handleActionKeyDown.bind(this))),r},_handleActionKeyDown(n){var{event:r}=n,o=g(r.target);if(this._lastActionElement=r.target,o.is(ARe)){var s=this.getController("headerFilter"),a=o.closest("td"),l=this.getColumnIndexByElement(a);l>=0&&s.showHeaderFilterMenu(l,!1)}else{var d=o.closest(DRe);this._processHeaderAction(r,d)}r.preventDefault()},_renderCore(){var n=this.element(),r={};if(!(this._tableElement&&!this._dataController.isLoaded()&&!this._hasRowElements)){n.addClass(this.addWidgetPrefix(yRe)).toggleClass(this.addWidgetPrefix(bRe),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",n);var o=this._updateContent(this._renderTable({change:r}),r);return this.getRowCount()>1&&n.addClass(FRe),this.callBase.apply(this,arguments),o}},_renderRows(){(this._dataController.isLoaded()||this._hasRowElements)&&(this.callBase.apply(this,arguments),this._hasRowElements=!0)},_renderRow(n,r){var o=this.getRowCount()===1?null:r.row.rowIndex;r.columns=this.getColumns(o),this.callBase(n,r)},_createCell(n){var{column:r}=n,o=this.callBase.apply(this,arguments);return r.rowspan>1&&n.rowType==="header"&&o.attr("rowSpan",r.rowspan),o},_getRows(){var n=[],r=this.getRowCount();if(this.option("showColumnHeaders"))for(var o=0;o<r;o++)n.push({rowType:"header",rowIndex:o});return n},_getCellTemplate(n){if(n.rowType==="header")return this._getHeaderTemplate(n.column)},_columnOptionChanged(n){var{changeTypes:r}=n,{optionNames:o}=n;if(r.grouping||r.groupExpanding){r.grouping&&(this._isGroupingChanged=!0);return}this.callBase(n),(o.width||o.visible)&&this.resizeCompleted.fire()},_isElementVisible:n=>n&&n.visible,_alignCaptionByCenter(n){var r=this._getIndicatorContainer(n,!0);r&&r.length&&(r.filter(".".concat(WN)).remove(),r=this._getIndicatorContainer(n),r.clone().addClass(WN).css("float","").insertBefore(n.children(".".concat(this.addWidgetPrefix(zN)))))},_updateCell(n,r){r.rowType==="header"&&r.column.alignment==="center"&&this._alignCaptionByCenter(n),this.callBase.apply(this,arguments)},_updateIndicator(n,r,o){var s=this.callBase.apply(this,arguments);return r.alignment==="center"&&this._alignCaptionByCenter(n),e(this,n,r),s},_getIndicatorContainer(n,r){var o=this.callBase(n);return r?o:o.filter(":not(.".concat(WN,")"))},_isSortableElement:()=>!0,getHeadersRowHeight(){var n=this.getTableElement(),r=n&&n.find(".".concat(IJ));return r&&r.toArray().reduce((o,s)=>o+je(s),0)||0},getHeaderElement(n){var r=this.getColumnElements();return r&&r.eq(n)},getColumnElements(n,r){var o=this,s,a=o._columnsController,l=o.getRowCount();if(o.option("showColumnHeaders")){if(l>1&&(!O(n)||O(r))){var d=[],u=O(r)?a.getChildrenByBandColumn(r,!0):a.getVisibleColumns();return F(u,(h,p)=>{var m=O(n)?n:a.getRowIndex(p.index);s=o._getCellElement(m,a.getVisibleIndex(p.index,m)),s&&d.push(s.get(0))}),g(d)}if(!n||n<l)return o.getCellElements(n||0)}},getColumnIndexByElement(n){var r=this.getCellIndex(n),o=n.closest(".dx-row"),{rowIndex:s}=o[0],a=this.getColumns(s)[r];return a?a.index:-1},getVisibleColumnIndex(n,r){var o=this.getColumns()[n];return o?this._columnsController.getVisibleIndex(o.index,r):-1},getColumnWidths(){var n=this.getColumnElements();return n&&n.length?this._getWidths(n):this.callBase.apply(this,arguments)},allowDragging(n){var r=n&&this._columnsController.getRowIndex(n.index),o=this.getColumns(r),s=this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering");return s&&n.allowReordering&&o.length>1},getBoundingRect(){var n=this.getColumnElements();if(n&&n.length){var r=this.getTableElement().offset();return{top:r.top}}return null},getName:()=>"headers",getColumnCount(){var n=this.getColumnElements();return n?n.length:0},isVisible(){return this.option("showColumnHeaders")},optionChanged(n){switch(n.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":this._invalidate(!0,!0),n.handled=!0;break;default:this.callBase(n)}},getHeight(){return this.getElementHeight()},getContextMenuItems(n){var r=this,{column:o}=n;if(n.row&&(n.row.rowType==="header"||n.row.rowType==="detailAdaptive")){var s=r.option("sorting");if(s&&s.mode!=="none"&&o&&o.allowSorting){var a=function(l){setTimeout(()=>{r._columnsController.changeSortOrder(o.index,l.itemData.value)})};return[{text:s.ascendingText,value:"asc",disabled:o.sortOrder==="asc",icon:ERe,onItemClick:a},{text:s.descendingText,value:"desc",disabled:o.sortOrder==="desc",icon:SRe,onItemClick:a},{text:s.clearText,value:"none",disabled:!o.sortOrder,icon:wRe,onItemClick:a}]}}},getRowCount(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity(n,r,o){var s,a,l=this.getRowCount(),d=this._columnsController.getColumns(),u=d&&d[n],h=u&&u.isBand&&u.index,p=(c,x)=>{c.ownerBand===h&&(a.eq(x).css({opacity:r}),c.isBand&&this.setRowsOpacity(c.index,r,s+1))};if(O(h)){for(o=o||0,s=o;s<l;s++)if(a=this.getCellElements(s),a){var m=this.getColumns(s);m.forEach(p)}}}};return i}())}};var Ie=te(te(te({},Mt),he),{modules:[]});var ARt=jN.views.columnHeadersView;Ie.registerModule("columnHeaders",jN);var $N=["filterValues","filterType","fixed","fixedPosition"],Ng=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat($N),MJ={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},AJ="dx-command-expand",GN=Number.MAX_SAFE_INTEGER||9007199254740991,_l="groupExpand",RJ="detailExpand",EO=/columns\[(\d+)\]\.?/gi,FJ={visible:!0,showInColumnChooser:!0},PJ={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},kJ={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},Qu="group",Zu="columnChooser";var UN=function(t){t.filterOperations=t.defaultFilterOperations},kRe=1,aC=function(t,e,i,n){var r={};if(e){Se(e)&&(e={dataField:e}),t.setName(e);var o={};if(e.command)o=Gr(r,e);else{r=t.getCommonSettings(e),i&&i.name&&i.dataField&&(e=y({},e,{dataField:i.dataField}));var s=t._createCalculatedColumnOptions(e,n);e.type||(o={headerId:"dx-col-".concat(kRe++)}),o=Gr(o,FJ),Gr(o,r),Gr(o,s),Gr(o,e),Gr(o,{selector:null})}return e.filterOperations===e.defaultFilterOperations&&UN(o),o}},Lh=function t(e,i,n){var r=[];return i&&F(i,(o,s)=>{var a=e._columnsUserState&&XN(s,e._columnsUserState[o])&&e._columnsUserState[o],l=aC(e,s,a,n);l&&(n&&(l.ownerBand=n),r.push(l),l.columns&&(r=r.concat(t(e,l.columns,l)),delete l.columns,l.hasColumns=!0))}),r},ec=function(t,e){for(var i=[],n=e[t];n;)i.unshift(n),t=n.index,n=e[t];return i},NJ=function t(e,i,n){var r=[],o=i[e];if(o)for(var s=0;s<o.length;s++){var a=o[s];(!O(a.groupIndex)||a.showWhenGrouped)&&(r.push(a),n&&a.isBand&&(r=r.concat(t(a.index,i,n))))}return r},LJ=function(t,e){var i,n,r=t.getBandColumnsCache(),o=function(a){var l=i?i.index:void 0;return a.ownerBand===l};if(r.isPlain)i=t._columns[e[0]];else{n=t._columns.filter(o);for(var s=0;s<e.length;s++)i=n[e[s]],i&&(n=t._columns.filter(o))}return i},NRe=function(t,e){var i=[],n,r=t.getBandColumnsCache(),o=function(a){return a.ownerBand===e.ownerBand};if(r.isPlain){var s=t._columns.indexOf(e);s>=0&&(i=["columns[".concat(s,"]")])}else for(n=t._columns.filter(o);n.length&&n.indexOf(e)!==-1;)i.unshift("columns[".concat(n.indexOf(e),"]")),e=r.columnParentByIndex[e.index],n=e?t._columns.filter(o):[];return i.join(".")},LRe=function t(e,i){var n=0,r=e.getChildrenByBandColumn(i,!0);return F(r,(o,s)=>{s.isBand?(s.colspan=s.colspan||t(e,s.index),n+=s.colspan||1):n+=1}),n},BJ=function(t,e,i){for(var n,r=0;r<e.length;r++){var o=e[r];(o.visible||o.command)&&(o.isBand&&(o.colspan=o.colspan||LRe(t,o.index)),(!o.isBand||!o.colspan)&&(n=t.getRowCount(),!o.command&&(!O(o.groupIndex)||o.showWhenGrouped)&&(n-=ec(o.index,i.columnParentByIndex).length),n>1&&(o.rowspan=n)))}},SO=function(t){var e=ir(t);return e!=="string"&&e!=="boolean"&&e!=="number"&&e!=="date"&&e!=="object"&&(e=void 0),e},KN=function(t,e){switch(t){case"date":case"datetime":return Gi.getDateSerializationFormat(e);case"number":if(Se(e))return"string";if(It(e))return null}},qN=function(t,e){t.deserializeValue||(he.isDateType(e)&&(t.deserializeValue=function(i){return Gi.deserializeDate(i)},t.serializeValue=function(i){return Se(i)?i:Gi.serializeDate(i,this.serializationFormat)}),e==="number"&&(t.deserializeValue=function(i){var n=parseFloat(i);return isNaN(n)?i:n},t.serializeValue=function(i,n){return n==="filter"?i:O(i)&&this.serializationFormat==="string"?i.toString():i}))},VJ=function(t,e){switch(t){case"number":return"right";case"boolean":return"center";default:return Yr(e)}},BRe=function(t){return t.value===!0?this.trueText||"true":t.value===!1?this.falseText||"false":t.valueText||""},JN=function(t){if(t==="boolean")return BRe},HJ=function(t,e){for(var i=t._getFirstItems(e),n,r={},o=[],s=0;s<i.length;s++)if(i[s])for(n in i[s])(!ce(i[s][n])||En.isWrapped(i[s][n]))&&(r[n]=!0);for(n in r)if(n.indexOf("__")!==0){var a=aC(t,n);o.push(a)}return o},zJ=function(t){F(t._columns,(e,i)=>{i.index=e}),F(t._columns,(e,i)=>{ke(i.ownerBand)&&(i.ownerBand=i.ownerBand.index)}),F(t._commandColumns,(e,i)=>{i.index=-(e+1)})},YN=function(t,e){nh(t._columns,"groupIndex",e,i=>{var{grouped:n}=i;return delete i.grouped,n})},VRe=function(t,e){F(t._columns,(i,n)=>{O(n.sortIndex)&&!sC(n.sortOrder)&&delete n.sortIndex}),nh(t._columns,"sortIndex",e,i=>!O(i.groupIndex)&&sC(i.sortOrder))},HRe=function(t,e){for(var i,n=[],r=t.getBandColumnsCache(),o=[],s=t._columns.filter(d=>!d.command),a=0;a<s.length;a++){i=s[a];var l=ec(a,r.columnParentByIndex);l.length?o.push(i):n.push(i)}nh(o,"visibleIndex",e),nh(n,"visibleIndex",e)},wO=function(t,e,i){var n=ke(e)?e.rowIndex:null,r=i===Qu?t.getGroupColumns():i===Zu?t.getChooserColumns():t.getVisibleColumns(n),o;return e=ke(e)?e.columnIndex:e,o=r[e],o&&o.type===_l&&(o=t._columns.filter(s=>o.type===s.type)[0]||o),o&&O(o.index)?o.index:-1},WJ=function(t,e,i){var n=t.getGroupColumns(),r;if(i>=0)for(r=0;r<n.length;r++)n[r].groupIndex>=i&&n[r].groupIndex++;else for(i=0,r=0;r<n.length;r++)i=Math.max(i,n[r].groupIndex+1);return i};function XN(t,e){return t&&e&&e.name===(t.name||t.dataField)&&(e.dataField===t.dataField||t.name)}var QN=function(t){var e=t._columnsUserState,i=t._ignoreColumnOptionNames||[],n=t._columns,r={},o=[],s=!0,a=[],l,d,u;function h(x,D){if(D)for(var T=0;T<Ng.length;T++){var N=Ng[T];i.includes(N)||(N==="dataType"?x[N]=x[N]||D[N]:$N.includes(N)?N in D&&(x[N]=D[N]):(N==="selectedFilterOperation"&&D[N]&&(x.defaultSelectedFilterOperation=x[N]||null),x[N]=D[N]))}}function p(x,D){for(var T=D.name||D.dataField,N=r[T]||0,G=0;G<x.length;G++)if(XN(D,x[G]))if(N)N--;else return r[T]=r[T]||0,r[T]++,G;return-1}if(e){for(u=0;u<n.length;u++)d=p(e,n[u]),s=s&&d>=0,a.push(d);for(u=0;u<n.length;u++)l=n[u],d=a[u],(t._hasUserState||s)&&h(l,e[d]),d>=0&&O(e[d].initialIndex)?o[d]=l:o.push(l);var m=!1;for(u=0;u<e.length;u++){var c=e[u];c.added&&p(n,c)<0&&(l=aC(t,c.added),h(l,c),o.push(l),c.added.columns&&(m=!0))}m&&(zJ(t),o=Lh(t,o)),Bh(t,o)}},tc=function(t,e){zJ(t),YN(t,e),VRe(t,e),rL(t),HRe(t,e)},lC=function(t){t.resetColumnsCache()};function Bh(t,e){t._previousColumns=t._columns,t._columns=e,lC(t),t.updateColumnDataTypes()}var ba=function(t,e,i,n){var r,o=t._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:n};i=i||"all",i=i.split(".")[0];var{changeTypes:s}=o;e&&!s[e]&&(s[e]=!0,s.length++);var{optionNames:a}=o;i&&!a[i]&&(a[i]=!0,a.length++),(n===void 0||n!==o.columnIndex)&&(O(n)&&((r=o.columnIndices)!==null&&r!==void 0||(o.columnIndices=[]),O(o.columnIndex)&&o.columnIndices.push(o.columnIndex),o.columnIndices.push(n)),delete o.columnIndex),t._columnChanges=o,lC(t)},Lg=function(t){var e=t.option("onColumnsChanging"),i=t._columnChanges,n=["dataField","lookup","dataType","columns"];t.isInitialized()&&!t._updateLockCount&&i&&(e&&(t._updateLockCount++,e(y({component:t.component},i)),t._updateLockCount--),t._columnChanges=void 0,r=i.optionNames,r&&n.some(o=>r[o])?(t._reinitAfterLookupChanges=i?.optionNames.lookup,t.reinit(),t._reinitAfterLookupChanges=void 0):t.columnsChanged.fire(i));var r},zRe=function(t,e,i,n){var r=n>=0;if(i>=0)r||(e.lastSortOrder=e.sortOrder);else{var o=t.option("sorting.mode"),s=e.lastSortOrder;if(o==="single"){var a=t._columns.some(l=>l!==e&&O(l.sortIndex));a&&(s=void 0)}e.sortOrder=s}},WRe=function(t,e){var{value:i}=e,{optionName:n}=e,{prevValue:r}=e,{fullOptionName:o}=e,s="".concat(o,".").concat(n);!MJ[n]&&t._skipProcessingColumnsChange!==s&&(t._skipProcessingColumnsChange=s,t.component._notifyOptionChanged(s,i,r),t._skipProcessingColumnsChange=!1)},IO=function(t,e,i,n,r){var o=Tt(i),s=e.index,a,l,d;if(arguments.length===3)return o(e,{functionsAsIs:!0});var u=o(e,{functionsAsIs:!0});if(!Rt(u,n,{maxDepth:5})){i==="groupIndex"||i==="calculateGroupValue"?(l="grouping",zRe(t,e,n,u)):i==="sortIndex"||i==="sortOrder"||i==="calculateSortValue"?l="sorting":l="columns";var h=lf(i);h(e,n,{functionsAsIs:!0});var p=NRe(t,e);kJ[i]&&(tc(t,e),n=o(e)),(i==="name"||i==="allowEditing")&&t._checkColumns(),!O(u)&&!O(n)&&i.indexOf("buffer")!==0&&(r=!0),r?lC(t):(!Ng.includes(i)&&i!=="visibleWidth"&&(a=t.option("columns"),d=t.getColumnByPath(p,a),Se(d)&&(d=a[s]={dataField:d}),d&&XN(d,e)&&h(d,n,{functionsAsIs:!0})),ba(t,l,i,s)),p&&WRe(t,{fullOptionName:p,optionName:i,value:n,prevValue:u})}};function sC(t){return t==="asc"||t==="desc"}var jJ=function(t){var e=t._getExpandColumnOptions();t.addCommandColumn(e)},$J=function(t,e){if(this.dataField){var i=this.dataField.split("."),n=i.length-1;this.serializeValue&&(e=this.serializeValue(e));for(var r=0;r<n;r++){var o=i[r];t=t[o]=t[o]||{}}t[i[n]]=e}},GJ=function t(e,i,n){var r=[];return i=i||0,e[i]&&F(e[i],(o,s)=>{(s.ownerBand===n||s.type===_l)&&(!s.isBand||!s.colspan?(!s.command||i<1)&&r.push(s):r.push.apply(r,t(e,i+1,s.index)))}),r},UJ=function(t){var e=1,i=t.getBandColumnsCache(),{columnParentByIndex:n}=i;return t._columns.forEach(r=>{var o=ec(r.index,n),s=o.filter(a=>!a.visible);r.visible&&!s.length&&(e=Math.max(e,o.length+1))}),e},TO=(t,e)=>{var i=t._columns.filter(n=>n.type===e.type);return!!i.length},ZN=function(t,e){var i=t.option("rtlEnabled");return e.command&&!TO(t,e)||!e.fixedPosition?i?"right":"left":e.fixedPosition},eL=function(t,e,i,n){var r,o=this.getRowCount(),s=t[n]&&t[n].rowspan,a=e.filter(l=>l.type===i);return t.forEach((l,d)=>{l.type===i&&(r=d,s=t[d+1]?t[d+1].rowspan:o)}),s>1&&(a=gi(a,l=>y({},l,{rowspan:s}))),a.unshift.apply(a,O(r)?[r,1]:[n,0]),t.splice.apply(t,a),s||1},KJ=function(t){var e;for(e=0;t>1;e++)t/=10;return e},tL=function(t,e){for(var i=t?t.toString():"0";i.length<e;)i="0".concat(i);return i},iL=(t,e,i,n)=>{for(var r,o,s=e.slice().map(m=>y({},m)),a=t._isColumnFixing(),l=i.slice().map(m=>y({fixed:a},m)),d=m=>i.reduce((c,x,D)=>{var T=n&&m.type===_l?"expand":m.type;return x.type===T||x.command===m.command?D:c},-1),u=m=>m.command!==i[o].command,h=0;h<e.length;h++)if(r=e[h],o=r&&(r.type||r.command)?d(r):-1,o>=0)if(n)s[h]=y({fixed:a},i[o],r),r.type!==_l&&(l=l.filter(u));else{var p={visibleIndex:r.visibleIndex,index:r.index,headerId:r.headerId,allowFixing:r.groupIndex===0,allowReordering:r.groupIndex===0,groupIndex:r.groupIndex};s[h]=y({},r,i[o],r.type===_l&&p)}return e.length&&n&&l.length&&(s=s.concat(l)),s},nL=(t,e)=>O(e.fixed)||!e.type?e.fixed:t._isColumnFixing(),qJ=t=>{t.forEach(e=>{O(e.ownerBand)&&(e.ownerBand=t[e.ownerBand])})},rL=t=>{t._bandColumnsCache=void 0},oL=(t,e)=>{var i=Se(e)&&e.substr(0,e.indexOf(":")),n;if(e!==void 0)return i&&(e=e.substr(i.length+1)),i?n=t.filter(r=>"".concat(r[i])===e)[0]:["index","name","dataField","caption"].some(r=>(n=t.filter(o=>o[r]===e)[0],!!n)),n},JJ=(t,e)=>{if(e!=="asc"&&e!=="desc")return t;var i=e==="asc"?1:-1;return t.sort((n,r)=>{var o=n.caption||"",s=r.caption||"";return i*o.localeCompare(s)}),t},YJ=function(t,e){var i=ei.parse(t);if(It(i)){var n=ei.format(i,e),r=ei.format(i,"decimal");if(n===t||r===t)return i}};var sL=class extends Mt.Controller{_getExpandColumnOptions(){return{type:"expand",command:"expand",width:"auto",cssClass:AJ,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}}_getFirstItems(e){var i,n=[];return e&&e.items().length>0&&(i=he.normalizeSortingInfo(e.group()).length,n=function r(o,s){if(!o||!s)return o;for(var a=0;a<o.length;a++){var l=r(o[a].items||o[a].collapsedItems,s-1);if(l&&l.length)return l}}(e.items(),i)||[]),n}_endUpdateCore(){!this._skipProcessingColumnsChange&&Lg(this)}init(e){var i=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!i,this._isColumnsFromOptions?(Bh(this,i?Lh(this,i):[]),QN(this)):Bh(this,this._columnsUserState?Lh(this,this._columnsUserState):this._columns),jJ(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,e):tc(this),this._checkColumns()}callbackNames(){return["columnsChanged"]}getColumnByPath(e,i){var n,r=[];return e.replace(EO,(o,s)=>(r.push(parseInt(s)),"")),r.length&&(i?n=r.reduce((o,s)=>o&&o.columns&&o.columns[s],{columns:i}):n=LJ(this,r)),n}optionChanged(e){var i;switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"dataSource":e.value!==e.previousValue&&!this.option("columns")&&(!Array.isArray(e.value)||!Array.isArray(e.previousValue))&&(this._columns=[]);break;case"columns":i=this._skipProcessingColumnsChange,e.handled=!0,this._skipProcessingColumnsChange||(e.name===e.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(e),i=!0)),i&&this._updateRequireResize(e);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":e.handled=!0;var n=e.fullName==="columnWidth"&&["width"];this.reinit(n);break;case"rtlEnabled":this.reinit();break;default:super.optionChanged(e)}}_columnOptionChanged(e){var i={},n=this.getColumnByPath(e.fullName),r=e.fullName.replace(EO,"");n&&(r?i[r]=e.value:i=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,i),this._skipProcessingColumnsChange=!1)}_updateRequireResize(e){var{component:i}=this;e.fullName.replace(EO,"")==="width"&&i._updateLockCount&&(i._requireResize=!0)}publicMethods(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]}applyDataSource(e,i,n){var r=e&&e.isLoaded();if(this._dataSource=e,!this._dataSourceApplied||this._dataSourceColumnsCount===0||i||this.option("regenerateColumnsByVisibleItems")){if(r){if(!this._isColumnsFromOptions){var o=HJ(this,e);o.length&&(Bh(this,o),this._dataSourceColumnsCount=this._columns.length,QN(this))}return this.updateColumns(e,i,n)}this._dataSourceApplied=!1,tc(this)}else if(r&&!this.isAllDataTypesDefined(!0)&&this.updateColumnDataTypes(e))return ba(this,"columns"),Lg(this),new H().reject().promise()}reset(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()}resetColumnsCache(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,rL(this)}reinit(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)}isInitialized(){return!!this._columns.length||!!this.option("columns")}isDataSourceApplied(){return this._dataSourceApplied}getCommonSettings(e){var i,n,r=(!e||!e.type)&&this.option("commonColumnSettings")||{},o=(i=this.option("grouping"))!==null&&i!==void 0?i:{},s=(n=this.option("groupPanel"))!==null&&n!==void 0?n:{};return y({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:o.autoExpandAll,allowCollapsing:o.allowCollapsing,allowGrouping:s.allowColumnDragging&&s.visible||o.contextMenuEnabled},r)}isColumnOptionUsed(e){for(var i=0;i<this._columns.length;i++)if(this._columns[i][e])return!0}isAllDataTypesDefined(e){var i=this._columns;if(!i.length)return!1;for(var n=0;n<i.length;n++)if(!(!i[n].dataField&&i[n].calculateCellValue===i[n].defaultCalculateCellValue)&&(!i[n].dataType||e&&i[n].deserializeValue&&i[n].serializationFormat===void 0))return!1;return!0}getColumns(){return this._columns}isBandColumnsUsed(){return this.getColumns().some(e=>e.isBand)}getGroupColumns(){var e=[];return F(this._columns,function(){O(this.groupIndex)&&(e[this.groupIndex]=this)}),e}_shouldReturnVisibleColumns(){return!0}_compileVisibleColumns(e){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),e=O(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]}getVisibleColumns(e,i){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]}getFixedColumns(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=O(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]}getFilteringColumns(){return this.getColumns().filter(e=>(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)).map(e=>{var i=y(!0,{},e);return O(i.dataField)||(i.dataField=i.name),i.filterOperations=e.filterOperations!==e.defaultFilterOperations?i.filterOperations:null,i})}getColumnIndexOffset(){return 0}_getFixedColumnsCore(){var e=[],i=this.getRowCount(),n=this._isColumnFixing(),r={command:"transparent"},o=0,s,a,l;if(n)for(var d=0;d<=i;d++){s=0,l=null,a=null;for(var u=this.getVisibleColumns(d,!0),h=0;h<u.length;h++){var p=u[h-1],m=u[h];m.fixed?p&&p.fixed&&ZN(this,p)!==ZN(this,m)?O(a)||(a=h):l=m.fixedPosition:(d===0&&(m.isBand&&m.colspan?o+=m.colspan:o++),s++,O(a)||(a=h))}if(d===0&&(s===0||s>=u.length))return[];O(a)||(a=l==="right"?0:u.length),e[d]=u.slice(0),r.colspan||(r.colspan=o),e[d].splice(a,s,r)}return e.map(c=>c.map(x=>{var D=te({},x);return D.headerId&&(D.headerId+="-fixed"),D}))}_isColumnFixing(){var e=this.option("columnFixing.enabled");return!e&&F(this._columns,(i,n)=>{if(n.fixed)return e=!0,!1}),e}_getExpandColumnsCore(){return this.getGroupColumns()}getExpandColumns(){var e=this._getExpandColumnsCore(),i,n=e.filter(a=>a.groupIndex===0)[0],r=n&&n.fixed,o=this._isColumnFixing(),s=this.option("rtlEnabled");return e.length&&(i=this.columnOption("command:expand")),e=gi(e,a=>y({},a,{visibleWidth:null,minWidth:null,cellTemplate:O(a.groupIndex)?null:a.cellTemplate,headerCellTemplate:null,fixed:!O(a.groupIndex)||!r?o:!0,fixedPosition:s?"right":"left"},i,{index:a.index,type:a.type||_l})),e}getBandColumnsCache(){if(!this._bandColumnsCache){var e=this._columns,i={},n={},r=!0;e.forEach(o=>{var{ownerBand:s}=o,a=ke(s)?s.index:s,l=e[a];o.hasColumns&&(r=!1),o.colspan&&(o.colspan=void 0),o.rowspan&&(o.rowspan=void 0),l?n[o.index]=l:a=-1,i[a]=i[a]||[],i[a].push(o)}),this._bandColumnsCache={isPlain:r,columnChildrenByIndex:i,columnParentByIndex:n}}return this._bandColumnsCache}_isColumnVisible(e){return e.visible&&this.isParentColumnVisible(e.index)}_isColumnInGroupPanel(e){return O(e.groupIndex)&&!e.showWhenGrouped}hasVisibleDataColumns(){var e=this._columns;return e.some(i=>{var n=this._isColumnVisible(i),r=this._isColumnInGroupPanel(i),o=!!i.command;return n&&!r&&!o})}_compileVisibleColumnsCore(){var e=this.getBandColumnsCache(),i=iL(this,this._columns,this._commandColumns,!0);BJ(this,i,e);var n=this._getIndexedColumns(i),r=this._getVisibleColumnsFromIndexed(n),o=!this.hasVisibleDataColumns();return o&&this._columns.length&&r[r.length-1].push({command:"empty"}),r}_getIndexedColumns(e){for(var i=this.option("rtlEnabled"),n=this.getRowCount(),r=KJ(e.length),o=this.getBandColumnsCache(),s=[],a=[],l=0;l<n;l+=1)a[l]=[{}],s[l]=[{},{},{}];return e.forEach(d=>{var u,h,p,m,{visibleIndex:c}=d,x,D=ec(d.index,o.columnParentByIndex),T=this._isColumnVisible(d),N=this._isColumnInGroupPanel(d);if(T&&!N){var G=D.length;if(c<0)c=-c,x=a[G];else if(d.fixed=(h=(u=D[0])===null||u===void 0?void 0:u.fixed)!==null&&h!==void 0?h:d.fixed,d.fixedPosition=(m=(p=D[0])===null||p===void 0?void 0:p.fixedPosition)!==null&&m!==void 0?m:d.fixedPosition,d.fixed){var U=!!d.command&&!TO(this,d),re=d.fixedPosition==="right";i&&!U&&(re=!re),x=re?s[G][2]:s[G][0]}else x=s[G][1];if(D.length){c=tL(c,r);for(var _=D.length-1;_>=0;_-=1)c=tL(D[_].visibleIndex,r)+c}x[c]=x[c]||[],x[c].push(d)}}),{positiveIndexedColumns:s,negativeIndexedColumns:a}}_getVisibleColumnsFromIndexed(e){for(var i=this,{positiveIndexedColumns:n,negativeIndexedColumns:r}=e,o=[],s=this.getRowCount(),a=iL(this,this.getExpandColumns(),this._columns),l=0,d=0,u=function(p){o.push([]),ev(r[p],(x,D)=>{o[p].unshift.apply(o[p],D)});var m=o[p].length,c=n[p];c.forEach(x=>{ev(x,(D,T)=>{o[p].push.apply(o[p],T)})}),d<=p&&(d+=eL.call(i,o[p],a,RJ,m)),l<=p&&(l+=eL.call(i,o[p],a,_l,m))},h=0;h<s;h+=1)u(h);return o.push(GJ(o)),o}getInvisibleColumns(e,i){var n=this,r=[],o;return e=e||n._columns,F(e,(s,a)=>{if(a.ownerBand===i){if(a.isBand){a.visible?o=n.getInvisibleColumns(n.getChildrenByBandColumn(a.index),a.index):o=n.getChildrenByBandColumn(a.index),o.length&&(r.push(a),r=r.concat(o));return}a.visible||r.push(a)}}),r}getChooserColumns(e){var i=e?this.getColumns():this.getInvisibleColumns(),n=i.filter(o=>o.showInColumnChooser),r=this.option("columnChooser.sortOrder");return JJ(n,r)}allowMoveColumn(e,i,n,r){var o=wO(this,e,n),s=this._columns[o];return s&&(s.allowReordering||s.allowGrouping||s.allowHiding)?n===r?n===Zu?!1:(e=ke(e)?e.columnIndex:e,i=ke(i)?i.columnIndex:i,e!==i&&e+1!==i):n===Qu&&r!==Zu||r===Qu?s&&s.allowGrouping:n===Zu||r===Zu?s&&s.allowHiding:!0:!1}moveColumn(e,i,n,r){var o={},s,a=wO(this,e,n),l=wO(this,i,r),d;if(a>=0){var u=this._columns[a];if(i=ke(i)?i.columnIndex:i,d=l>=0?this._columns[l].groupIndex:-1,O(u.groupIndex)&&n===Qu&&(d>u.groupIndex&&d--,r!==Qu?o.groupIndex=void 0:(s=u.groupIndex,delete u.groupIndex,YN(this))),r===Qu)o.groupIndex=WJ(this,u,d),u.groupIndex=s;else if(i>=0){var h=this._columns[l];!h||u.ownerBand!==h.ownerBand?o.visibleIndex=GN:nL(this,u)^nL(this,h)?o.visibleIndex=GN:o.visibleIndex=h.visibleIndex}var p=r!==Zu;u.visible!==p&&(o.visible=p),this.columnOption(u.index,o)}}changeSortOrder(e,i){var n={},r=this.option("sorting"),o=r&&r.mode,s=o==="single"||!i,a=o==="single"||o==="multiple",l=this._columns[e];a&&l&&l.allowSorting&&(s&&!O(l.groupIndex)&&F(this._columns,function(d){d!==e&&this.sortOrder&&(O(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),sC(i)?l.sortOrder!==i&&(n.sortOrder=i):i==="none"?l.sortOrder&&(n.sortIndex=void 0,n.sortOrder=void 0):function(d){if(i==="ctrl"){if(!("sortOrder"in d&&"sortIndex"in d))return!1;n.sortOrder=void 0,n.sortIndex=void 0}else O(d.groupIndex)||O(d.sortIndex)?n.sortOrder=d.sortOrder==="desc"?"asc":"desc":n.sortOrder="asc";return!0}(l)),this.columnOption(l.index,n)}getSortDataSourceParameters(e){var i=[],n=[];return F(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&O(this.sortIndex)&&!O(this.groupIndex)&&(i[this.sortIndex]=this)}),F(i,function(){var r=this&&this.sortOrder;if(sC(r)){var o={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"};this.sortingMethod&&(o.compare=this.sortingMethod.bind(this)),n.push(o)}}),n.length>0?n:null}getGroupDataSourceParameters(e){var i=[];return F(this.getGroupColumns(),function(){var n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){var r={selector:n,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(r.compare=this.sortingMethod.bind(this)),i.push(r)}}),i.length>0?i:null}refresh(e){var i=[];return F(this._columns,function(){var{lookup:n}=this;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&i.push(n.update())}}),ye.apply(g,i).done(lC.bind(null,this))}_updateColumnOptions(e,i){e.selector=e.selector||function(o){return e.calculateCellValue(o)},this._reinitAfterLookupChanges&&this._previousColumns?(e.selector.columnIndex=i,e.selector.originalCallback=this._previousColumns[i].selector.originalCallback):(e.selector.columnIndex=i,e.selector.originalCallback=e.selector),F(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(o,s)=>{var a=e[s];if(ce(a))if(a.originalCallback)e[s].context.column=e;else{var l={column:e};e[s]=function(d){return a.call(l.column,d)},e[s].originalCallback=a,e[s].columnIndex=i,e[s].context=l}}),Se(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=Tt(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),qN(e,e.dataType);var{lookup:n}=e;n&&qN(n,n.dataType);var r=n?n.dataType:e.dataType;r&&(e.alignment=e.alignment||VJ(r,this.option("rtlEnabled")),e.format=e.format||he.getFormatByDataType(r),e.customizeText=e.customizeText||JN(r),e.defaultFilterOperations=e.defaultFilterOperations||!n&&PJ[r]||[],O(e.filterOperations)||UN(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=O(e.showEditorAlways)?e.showEditorAlways:r==="boolean"&&!e.cellTemplate&&!e.lookup)}updateColumnDataTypes(e){var i=this,n=i.option("dateSerializationFormat"),r=i._getFirstItems(e),o=!1;return F(i._columns,(s,a)=>{var l,d,u,h,p,{lookup:m}=a;if(he.isDateType(a.dataType)&&a.serializationFormat===void 0&&(a.serializationFormat=n),m&&he.isDateType(m.dataType)&&a.serializationFormat===void 0&&(m.serializationFormat=n),a.calculateCellValue&&r.length){if(!a.dataType||m&&!m.dataType){for(l=0;l<r.length;l++)d=a.calculateCellValue(r[l]),a.dataType||(p=SO(d),u=u||p,u&&p&&u!==p&&(u="string")),m&&!m.dataType&&(p=SO(he.getDisplayValue(a,d,r[l])),h=h||p,h&&p&&h!==p&&(h="string"));(u||h)&&(u&&(a.dataType=u),m&&h&&(m.dataType=h),o=!0)}if(a.serializationFormat===void 0||m&&m.serializationFormat===void 0)for(l=0;l<r.length;l++)d=a.calculateCellValue(r[l],!0),a.serializationFormat===void 0&&(a.serializationFormat=KN(a.dataType,d)),m&&m.serializationFormat===void 0&&(m.serializationFormat=KN(m.dataType,m.calculateCellValue(d,!0)))}i._updateColumnOptions(a,s)}),o}_customizeColumns(e){var i=this.option("customizeColumns");if(i){var n=e.some(r=>ke(r.ownerBand));n&&tc(this),i(e),Bh(this,Lh(this,e))}}updateColumns(e,i,n){if(i||this.updateSortingGrouping(e),!e||e.isLoaded()){var r=e?e.sort()||[]:this.getSortDataSourceParameters(),o=e?e.group()||[]:this.getGroupDataSourceParameters(),s=e?.lastLoadOptions().filter;n||this._customizeColumns(this._columns),tc(this);var a=this._columns;return ye(this.refresh(!0)).always(()=>{this._columns===a&&(this._updateChanges(e,{sorting:r,grouping:o,filtering:s}),Lg(this))})}}_updateChanges(e,i){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),he.equalSortParameters(i.sorting,this.getSortDataSourceParameters())||ba(this,"sorting"),he.equalSortParameters(i.grouping,this.getGroupDataSourceParameters())||ba(this,"grouping");var n=this.getController("data");n&&!he.equalFilterParameters(i.filtering,n.getCombinedFilter())&&ba(this,"filtering"),ba(this,"columns")}updateSortingGrouping(e,i){var n=this,r,o,s=function(p,m,c){F(p,(x,D)=>{if(delete D[c],m)for(var T=0;T<m.length;T++){var{selector:N}=m[T],{isExpanded:G}=m[T];if(N===D.dataField||N===D.name||N===D.selector||N===D.calculateCellValue||N===D.calculateGroupValue||N===D.calculateDisplayValue){i?D.sortOrder="sortOrder"in D?D.sortOrder:m[T].desc?"desc":"asc":D.sortOrder=D.sortOrder||(m[T].desc?"desc":"asc"),G!==void 0&&(D.autoExpandGroup=G),D[c]=T;break}}})};if(e){r=he.normalizeSortingInfo(e.sort());var a=he.normalizeSortingInfo(e.group()),l=n.getGroupDataSourceParameters(),d=n.getSortDataSourceParameters(),u=!he.equalSortParameters(a,l,!0),h=!u&&!he.equalSortParameters(a,l);n._columns.length||(F(a,(p,m)=>{n._columns.push(m.selector)}),F(r,(p,m)=>{ce(m.selector)||n._columns.push(m.selector)}),Bh(n,Lh(n,n._columns))),(i||!l&&!n._hasUserState)&&(u||h)&&(s(n._columns,a,"groupIndex"),i&&(u&&ba(n,"grouping"),h&&ba(n,"groupExpanding"),o=!0)),(i||!d&&!n._hasUserState)&&!he.equalSortParameters(r,d)&&(s(n._columns,r,"sortIndex"),i&&(ba(n,"sorting"),o=!0)),o&&Lg(n)}}updateFilter(e,i,n,r){if(!Array.isArray(e))return e;if(e=y([],e),n=e.columnIndex!==void 0?e.columnIndex:n,r=e.filterValue!==void 0?e.filterValue:r,Se(e[0])&&e[0]!=="!"){var o=this.columnOption(e[0]);i?_t().forceIsoDateParsing&&o&&o.serializeValue&&e.length>1&&(e[e.length-1]=o.serializeValue(e[e.length-1],"filter")):o&&o.selector&&(e[0]=o.selector,e[0].columnIndex=o.index)}else ce(e[0])&&(e[0].columnIndex=n,e[0].filterValue=r,e[0].selectedFilterOperation=e.selectedFilterOperation);for(var s=0;s<e.length;s++)e[s]=this.updateFilter(e[s],i,n,r);return e}columnCount(){return this._columns?this._columns.length:0}columnOption(e,i,n,r){var o=this,s=o._columns.concat(o._commandColumns),a=oL(s,e);if(a){if(arguments.length===1)return y({},a);if(Se(i)){if(arguments.length===2)return IO(o,a,i);IO(o,a,i,n,r)}else ke(i)&&F(i,(l,d)=>{IO(o,a,l,d,r)});Lg(o)}}clearSorting(){var e=this.columnCount();this.beginUpdate();for(var i=0;i<e;i++)this.columnOption(i,"sortOrder",void 0),delete oL(this._columns,i).sortOrder;this.endUpdate()}clearGrouping(){var e=this.columnCount();this.beginUpdate();for(var i=0;i<e;i++)this.columnOption(i,"groupIndex",void 0);this.endUpdate()}getVisibleIndex(e,i){for(var n=this.getVisibleColumns(i),r=n.length-1;r>=0;r--)if(n[r].index===e)return r;return-1}getVisibleIndexByColumn(e,i){var n=this.getVisibleColumns(i),r=n.filter(o=>o.index===e.index&&o.command===e.command)[0];return n.indexOf(r)}getVisibleColumnIndex(e,i){var n=this.columnOption(e,"index");return this.getVisibleIndex(n,i)}addColumn(e){var i=aC(this,e),n=this._columns.length;this._columns.push(i),i.isBand&&(this._columns=Lh(this,this._columns),i=this._columns[n]),i.added=e,tc(this,i),this.updateColumns(this._dataSource),this._checkColumns()}deleteColumn(e){var i=this.columnOption(e);if(i&&i.index>=0){if(qJ(this._columns),this._columns.splice(i.index,1),i.isBand){var n=this.getChildrenByBandColumn(i.index).map(r=>r.index);this._columns=this._columns.filter(r=>n.indexOf(r.index)<0)}tc(this),this.updateColumns(this._dataSource)}}addCommandColumn(e){var i=this._commandColumns.filter(n=>n.command===e.command)[0];i||(i=e,this._commandColumns.push(i))}getUserState(){var e=this._columns,i=[],n;function r(o,s){e[n][s]!==void 0&&(i[n][s]=e[n][s])}for(n=0;n<e.length;n++)i[n]={},F(Ng,r);return i}setName(e){e.name=e.name||e.dataField||e.type}setUserState(e){var i=this._dataSource,n=this.option("stateStoring.ignoreColumnOptionNames");if(e?.forEach(this.setName),!n){n=[];var r=this.getCommonSettings();this.option("columnChooser.enabled")||n.push("visible"),this.option("sorting.mode")==="none"&&n.push("sortIndex","sortOrder"),r.allowGrouping||n.push("groupIndex"),r.allowFixing||n.push("fixed","fixedPosition"),r.allowResizing||n.push("width","visibleWidth");var o=!this.option("filterPanel.visible");!this.option("filterRow.visible")&&o&&n.push("filterValue","selectedFilterOperation"),!this.option("headerFilter.visible")&&o&&n.push("filterValues","filterType")}this._columnsUserState=e,this._ignoreColumnOptionNames=n,this._hasUserState=!!e,ba(this,"filtering"),this.init(!0),i&&(i.sort(this.getSortDataSourceParameters()),i.group(this.getGroupDataSourceParameters()))}_checkColumns(){var e={},i=!1,n=[];this._columns.forEach(r=>{var o,{name:s}=r,a=(o=r.columns)===null||o===void 0?void 0:o.length,l=r.allowEditing&&(r.dataField||r.setCellValue)&&!a;s?(e[s]&&n.push('"'.concat(s,'"')),e[s]=!0):l&&(i=!0)}),n.length&&Ke.log("E1059",n.join(", ")),i&&Ke.log("E1060")}_createCalculatedColumnOptions(e,i){var n={},{dataField:r}=e;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,r=null),r){if(Se(r)){var o=Tt(r);n={caption:ms(r),calculateCellValue(s,a){var l=o(s);return this.deserializeValue&&!a?this.deserializeValue(l):l},setCellValue:$J,parseValue(s){var a,l;return this.dataType==="number"?Se(s)&&this.format?a=YJ(s.trim(),this.format):O(s)&&It(s)&&(a=Number(s)):this.dataType==="boolean"?s===this.trueText?a=!0:s===this.falseText&&(a=!1):he.isDateType(this.dataType)?(l=ft.parse(s,this.format),l&&(a=l)):a=s,a}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return ks.defaultCalculateFilterExpression.apply(this,arguments)},n.defaultFilterOperation="=",n.createFilterExpression=function(s,a){var l;return this.calculateFilterExpression&&(l=this.calculateFilterExpression.apply(this,arguments)),ce(l)&&(l=[l,"=",!0]),l&&(l.columnIndex=this.index,l.filterValue=s,l.selectedFilterOperation=a),l},(!r||!Se(r))&&y(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:()=>null}),i&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),e.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(n.lookup={calculateCellValue(s,a){return this.valueExpr&&(s=this.valueMap&&this.valueMap[s]),this.deserializeValue&&!a?this.deserializeValue(s):s},updateValueMap(){if(this.valueMap={},this.items)for(var s=Tt(this.valueExpr),a=Tt(this.displayExpr),l=0;l<this.items.length;l++){var d=this.items[l],u=a(d);this.valueMap[s(d)]=u,this.dataType=this.dataType||SO(u)}},update(){var s=this,{dataSource:a}=s;if(a)if(ce(a)&&!En.isWrapped(a)&&(a=a({})),Ve(a)||a instanceof ld||Array.isArray(a)){if(s.valueExpr){var l=Ms(a);return l.paginate=!1,a=new Lr(l),a.load().done(d=>{s.items=d,s.updateValueMap&&s.updateValueMap()})}}else Ke.log("E1016");else s.updateValueMap&&s.updateValueMap()}}),n.resizedCallbacks=vt(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),F(n,s=>{if(ce(n[s])&&s.indexOf("default")!==0){var a="default".concat(s.charAt(0).toUpperCase()).concat(s.substr(1));n[a]=n[s]}}),n}getRowCount(){return this._rowCount=this._rowCount||UJ(this),this._rowCount}getRowIndex(e,i){var n=this._columns[e],r=this.getBandColumnsCache();return n&&(i||n.visible&&!(n.command||O(n.groupIndex)))?ec(e,r.columnParentByIndex).length:0}getChildrenByBandColumn(e,i){var n=this.getBandColumnsCache(),r=NJ(e,n.columnChildrenByIndex,!i);return i?r.filter(o=>o.visible&&!o.command).sort((o,s)=>o.visibleIndex-s.visibleIndex):r}isParentBandColumn(e,i){var n=!1,r=this._columns[e],o=this.getBandColumnsCache(),s=r&&ec(e,o.columnParentByIndex);return s&&F(s,(a,l)=>{if(l.index===i)return n=!0,!1}),n}isParentColumnVisible(e){var i=!0,n=this.getBandColumnsCache(),r=e>=0&&ec(e,n.columnParentByIndex);return r&&F(r,(o,s)=>(i=i&&s.visible,i)),i}getColumnId(e){return e.command&&e.type===_l?TO(this,e)?"type:".concat(e.type):"command:".concat(e.command):e.index}getCustomizeTextByDataType(e){return JN(e)}getHeaderContentAlignment(e){var i=this.option("rtlEnabled");return i?e==="left"?"right":"left":e}},aL={defaultOptions:()=>({commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:j.format("dxDataGrid-trueText"),falseText:j.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}),controllers:{columns:sL}};Ie.registerModule("columns",{defaultOptions:()=>y(!0,{},aL.defaultOptions(),{commonColumnSettings:{allowExporting:!0}}),controllers:aL.controllers});var XJ=function(t,e,i){var n=t._dataSource;if(n){if(i!==void 0){var r=t._getPagingOptionValue(e);if(r!==i){e==="pageSize"&&n.pageIndex(0),n[e](i),t._skipProcessingPagingChange=!0,t.option("paging.".concat(e),i),t._skipProcessingPagingChange=!1;var o=n.pageIndex();return t._isPaging=e==="pageIndex",n[e==="pageIndex"?"load":"reload"]().done(()=>{t._isPaging=!1,t.pageChanged.fire(o)})}return H().resolve().promise()}return n[e]()}return 0},jRe=Mt.Controller.inherit($u),lL=class extends jRe{init(){var e=this;e._items=[],e._cachedProcessedItems=null,e._columnsController=this.getController("columns"),e._isPaging=!1,e._currentOperationTypes=null,e._dataChangedHandler=i=>{e._currentOperationTypes=this._dataSource.operationTypes(),e._handleDataChanged(i),e._currentOperationTypes=null},e._columnsChangedHandler=e._handleColumnsChanged.bind(e),e._loadingChangedHandler=e._handleLoadingChanged.bind(e),e._loadErrorHandler=e._handleLoadError.bind(e),e._customizeStoreLoadOptionsHandler=e._handleCustomizeStoreLoadOptions.bind(e),e._changingHandler=e._handleChanging.bind(e),e._dataPushedHandler=e._handleDataPushed.bind(e),e._columnsController.columnsChanged.add(e._columnsChangedHandler),e._isLoading=!1,e._isCustomLoading=!1,e._repaintChangesOnly=void 0,e._changes=[],e.createAction("onDataErrorOccurred"),e.dataErrorOccurred.add(i=>e.executeAction("onDataErrorOccurred",{error:i})),e._refreshDataSource(),this.postCtor()}_getPagingOptionValue(e){return this._dataSource[e]()}callbackNames(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]}callbackFlags(e){if(e==="dataErrorOccurred")return{stopOnFalse:!0}}publicMethods(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]}reset(){this._columnsController.reset(),this._items=[],this._refreshDataSource()}_handleDataSourceChange(e){if(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue)){var i=e.value!==e.previousValue;if(i){var n=this.store();n&&(n._array=e.value)}return this.needToRefreshOnDataSourceChange(e)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1}needToRefreshOnDataSourceChange(e){return!0}optionChanged(e){var i=this,n,r;function o(){e.handled=!0}if(e.name==="dataSource"&&e.name===e.fullName&&this._handleDataSourceChange(e)){o();return}switch(e.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":o();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":o(),i.reset();break;case"paging":if(n=i.dataSource(),n&&(r=i._setPagingOptions(n),r)){var s=n.pageIndex();this._isPaging=r.isPageIndexChanged,n.load().done(()=>{this._isPaging=!1,i.pageChanged.fire(s)})}o();break;case"rtlEnabled":i.reset();break;case"columns":n=i.dataSource(),n&&n.isLoading()&&e.name===e.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:super.optionChanged(e)}}isReady(){return!this._isLoading}getDataSource(){return this._dataSource&&this._dataSource._dataSource}getCombinedFilter(e){return this.combinedFilter(void 0,e)}combinedFilter(e,i){if(!this._dataSource)return e;var n=e??this._dataSource.filter(),r=this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined();if(r){var o=this._calculateAdditionalFilter();n=o?he.combineFilters([o,n]):n}var s=this._dataSource.remoteOperations().filtering||i;return n=this._columnsController.updateFilter(n,s),n}waitReady(){return this._updateLockCount?(this._readyDeferred=new H,this._readyDeferred):ye()}_endUpdateCore(){var e=this._changes;if(e.length){this._changes=[];var i=e.every(n=>n.repaintChangesOnly);this.updateItems(e.length===1?e[0]:{repaintChangesOnly:i})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)}_handleCustomizeStoreLoadOptions(e){var i,n=this._columnsController,r=this._dataSource,{storeLoadOptions:o}=e;e.isCustomLoading&&!o.isLoadingAll||(o.filter=this.combinedFilter(o.filter),((i=o.filter)===null||i===void 0?void 0:i.length)===1&&o.filter[0]==="!"&&(e.data=[],e.extra=e.extra||{},e.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(r),this._columnsUpdating=!0,n.updateSortingGrouping(r,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,o.sort=n.getSortDataSourceParameters(),o.group=n.getGroupDataSourceParameters(),r.sort(o.sort),r.group(o.group),o.sort=n.getSortDataSourceParameters(!r.remoteOperations().sorting),e.group=n.getGroupDataSourceParameters(!r.remoteOperations().grouping))}_handleColumnsChanged(e){var i=this,{changeTypes:n}=e,{optionNames:r}=e,o,s,a;if(n.sorting||n.grouping)i._dataSource&&!i._columnsUpdating&&(i._dataSource.group(i._columnsController.getGroupDataSourceParameters()),i._dataSource.sort(i._columnsController.getSortDataSourceParameters()),i.reload());else if(n.columns&&(s=i._columnsController.columnOption(e.columnIndex,"filterValues"),(r.filterValues||r.filterType&&Array.isArray(s)||r.filterValue||r.selectedFilterOperation||r.allowFiltering)&&(o=i._columnsController.columnOption(e.columnIndex,"filterValue"),(Array.isArray(s)||e.columnIndex===void 0||O(o)||!r.selectedFilterOperation||r.filterValue)&&(i._applyFilter(),a=!0)),!i._needApplyFilter&&!he.checkChanges(r,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&i._columnsController.columnsChanged.add(function d(u){var h;i._columnsController.columnsChanged.remove(d),i.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:(h=u?.changeTypes)===null||h===void 0?void 0:h.virtualColumnsScrolling})}),O(r.visible))){var l=i._columnsController.columnOption(e.columnIndex);l&&(O(l.filterValue)||O(l.filterValues))&&(i._applyFilter(),a=!0)}!a&&n.filtering&&!this._needApplyFilter&&i.reload()}_handleDataChanged(e){var i=this,n=i._dataSource,r=i._columnsController,o=!1;this._useSortingGroupingFromColumns=!1,n&&!i._isDataSourceApplying&&(i._isDataSourceApplying=!0,ye(i._columnsController.applyDataSource(n)).done(()=>{i._isLoading&&i._handleLoadingChanged(!1),o&&e&&e.isDelayed&&(e.isDelayed=!1),i._isDataSourceApplying=!1;var s=i._needApplyFilter;i._needApplyFilter=!1,s&&!i._isAllDataTypesDefined&&(a=i._calculateAdditionalFilter(),a&&a.length)?(Ke.log("W1005",i.component.NAME),i._applyFilter()):i.updateItems(e,!0);var a}).fail(()=>{i._isDataSourceApplying=!1}),i._isDataSourceApplying&&(o=!0,i._handleLoadingChanged(!0)),i._needApplyFilter=!i._columnsController.isDataSourceApplied(),i._isAllDataTypesDefined=r.isAllDataTypesDefined())}_handleLoadingChanged(e){this._isLoading=e,this._fireLoadingChanged()}_handleLoadError(e){this.dataErrorOccurred.fire(e)}_handleDataPushed(e){this.pushed.fire(e)}fireError(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.dataErrorOccurred.fire(Ke.Error.apply(Ke,i))}_setPagingOptions(e){var i=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),r=this.option("paging.enabled"),o=this.option("scrolling.mode"),s=o==="infinite",a=o==="virtual",l=r||a||s,d=!1,u=!1,h=!1;return e.requireTotalCount(!s),r!==void 0&&e.paginate()!==l&&(e.paginate(l),d=!0),n!==void 0&&e.pageSize()!==n&&(e.pageSize(n),u=!0),i!==void 0&&e.pageIndex()!==i&&(e.pageIndex(i),h=!0),d||u||h?{isPaginateChanged:d,isPageSizeChanged:u,isPageIndexChanged:h}:!1}_getSpecificDataSourceOption(){var e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e}_initDataSource(){var e=this._dataSource;super._initDataSource();var i=this._dataSource;if(this._useSortingGroupingFromColumns=!0,this._cachedProcessedItems=null,i){var n=this._setPagingOptions(i);this._isPaging=n?.isPageIndexChanged,this.setDataSource(i)}else e&&this.updateItems()}_loadDataSource(){var e=this,i=e._dataSource,n=new H;return ye(this._columnsController.refresh(!0)).always(()=>{i?i.load().done(function(){e._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()}_beforeProcessItems(e){return e.slice(0)}getRowIndexDelta(){return 0}getDataIndex(e){var i=this._items,n=e.changeType==="append"&&i.length>0?i[i.length-1]:null;return O(n?.dataIndex)?n.dataIndex+1:0}_processItems(e,i){var n=this,r=n.getRowIndexDelta(),{changeType:o}=i,s=n._columnsController.getVisibleColumns(null,o==="loadingAll"),a=this.getDataIndex(i),l={visibleColumns:s,dataIndex:a},d=[];return F(e,(u,h)=>{O(h)&&(l.rowIndex=u-r,h=n._processItem(h,l),d.push(h))}),d}_processItem(e,i){return e=this._generateDataItem(e,i),e=this._processDataItem(e,i),e.dataIndex=i.dataIndex++,e}_generateDataItem(e,i){return{rowType:"data",data:e,key:this.keyOf(e)}}_processDataItem(e,i){return e.values=this.generateDataValues(e.data,i.visibleColumns),e}generateDataValues(e,i,n){for(var r=[],o,s=0;s<i.length;s++){var a=i[s];o=n?void 0:null,a.command||(a.calculateCellValue?o=a.calculateCellValue(e):a.dataField&&(o=e[a.dataField])),r.push(o)}return r}_applyChange(e){e.changeType==="update"?this._applyChangeUpdate(e):this.items().length&&e.repaintChangesOnly&&e.changeType==="refresh"?this._applyChangesOnly(e):e.changeType==="refresh"&&this._applyChangeFull(e)}_applyChangeFull(e){this._items=e.items.slice(0)}_getRowIndices(e){var i=e.rowIndices.slice(0),n=this.getRowIndexDelta();i.sort((s,a)=>s-a);for(var r=0;r<i.length;r++){var o=i[r];e.allowInvisibleRowIndices&&(o+=n),o<0&&(i.splice(r,1),r--)}return i}_applyChangeUpdate(e){var i=this,{items:n}=e,r=i._getRowIndices(e),o=i.getRowIndexDelta(),s=i.option("repaintChangesOnly"),a=-1,l=0,d;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];var u=function(h,p,m){var c=h&&p&&Rt(h.key,p.key);return c&&m&&(c=h.rowType===p.rowType&&(p.rowType!=="detail"||h.isEditing===p.isEditing)),c};F(r,(h,p)=>{var m;if(p+=l+o,a!==p){a=p;var c=i._items[p],x=i._items[p+1],D=n[p],T=n[p+1],N=u(c,x)||u(D,T);if(D&&(D.rowIndex=p,e.items.push(D)),c&&D&&u(c,D,N))d="update",i._items[p]=D,c.visible!==D.visible?e.items.splice(-1,1,{visible:D.visible}):s&&!e.isFullUpdate&&(m=i._partialUpdateRow(c,D,p-o));else if(D&&!c||T&&u(c,T,N))d="insert",i._items.splice(p,0,D),l++;else if(c&&!D||x&&u(D,x,N))d="remove",i._items.splice(p,1),l--,a=-1;else if(D)d="update",i._items[p]=D;else return;e.rowIndices.push(p-o),e.changeTypes.push(d),e.columnIndices.push(m)}})}_isCellChanged(e,i,n,r,o){if(JSON.stringify(e.values[r])!==JSON.stringify(i.values[r]))return!0;function s(a,l){return a.modifiedValues?a.modifiedValues[l]!==void 0:!1}return s(e,r)!==s(i,r)}_getChangedColumnIndices(e,i,n,r){var o;if(e.rowType===i.rowType){if(i.rowType!=="group"&&i.rowType!=="groupFooter"&&(o=[],i.rowType!=="detail"))for(var s=0;s<e.values.length;s++)this._isCellChanged(e,i,n,s,r)&&o.push(s);if(i.rowType==="group"&&e.cells){var a=i.isExpanded===e.isExpanded&&i.data.isContinuation===e.data.isContinuation&&i.data.isContinuationOnNextPage===e.data.isContinuationOnNextPage;a&&(o=e.cells.map((l,d)=>{var u;return((u=l.column)===null||u===void 0?void 0:u.type)!=="groupExpand"?d:-1}).filter(l=>l>=0))}}return o}_partialUpdateRow(e,i,n,r){var o=this._getChangedColumnIndices(e,i,n,r);return o?.length&&this.option("dataRowTemplate")&&(o=void 0),o&&(e.cells&&e.cells.forEach((s,a)=>{var l=o.indexOf(a)>=0;!l&&s&&s.update&&s.update(i)}),i.update=e.update,i.watch=e.watch,i.cells=e.cells,r&&(i.oldValues=e.values),e.update&&e.update(i)),o}_isItemEquals(e,i){var n,r,o,s;if(JSON.stringify(e.values)!==JSON.stringify(i.values)||["modified","isNewRow","removed","isEditing"].some(u=>e[u]!==i[u]))return!1;if(e.rowType==="group"||e.rowType==="groupFooter"){var a=e.isExpanded===i.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(i.summaryCells),d=((n=e.data)===null||n===void 0?void 0:n.isContinuation)===((r=i.data)===null||r===void 0?void 0:r.isContinuation)&&((o=e.data)===null||o===void 0?void 0:o.isContinuationOnNextPage)===((s=i.data)===null||s===void 0?void 0:s.isContinuationOnNextPage);if(!a||!l||!d)return!1}return!0}_applyChangesOnly(e){var i,n=[],r=[],o=[],s=[],a={},l=(i=e?.isLiveUpdate)!==null&&i!==void 0?i:!0;function d(m){if(m)return"".concat(m.rowType,",").concat(JSON.stringify(m.key))}var u=this._items,h=u.slice();e.items.forEach((m,c)=>{var x=d(m);a[x]=c,m.rowIndex=c});var p=hD(h,e.items,d,(m,c)=>this._isItemEquals(m,c)?(m.cells&&(m.update&&m.update(c),m.cells.forEach(x=>{x&&x.update&&x.update(c,!0)})),!0):!1);if(!p){this._applyChangeFull(e);return}p.forEach(m=>{switch(m.type){case"update":var{index:c}=m,x=m.data,{oldItem:D}=m,T=this._partialUpdateRow(D,x,c,l);n.push(c),o.push("update"),s.push(x),u[c]=x,r.push(T);break;case"insert":n.push(m.index),o.push("insert"),s.push(m.data),r.push(void 0),u.splice(m.index,0,m.data);break;case"remove":n.push(m.index),o.push("remove"),u.splice(m.index,1),s.push(m.oldItem),r.push(void 0)}}),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=n,e.columnIndices=r,e.changeTypes=o,e.items=s,h.length&&(e.isLiveUpdate=!0),this._correctRowIndices(m=>{var c=this._rowIndexOffset||0,x=this.getRowIndexOffset(),D=h[m-c],T=d(D),N=a[T];return N>=0?N+x-m:0})}_correctRowIndices(e){}_afterProcessItems(e,i){return e}_updateItemsCore(e){var i,n=this._dataSource,r=e.changeType||"refresh";if(e.changeType=r,n){var o=this._cachedProcessedItems;e.useProcessedItemsCache&&o?i=o:(i=e.items||n.items(),i=this._beforeProcessItems(i),i=this._processItems(i,e),this._cachedProcessedItems=i),i=this._afterProcessItems(i,e),e.items=i;var s=this._items.length===i.length&&this._items;this._applyChange(e);var a=this.getRowIndexDelta();F(this._items,(l,d)=>{var u;d.rowIndex=l-a,s&&(d.cells=(u=s[l].cells)!==null&&u!==void 0?u:[]);var h=i[l];h&&(d.loadIndex=h.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]}_handleChanging(e){var i=this.getVisibleRows(),n=this.dataSource();n&&e.changes.forEach(r=>{if(r.type==="insert"&&r.index>=0){for(var o=0,s=0;s<r.index;s++){var a=i[s];a&&(a.rowType==="data"||a.rowType==="group")&&o++}r.index=o}})}updateItems(e,i){var n;if(e=e||{},this._repaintChangesOnly!==void 0)e.repaintChangesOnly=(n=e.repaintChangesOnly)!==null&&n!==void 0?n:this._repaintChangesOnly,e.needUpdateDimensions=e.needUpdateDimensions||this._needUpdateDimensions;else if(e.changes)e.repaintChangesOnly=this.option("repaintChangesOnly");else if(i){var r=this.dataSource().operationTypes();e.repaintChangesOnly=r&&!r.grouping&&!r.filtering&&this.option("repaintChangesOnly"),e.isDataChanged=!0,r&&(r.reload||r.paging||r.groupExpanding)&&(e.needUpdateDimensions=!0)}if(this._updateLockCount&&!e.cancel){this._changes.push(e);return}this._updateItemsCore(e),!e.cancel&&this._fireChanged(e)}loadingOperationTypes(){var e=this.dataSource();return e&&e.loadingOperationTypes()||{}}_fireChanged(e){this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),zi(()=>{this.changed.fire(e)})}isLoading(){return this._isLoading||this._isCustomLoading}_fireLoadingChanged(){this.loadingChanged.fire(this.isLoading(),this._loadingText)}_calculateAdditionalFilter(){return null}_applyFilter(){var e=this._dataSource;return e?(e.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})):new H().resolve()}resetFilterApplying(){this._isFilterApplying=!1}filter(e){var i=this._dataSource,n=i&&i.filter();if(arguments.length===0)return n;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,!he.equalFilterParameters(n,e)&&(i&&i.filter(e),this._applyFilter())}clearFilter(e){var i=this._columnsController,n=function(r){for(var o=i.columnCount(),s=0;s<o;s++)i.columnOption(s,r,void 0)};if(this.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":this.filter(null);break;case"search":this.searchByText("");break;case"header":n("filterValues");break;case"row":n("filterValue")}else this.filter(null),this.searchByText(""),n("filterValue"),n("bufferedFilterValue"),n("filterValues");this.component.endUpdate()}_fireDataSourceChanged(){var e=this;e.changed.add(function i(){e.changed.remove(i),e.dataSourceChanged.fire()})}_getDataSourceAdapter(){}_createDataSourceAdapterCore(e,i){var n=this._getDataSourceAdapter(),r=n.create(this.component);return r.init(e,i),r}isLocalStore(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.store();return e instanceof cl}isCustomStore(e){return e=e||this.store(),e instanceof Oh}_createDataSourceAdapter(e){var i=this.option("remoteOperations"),n=e.store(),r={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return ke(i)&&i.groupPaging&&(i=y({},r,i)),i==="auto"&&(i=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),i===!0&&(i=r),this._createDataSourceAdapterCore(e,i)}setDataSource(e){var i=this._dataSource;!e&&i&&(i.cancelAll(),i.changed.remove(this._dataChangedHandler),i.loadingChanged.remove(this._loadingChangedHandler),i.loadError.remove(this._loadErrorHandler),i.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler),i.changing.remove(this._changingHandler),i.pushed.remove(this._dataPushedHandler),i.dispose(this._isSharedDataSource)),e&&(e=this._createDataSourceAdapter(e)),this._dataSource=e,e&&(this._fireDataSourceChanged(),this._isLoading=!e.isLoaded(),this._needApplyFilter=!0,this._isAllDataTypesDefined=this._columnsController.isAllDataTypesDefined(),e.changed.add(this._dataChangedHandler),e.loadingChanged.add(this._loadingChangedHandler),e.loadError.add(this._loadErrorHandler),e.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler),e.changing.add(this._changingHandler),e.pushed.add(this._dataPushedHandler))}items(e){return this._items}isEmpty(){return!this.items().length}pageCount(){return this._dataSource?this._dataSource.pageCount():1}dataSource(){return this._dataSource}store(){var e=this._dataSource;return e&&e.store()}loadAll(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,r=new H,o=n._dataSource;if(o)if(e){var s={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:i?null:n.getCombinedFilter(),group:o.group(),sort:o.sort()}};o._handleDataLoaded(s),ye(s.data).done(l=>{var d;l=n._beforeProcessItems(l),r.resolve(n._processItems(l,{changeType:"loadingAll"}),(d=s.extra)===null||d===void 0?void 0:d.summary)}).fail(r.reject)}else if(o.isLoading())r.reject();else{var a=y({},o.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});o.load(a).done((l,d)=>{l=n._beforeProcessItems(l),l=n._processItems(l,{changeType:"loadingAll"}),r.resolve(l,d&&d.summary)}).fail(r.reject)}else r.resolve([]);return r}getKeyByRowIndex(e,i){var n=this.items(i)[e];if(n)return n.key}getRowIndexByKey(e,i){return he.getIndexByKey(e,this.items(i))}keyOf(e){var i=this.store();if(i)return i.keyOf(e)}byKey(e){var i=this.store(),n=this.getRowIndexByKey(e),r;if(i)return n>=0&&(r=new H().resolve(this.items()[n].data)),r||i.byKey(e)}key(){var e=this.store();if(e)return e.key()}getRowIndexOffset(e){return 0}getDataByKeys(e){var i=this,n=new H,r=[],o=[];return F(e,(s,a)=>{r.push(i.byKey(a).done(l=>{o[s]=l}))}),ye.apply(g,r).always(()=>{n.resolve(o)}),n}pageIndex(e){return XJ(this,"pageIndex",e)}pageSize(e){return XJ(this,"pageSize",e)}beginCustomLoading(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()}endCustomLoading(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()}refresh(e){e===!0?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});var i=this,n=i.getDataSource(),{changesOnly:r}=e,o=new H,s=function(){i._repaintChangesOnly=!!r};return ye(!e.lookup||i._columnsController.refresh()).always(()=>{e.load||e.reload?(n&&n.on("customizeLoadResult",s),ye(i.reload(e.reload,r)).always(()=>{n&&n.off("customizeLoadResult",s),i._repaintChangesOnly=void 0}).done(o.resolve).fail(o.reject)):(i.updateItems({repaintChangesOnly:e.changesOnly}),o.resolve())}),o.promise()}getVisibleRows(){return this.items()}_disposeDataSource(){this._dataSource&&this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher),this.setDataSource(null)}dispose(){this._disposeDataSource(),super.dispose()}repaintRows(e,i){e=Array.isArray(e)?e:[e],(e.length>1||O(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!i})}skipProcessingPagingChange(e){return this._skipProcessingPagingChange&&(e==="paging.pageIndex"||e==="paging.pageSize")}getUserState(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}}getCachedStoreData(){return this._dataSource&&this._dataSource.getCachedStoreData()}isLastPageLoaded(){var e=this.pageIndex(),i=this.pageCount();return e===i-1}load(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.load()}reload(e,i){var n;return(n=this._dataSource)===null||n===void 0?void 0:n.reload(e,i)}push(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.push(...arguments)}itemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.itemsCount():0}totalItemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalItemsCount():0}hasKnownLastPage(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.hasKnownLastPage():!0}isLoaded(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.isLoaded():!0}totalCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalCount():0}},dL={defaultOptions:()=>({loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}),controllers:{data:lL}};var QJ=Mt.Controller.inherit(function(){function t(a,l){if(a&&(a=a.slice(0),l))for(var d=0;d<a.length;d++)a[d]=y({key:a[d].key},a[d]),a[d].items=t(a[d].items,l-1);return a}function e(a,l,d){var u={reload:!0,fullReload:!0};return l&&(u={sorting:!he.equalSortParameters(a.sort,l.sort),grouping:!he.equalSortParameters(a.group,l.group,!0),groupExpanding:!he.equalSortParameters(a.group,l.group)||l.groupExpand,filtering:!he.equalFilterParameters(a.filter,l.filter),pageIndex:a.pageIndex!==l.pageIndex,skip:a.skip!==l.skip,take:a.take!==l.take,pageSize:a.pageSize!==l.pageSize,fullReload:d,reload:!1,paging:!1},u.reload=d||u.sorting||u.grouping||u.filtering,u.paging=u.pageIndex||u.pageSize||u.take),u}function i(a,l){var d=he.normalizeSortingInfo(a.group||a.storeLoadOptions.group||a.loadOptions.group).length,u=[];if(n(u,a,d))return u;l&&function(h,p,m){var c,x,D=h.length,{storeLoadOptions:T}=p;if(T.skip!==void 0&&T.take&&!m){var N=[];n(N,p,m,!0);var G=N.length;(D||G)&&(p.skip=(c=p.skip)!==null&&c!==void 0?c:T.skip,p.take=(x=p.take)!==null&&x!==void 0?x:T.take),D&&(T.skip+=D,T.take-=D,p.cachedDataPartBegin=h),G&&(T.take-=G,p.cachedDataPartEnd=N.reverse())}}(u,a,d)}function n(a,l,d,u){var h,p,m,c,x,{storeLoadOptions:D}=l,T=(p=(h=l.take)!==null&&h!==void 0?h:D.take)!==null&&p!==void 0?p:0,N=(m=l.cachedData)===null||m===void 0?void 0:m.items;if(T&&N){for(var G=(x=(c=l.skip)!==null&&c!==void 0?c:D.skip)!==null&&x!==void 0?x:0,U=0;U<T;U++){var re=u?T-1-U:U,_=re+G,Oe=N[_];if(Oe===void 0&&_ in N)return!0;var fe=r(l,Oe,d,re,T);if(fe)a.push(fe);else return!1}return!0}return!1}function r(a,l,d,u,h){if(d&&l){var p=u===0&&a.skips||[],m=u===h-1&&a.takes||[];return function c(x,D,T,N){if(D&&x){var G=te({},x),U=T[0]||0,re=N[0],{items:_}=x;if(_){if(re===void 0&&!_[U])return;G.items=[],T.length&&(G.isContinuation=!0),re&&(G.isContinuationOnNextPage=x.count>re);for(var Oe=0;re===void 0?_[Oe+U]:Oe<re;Oe++){var fe=_[Oe+U],we=Oe+1===re,We=c(fe,D-1,Oe===0?T.slice(1):[],we?N.slice(1):[]);if(We!==void 0)G.items.push(We);else return}}return G}return x}(l,d,p,m)}return l}function o(a,l,d,u){if(d&&l){var h=te({},l);delete h.isContinuation,delete h.isContinuationOnNextPage;var p=u[0]||0;return l.items&&(h.items=a?.items||{},l.items.forEach((m,c)=>{var x=c+p,D=c===0?u.slice(1):[];h.items[x]=o(h.items[x],m,d-1,D)})),h}return l}var s={init(a,l){var d=this;d._dataSource=a,d._remoteOperations=l||{},d._isLastPage=!a.isLastPage(),d._hasLastPage=!1,d._currentTotalCount=0,d._cachedData={items:{}},d._lastOperationTypes={},d._eventsStrategy=a._eventsStrategy,d._totalCountCorrection=0,d._isLoadingAll=!1,d.changed=vt(),d.loadingChanged=vt(),d.loadError=vt(),d.customizeStoreLoadOptions=vt(),d.changing=vt(),d.pushed=vt(),d._dataChangedHandler=d._handleDataChanged.bind(d),d._customizeStoreLoadOptionsHandler=d._handleCustomizeStoreLoadOptions.bind(d),d._dataLoadedHandler=d._handleDataLoaded.bind(d),d._loadingChangedHandler=d._handleLoadingChanged.bind(d),d._loadErrorHandler=d._handleLoadError.bind(d),d._pushHandler=d._handlePush.bind(d),d._changingHandler=d._handleChanging.bind(d),a.on("changed",d._dataChangedHandler),a.on("customizeStoreLoadOptions",d._customizeStoreLoadOptionsHandler),a.on("customizeLoadResult",d._dataLoadedHandler),a.on("loadingChanged",d._loadingChangedHandler),a.on("loadError",d._loadErrorHandler),a.on("changing",d._changingHandler),a.store().on("beforePush",d._pushHandler),F(a,(u,h)=>{!d[u]&&ce(h)&&(d[u]=function(){return this._dataSource[u].apply(this._dataSource,arguments)})})},remoteOperations(){return this._remoteOperations},dispose(a){var l=this._dataSource,d=l.store();l.off("changed",this._dataChangedHandler),l.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),l.off("customizeLoadResult",this._dataLoadedHandler),l.off("loadingChanged",this._loadingChangedHandler),l.off("loadError",this._loadErrorHandler),l.off("changing",this._changingHandler),d&&d.off("beforePush",this._pushHandler),a||l.dispose()},refresh(a,l){var d=this._dataSource;l.reload&&(this.resetCurrentTotalCount(),this._isLastPage=!d.paginate(),this._hasLastPage=this._isLastPage)},resetCurrentTotalCount(){this._currentTotalCount=0,this._totalCountCorrection=0},resetCache(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache(){this._cachedData={items:{}}},_needClearStoreDataCache(){var a=this.remoteOperations(),l=e(this._lastLoadOptions||{},{}),d=Object.keys(a).every(u=>!l[u]||!a[u]);return!d},push(a,l){var d=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&Ts({keyInfo:d,data:this._cachedStoreData,changes:a}),l||this._applyBatch(a),this.pushed.fire(a)},getDataIndexGetter(){if(!this._dataIndexGetter){var a,l,d=this.store();this._dataIndexGetter=u=>{var h=l&&l!==this._cachedStoreData;if(!a||h){l=this._cachedStoreData||[],a={};for(var p=0;p<l.length;p++)a[Ur(d.keyOf(l[p]))]=p}return a[Ur(d.keyOf(u))]}}return this._dataIndexGetter},_getKeyInfo(){return this.store()},_needToCopyDataObject:()=>!0,_applyBatch(a,l){var d=this._getKeyInfo(),u=this._dataSource,h=he.normalizeSortingInfo(this.group()).length,p=this.option("editing.refreshMode")==="reshape",m=this.option("scrolling.mode")==="virtual";a=a.filter(T=>!u.paginate()||T.type!=="insert"||T.index!==void 0);var c=()=>h?this.itemsCount():this.items().length,x=c();Ts({keyInfo:d,data:this._items,changes:a,groupCount:h,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),Ts({keyInfo:d,data:u.items(),changes:a,groupCount:h,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()});var D=this._currentTotalCount>0||(l||!p)&&m;D&&(this._totalCountCorrection+=c()-x),a.splice(0,a.length)},_handlePush(a){var{changes:l}=a;this.push(l,!0)},_handleChanging(a){this.changing.fire(a),this._applyBatch(a.changes,!0)},_needCleanCacheByOperation(a,l){var d=["filtering","sorting","paging"],u=d.indexOf(a),h=u>=0?d.slice(u):[a];return h.some(p=>l[p])},_customizeRemoteOperations(a,l){var d=this._cachedStoreData,u=this._cachedPagingData,h=this._cachedData;(a.storeLoadOptions.filter&&!a.remoteOperations.filtering||a.storeLoadOptions.sort&&!a.remoteOperations.sorting)&&(a.remoteOperations={filtering:a.remoteOperations.filtering,summary:a.remoteOperations.summary}),l.fullReload?(d=void 0,u=void 0,h={items:{}}):(l.reload?(u=void 0,h={items:{}}):l.groupExpanding&&(h={items:{}}),F(l,(p,m)=>{m&&this._needCleanCacheByOperation(p,a.remoteOperations)&&(d=void 0,u=void 0)})),u&&(a.remoteOperations.paging=!1),a.cachedStoreData=d,a.cachedPagingData=u,a.cachedData=h,a.isCustomLoading||(this._cachedStoreData=d,this._cachedPagingData=u,this._cachedData=h)},_handleCustomizeStoreLoadOptions(a){var l;this._handleDataLoading(a),((l=a.data)===null||l===void 0?void 0:l.length)!==0&&(a.data=i(a,!0)||a.cachedStoreData)},_handleDataLoading(a){var l=this._dataSource,d=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(a),a.delay=this.option("loadingTimeout"),a.originalStoreLoadOptions=a.storeLoadOptions,a.remoteOperations=y({},this.remoteOperations());var u=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(a.delay=void 0);var h=y({pageIndex:this.pageIndex(),pageSize:this.pageSize()},a.storeLoadOptions),p=e(h,d,u);if(this._customizeRemoteOperations(a,p),!a.isCustomLoading){var m=this._isRefreshing;a.pageIndex=l.pageIndex(),a.lastLoadOptions=h,a.operationTypes=p,this._loadingOperationTypes=p,this._isRefreshing=!0,ye(m||this._isRefreshed||this.refresh(a,p)).done(()=>{this._lastOperationId===a.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{l.cancel(a.operationId)}).always(()=>{this._isRefreshing=!1}),l.cancel(this._lastOperationId),this._lastOperationId=a.operationId,this._isRefreshing&&l.cancel(this._lastOperationId)}this._handleDataLoadingCore(a)},_handleDataLoadingCore(a){var{remoteOperations:l}=a;a.loadOptions={};var d=a.cachedData.extra,u={filter:!l.filtering,sort:!l.sorting,group:!l.grouping,summary:!l.summary,skip:!l.paging,take:!l.paging,requireTotalCount:d&&"totalCount"in d||!l.paging,langParams:!l.filtering||!l.sorting};F(a.storeLoadOptions,(h,p)=>{u[h]&&(a.loadOptions[h]=p,delete a.storeLoadOptions[h])}),d&&(a.extra=d)},_handleDataLoaded(a){var l,d,{loadOptions:u}=a,h=a.remoteOperations&&!a.remoteOperations.paging,{cachedData:p}=a,{storeLoadOptions:m}=a,c=this.option("cacheEnabled")!==!1&&m,x=c&&!a.isCustomLoading&&p&&(!h||m.group),D=c&&h,T=D&&!a.isCustomLoading;if(!u){this._dataSource.cancel(a.operationId);return}h&&(a.skip=u.skip,a.take=u.take,delete u.skip,delete u.take),u.group&&(u.group=a.group||u.group);var N=he.normalizeSortingInfo(a.group||m.group||u.group).length;a.cachedDataPartBegin&&(a.data=a.cachedDataPartBegin.concat(a.data)),a.cachedDataPartEnd&&(a.data=a.data.concat(a.cachedDataPartEnd)),(!x||!i(a))&&(D&&a.cachedPagingData?a.data=t(a.cachedPagingData,N):(T&&(this._cachedStoreData?a.mergeStoreLoadData&&(a.data=this._cachedStoreData=this._cachedStoreData.concat(a.data)):this._cachedStoreData=t(a.data,he.normalizeSortingInfo(m.group).length)),new cl(a.data).load(u).done(G=>{a.data=G,T&&(this._cachedPagingData=t(a.data,N))}).fail(G=>{a.data=new H().reject(G)})),u.requireTotalCount&&h&&(a.extra=Ve(a.extra)?a.extra:{},a.extra.totalCount=a.data.length),a.extra&&a.extra.totalCount>=0&&(m.requireTotalCount===!1||u.requireTotalCount===!1)&&(a.extra.totalCount=-1),!u.data&&(m.requireTotalCount||((d=(l=a.extra)===null||l===void 0?void 0:l.totalCount)!==null&&d!==void 0?d:-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(a),x&&(p.extra=p.extra||y({},a.extra),ye(a.data).done(G=>{(function(U,re,_){for(var Oe,fe,we,We,{storeLoadOptions:b}=U,w=(fe=(Oe=U.skip)!==null&&Oe!==void 0?Oe:b.skip)!==null&&fe!==void 0?fe:0,A=(We=(we=U.take)!==null&&we!==void 0?we:b.take)!==null&&We!==void 0?We:0,R=0;R<A;R++){var B=R+w,z=U.cachedData.items,K=R===0&&U.skips||[];z[B]=o(z[B],re[R],_,K)}})(a,G,N)}))),ye(a.data).done(()=>{a.lastLoadOptions&&(this._lastLoadOptions=a.lastLoadOptions,Object.keys(a.operationTypes).forEach(G=>{this._lastOperationTypes[G]=this._lastOperationTypes[G]||a.operationTypes[G]}))}),a.storeLoadOptions=a.originalStoreLoadOptions},_handleDataLoadedCore(a){a.remoteOperations&&!a.remoteOperations.paging&&Array.isArray(a.data)&&(a.skip!==void 0&&(a.data=a.data.slice(a.skip)),a.take!==void 0&&(a.data=a.data.slice(0,a.take)))},_handleLoadingChanged(a){this.loadingChanged.fire(a)},_handleLoadError(a){this.loadError.fire(a),this.changed.fire({changeType:"loadError",error:a})},_loadPageSize(){return this.pageSize()},_handleDataChanged(a){var l,d=this._dataSource,u=!1,h=!a||O(a.changeType),p=this.itemsCount();h&&(this._isLastPage=!p||!this._loadPageSize()||p<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),d.totalCount()>=0?d.pageIndex()>=this.pageCount()&&(d.pageIndex(this.pageCount()-1),this.pageIndex(d.pageIndex()),this.resetPagesCache(),d.load(),u=!0):h&&(l=d.pageIndex()*this.pageSize()+p,l>this._currentTotalCount&&(this._currentTotalCount=l,(d.pageIndex()===0||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),p===0&&d.pageIndex()>=this.pageCount()&&(d.pageIndex(this.pageCount()-1),this.option("scrolling.mode")!=="infinite"&&(d.load(),u=!0))),u||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(a),this.component._optionCache=void 0)},_scheduleCustomLoadCallbacks(a){var l=this;l._isCustomLoading=!0,a.always(()=>{l._isCustomLoading=!1})},loadingOperationTypes(){return this._loadingOperationTypes},operationTypes(){return this._operationTypes},lastLoadOptions(){return this._lastLoadOptions||{}},isLastPage(){return this._isLastPage},_dataSourceTotalCount(){return this._dataSource.totalCount()},totalCount(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)},totalCountCorrection(){return this._totalCountCorrection},itemsCount(){return this._dataSource.items().length},totalItemsCount(){return this.totalCount()},pageSize(){var a=this._dataSource;return!arguments.length&&!a.paginate()?0:a.pageSize.apply(a,arguments)},pageCount(){var a=this.totalItemsCount()-this._totalCountCorrection,l=this.pageSize();return l&&a>0?Math.max(1,Math.ceil(a/l)):1},hasKnownLastPage(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore(a,l){var d=this._dataSource,u=new H;if(d)return l=l||d.store(),l.load(a).done((h,p)=>{h&&!Array.isArray(h)&&Array.isArray(h.data)&&(p=h,h=h.data),u.resolve(h,p)}).fail(u.reject),u},isCustomLoading(){return!!this._isCustomLoading},load(a){var l=this,d=l._dataSource,u=new H;if(a){var h=d.store(),p=d.loadOptions(),m={storeLoadOptions:y({},a,{langParams:p?.langParams}),isCustomLoading:!0};return F(h._customLoadOptions()||[],(c,x)=>{x in m.storeLoadOptions||(m.storeLoadOptions[x]=p[x])}),this._isLoadingAll=a.isLoadingAll,l._scheduleCustomLoadCallbacks(u),d._scheduleLoadCallbacks(u),l._handleCustomizeStoreLoadOptions(m),function(c,x){O(x)?uf(c,x):c()}(()=>{if(!d.store())return u.reject("canceled");ye(m.data||l.loadFromStore(m.storeLoadOptions)).done((c,x)=>{m.data=c,m.extra=x||{},l._handleDataLoaded(m),a.requireTotalCount&&m.extra.totalCount===void 0&&(m.extra.totalCount=h.totalCount(m.storeLoadOptions)),ye(m.data,m.extra.totalCount).done((D,T)=>{m.extra.totalCount=T,u.resolve(D,m.extra)}).fail(u.reject)}).fail(u.reject)},l.option("loadingTimeout")),u.fail(function(){l._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}return d.load()},reload(a){return a?this._dataSource.reload():this._dataSource.load()},getCachedStoreData(){return this._cachedStoreData}};return s}());var uL=QJ,Id={extend(t){uL=uL.inherit(t)},create:t=>new uL(t)};var cL,hL,$Re=(hL=(cL=dL.controllers)===null||cL===void 0?void 0:cL.data)===null||hL===void 0?void 0:hL.inherit({_getDataSourceAdapter:()=>Id,_getSpecificDataSourceOption(){var t=this.option("dataSource");return t&&!Array.isArray(t)&&this.option("keyExpr")&&Ke.log("W1011"),this.callBase()}});Ie.registerModule("data",{defaultOptions:dL.defaultOptions,controllers:{data:$Re}});var ZJ="dx-sort",eY="dx-sort-none",GRe="dx-sort-up",URe="dx-sort-down",KRe="dx-sort-index",tY="dx-sort-index-icon",qRe="action",pL={_applyColumnState(t){var e,i,n=this.option("sorting.mode"),{rootElement:r}=t,{column:o}=t,s=this._getIndicatorContainer(r);if(t.name==="sort"){r.find(".".concat(ZJ)).remove(),!s.children().length&&s.remove();var a=n!=="none"&&o.allowSorting,l=this.getController&&!!this.getController("columns").columnOption("sortIndex:1");return!O(o.groupIndex)&&(a||O(o.sortOrder))&&(e=o.sortOrder==="asc"?"ascending":"descending",i=this.callBase(t).toggleClass(GRe,o.sortOrder==="asc").toggleClass(URe,o.sortOrder==="desc"),l&&this.option("sorting.showSortIndexes")&&o.sortIndex>=0&&(g("<span>").addClass(tY).text(o.sortIndex+1).appendTo(i),i.addClass(KRe)),a&&t.rootElement.addClass(this.addWidgetPrefix(qRe))),this._setAriaSortAttribute(o,e,r,l),i}return this.callBase(t)},_setAriaSortAttribute(t,e,i,n){if(i.removeAttr("aria-roledescription"),t.isGrouped){var r=this.localize("dxDataGrid-ariaNotSortedColumn");O(t.sortOrder)&&(r=t.sortOrder==="asc"?this.localize("dxDataGrid-ariaSortedAscendingColumn"):this.localize("dxDataGrid-ariaSortedDescendingColumn")),this.setAria("roledescription",r,i)}else if(!O(t.sortOrder))this.setAria("sort","none",i);else if(this.setAria("sort",e,i),n&&t.sortIndex>=0){var o=j.format("dxDataGrid-ariaColumnHeader"),s=j.format("dxDataGrid-ariaSortIndex",t.sortIndex+1),a="".concat(o,", ").concat(s);this.setAria("roledescription",a,i)}},_getIndicatorClassName(t){return t==="sort"?ZJ:t==="sortIndex"?tY:this.callBase(t)},_renderIndicator(t){var{column:e}=t,i=t.container,n=t.indicator;if(t.name==="sort"){var r=this.option("rtlEnabled");if(O(e.sortOrder)||n&&n.addClass(eY),i.children().length&&(!r&&t.columnAlignment==="left"||r&&t.columnAlignment==="right")){i.prepend(n);return}}this.callBase(t)},_updateIndicator(t,e,i){if(!(i==="sort"&&O(e.groupIndex)))return this.callBase.apply(this,arguments)},_getIndicatorElements(t,e){var i=this.callBase(t);return e?i:i&&i.not(".".concat(eY))}};var JRe="dxDataGridColumnHeadersView",YRe=y({},pL,{_createRow(t){var e=this.callBase(t);return t.rowType==="header"&&S.on(e,ne(lt,JRe),"td",this.createAction(i=>{this._processHeaderAction(i.event,e)})),e},_processHeaderAction(t,e){if(g(t.currentTarget).parent().get(0)===e.get(0)){var i=this,n=null,r=g(t.currentTarget),o=r.parent().index(),s=-1;[].slice.call(i.getCellElements(o)).some((p,m)=>{if(p===r.get(0))return s=m,!0});var a=i._columnsController.getVisibleColumns(o),l=a[s],d=i.getController("editing"),u=i.option("editing.mode"),h=d&&d.isEditing()&&(u==="batch"||u==="cell");h||!i._isSortableElement(g(t.target))||l&&!O(l.groupIndex)&&!l.command&&(t.shiftKey?n="shift":Wi(t)&&(n="ctrl"),setTimeout(()=>{i._columnsController.changeSortOrder(l.index,n)}))}},_renderCellContent(t,e){var{column:i}=e;!i.command&&e.rowType==="header"&&this._applyColumnState({name:"sort",rootElement:t,column:i,showColumnLines:this.option("showColumnLines")}),this.callBase.apply(this,arguments)},_columnOptionChanged(t){var{changeTypes:e}=t;if(e.length===1&&e.sorting){this._updateIndicators("sort");return}this.callBase(t)},optionChanged(t){switch(t.name){case"sorting":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}}),XRe=y({},pL,{_createGroupPanelItem(t,e){var i=this,n=i.callBase(...arguments);return S.on(n,ne(lt,"dxDataGridHeaderPanel"),i.createAction(()=>{i._processGroupItemAction(e.index)})),i._applyColumnState({name:"sort",rootElement:n,column:{alignment:i.option("rtlEnabled")?"right":"left",allowSorting:e.allowSorting,sortOrder:e.sortOrder==="desc"?"desc":"asc",isGrouped:!0},showColumnLines:!0}),n},_processGroupItemAction(t){setTimeout(()=>this.getController("columns").changeSortOrder(t))},optionChanged(t){switch(t.name){case"sorting":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}}),iY={defaultOptions:()=>({sorting:{mode:"single",ascendingText:j.format("dxDataGrid-sortingAscendingText"),descendingText:j.format("dxDataGrid-sortingDescendingText"),clearText:j.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:YRe,headerPanel:XRe}}};Ie.registerModule("sorting",iY);var QRe="rowsview",ZRe="content",eFe="nowrap",fL="dx-group-row",nY="dx-group-cell",tFe="dx-data-row",MO="dx-freespace-row",iFe="dx-row-lines",rY="dx-column-lines",oY="dx-row-alt",sY="dx-last-row-border",nFe="dx-empty",rFe="row-inserted-animation",oFe=200;function aY(t){return t?Math.round(t.scrollWidth()-t.clientWidth()):0}function lY(t){var{rowType:e,column:i}=t;return e==="group"&&O(i.groupIndex)&&!i.showWhenGrouped&&!i.command}function dY(t){var{element:e,watch:i,getter:n,callBack:r}=t;if(i){var o=i(n,r);S.on(e,xn,o)}}var sFe=function(t,e){var i=of(e.text)&&e.rowType==="data",{text:n}=e,r=t.get(0);i?he.setEmptyText(t):e.column.encodeHtml?r.textContent=n:r.innerHTML=n},aFe=function(t){var e=t.getScrollable();return e?Math.ceil(parseFloat(g(e.content()).css("paddingBottom"))):0},gL=class extends Ns{_getDefaultTemplate(e){switch(e.command){case"empty":return function(i){i.html("&nbsp;")};default:return sFe}}_getDefaultGroupTemplate(e){var i=this.option("summary.texts");return function(n,r){var{data:o}=r,s="".concat(r.column.caption,": ").concat(r.text),a=n.get(0);r.summaryItems&&r.summaryItems.length&&(s+=" ".concat(he.getGroupRowSummaryText(r.summaryItems,i))),o&&(r.groupContinuedMessage&&r.groupContinuesMessage?s+=" (".concat(r.groupContinuedMessage,". ").concat(r.groupContinuesMessage,")"):r.groupContinuesMessage?s+=" (".concat(r.groupContinuesMessage,")"):r.groupContinuedMessage&&(s+=" (".concat(r.groupContinuedMessage,")"))),e.encodeHtml?a.textContent=s:a.innerHTML=s}}_update(e){}_updateCell(e,i){lY(i)&&e.addClass(nY),super._updateCell.apply(this,arguments)}_getCellTemplate(e){var{column:i}=e,n;return lY(e)?n=i.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultGroupTemplate(i)}:(e.rowType==="data"||i.command)&&i.cellTemplate?n=i.cellTemplate:n={allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(i)},n}_createRow(e,i){var n=super._createRow.apply(this,arguments);if(e){var r=e.rowType==="group",o=e.rowType==="data";o&&n.addClass(tFe),o&&this.option("showRowLines")&&n.addClass(iFe),this.option("showColumnLines")&&n.addClass(rY),e.visible===!1&&n.hide(),r&&(n.addClass(fL),this.setAria("role","row",n),this.setAriaExpandedAttribute(n,e))}return n}_rowPrepared(e,i,n){i.rowType==="data"&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&e.addClass(oY),dY({element:e.get(0),watch:i.watch,getter:()=>this._isAltRow(n),callBack:r=>{e.toggleClass(oY,r)}})),this._setAriaRowIndex(i,e),dY({element:e.get(0),watch:i.watch,getter:()=>i.rowIndex,callBack:()=>this._setAriaRowIndex(i,e)})),super._rowPrepared.apply(this,arguments)}_setAriaRowIndex(e,i){var{component:n}=this,r=n.option("scrolling.mode")==="standard"&&!he.isVirtualRowRendering(n),o=e.rowIndex+1;r?o=n.pageIndex()*n.pageSize()+o:o+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",o,i)}setAriaExpandedAttribute(e,i){var n=i.isExpanded?this.localize("dxDataGrid-ariaExpandedRow"):this.localize("dxDataGrid-ariaCollapsedRow");this.setAria("roledescription",n,e)}_afterRowPrepared(e){var i=e.args[0],n=this._dataController,r=n.getVisibleRows()[i.rowIndex],o=this.option("integrationOptions.watchMethod");if(!(!i.data||i.rowType!=="data"||i.isNewRow||!this.option("twoWayBindingEnabled")||!o||!r)){var s=o(()=>n.generateDataValues(i.data,i.columns),()=>{n.repaintRows([r.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});S.on(i.rowElement,xn,s)}}_renderScrollable(e){var i=this.element();if(i.children().length||i.append("<div>"),(e||!this._loadPanel)&&this._renderLoadPanel(i,i.parent(),this._dataController.isLocalStore()),(e||!this.getScrollable())&&this._dataController.isLoaded()){for(var n=this.getColumns(),r=!0,o=0;o<n.length;o++)if(!n[o].width&&!n[o].minWidth){r=!1;break}(this.option("columnAutoWidth")||this._hasHeight||r||this._columnsController._isColumnFixing())&&this._renderScrollableCore(i)}}_handleScroll(e){var i=this.option("rtlEnabled"),n=e.component.option("useNative");this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left;var r=e.scrollOffset.left;i&&(this._scrollRight=aY(e.component)-this._scrollLeft,n&&(r=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(te(te({},e.scrollOffset),{left:r}),this.name)}_renderScrollableCore(e){var i=this._createScrollableOptions(),n=this._handleScroll.bind(this);i.onScroll=n,this._scrollable=this._createComponent(e,Or,i),this._scrollableContainer=this._scrollable&&g(this._scrollable.container())}_renderLoadPanel(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return he.renderLoadPanel.apply(this,arguments)}_renderContent(e,i,n){return e.empty().append(i),this._findContentElement()}_updateContent(e,i,n){return this._contentChanges.push({newTableElement:e,change:i,isFixedTableRendering:n}),this.waitAsyncTemplates().done(()=>{var r=this._contentChanges;this._contentChanges=[],r.forEach(o=>{var{newTableElement:s,change:a,isFixedTableRendering:l}=o,d=this.getTableElement(l),u=this._findContentElement(l),h=a?.changeType,p=[],m=this.option("highlightChanges"),c=this.addWidgetPrefix(rFe);switch(h){case"update":F(a.rowIndices,(x,D)=>{var T,N=this._getRowElements(s).eq(x),G=(T=a.changeTypes)===null||T===void 0?void 0:T[x],U=a.items&&a.items[x];p.push(()=>{var re,_=this._getRowElements(d),Oe=_.eq(D);switch(G){case"update":if(U){var fe=(re=a.columnIndices)===null||re===void 0?void 0:re[x];O(U.visible)&&U.visible!==Oe.is(":visible")?Oe.toggle(U.visible):fe?this._updateCells(Oe,N,fe):Oe.replaceWith(N)}break;case"insert":if(_.length)Oe.length?N.insertBefore(Oe):N.insertAfter(_.last());else if(d){var we=N.is("tbody")?d:d.children("tbody");N.prependTo(we)}m&&a.isLiveUpdate&&N.addClass(c);break;case"remove":Oe.remove()}})}),F(p,function(){this()}),s.remove();break;default:this.setTableElement(s,l),u.addClass(this.addWidgetPrefix(ZRe)),this._setGridRole(u),this._renderContent(u,s,l)}})}).fail(()=>{this._contentChanges=[]})}_getGridRoleName(){return"grid"}_setGridRole(e){var i,n=!(!((i=this._dataController)===null||i===void 0)&&i.isEmpty()),r=this._getGridRoleName();e?.length&&n&&this.setAria("role",r,e)}_createEmptyRow(e,i,n){var r,o=this._createRow(),s=i?this.getFixedColumns():this.getColumns();o.addClass(e).toggleClass(rY,this.option("showColumnLines"));for(var a=0;a<s.length;a++)r=this._createCell({column:s[a],rowType:"freeSpace",columnIndex:a,columns:s}),It(n)&&r.css("height",n),o.append(r);return this.setAria("role","presentation",o),o}getFixedColumns(){throw new Error("Method not implemented.")}_appendEmptyRow(e,i,n){var r=this._getBodies(e),o=!r.length||i.is("tbody"),s=o?e:r;if(n==="top"){if(s.first().prepend(i),o){var a=s.children("colgroup");s.prepend(a)}}else s.last().append(i)}_renderFreeSpaceRow(e,i){var n=this._createEmptyRow(MO);n=this._wrapRowIfNeed(e,n,i?.changeType==="refresh"),this._appendEmptyRow(e,n)}_checkRowKeys(e){var i=this,n=i._getRows(e),r=i._dataController.store()&&i._dataController.store().key();r&&n.some(o=>{if(o.rowType==="data"&&o.key===void 0)return i._dataController.fireError("E1046",r),!0})}_needUpdateRowHeight(e){return e>0&&!this._rowHeight}_getRowsHeight(e){e=e||this._tableElement;var i=e.children("tbody").children().not(".dx-virtual-row").not(".".concat(MO));return i.toArray().reduce((n,r)=>n+Jt(r).height,0)}_updateRowHeight(){var e=this.getTableElement(),i=this._dataController.items().length;if(e&&this._needUpdateRowHeight(i)){var n=this._getRowsHeight(e);this._rowHeight=n/i}}_findContentElement(e){var i=this.element(),n=this.getScrollable();if(i)return n&&(i=g(n.content())),i.children().first()}_getRowElements(e){var i=super._getRowElements(e);return i&&i.not(".".concat(MO))}_getFreeSpaceRowElements(e){var i=e||this.getTableElements();return i&&i.children("tbody").children(".".concat(MO))}_getNoDataText(){return this.option("noDataText")}_rowClick(e){var i=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",y({evaluate(n){var r=Tt(n);return r(i.data)}},e,i))}_rowDblClick(e){var i=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",y({},e,i))}_getColumnsCountBeforeGroups(e){for(var i=0;i<e.length;i++)if(e[i].type==="groupExpand")return i;return 0}_getGroupCellOptions(e){var i=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+i;return{columnIndex:n,colspan:e.columns.length-n-1}}_needWrapRow(){return super._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")}_renderCells(e,i){i.row.rowType==="group"?this._renderGroupedCells(e,i):i.row.values&&super._renderCells(e,i)}_renderGroupedCells(e,i){for(var{row:n}=i,r,{columns:o}=i,{rowIndex:s}=n,a,l=this._getGroupCellOptions(i),d=0;d<=l.columnIndex;d++)d===l.columnIndex&&o[d].allowCollapsing&&i.scrollingMode!=="infinite"?(a=!!n.isExpanded,r=o[d]):(a=null,r={command:"expand",cssClass:o[d].cssClass}),this._needRenderCell(d,i.columnIndices)&&this._renderCell(e,{value:a,row:n,rowIndex:s,column:r,columnIndex:d,columnIndices:i.columnIndices,change:i.change});var u=Yr(this.option("rtlEnabled")),h=y({},o[l.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:u});l.colspan>1&&(h.colspan=l.colspan),this._needRenderCell(l.columnIndex+1,i.columnIndices)&&this._renderCell(e,{value:n.values[n.groupIndex],row:n,rowIndex:s,column:h,columnIndex:l.columnIndex+1,columnIndices:i.columnIndices,change:i.change})}_renderRows(e,i){var n=this.option("scrolling.mode");super._renderRows(e,y({scrollingMode:n},i)),this._checkRowKeys(i.change),this._renderFreeSpaceRow(e,i.change),this._hasHeight||this.updateFreeSpaceRowHeight(e)}_renderDataRowByTemplate(e,i,n){var{row:r}=i,o=y({columns:i.columns},r),s=this._createRow(r,"tbody");s.appendTo(e),this.renderTemplate(s,n,o,!0,i.change),this._rowPrepared(s,o,i.row)}_renderRow(e,i){var{row:n}=i,{rowTemplate:r}=this.option(),o=this.option("dataRowTemplate");n.rowType==="data"&&o?this._renderDataRowByTemplate(e,i,o):(n.rowType==="data"||n.rowType==="group")&&!O(n.groupIndex)&&r?this.renderTemplate(e,r,y({columns:i.columns},n),!0):super._renderRow(e,i)}_renderTable(e){var i=this,n=super._renderTable(e);return O(i.getTableElement())?i._renderScrollable():(i.setTableElement(n),i._renderScrollable(!0),i.resizeCompleted.add(function r(){var o=i.getScrollable();o&&i.element().closest(Le().document).length&&(i.resizeCompleted.remove(r),o._visibilityChanged(!0))})),n}_createTable(){var e=super._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&e.appendTo(this.component.$element()),e}_renderCore(e){var i=this.element();i.addClass(this.addWidgetPrefix(QRe)).toggleClass(this.addWidgetPrefix(eFe),!this.option("wordWrapEnabled")),i.toggleClass(nFe,this._dataController.isEmpty()),this.setAria("role","presentation",i);var n=this._renderTable({change:e}),r=this._updateContent(n,e);return super._renderCore(e),this._lastColumnWidths=null,r}_getRows(e){return e&&e.items||this._dataController.items()}_getCellOptions(e){var{column:i}=e,{row:n}=e,{data:r}=n,o=n&&n.summaryCells,{value:s}=e,a=he.getDisplayValue(i,s,r,n.rowType),l=super._getCellOptions(e);if(l.value=s,l.oldValue=e.oldValue,l.displayValue=a,l.row=n,l.key=n.key,l.data=r,l.rowType=n.rowType,l.values=n.values,l.text=i.command?"":he.formatValue(a,i),l.rowIndex=n.rowIndex,l.summaryItems=o&&o[e.columnIndex],l.resized=i.resizedCallbacks,O(i.groupIndex)&&!i.command){var d=this.option("grouping.texts"),u=this.option("scrolling.mode");u!=="virtual"&&u!=="infinite"&&(l.groupContinuesMessage=r&&r.isContinuationOnNextPage&&d&&d.groupContinuesMessage,l.groupContinuedMessage=r&&r.isContinuation&&d&&d.groupContinuedMessage)}return l}_setRowsOpacityCore(e,i,n,r){var o=this._columnsController,s=o.getColumns(),a=s&&s[n],l=a&&a.isBand&&a.index;F(e,(d,u)=>{if(!g(u).hasClass(fL))for(var h=0;h<i.length&&!((It(l)&&o.isParentBandColumn(i[h].index,l)||i[h].index===n)&&(e.eq(d).children().eq(h).css({opacity:r}),!It(l)));h++);})}_getDevicePixelRatio(){return Le().devicePixelRatio}renderNoDataText(){return he.renderNoDataText.apply(this,arguments)}getCellOptions(e,i){var n=this._dataController.items()[e],r,o;return n&&(Se(i)?o=this._columnsController.columnOption(i):o=this._columnsController.getVisibleColumns()[i],o&&(r=this._getCellOptions({value:o.calculateCellValue(n.data),rowIndex:n.rowIndex,row:n,column:o}))),r}getRow(e){if(e>=0){var i=this._getRowElements();if(i.length>e)return g(i[e])}}updateFreeSpaceRowHeight(e){var i=this._dataController,n=i.items(!0).length,r=this._findContentElement(),o=this._getFreeSpaceRowElements(e);if(o&&r&&i.totalCount()>=0){var s=!1;if(n>0)if(this._hasHeight)o.hide(),Kn(()=>{var d=this.getScrollbarWidth(!0),u=je(this.element())-d,h=et(r),p=u-h>0,m=this._getRowsHeight(r.children().first()),c=e||this.getTableElements(),x=Math.ceil(parseFloat(c.css("borderTopWidth"))),D=this._getHeightCorrection(),T=u-m-x-D;p&&zi(()=>{o.css("height",T),s=!0,o.show()}),zi(()=>this._updateLastRowBorder(s))});else{var a=i.pageSize()-n,l=this.option("scrolling.mode");a>0&&i.pageCount()>1&&l!=="virtual"&&l!=="infinite"&&(xb(o,a*this._rowHeight),s=!0),!s&&e?xb(o,0):o.toggle(s),this._updateLastRowBorder(s)}else o.css("height",0),o.show(),this._updateLastRowBorder(!0)}}_getHeightCorrection(){var e=Nt.webkit&&this._getDevicePixelRatio()>=2,i=Nt.chrome&&Nt.version>=91,n=Nt.mozilla&&Nt.version>=70&&!this.option("showRowLines");return e||n||i?1:0}_columnOptionChanged(e){var{optionNames:i}=e;e.changeTypes.grouping||(i.width||i.visibleWidth)&&(super._columnOptionChanged(e),this._fireColumnResizedCallbacks())}getScrollable(){return this._scrollable}init(){var e=this,i=e.getController("data");super.init(),e._editorFactoryController=e.getController("editorFactory"),e._rowHeight=0,e._scrollTop=0,e._scrollLeft=-1,e._scrollRight=0,e._hasHeight=void 0,e._contentChanges=[],i.loadingChanged.add((n,r)=>{e.setLoading(n,r)}),i.dataSourceChanged.add(()=>{this._scrollLeft>=0&&!this._dataController.isLoading()&&this._handleScroll({component:this.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:this._scrollTop,left:this._scrollLeft}})})}_handleDataChanged(e){switch(e.changeType){case"refresh":case"prepend":case"append":case"update":this.render(null,e);break;default:this._update(e)}}publicMethods(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]}contentWidth(){return Ae(this.element())-this.getScrollbarWidth()}getScrollbarWidth(e){var i=this._scrollableContainer&&this._scrollableContainer.get(0),n=0;return i&&(e?(n=i.clientHeight?i.offsetHeight-i.clientHeight:0,n+=aFe(this)):n=i.clientWidth?i.offsetWidth-i.clientWidth:0),n>0?n:0}_fireColumnResizedCallbacks(){for(var e=this._lastColumnWidths||[],i=[],n=this.getColumns(),r=0;r<n.length;r++)i[r]=n[r].visibleWidth,n[r].resizedCallbacks&&!O(n[r].groupIndex)&&e[r]!==i[r]&&n[r].resizedCallbacks.fire(i[r]);this._lastColumnWidths=i}_updateLastRowBorder(e){this.option("showBorders")&&this.option("showRowLines")&&!e?this.element().addClass(sY):this.element().removeClass(sY)}_updateScrollable(){var e=Or.getInstance(this.element());e&&(e.update(),(e.option("useNative")||!e?.isRenovated())&&this._updateHorizontalScrollPosition())}_updateHorizontalScrollPosition(){var e=this.getScrollable(),i=e&&e.scrollOffset().left,n=this.option("rtlEnabled");if(n){var r=aY(e),o=r-i;o!==this._scrollRight&&(this._scrollLeft=r-this._scrollRight)}this._scrollLeft>=0&&i!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})}_resizeCore(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),zi(()=>{e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),Kn(()=>{e._updateScrollable()})})}scrollTo(e){var i=this.element(),n=i&&Or.getInstance(i);n&&n.scrollTo(e)}height(e){var i=this.element();if(arguments.length===0)return i?et(i,!0):0;O(e)&&i&&(this.hasHeight(e!=="auto"),xb(i,e))}hasHeight(e){if(arguments.length===0)return!!this._hasHeight;this._hasHeight=e}setLoading(e,i){var n=this._loadPanel,r=this._dataController,o=this.option("loadPanel")||{},s=r.isLoaded()?o.animation:null,a=this.element();if(Ne()&&(!n&&i!==void 0&&r.isLocalStore()&&o.enabled==="auto"&&a&&(this._renderLoadPanel(a,a.parent()),n=this._loadPanel),n)){var l={message:i||o.text,animation:s,visible:e};e&&(l.position=he.calculateLoadPanelPosition(a)),clearTimeout(this._hideLoadingTimeoutID),n.option("visible")&&!e?this._hideLoadingTimeoutID=setTimeout(()=>{n.option(l)},oFe):n.option(l)}}setRowsOpacity(e,i){var n=this._getRowElements().not(".".concat(fL))||[];this._setRowsOpacityCore(n,this.getColumns(),e,i)}_getCellElementsCore(e){var i=super._getCellElementsCore.apply(this,arguments);if(i){var n=i.filter(".".concat(nY)).index();if(n>=0&&i.length>n+1)return i.slice(0,n+1)}return i}_getBoundaryVisibleItemIndex(e,i){var n=0,r=0,o=0,s=this._scrollTop,a=this._findContentElement(),l=a&&a.offset().top,d=this.getController("data"),u=d.items(),h=this.getTableElement();if(u.length&&h){var p=this._getRowElements(h).filter(":visible");if(!e){var m=et(this._hasHeight?this.element():Le());s+=m}for(n=0;n<u.length;n++){r=o;var c=g(p).eq(n);if(c.length&&(o=c.offset(),o=(e?o.top:o.top+et(c))-l,o>s)){n&&(i||2*s<Math.round(o+r))&&n--;break}}n&&n===u.length&&n--}return n}getTopVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!0,e)}getBottomVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!1,e)}getTopVisibleRowData(){var e=this.getTopVisibleItemIndex(),i=this._dataController.items();if(i[e])return i[e].data}_scrollToElement(e,i){var n=this.getScrollable();n&&n.scrollToElement(e,i)}optionChanged(e){switch(super.optionChanged(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":this._invalidate(!0,!0),e.handled=!0;break;case"scrolling":this._rowHeight=null,this._tableElement=null,e.handled=!0;break;case"rtlEnabled":this._rowHeight=null,this._tableElement=null;break;case"loadPanel":this._tableElement=null,this._invalidate(!0,e.fullName!=="loadPanel.enabled"),e.handled=!0;break;case"noDataText":this.renderNoDataText(),e.handled=!0}}setAriaOwns(e,i){var n,r=this._findContentElement(),o=this.getTableElement();o?.length&&this.setAria("owns","".concat(e??""," ").concat((n=o.attr("id"))!==null&&n!==void 0?n:""," ").concat(i??"").trim(),r)}dispose(){super.dispose(),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()}setScrollerSpacing(){}_restoreErrorRow(){}},mL={defaultOptions:()=>({hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:j.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:j.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}),views:{rowsView:gL}};var LPt=mL.views.rowsView;Ie.registerModule("rows",mL);var lFe="dx-context-menu",dFe={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},uFe=["columnHeadersView","rowsView","footerView","headerPanel"],cFe=Mt.ViewController.inherit({init(){this.createAction("onContextMenuPreparing")},getContextMenuItems(t){if(!t)return!1;var e=this,i=g(t.target),n,r,o,s;return F(uFe,function(){var a,l,d=e.getView(this);if(n=d&&d.element(),n&&(n.is(i)||n.find(i).length)){o=i.closest(".dx-row > td, .dx-row > tr"),r=o.parent();var u=d.getRowIndex(r),h=o[0]&&o[0].cellIndex,p=r.data("options"),m={event:t,targetElement:Pe(i),target:dFe[this],rowIndex:u,row:d._getRows()[u],columnIndex:h,column:(l=(a=p?.cells)===null||a===void 0?void 0:a[h])===null||l===void 0?void 0:l.column};if(m.items=d.getContextMenuItems&&d.getContextMenuItems(m),e.executeAction("onContextMenuPreparing",m),e._contextMenuPrepared(m),s=m.items,s)return!1}}),s},_contextMenuPrepared:W}),hFe=Mt.View.inherit({_renderCore(){var t=this,e=t.element().addClass(lFe);this.setAria("role","presentation",e),this._createComponent(e,Dg,{onPositioning(i){var{event:n}=i,r=i.component,o=t.getController("contextMenu").getContextMenuItems(n);o?(r.option("items",o),n.stopPropagation()):i.cancel=!0},onItemClick(i){i.itemData.onItemClick&&i.itemData.onItemClick(i)},cssClass:t.getWidgetContainerClass(),target:t.component.$element()})}}),uY={defaultOptions:()=>({onContextMenuPreparing:null}),controllers:{contextMenu:cFe},views:{contextMenuView:hFe}};Ie.registerModule("contextMenu",uY);var dC="dx-error-row",cY="dx-error-message",pFe="dx-closebutton",fFe="action",gFe=Mt.ViewController.inherit({init(){this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")},_createErrorRow(t,e){var i=this,n,r,o=this._renderErrorMessage(t);return e?(n=g("<tr>").attr("role","row").addClass(dC),r=g("<div>").addClass(pFe).addClass(i.addWidgetPrefix(fFe)),S.on(r,lt,i.createAction(s=>{var a=s.event,l,d=g(a.currentTarget).closest(".".concat(dC)).index();a.stopPropagation(),F(e,(u,h)=>{l=g(h).children("tbody").children("tr").eq(d),i.removeErrorRow(l)}),i.getController("resizing")&&i.getController("resizing").fireContentReadyAction()})),g("<td>").attr({colSpan:i.getController("columns").getVisibleColumns().length,role:"gridcell"}).prepend(r).append(o).appendTo(n),n):o},_renderErrorMessage(t){var e=t.url?t.message.replace(t.url,""):t.message||t,i=g("<div>").attr("role","alert").attr("aria-roledescription",j.format("dxDataGrid-ariaError")).addClass(cY).text(e);return t.url&&g("<a>").attr("href",t.url).text(t.url).appendTo(i),i},renderErrorRow(t,e,i){var n=this,r,o;if(i)return i.find(".".concat(cY)).remove(),r=n._createErrorRow(t),i.prepend(r),r;var s=e>=0||!n._columnHeadersView.isVisible()?n._rowsView:n._columnHeadersView,a=s.getTableElements();F(a,(d,u)=>{if(r=n._createErrorRow(t,a),o=o||r,e>=0){var h=s._getRowElements(g(u)).eq(e);n.removeErrorRow(h.next()),r.insertAfter(h)}else{var p=g(u).children("tbody"),m=p.children("tr");n._columnHeadersView.isVisible()?(n.removeErrorRow(m.last()),g(u).append(r)):(n.removeErrorRow(m.first()),p.first().prepend(r))}});var l=n.getController("resizing");return l&&l.fireContentReadyAction(),o},removeErrorRow(t){if(!t){var e=this._columnHeadersView&&this._columnHeadersView.element();if(t=e&&e.find(".".concat(dC)),!t||!t.length){var i=this._rowsView.element();t=i&&i.find(".".concat(dC))}}t&&t.hasClass(dC)&&t.remove()},optionChanged(t){switch(t.name){case"errorRowEnabled":t.handled=!0;break;default:this.callBase(t)}}}),hY={defaultOptions:()=>({errorRowEnabled:!0}),controllers:{errorHandling:gFe},extenders:{controllers:{data:{init(){var t=this,e=t.getController("errorHandling");t.callBase(),t.dataErrorOccurred.add((i,n)=>{t.option("errorRowEnabled")&&e.renderErrorRow(i,void 0,n)}),t.changed.add(i=>{if(!(i&&i.changeType==="loadError")){var n=t.getController("errorHandling"),r=t.getController("editing");r&&!r.hasChanges()&&n&&n.removeErrorRow()}})}}}}};Ie.registerModule("errorHandling",hY);var pY="borders",mFe="table-fixed",vFe="important-margin",fY="dx-gridbase-container",_Fe="tr.dx-group-row",AO="adaptiveHidden",vL=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],uC=function(t){return Se(t)&&t.endsWith("%")},CFe=function(t){return Se(t)&&t.endsWith("px")},gY=function(t,e){var i=t._rowsView.contentWidth(),n=t._getTotalWidth(e,i);return i-n},xFe=function(t,e,i,n){return gY(t,n.map((r,o)=>o===e?i:r))},yFe=function(t,e){sJ(t,!0),he.setSelectionRange(t,e)},bFe={_initPostRenderHandlers(){this._refreshSizesHandler||(this._refreshSizesHandler=t=>{var e=new H().resolve(null),i=t?.changeType,n=t?.isDelayed,r=i&&i!=="updateSelection"&&i!=="updateFocusedRow"&&i!=="pageIndex"&&!n;this._dataController.changed.remove(this._refreshSizesHandler),this._checkSize()&&(e=this._refreshSizes(t)),r&&ye(e).done(()=>{this._setAriaLabel(),this.fireContentReadyAction()})},this._dataController.changed.add(()=>{this._dataController.changed.add(this._refreshSizesHandler)}))},_refreshSizes(t){var e,i=new H().resolve(null),n=t?.changeType,r=t?.isDelayed,o=this._dataController.items();if(!t||n==="refresh"||n==="prepend"||n==="append")r||(i=this.resize());else if(n==="update"){if(((e=t.changeTypes)===null||e===void 0?void 0:e.length)===0)return i;(o.length>1||t.changeTypes[0]!=="insert")&&!(o.length===0&&t.changeTypes[0]==="remove")&&!t.needUpdateDimensions?(i=new H,this._waitAsyncTemplates().done(()=>{Kn(()=>zi(()=>Kn(()=>{this._setScrollerSpacing(),this._rowsView.resize(),i.resolve()})))}).fail(i.reject)):i=this.resize()}return i},fireContentReadyAction(){this.component._fireContentReadyAction()},_getWidgetAriaLabel:()=>"dxDataGrid-ariaDataGrid",_setAriaLabel(){var t=Math.max(0,this._dataController.totalItemsCount());this.component.setAria("label",j.format(this._getWidgetAriaLabel(),t,this.component.columnCount()),this.component.$element().children(".".concat(fY)))},_getBestFitWidths(){var t,e=this._rowsView,i=this._columnHeadersView,n=e.getColumnWidths();if(!n?.length){var r=i.getTableElement();i.setTableElement((t=e.getTableElement())===null||t===void 0?void 0:t.children(".dx-header")),n=i.getColumnWidths(),i.setTableElement(r)}return n},_setVisibleWidths(t,e){var i=this._columnsController;i.beginUpdate(),F(t,(n,r)=>{var o=i.getColumnId(r);i.columnOption(o,"visibleWidth",e[n])}),i.endUpdate()},_toggleBestFitModeForView(t,e,i){if(!(!t||!t.isVisible())){var n=this._rowsView.getTableElements(),r=t.getTableElements();F(n,(o,s)=>{var a,l=g(s),d=r.eq(o);d&&d.length&&(i?a=d.children("tbody").appendTo(l):a=l.children(".".concat(e)).appendTo(d),a.toggleClass(e,i),a.toggleClass(this.addWidgetPrefix("best-fit"),i))})}},_toggleBestFitMode(t){var e=this._rowsView.getTableElement(),i=this._rowsView.getTableElements().eq(1);e&&(e.css("tableLayout",t?"auto":"fixed"),e.children("colgroup").css("display",t?"none":""),F(i.find(_Fe),(n,r)=>{g(r).css("display",t?"none":"")}),i.toggleClass(this.addWidgetPrefix(mFe),!t),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",t),this._toggleBestFitModeForView(this._footerView,"dx-footer",t),this._needStretch()&&(e.get(0).style.width=t?"auto":""))},_toggleContentMinHeight(t){var e=this._rowsView.getScrollable(),i=this._rowsView._findContentElement();e?.option("useNative")===!1&&(t===!0&&(this._prevContentMinHeight=i.get(0).style.minHeight),O(this._prevContentMinHeight)&&i.css({minHeight:t?he.getContentHeightLimit(Nt):this._prevContentMinHeight}))},_synchronizeColumns(){var t=this._columnsController,e=t.getVisibleColumns(),i=this.option("columnAutoWidth"),n=this.option("wordWrapEnabled"),r=e.some(m=>!O(m.width)),o=this._needBestFit(),s=!1,a,l=!1,d=[],u,h;!o&&F(e,(m,c)=>{if(c.width==="auto")return o=!0,!1}),F(e,(m,c)=>{if(c.minWidth)return s=!0,!1}),this._setVisibleWidths(e,[]);var p=this.component.$element();o&&(u=ie.getActiveElement(p.get(0)),h=he.getSelectionRange(u),this._toggleBestFitMode(!0),a=!0),this._toggleContentMinHeight(n),p&&p.get(0)&&this._maxWidth&&(delete this._maxWidth,p[0].style.maxWidth=""),Kn(()=>{if(o?(d=this._getBestFitWidths(),F(e,(c,x)=>{var D=t.getColumnId(x);t.columnOption(D,"bestFitWidth",d[c],!0)})):s&&(d=this._getBestFitWidths()),F(e,function(c){var{width:x}=this;x!=="auto"&&(O(x)?d[c]=It(x)||CFe(x)?parseFloat(x):x:i||(d[c]=void 0))}),a&&(this._toggleBestFitMode(!1),a=!1,u&&u!==ie.getActiveElement())){var m=Jt(u).bottom<0;m||yFe(u,h)}l=this._correctColumnWidths(d,e),i&&(function(){var c;F(e,(x,D)=>{D.type==="groupExpand"&&(c=d[x])}),F(e,(x,D)=>{D.type==="groupExpand"&&c&&(d[x]=c)})}(),this._needStretch()&&this._processStretch(d,e)),zi(()=>{(o||l||r)&&this._setVisibleWidths(e,d),n&&this._toggleContentMinHeight(!1)})})},_needBestFit(){return this.option("columnAutoWidth")},_needStretch(){return this._columnsController.getVisibleColumns().some(t=>t.width==="auto"&&!t.command)},_getAverageColumnsWidth(t){var e=gY(this,t),i=t.filter(n=>n===void 0).length;return e/i},_correctColumnWidths(t,e){var i=this,n,r=!1,o=!1,s=!1,a=i.component.$element(),l=i._hasWidth,d=function(){var D=n,T=e[D],N=t[D]===AO,G=t[D],{minWidth:U}=T;if(U){if(G===void 0){var re=i._getAverageColumnsWidth(t);G=re}else if(uC(G)){var _=xFe(i,D,U,t);_<0&&(G=-1)}}var Oe=i._getRealColumnWidth(D,t.map((fe,we)=>D===we?G:fe));U&&!N&&Oe<U&&(t[D]=U,s=!0,n=-1),O(T.width)||(o=!0),uC(T.width)&&(r=!0)};for(n=0;n<e.length;n++)d();if(!o&&t.length){var u=i._rowsView.element(),h=i._rowsView.contentWidth(),p=i._rowsView.getScrollbarWidth(),m=i._getTotalWidth(t,h);if(m<h){var c=he.getLastResizableColumnIndex(e,t);if(c>=0&&(t[c]="auto",s=!0,l===!1&&!r)){var x=i.option("showBorders")?Math.ceil(it(u)-pf(u)):0;i._maxWidth=m+p+x,a.css("maxWidth",i._maxWidth)}}}return s},_processStretch(t,e){var i=this._rowsView.contentWidth(),n=this._getTotalWidth(t,i),r={length:0};if(t.length){F(e,function(d){(this.width||t[d]===AO)&&(r[d]=!0,r.length++)});var o=i-n,s=Math.floor(o/(t.length-r.length)),a=o-s*(t.length-r.length);if(o>=0)for(var l=0;l<t.length;l++)r[l]||(t[l]+=s,a>0&&(a<1?(t[l]+=a,a=0):(t[l]++,a--)))}},_getRealColumnWidth(t,e,i){var n=1,r=e[t];if(!uC(r))return parseFloat(r);var o=e.reduce((d,u,h)=>uC(u)?d+parseFloat(u):d,0),s=e.reduce((d,u)=>!u||u===AO||uC(u)?d:d+parseFloat(u),0);i=i||this._rowsView.contentWidth();var a=i-s,l=o*i/100;return s>0&&l+s>=i&&(n=l>a?a/l:1),parseFloat(r)*i*n/100},_getTotalWidth(t,e){for(var i=0,n=0;n<t.length;n++){var r=t[n];r&&r!==AO&&(i+=this._getRealColumnWidth(n,t,e))}return Math.ceil(i)},_getGroupElement(){return this.component.$element().children().get(0)},updateSize(t){var e=g(t),i=this.addWidgetPrefix(vFe);if(this._hasHeight===void 0&&e&&e.is(":visible")&&Ae(e)){var n=e.children(".".concat(this.getWidgetContainerClass()));n.length&&n.detach(),this._hasHeight=!!je(e);var r=Ae(e);e.addClass(i),this._hasWidth=Ae(e)===r,e.removeClass(i),n.length&&n.appendTo(e)}},publicMethods:()=>["resize","updateDimensions"],_waitAsyncTemplates(){var t,e,i;return ye((t=this._columnHeadersView)===null||t===void 0?void 0:t.waitAsyncTemplates(!0),(e=this._rowsView)===null||e===void 0?void 0:e.waitAsyncTemplates(!0),(i=this._footerView)===null||i===void 0?void 0:i.waitAsyncTemplates(!0))},resize(){if(!this.component._requireResize){var t=new H;return this._waitAsyncTemplates().done(()=>{ye(this.updateDimensions()).done(t.resolve).fail(t.reject)}).fail(t.reject),t.promise()}},updateDimensions(t){var e=this;if(e._initPostRenderHandlers(),!!e._checkSize(t)){var i=e._resizeDeferred,n=e._resizeDeferred=new H;return ye(i).always(()=>{zi(()=>{e._dataController.isLoaded()&&e._synchronizeColumns(),e._resetGroupElementHeight(),Kn(()=>{zi(()=>{Kn(()=>{e._updateDimensionsCore()})})})}).done(n.resolve).fail(n.reject)}),n.promise()}},_resetGroupElementHeight(){var t=this._getGroupElement(),e=this._rowsView.getScrollable();t&&t.style.height&&(!e||!e.scrollTop())&&(t.style.height="")},_checkSize(t){var e=this.component.$element(),i=e.is(":visible"),n=this._lastWidth!==Ae(e)||this._lastHeight!==je(e)||this._devicePixelRatio!==Le().devicePixelRatio;return i&&(!t||n)},_setScrollerSpacingCore(){var t=this,e=t._rowsView.getScrollbarWidth(),i=t._rowsView.getScrollbarWidth(!0);zi(()=>{t._columnHeadersView&&t._columnHeadersView.setScrollerSpacing(e),t._footerView&&t._footerView.setScrollerSpacing(e),t._rowsView.setScrollerSpacing(e,i)})},_setScrollerSpacing(){var t=this._rowsView.getScrollable(),e=this.option("scrolling.useNative")===!0;!t||e?zi(()=>{Kn(()=>{this._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()},_setAriaOwns(){var t,e,i,n=(t=this._columnHeadersView)===null||t===void 0?void 0:t.getTableElement(),r=(e=this._footerView)===null||e===void 0?void 0:e.getTableElement();(i=this._rowsView)===null||i===void 0||i.setAriaOwns(n?.attr("id"),r?.attr("id"))},_updateDimensionsCore(){var t=this,e=t._dataController,i=t.getController("editorFactory"),n=t._rowsView,r=t.component.$element(),o=this._getGroupElement(),s=je(r),a=t.option("height")||r.get(0).style.height,l=!!a&&a!=="auto",d=parseInt(r.css("maxHeight")),u=d&&s>=d,h=o&&o.scrollHeight===o.offsetHeight;t.updateSize(r),zi(()=>{var p=t._hasHeight||!!d||l;if(n.hasHeight(p),this._setAriaOwns(),u&&!h&&g(o).css("height",d),!e.isLoaded()){n.setLoading(e.isLoading());return}Kn(()=>{t._updateLastSizes(r),t._setScrollerSpacing(),F(vL,(m,c)=>{var x=t.getView(c);x&&x.resize()}),i&&i.resize()})})},_updateLastSizes(t){this._lastWidth=Ae(t),this._lastHeight=je(t),this._devicePixelRatio=Le().devicePixelRatio},optionChanged(t){switch(t.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":t.handled=!0;return;default:this.callBase(t)}},init(){this._prevContentMinHeight=null,this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView")}},DFe=Mt.ViewController.inherit(bFe),OFe=Mt.ViewController.inherit({_scrollChangedHandler(t,e,i){for(var n=0;n<t.length;n++)t[n]&&t[n].name!==i&&t[n].scrollTo({left:e.left,top:e.top})},init(){for(var t=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],e=0;e<t.length;e++){var i=t[e];i&&i.scrollChanged.add(this._scrollChangedHandler.bind(this,t))}}}),EFe=Mt.View.inherit({_endUpdateCore(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")},getView(t){return this.component._views[t]},element(){return this._groupElement},optionChanged(t){O(this._groupElement)&&t.name==="showBorders"?(this._groupElement.toggleClass(this.addWidgetPrefix(pY),!!t.value),t.handled=!0):this.callBase(t)},_renderViews(t){var e=this;F(vL,(i,n)=>{var r=e.getView(n);r&&r.render(t)})},_getTableRoleName:()=>"group",render(t){var e=!this._groupElement,i=this._groupElement||g("<div>").addClass(this.getWidgetContainerClass());i.addClass(fY),i.toggleClass(this.addWidgetPrefix(pY),!!this.option("showBorders")),this.setAria("role","presentation",t),this.component.setAria("role",this._getTableRoleName(),i),this._rootElement=t||this._rootElement,e&&(this._groupElement=i,Ne()&&this.getController("resizing").updateSize(t),i.appendTo(t)),this._renderViews(i)},update(){var t=this._rootElement,e=this._groupElement,i=this.getController("resizing");t&&e&&(i.resize(),this._dataController.isLoaded()&&this._resizingController.fireContentReadyAction())}}),mY={defaultOptions:()=>({showBorders:!1,renderAsync:!1}),controllers:{resizing:DFe,synchronizeScrolling:OFe},views:{gridView:EFe},VIEW_NAMES:vL};Ie.registerModule("gridView",mY);var SFe="header-panel",vY="toolbar-button",wFe="-ariaToolbar",_Y=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],_L=class extends Ns{_getToolbarItems(){return[]}_getButtonContainer(){return g("<div>").addClass(this.addWidgetPrefix(vY))}_getToolbarButtonClass(e){var i=e?" ".concat(e):"";return this.addWidgetPrefix(vY)+i}_getToolbarOptions(){var e=this.option("toolbar"),i={toolbarOptions:{items:this._getToolbarItems(),visible:e?.visible,disabled:e?.disabled,onItemRendered(o){var s=o.itemData.onItemRendered;s&&s(o)}}},n=e?.items;if(i.toolbarOptions.items=this._normalizeToolbarItems(i.toolbarOptions.items,n),this.executeAction("onToolbarPreparing",i),i.toolbarOptions&&!O(i.toolbarOptions.visible)){var r=i.toolbarOptions.items;i.toolbarOptions.visible=!!r?.length}return i.toolbarOptions}_normalizeToolbarItems(e,i){e.forEach(a=>{if(!_Y.includes(a.name))throw new Error("Default toolbar item '".concat(a.name,"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES"))});var n={location:"after"},r=Array.isArray(i);if(!O(i))return e;r||(i=[i]);var o={};e.forEach(a=>{o[a.name]=a});var s=i.map(a=>(Se(a)&&(a={name:a}),O(a.name)&&(O(o[a.name])?a=y(!0,{},o[a.name],a):_Y.includes(a.name)&&(a=te(te({},a),{visible:!1}))),y(!0,{},n,a)));return r?s:s[0]}_renderCore(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{var e=this.element();e.addClass(this.addWidgetPrefix(SFe));var i=j.format(this.component.NAME+wFe),n=g("<div>").attr("aria-label",i).appendTo(e);this._toolbar=this._createComponent(n,iO,this._toolbarOptions)}}_columnOptionChanged(){}_handleDataChanged(){this._requireReady&&this.render()}_isDisabledDefinedByUser(e){var i,n=(i=this.option("toolbar"))===null||i===void 0?void 0:i.items,r=n?.find(o=>o?.name===e);return O(r?.disabled)}init(){super.init(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})}render(){this._toolbarOptions=this._getToolbarOptions(),super.render.apply(this,arguments)}setToolbarItemDisabled(e,i){var n,r=this._toolbar,o=this._isDisabledDefinedByUser(e);if(!(!r||o)){var s=(n=r.option("items"))!==null&&n!==void 0?n:[],a=s.findIndex(d=>d.name===e);if(!(a<0)){var l=r.option("items[".concat(a,"]"));r.option("items[".concat(a,"].disabled"),i),l.options&&r.option("items[".concat(a,"].options.disabled"),i)}}}updateToolbarDimensions(){var e;(e=this._toolbar)===null||e===void 0||e.updateDimensions()}getHeaderPanel(){return this.element()}getHeight(){return this.getElementHeight()}optionChanged(e){if(e.name==="onToolbarPreparing"&&(this._invalidate(),e.handled=!0),e.name==="toolbar"&&(e.handled=!0,this._toolbar)){var i=ps(e.fullName),n=e.fullName.replace(/^toolbar\./,"");if(i.length===1){var r=this._getToolbarOptions();this._toolbar.option(r)}else if(i[1]==="items")if(i.length===2){var o=this._getToolbarOptions();this._toolbar.option("items",o.items)}else if(i.length===3){var s=this._normalizeToolbarItems(this._getToolbarItems(),e.value);this._toolbar.option(n,s)}else i.length>=4&&this._toolbar.option(n,e.value);else this._toolbar.option(n,e.value)}super.optionChanged(e)}isVisible(){return!!(this._toolbarOptions&&this._toolbarOptions.visible)}allowDragging(){}hasGroupedColumns(){}},CL={defaultOptions:()=>({}),views:{headerPanel:_L},extenders:{controllers:{resizing:{_updateDimensionsCore(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};var Mkt=CL.views.headerPanel;Ie.registerModule("headerPanel",CL);var IFe=".dx-row",TFe="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";Ie.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var CY=Ci.inherit({_activeStateUnit:IFe,_getDefaultOptions(){var t=this.callBase();return F(Ie.modules,function(){ce(this.defaultOptions)&&y(!0,t,this.defaultOptions())}),t},_setDeprecatedOptions(){this.callBase(),y(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'},"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:()=>ki(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:()=>Nt.webkit,options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:t=>t.deviceType!=="desktop",options:{grouping:{expandMode:"rowClick"}}}])},_init(){this.callBase(),he.logHeaderFilterDeprecatedWarningIfNeed(this),Ie.processModules(this,Ie),Ie.callModuleItemsMethod(this,"init")},_clean:W,_optionChanged(t){Ie.callModuleItemsMethod(this,"optionChanged",[t]),t.handled||this.callBase(t)},_dimensionChanged(){this.updateDimensions(!0)},_visibilityChanged(t){t&&this.updateDimensions()},_initMarkup(){this.callBase.apply(this,arguments),this.getView("gridView").render(this.$element())},_renderContentImpl(){this.getView("gridView").update()},_renderContent(){var t=this;zi(()=>{t._renderContentImpl()})},_getTemplate(t){var e=t;return Se(e)&&e.startsWith("#")&&(e=g(t),fu.warn(TFe)),this.callBase(e)},_dispose(){this.callBase(),Ie.callModuleItemsMethod(this,"dispose")},isReady(){return this.getController("data").isReady()},beginUpdate(){this.callBase(),Ie.callModuleItemsMethod(this,"beginUpdate")},endUpdate(){Ie.callModuleItemsMethod(this,"endUpdate"),this.callBase()},getController(t){return this._controllers[t]},getView(t){return this._views[t]},focus(t){this.getController("keyboardNavigation").focus(t)}});CY.registerModule=Ie.registerModule.bind(Ie);Be("dxDataGrid",CY);var MFe=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,AFe=function t(e){e&&F(e,(i,n)=>{if(Ve(n)||Array.isArray(n))t(n);else if(typeof n=="string"){var r=MFe.exec(n);r&&(e[i]=new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6])))}})},RFe=Mt.ViewController.inherit(function(){var t=function(i){var n=i.type==="sessionStorage"?bb():Le().localStorage;if(!n)throw new Error("E1007");return n},e=function(i){return O(i.storageKey)?i.storageKey:"storage"};return{_loadState(){var i=this.option("stateStoring");if(i.type==="custom")return i.customLoad&&i.customLoad();try{return JSON.parse(t(i).getItem(e(i)))}catch(n){Ke.log("W1022","State storing",n.message)}},_saveState(i){var n=this.option("stateStoring");if(n.type==="custom"){n.customSave&&n.customSave(i);return}try{t(n).setItem(e(n),JSON.stringify(i))}catch(r){Ke.log(r.message)}},publicMethods:()=>["state"],isEnabled(){return this.option("stateStoring.enabled")},init(){var i=this;return i._state={},i._isLoaded=!1,i._isLoading=!1,i._windowUnloadHandler=function(){i._savingTimeoutID!==void 0&&i._saveState(i.state())},S.on(Le(),"unload",i._windowUnloadHandler),i},isLoaded(){return this._isLoaded},isLoading(){return this._isLoading},load(){this._isLoading=!0;var i=rn(this._loadState());return i.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(n=>{n!==null&&!Zi(n)&&this.state(n)}),i},state(i){if(!arguments.length)return y(!0,{},this._state);this._state=y({},i),AFe(this._state)},save(){var i=this;clearTimeout(i._savingTimeoutID),i._savingTimeoutID=setTimeout(()=>{i._saveState(i.state()),i._savingTimeoutID=void 0},i.option("stateStoring.savingTimeout"))},optionChanged(i){switch(i.name){case"stateStoring":this.isEnabled()&&!this.isLoading()&&this.load(),i.handled=!0;break;default:this.callBase(i)}},dispose(){clearTimeout(this._savingTimeoutID),S.off(Le(),"unload",this._windowUnloadHandler)}}}()),xY={StateStoringController:RFe};var FFe=t=>{var e=t.getView("pagerView"),i=t.getController("data"),n={allowedPageSizes:e?e.getPageSizes():void 0,filterPanel:{filterEnabled:t.option("filterPanel.filterEnabled")},filterValue:t.option("filterValue"),focusedRowKey:t.option("focusedRowEnabled")?t.option("focusedRowKey"):void 0};return y(n,i.getUserState())},PFe=t=>{var e=t.getController("columns"),i=t.getController("selection"),n=t.getController("export"),r=t.getController("data");e&&e.columnsChanged.add(()=>{t.updateState({columns:e.getUserState()})}),i&&i.selectionChanged.add(o=>{t.updateState({selectedRowKeys:o.selectedRowKeys,selectionFilter:o.selectionFilter})}),r&&(t._initialPageSize=t.option("paging.pageSize"),t._initialFilterValue=t.option("filterValue"),r.changed.add(()=>{var o=FFe(t);t.updateState(o)})),n&&n.selectionOnlyChanged.add(()=>{t.updateState({exportSelectionOnly:n.selectionOnly()})})},kFe=null,NFe=(t,e)=>{var i=t.getController("filterSync"),n=t.getController("columns"),r=e.columns||e.filterValue!==void 0;return i?r?e.filterValue||i.getFilterValueFromColumns(e.columns):t._initialFilterValue||i.getFilterValueFromColumns(n.getColumns()):kFe},yY={defaultOptions:()=>({stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}),controllers:{stateStoring:xY.StateStoringController},extenders:{views:{rowsView:{init(){var t=this,e=t.getController("data");t.callBase(),e.stateLoaded.add(()=>{if(e.isLoaded()&&!e.getDataSource()){t.setLoading(!1),t.renderNoDataText();var i=t.component.getView("columnHeadersView");i&&i.render(),t.component._fireContentReadyAction()}})}}},controllers:{stateStoring:{init(){this.callBase.apply(this,arguments),PFe(this)},isLoading(){return this.callBase()||this.getController("data").isStateLoading()},state(t){var e=this.callBase.apply(this,arguments);return t!==void 0&&this.applyState(y(!0,{},t)),e},updateState(t){if(this.isEnabled()){var e=this.state(),i=y({},e,t),n=Ur(e),r=Ur(i);Rt(n,r)||(t=y(!0,{},t),y(this._state,t),this.save())}else y(this._state,t)},applyState(t){var e,{allowedPageSizes:i}=t,{searchText:n}=t,{selectedRowKeys:r}=t,{selectionFilter:o}=t,s=this.getController("export"),a=this.getController("columns"),l=this.getController("data"),d=this.option("scrolling.mode"),u=d==="virtual"||d==="infinite",h=this.option("pager.visible")===!0&&this.option("pager.showPageSizeSelector"),p=(e=this.getView("rowsView"))===null||e===void 0?void 0:e.hasHeight();this.component.beginUpdate(),a&&a.setUserState(t.columns),s&&s.selectionOnly(t.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",r||[]),this.option("selectionFilter",o),i&&this.option("pager.allowedPageSizes")==="auto"&&(this.option("pager").allowedPageSizes=i),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",t.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",n||""),this.option("filterValue",NFe(this,t)),this.option("filterPanel.filterEnabled",t.filterPanel?t.filterPanel.filterEnabled:!0),this.option("paging.pageIndex",(!u||p)&&t.pageIndex||0),this.option("paging.pageSize",(!u||h)&&O(t.pageSize)?t.pageSize:this._initialPageSize),l&&l.reset()}},columns:{_shouldReturnVisibleColumns(){var t=this.callBase.apply(this,arguments),e=this.getController("stateStoring");return t&&(!e.isEnabled()||e.isLoaded())}},data:{callbackNames(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource(){var{callBase:t}=this,e=this.getController("stateStoring");if(e.isEnabled()&&!e.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var i=new H;return this._restoreStateTimeoutID=setTimeout(()=>{e.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{t.call(this),this.stateLoaded.fire(),i.resolve()}).fail(n=>{this.stateLoaded.fire(),this._handleLoadError(n||"Unknown error"),i.reject()})}),i.promise()}this.isStateLoading()||t.call(this)},isLoading(){var t=this.getController("stateStoring");return this.callBase()||t.isLoading()},isStateLoading(){return O(this._restoreStateTimeoutID)},isLoaded(){return this.callBase()&&!this.isStateLoading()},dispose(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged(t){var e=this.getController("stateStoring"),i=this.option("selection.deferred");e.isLoading()&&i||this.callBase.apply(this,arguments)}}}}};Ie.registerModule("stateStoring",yY);var OY="dx-editor-cell",LFe="dx-row",bY="dx-selection",Vh="dx-select-checkbox",BFe="dx-select-checkboxes-hidden",EY="dx-command-select",VFe="dx-selection-disabled",SY="dx-data-row",Cl="selection.showCheckBoxesMode",cC="selection.mode",DY=function(t,e){var i=t.getController("selection"),n=t.getView("rowsView"),r=g(e.target).closest(".".concat(SY)),o=n.getRowIndex(r);o<0||(t.option(Cl)==="onLongTap"?i.isSelectionWithCheckboxes()?i.stopSelectionWithCheckboxes():i.startSelectionWithCheckboxes():(t.option(Cl)==="onClick"&&i.startSelectionWithCheckboxes(),t.option(Cl)!=="always"&&i.changeItemSelection(o,{control:!0})))},HFe=function(t,e){var i=0,n=t._dataController.store(),r=n&&n.key(),o=Array.isArray(r);if(!e.length)return!1;if(o&&Array.isArray(e[0])&&e[1]==="and"){for(var s=0;s<e.length;s++)if(Array.isArray(e[s])){if(e[s][0]!==r[i]||e[s][1]!=="=")return!0;i++}return!1}return r!==e[0]},zFe=(t,e)=>{var{component:i}=e,n=i.getView("rowsView");i.option("renderAsync")&&!i.option("selection.deferred")&&(e.value=i.isRowSelected(e.row.key)),n.renderSelectCheckBoxContainer(g(t),e)},WFe=(t,e)=>{var{column:i}=e,n=g(t),r=e.component.getView("columnHeadersView");n.addClass(OY),r._renderSelectAllCheckBox(n,i),r._attachSelectAllCheckBoxClickEvent(n)},xL=class extends Mt.Controller{init(){var e,{deferred:i,selectAllMode:n,mode:r}=(e=this.option("selection"))!==null&&e!==void 0?e:{};this.option("scrolling.mode")==="infinite"&&!i&&r==="multiple"&&n==="allPages"&&Ke.log("W1018"),this._dataController=this.getController("data"),this._selectionMode=r,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))}_handleDataPushed(e){this._deselectRemovedOnPush(e),this._updateSelectedOnPush(e)}_deselectRemovedOnPush(e){var i=this.option("selection.deferred"),n=e.filter(o=>o.type==="remove").map(o=>o.key);if(i){var r=this._dataController.items().filter(o=>o.isSelected).map(o=>o.key);n=n.filter(o=>r.find(s=>Rt(s,o)))}n.length&&this.deselectRows(n)}_updateSelectedOnPush(e){var i=this.option("selection.deferred");if(!i){var n=e.filter(o=>o.type==="update"),r=this.getSelectedRowsData();Ts({keyInfo:this._selection.options,data:r,changes:n})}}_getSelectionConfig(){var e,i=this._dataController,n=this.getController("columns"),r=(e=this.option("selection"))!==null&&e!==void 0?e:{},{deferred:o}=r,s=this.option("scrolling.mode"),a=s==="virtual"||s==="infinite",l=this.option("selection.allowSelectAll"),d=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:o,maxFilterLengthInRequest:r.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,allowLoadByRange(){var u=n.getGroupColumns().length>0;return a&&!d&&!u&&l&&!o},key:()=>i?.key(),keyOf:u=>i?.keyOf(u),dataFields(){var u;return(u=i.dataSource())===null||u===void 0?void 0:u.select()},load(u){var h;return((h=i.dataSource())===null||h===void 0?void 0:h.load(u))||new H().resolve([])},plainItems:()=>i.items(!0),isItemSelected:u=>u.selected,isSelectableItem:u=>u?.rowType==="data"&&!u.isNewRow,getItemData:u=>O(u?.rowType)?u?.oldData||u?.data:u,filter:()=>i.getCombinedFilter(o),totalCount:()=>i.totalCount(),getLoadOptions(u,h,p){var m,c,{sort:x,filter:D}=(c=(m=i.dataSource())===null||m===void 0?void 0:m.lastLoadOptions())!==null&&c!==void 0?c:{},T=Math.min(u,h),N=Math.max(u,h);O(p)&&(T=Math.min(p,T),N=Math.max(p,N));var G=N-T+1;return{skip:T,take:G,filter:D,sort:x}},onSelectionChanged:this._updateSelectedItems.bind(this)}}_updateSelectColumn(){var e=this.getController("columns"),i=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:i,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:EY,width:"auto",cellTemplate:zFe,headerCellTemplate:WFe}),e.columnOption("command:select","visible",i)}_createSelection(){var e=this._getSelectionConfig();return new ng(e)}_fireSelectionChanged(e){var i=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(i),e&&this.executeAction("onSelectionChanged",e)}_updateCheckboxesState(e){var{isDeferredMode:i}=e,{selectionFilter:n}=e,{selectedItemKeys:r}=e,{removedItemKeys:o}=e;this.option(Cl)==="onClick"&&((i?n&&HFe(this,n):r.length>1)?this.startSelectionWithCheckboxes():(i?n&&!n.length:r.length===0&&o.length)&&this.stopSelectionWithCheckboxes())}_updateSelectedItems(e){var i,n=this.option("selection.deferred"),r=this._selection.selectionFilter(),o=this._dataController,s=o.items(!0),a=o.items();if(s){var l=this.isSelectionWithCheckboxes(),d=this.getChangedItemIndexes(s),u=this.getChangedItemIndexes(a);this._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:r,isDeferredMode:n}),(d.length||l!==this.isSelectionWithCheckboxes())&&o.updateItems({changeType:"updateSelection",itemIndexes:u}),n?(this.option("selectionFilter",r),i={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(this._selectedItemsInternalChange=!0,this.option("selectedRowKeys",e.selectedItemKeys.slice(0)),this._selectedItemsInternalChange=!1,i={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),this._fireSelectionChanged(i)}}getChangedItemIndexes(e){for(var i=[],n=this.option("selection.deferred"),r=0,{length:o}=e;r<o;r++){var s=e[r],a=this.isRowSelected(n?s.data:s.key);this._selection.isDataItem(s)&&s.isSelected!==a&&i.push(r)}return i}callbackNames(){return["selectionChanged"]}optionChanged(e){switch(super.optionChanged(e),e.name){case"selection":var i=this._selectionMode;if(this.init(),e.fullName!=="selection.showCheckBoxesMode"){var n=this._selectionMode,r=this.option("selectedRowKeys");i!==n&&(n==="single"?r.length>1&&(r=[r[0]]):n!=="multiple"&&(r=[])),this.selectRows(r).always(()=>{this._fireSelectionChanged()})}this.getController("columns").updateColumns(),e.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":var o=e.value||[];Array.isArray(o)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!o.length)&&this.selectRows(o),e.handled=!0}}publicMethods(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]}isRowSelected(e){return this._selection.isItemSelected(e)}isSelectColumnVisible(){return this.option(cC)==="multiple"&&(this.option(Cl)==="always"||this.option(Cl)==="onClick"||this._isSelectionWithCheckboxes)}_isOnePageSelectAll(){return this.option("selection.selectAllMode")==="page"}isSelectAll(){return this._selection.getSelectAllState(this._isOnePageSelectAll())}selectAll(){return this.option(Cl)==="onClick"&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())}deselectAll(){return this._selection.deselectAll(this._isOnePageSelectAll())}clearSelection(){return this.selectedItemKeys([])}refresh(){var e,i=(e=this.option("selectedRowKeys"))!==null&&e!==void 0?e:[];return!this.option("selection.deferred")&&i.length?this.selectedItemKeys(i):new H().resolve().promise()}selectedItemKeys(e,i,n,r){return this._selection.selectedItemKeys(e,i,n,r)}getSelectedRowKeys(){return this._selection.getSelectedItemKeys()}selectRows(e,i){return this.selectedItemKeys(e,i)}deselectRows(e){return this.selectedItemKeys(e,!0,!0)}selectRowsByIndexes(e){var i=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),F(e,function(){var r=i[this];r&&r.rowType==="data"&&n.push(r.key)}),this.selectRows(n)}getSelectedRowsData(){return this._selection.getSelectedItems()}loadSelectedItemsWithFilter(){return this._selection.loadSelectedItemsWithFilter()}changeItemSelection(e,i,n){i=i||{},this.isSelectionWithCheckboxes()&&(i.control=!0);var r=e+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(r,i,n)}focusedItemIndex(e){if(O(e))this._selection._focusedItemIndex=e;else return this._selection._focusedItemIndex}isSelectionWithCheckboxes(){return this.option(cC)==="multiple"&&(this.option(Cl)==="always"||this._isSelectionWithCheckboxes)}startSelectionWithCheckboxes(){return this.option(cC)==="multiple"&&!this.isSelectionWithCheckboxes()?(this._isSelectionWithCheckboxes=!0,this._updateSelectColumn(),!0):!1}stopSelectionWithCheckboxes(){return this._isSelectionWithCheckboxes?(this._isSelectionWithCheckboxes=!1,this._updateSelectColumn(),!0):!1}},wY={defaultOptions:()=>({selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}),controllers:{selection:xL},extenders:{controllers:{data:{init(){var t=this.getController("selection"),e=this.option("selection.deferred");this.callBase.apply(this,arguments),e&&t._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource(){var t=this;return t.callBase().always(()=>{t.getController("selection").refresh()})},_processDataItem(t,e){var i=this.getController("selection"),n=i.isSelectColumnVisible(),r=e.isDeferredSelection=e.isDeferredSelection===void 0?this.option("selection.deferred"):e.isDeferredSelection,o=this.callBase.apply(this,arguments);if(o.isSelected=i.isRowSelected(r?o.data:o.key),n&&o.values){for(var s=0;s<e.visibleColumns.length;s++)if(e.visibleColumns[s].command==="select"){o.values[s]=o.isSelected;break}}return o},refresh(t){var e=this,i=new H;return this.callBase.apply(this,arguments).done(()=>{!t||t.selection?e.getController("selection").refresh().done(i.resolve).fail(i.reject):i.resolve()}).fail(i.reject),i.promise()},_handleDataChanged(t){this.callBase.apply(this,arguments),(!t||t.changeType==="refresh")&&!this._repaintChangesOnly&&this.getController("selection").focusedItemIndex(-1)},_applyChange(t){if(t&&t.changeType==="updateSelection"){t.items.forEach((e,i)=>{var n=this._items[i];n&&(n.isSelected=e.isSelected,n.values=e.values)});return}return this.callBase.apply(this,arguments)},_endUpdateCore(){var t=this._changes,e=t.length>1&&t.every(n=>n.changeType==="updateSelection");if(e){var i=t.map(n=>n.itemIndexes||[]).reduce((n,r)=>n.concat(r));this._changes=[{changeType:"updateSelection",itemIndexes:i}]}this.callBase.apply(this,arguments)}},contextMenu:{_contextMenuPrepared(t){var e=t.event;e.originalEvent&&e.originalEvent.type!=="dxhold"||t.items&&t.items.length>0||DY(this,e)}}},views:{columnHeadersView:{init(){this.callBase(),this.getController("selection").selectionChanged.add(this._updateSelectAllValue.bind(this))},_updateSelectAllValue(){var t=this.element(),e=t&&t.find(".".concat(Vh));if(t&&e.length&&this.option("selection.mode")==="multiple"){var i=this.getController("selection").isSelectAll(),n=i!==!1,r=this.option("selection.allowSelectAll")?!this.getController("data").isEmpty():n;e.dxCheckBox("instance").option({visible:r,value:i})}},_handleDataChanged(t){this.callBase(t),(!t||t.changeType==="refresh"||t.repaintChangesOnly&&t.changeType==="update")&&this.waitAsyncTemplates().done(()=>{this._updateSelectAllValue()})},_renderSelectAllCheckBox(t,e){var i=this,n=i.getController("selection"),r=i.getController("data").isEmpty(),o=g("<div>").appendTo(t).addClass(Vh);return i.setAria("label",j.format("dxDataGrid-ariaSelectAll"),o),i.getController("editorFactory").createEditor(o,y({},e,{parentType:"headerRow",dataType:"boolean",value:n.isSelectAll(),editorOptions:{visible:!r&&(i.option("selection.allowSelectAll")||n.isSelectAll()!==!1)},tabIndex:i.option("useLegacyKeyboardNavigation")?-1:i.option("tabIndex")||0,setValue(s,a){var l=i.option("selection.allowSelectAll");a.component.option("visible",l||a.component.option("value")!==!1),!(!a.event||n.isSelectAll()===s)&&(a.value&&!l?a.component.option("value",!1):a.value?n.selectAll():n.deselectAll(),a.event.preventDefault())}})),o},_attachSelectAllCheckBoxClickEvent(t){S.on(t,lt,this.createAction(e=>{var{event:i}=e;g(i.target).closest(".".concat(Vh)).length||S.trigger(g(i.currentTarget).children(".".concat(Vh)),lt),i.preventDefault()}))}},rowsView:{renderSelectCheckBoxContainer(t,e){e.rowType==="data"&&!e.row.isNewRow?(t.addClass(OY),this._attachCheckBoxClickEvent(t),this._renderSelectCheckBox(t,e)):he.setEmptyText(t)},_renderSelectCheckBox(t,e){var i=g("<div>").addClass(Vh).appendTo(t);return this.setAria("label",j.format("dxDataGrid-ariaSelectRow"),i),this.getController("editorFactory").createEditor(i,y({},e.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:e.value,setValue(n,r){var o;((o=r?.event)===null||o===void 0?void 0:o.type)==="keydown"&&S.trigger(r.element,lt,r)},row:e.row})),i},_attachCheckBoxClickEvent(t){S.on(t,lt,this.createAction(function(e){var i=this.getController("selection"),{event:n}=e,r=this.getRowIndex(g(n.currentTarget).closest(".".concat(LFe)));r>=0&&(i.startSelectionWithCheckboxes(),i.changeItemSelection(r,{shift:n.shiftKey}),g(n.target).closest(".".concat(Vh)).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[r]}))}))},_update(t){var e=this,i=e.getTableElements();t.changeType==="updateSelection"?i.length>0&&(F(i,(n,r)=>{F(t.itemIndexes||[],(o,s)=>{var a;if(t.items[s]&&(a=e._getRowElements(g(r)).eq(s),a.length)){var{isSelected:l}=t.items[s];a.toggleClass(bY,l===void 0?!1:l).find(".".concat(Vh)).dxCheckBox("option","value",l),e.setAria("selected",l,a)}})}),e._updateCheckboxesClass()):e.callBase(t)},_createTable(){var t=this,e=t.option("selection.mode"),i=t.callBase.apply(t,arguments);return e!=="none"&&((t.option(Cl)==="onLongTap"||!_s)&&S.on(i,ne(_o.name,"dxDataGridRowsView"),".".concat(SY),t.createAction(n=>{DY(t.component,n.event),n.event.stopPropagation()})),S.on(i,"mousedown selectstart",t.createAction(n=>{var{event:r}=n;r.shiftKey&&r.preventDefault()}))),i},_createRow(t){var e=this.callBase.apply(this,arguments);if(t){var{isSelected:i}=t;i&&e.addClass(bY);var n=this.option(cC);n!=="none"&&this.setAria("selected",i,e)}return e},_rowClick(t){var e=t.event,i=g(e.target).closest(".".concat(VFe)).length;this.isClickableElement(g(e.target))||(!i&&(this.option(cC)!=="multiple"||this.option(Cl)!=="always")&&this.getController("selection").changeItemSelection(t.rowIndex,{control:Wi(e),shift:e.shiftKey})&&(e.preventDefault(),t.handled=!0),this.callBase(t))},isClickableElement(t){var e=t.closest(".".concat(EY)).length;return!!e},_renderCore(t){var e=this.callBase(t);return this._updateCheckboxesClass(),e},_updateCheckboxesClass(){var t=this.getTableElements(),e=this.getController("selection"),i=e.isSelectColumnVisible()&&!e.isSelectionWithCheckboxes();F(t,(n,r)=>{g(r).toggleClass(BFe,i)})}}}}};Ie.registerModule("selection",wY);var ns="dx-treeview",xo="".concat(ns,"-node"),Td="".concat(xo,"-container"),yL="".concat(xo,"-loadindicator"),ic="".concat(xo,"-container-opened"),hC="".concat(xo,"-is-leaf"),Vr="".concat(ns,"-item"),jFe="".concat(Vr,"-with-checkbox"),$Fe="".concat(Vr,"-with-custom-expander-icon"),GFe="".concat(ns,"-custom-expander-icon-item-container"),UFe="".concat(Vr,"-without-checkbox"),KFe="".concat(Vr,"-data"),pC="".concat(ns,"-toggle-item-visibility"),bL="".concat(ns,"-custom-collapse-icon"),DL="".concat(ns,"-custom-expand-icon"),qFe="".concat(ns,"-loadindicator"),JFe="".concat(ns,"-loadindicator-wrapper"),IY="".concat(ns,"-toggle-item-visibility-opened"),RO="".concat(ns,"-select-all-item"),TY="dx-state-invisible",fC="dx-state-disabled",YFe="dx-state-selected",OL="dxTreeView_expand",FO="data-item-id",XFe="dx-item-url",MY="dx-checkbox",QFe="dx-checkbox-icon",ZFe="".concat(ns,"-root-node"),ePe="".concat(ns,"-expander-icon-stub"),tPe=UD.inherit({_supportedKeys:function(t){var e=r=>{var o=g(this.option("focusedElement"));if(o.length){r.target=o,r.currentTarget=o,this._itemClickHandler(r,o.children("."+Vr));var s=this._getEventNameByOption(this.option("expandEvent")),a=s===ne(lt,OL);a&&this._expandEventHandler(r)}},i=r=>{r.preventDefault();var o=g(this.option("focusedElement")),s=this._getCheckBoxInstance(o);if(!s.option("disabled")){var a=s.option("value");this._updateItemSelection(!a,o.find("."+Vr).get(0),!0)}},n=function(r,o){if(this.option("expandAllEnabled")){o.preventDefault();var s=g(this.option("focusedElement"));if(s.length){var a=this._getItemData(s.find(".".concat(Vr)));this._toggleExpandedNestedItems([a],r)}}};return y(this.callBase(),{enter:this._showCheckboxes()?i:e,space:this._showCheckboxes()?i:e,asterisk:n.bind(this,!0),minus:n.bind(this,!1)})},_toggleExpandedNestedItems:function(t,e){if(t)for(var i=0,n=t.length;i<n;i++){var r=t[i],o=this._dataAdapter.getNodeByItem(r);this._toggleExpandedState(o,e),this._toggleExpandedNestedItems(r.items,e)}},_getNodeElement:function(t,e){var i=this._encodeString(t.internalFields.key);if(e)return e.$nodeByKey||(e.$nodeByKey={},this.$element().find(".".concat(xo)).each(function(){var r=g(this),o=r.attr(FO);e.$nodeByKey[o]=r})),e.$nodeByKey[i]||g();var n=this.$element().get(0).querySelector("[".concat(FO,'="').concat(i,'"]'));return g(n)},_activeStateUnit:"."+Vr,_widgetClass:function(){return ns},_getDefaultOptions:function(){var t=y(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:j.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return y(!0,t,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!Cs},options:{useNativeScrolling:!1}}])},_initSelectedItems:W,_syncSelectionOptions:hb,_fireSelectionChanged:function(){var t=this._selectionChangePromise;ye(t).done((function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}).bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(t){this._selectAllValueChangedAction({value:t})},_checkBoxModeChange:function(t,e){var i=this.option("searchEnabled"),n=this._selectAllEnabled(e),r=this._itemContainer(i,n);if(this._detachClickEvent(r),this._detachExpandEvent(r),!(e==="none"||t==="none")){var o=this._$selectAllItem&&this._$selectAllItem.length;switch(t){case"selectAll":o||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":o&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}},_removeSelection:function(){var t=this;F(this._dataAdapter.getFullData(),function(e,i){t._hasChildren(i)&&t._dataAdapter.toggleSelection(i.internalFields.key,!1,!0)})},_optionChanged:function(t){var{name:e,value:i,previousValue:n}=t;switch(e){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",i);break;case"showCheckBoxesMode":this._checkBoxModeChange(i,n),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",i);break;case"useNativeScrolling":this.getScrollable().option("useNative",i);break;case"items":delete this._$selectAllItem,this.callBase(t);break;case"dataSource":this.callBase(t),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._attachExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(t);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",t.value),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:this.callBase(t)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done((function(t){t&&t.length&&this.option("items",t)}).bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var t=this._filter;t.custom||(t.custom=this._dataSource.filter()),t.internal||(t.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return ce(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(t){var e=this.option("createChildren").call(this,t);return Array.isArray(e)?new H().resolve(e).promise():e&&ce(e.then)?rn(e):new H().resolve([]).promise()},_combineFilter:function(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(t){var e=this.option("items");this._initialized&&this._isVirtualMode()&&e.length||this.option("items",t)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=g("<div>").addClass(qFe),this._createComponent(this._treeViewLoadIndicator,Hn,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(t){var e;if(this._isVirtualMode()&&(e=this._combineFilter(),this._dataSource.filter(e)),t&&!this._dataSource.isLoaded()){this.option("items",[]);var i=g("<div>").addClass(JFe);this._createTreeViewLoadIndicator().appendTo(i),this.itemsContainer().append(i),this._isVirtualMode()&&this._dataSource.filter()!==e&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",t=>{this.option().items=this.option("items").concat(t),this._dataAdapter.addItem(t),this._dataAdapter.isFiltered(t)&&this._updateLevel(this._parentIdGetter(t))}).on("removed",t=>{var e=this._dataAdapter.getNodeByKey(t);O(e)&&(this.option("items")[this._dataAdapter.getIndexByKey(e.internalFields.key)]=0,this._markChildrenItemsToRemove(e),this._removeItems(),this._dataAdapter.removeItem(t),this._updateLevel(this._parentIdGetter(e)))})},_markChildrenItemsToRemove:function(t){var e=t.internalFields.childrenKeys;F(e,(i,n)=>{this.option("items")[this._dataAdapter.getIndexByKey(n)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(n))})},_removeItems:function(){var t=y(!0,[],this.option("items")),e=0;F(t,(i,n)=>{n||(this.option("items").splice(i-e,1),e++)})},_updateLevel:function(t){var e=this._getContainerByParentKey(t);this._renderItems(e,this._dataAdapter.getChildrenNodes(t))},_getOldContainer:function(t){if(t.length)return t.children(".".concat(Td));var e=this.getScrollable();return e?g(e.content()).children():g()},_getContainerByParentKey:function(t){var e=this._dataAdapter.getNodeByKey(t),i=e?this._getNodeElement(e):[];this._getOldContainer(i).remove();var n=this._renderNodeContainer(i);if(this._isRootLevel(t)){var r=this.getScrollable();r||this._renderScrollableContainer(),g(r.content()).append(n)}return n},_isRootLevel:function(t){return t===this.option("rootValue")},_getAccessors:function(){var t=this.callBase();return t.push("hasItems"),t},_getDataAdapterOptions:function(){var t,e,i;return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort(),langParams:(t=this._dataSource)===null||t===void 0||(e=t.loadOptions)===null||e===void 0||(i=e.call(t))===null||i===void 0?void 0:i.langParams}},_initMarkup(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this._setAriaRole()},_setAriaRole(){var{items:t}=this.option();t!=null&&t.length&&this.setAria({role:"tree"})},_renderContentImpl:function(){var t=this._renderNodeContainer();g(this.getScrollable().content()).append(t),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(t,this._dataAdapter.getRootNodes()),this._attachExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(t)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){var t=this.getDataSource(),e=t&&!t.isLoaded()||this._skipContentReadyAndItemExpanded,i=this.getScrollable();i&&Ne()&&i.update(),e||this.callBase(),i&&Ne()&&i.update()},_renderScrollableContainer:function(){this._scrollable=this._createComponent(g("<div>").appendTo(this.$element()),Or,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(t){var e=g("<ul>").addClass(Td);if(this.setAria("role","group",e),t&&t.length){var i=this._getItemData(t.children("."+Vr));this._expandedGetter(i)&&e.addClass(ic),e.appendTo(t)}return e},_createDOMElement:function(t,e){var i,n,r=g("<li>").addClass(xo).attr(FO,this._encodeString(e.internalFields.key)).prependTo(t),o={role:"treeitem",label:this._displayGetter(e.internalFields.item)||"",level:this._getLevel(t)},s=!!(e!=null&&(i=e.internalFields)!==null&&i!==void 0&&(n=i.childrenKeys)!==null&&n!==void 0&&n.length);return s&&(o.expanded=e.internalFields.expanded||!1),this.setAria(o,r),r},_getLevel:function(t){var e=t.parent();return e.hasClass("dx-scrollable-content")?1:parseInt(e.attr("aria-level"))+1},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_hasCustomExpanderIcons:function(){return this.option("expandIcon")||this.option("collapseIcon")},_selectAllEnabled:function(t){var e=t??this.option("showCheckBoxesMode");return e==="selectAll"&&!this._isSingleSelection()},_renderItems:function(t,e){for(var i=e.length-1,n=i;n>=0;n--)this._renderItem(n,e[n],t);this._renderedItemsCount+=e.length},_renderItem:function(t,e,i){var n=this._createDOMElement(i,e),r=e.internalFields,o=this._showCheckboxes();n.addClass(o?jFe:UFe),n.toggleClass(TY,r.item.visible===!1),this._hasCustomExpanderIcons()&&(n.addClass($Fe),i.addClass(GFe)),this.setAria("selected",r.selected,n),this._toggleSelectedClass(n,r.selected),r.disabled&&this.setAria("disabled",r.disabled,n),this.callBase(this._renderedItemsCount+t,r.item,n);var s=this._getNode(e.internalFields.parentKey);s||n.addClass(ZFe),r.item.visible!==!1&&this._renderChildren(n,e)},_setAriaSelectionAttribute:W,_renderChildren:function(t,e){if(!this._hasChildren(e)){this._addLeafClass(t),g("<div>").addClass(ePe).appendTo(this._getItem(t));return}this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(t,e):this._renderDefaultExpanderIcons(t,e),this._shouldRenderSublevel(e.internalFields.expanded)&&this._loadSublevel(e).done(i=>{this._renderSublevel(t,this._getActualNode(e),i)})},_shouldRenderSublevel:function(t){return t||!this.option("deferRendering")},_getActualNode:function(t){return this._dataAdapter.getNodeByKey(t.internalFields.key)},_hasChildren:function(t){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(t.internalFields.item)!==!1:this.callBase(t)},_loadSublevel:function(t){var e=new H,i=this._getChildNodes(t);return i.length?e.resolve(i):this._loadNestedItems(t).done(n=>{e.resolve(this._dataAdapter.getNodesByItems(n))}),e.promise()},_getItemExtraPropNames:()=>["url","linkAttr"],_addContent:function(t,e){var{html:i,url:n}=e;if(n){t.html(i);var r=this._getLinkContainer(this._getIconContainer(e),this._getTextContainer(e),e);t.append(r)}else this.callBase(t,e)},_postprocessRenderItem(t){var{itemData:e,itemElement:i}=t;this._showCheckboxes()&&this._renderCheckBox(i,this._getNode(e)),this.callBase(t)},_renderSublevel:function(t,e,i){var n=this._renderNodeContainer(t,e),r=i.filter(s=>e.internalFields.childrenKeys.indexOf(s.internalFields.key)!==-1);if(this._renderItems(n,r),r.length&&!e.internalFields.selected){var o=r[0];this._updateParentsState(o,this._getNodeElement(o))}this._normalizeIconState(t,r.length),e.internalFields.expanded&&n.addClass(ic)},_executeItemRenderAction:function(t,e,i){var n=this._getNode(i);this._getItemRenderAction()({itemElement:i,itemIndex:t,itemData:e,node:this._dataAdapter.getPublicNode(n)})},_addLeafClass:function(t){t.addClass(hC)},_expandEventHandler:function(t){var e=g(t.currentTarget.parentNode);e.hasClass(hC)||this._toggleExpandedState(t.currentTarget,void 0,t)},_attachExpandEvent:function(){var t=this._getEventNameByOption(this.option("expandEvent")),e=this._itemContainer();this._detachExpandEvent(e),S.on(e,t,this._itemSelector(),this._expandEventHandler.bind(this))},_detachExpandEvent(t){S.off(t,".".concat(OL),this._itemSelector())},_getEventNameByOption:function(t){var e=t==="click"?lt:Nh;return ne(e,OL)},_getNode:function(t){if(!O(t))return null;if(t.internalFields)return t;if(pu(t))return this._dataAdapter.getNodeByKey(t);var e=g(t).get(0);return e?ie.isElementNode(e)?this._getNodeByElement(e):this._dataAdapter.getNodeByItem(e):null},_getNodeByElement:function(t){var e=g(t).closest("."+xo),i=this._decodeString(e.attr(FO));return this._dataAdapter.getNodeByKey(i)},_toggleExpandedState:function(t,e,i){var n=this._getNode(t);if(!n)return new H().reject().promise();if(n.internalFields.disabled)return new H().reject().promise();var r=n.internalFields.expanded;if(r===e)return new H().resolve().promise();if(this._hasChildren(n)){var o=this._getNodeElement(n);if(o.find(".".concat(yL,":not(.").concat(TY,")")).length)return new H().reject().promise();!r&&!this._nodeHasRenderedChildren(o)&&this._createLoadIndicator(o)}return O(e)||(e=!r),this._dataAdapter.toggleExpansion(n.internalFields.key,e),this._updateExpandedItemsUI(n,e,i)},_nodeHasRenderedChildren(t){var e=t.children(".".concat(Td));return e.not(":empty").length},_getItem:function(t){return t.children(".".concat(Vr)).eq(0)},_createLoadIndicator:function(t){var e=this._getItem(t);this._createComponent(g("<div>").addClass(yL),Hn,{}).$element().appendTo(e);var i=e.children(".".concat(pC,",.").concat(DL));i.hide()},_renderExpanderIcon:function(t,e,i,n){i.appendTo(this._getItem(t)),i.addClass(n),e.internalFields.disabled&&i.addClass(fC),this._renderToggleItemVisibilityIconClick(i,e)},_renderDefaultExpanderIcons:function(t,e){var i=this._getItem(t),n=g("<div>").addClass(pC).appendTo(i);e.internalFields.expanded&&(n.addClass(IY),t.parent().addClass(ic)),e.internalFields.disabled&&n.addClass(fC),this._renderToggleItemVisibilityIconClick(n,e)},_renderCustomExpanderIcons:function(t,e){var{expandIcon:i,collapseIcon:n}=this.option(),r=Dr(i??n),o=Dr(n??i);this._renderExpanderIcon(t,e,r,DL),this._renderExpanderIcon(t,e,o,bL);var s=e.internalFields.expanded;s&&t.parent().addClass(ic),this._toggleCustomExpanderIcons(r,o,s)},_renderToggleItemVisibilityIconClick:function(t,e){var i=ne(lt,this.NAME);S.off(t,i),S.on(t,i,n=>(this._toggleExpandedState(e.internalFields.key,void 0,n),!1))},_toggleCustomExpanderIcons:function(t,e,i){e.toggle(i),t.toggle(!i)},_updateExpandedItemsUI:function(t,e,i){var n=this._getNodeElement(t),r=!n.length||e&&n.is(":hidden");if(this.option("expandNodesRecursive")&&r){var o=this._getNode(t.internalFields.parentKey);o&&this._updateExpandedItemsUI(o,e,i)}if(this._hasCustomExpanderIcons()){if(this._nodeHasRenderedChildren(n)){var a=this._getItem(n),l=a.children(".".concat(DL)),d=a.children(".".concat(bL));this._toggleCustomExpanderIcons(l,d,e)}}else{var s=this._getItem(n).children(".".concat(pC));s.toggleClass(IY,e)}var u=n.children(".".concat(Td)),h=u.length>0,p=new H;return!e||h&&!u.is(":empty")?(this._animateNodeContainer(t,e,i,p),p.promise()):t.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(t,e,i,p),p.promise()):(this._renderSublevel(n,t,this._getChildNodes(t)),this._fireContentReadyAction(),this._animateNodeContainer(t,e,i,p),p.promise())},_loadNestedItemsWithUpdate:function(t,e,i,n){var r=this._getNodeElement(t);this._loadNestedItems(t).done(o=>{var s=this._getActualNode(t);if(this._renderSublevel(r,s,this._dataAdapter.getNodesByItems(o)),!o||!o.length){n.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(s,e,i,n)})},_loadNestedItems:function(t){if(this._useCustomChildrenLoader()){var e=this._dataAdapter.getPublicNode(t);return this._loadChildrenByCustomLoader(e).done(i=>{this._areNodesExists(i)||this._appendItems(i)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),t.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(i=>{this._areNodesExists(i)||this._appendItems(i)})):new H().resolve([]).promise()},_areNodesExists:function(t,e){var i=this.keyOf(t[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(i,n)},_appendItems:function(t){this.option().items=this.option("items").concat(t),this._initDataAdapter()},_animateNodeContainer:function(t,e,i,n){var r=this._getNodeElement(t),o=r.children(".".concat(Td));t&&n&&o.length===0&&n.resolve(),o.addClass(ic);var s=je(o);Et.stop(o,!0),Et.animate(o,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:e?0:s},to:{maxHeight:e?s:0},complete:(function(){o.css("maxHeight","none"),o.toggleClass(ic,e),this.setAria("expanded",e,r),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(e,t,i),n&&n.resolve()}).bind(this)})},_fireExpandedStateUpdatedEvent:function(t,e,i){if(!(!this._hasChildren(e)||this._skipContentReadyAndItemExpanded)){var n=t?"onItemExpanded":"onItemCollapsed";if(O(i))this._itemDXEventHandler(i,n,{node:this._dataAdapter.getPublicNode(e)});else{var r=this._getNodeElement(e);this._itemEventHandler(r,n,{event:i,node:this._dataAdapter.getPublicNode(e)})}}},_normalizeIconState:function(t,e){var i=t.find(".".concat(yL));if(i.length){var n;(n=Hn.getInstance(i))===null||n===void 0||n.option("visible",!1)}var r=this._getItem(t),o=r.children(".".concat(bL,",.").concat(pC));if(e){o.show();return}o.removeClass(pC),t.addClass(hC)},_emptyMessageContainer:function(){var t=this.getScrollable();return t?g(t.content()):this.callBase()},_renderContent:function(){var t=this.option("items");t&&t.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(t){var{selectAllText:e,focusStateEnabled:i}=this.option();t=t||this.$element().find(".".concat(Td)).first(),this._$selectAllItem=g("<div>").addClass(RO);var n=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,Gu,{value:n,elementAttr:{"aria-label":"Select All"},text:e,focusStateEnabled:i,onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this),onInitialized:r=>{var{component:o}=r;o.registerKeyHandler("enter",()=>{o.option("value",!o.option("value"))})}}),this._toggleSelectedClass(this._$selectAllItem,n),t.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged:function(t){this._toggleSelectAll(t),this._fireSelectAllValueChanged(t.value)},_toggleSelectAll:function(t){this._dataAdapter.toggleSelectAll(t.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(t,e){var i=g("<div>").appendTo(t);this._createComponent(i,Gu,{value:e.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,elementAttr:{"aria-label":"Check State"},disabled:this._disabledGetter(e)})},_toggleSelectedClass:function(t,e){t.toggleClass(YFe,!!e)},_toggleNodeDisabledState:function(t,e){var i=this._getNodeElement(t),n=i.find("."+Vr).eq(0);if(this._dataAdapter.toggleNodeDisabledState(t.internalFields.key,e),n.toggleClass(fC,!!e),this._showCheckboxes()){var r=this._getCheckBoxInstance(i);r.option("disabled",!!e)}},_itemOptionChanged:function(t,e,i){var n=this._dataAdapter.getNodeByItem(t);e===this.option("disabledExpr")&&this._toggleNodeDisabledState(n,i)},_changeCheckboxValue:function(t){var e=g(t.element).closest(".".concat(xo)),i=this._getItem(e),n=this._getItemData(i),r=this._getNodeByElement(i),o=t.value;r&&r.internalFields.selected===o||this._updateItemSelection(o,n,t.event)},_isSingleSelection:function(){return this.option("selectionMode")==="single"},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch:function(t,e,i){var n=e.indexOf(t.key);return n>=0&&e.splice(n,1),i&&F(t.children,(function(r,o){this._isLastSelectedBranch(o,e,!0)}).bind(this)),t.parent&&this._isLastSelectedBranch(t.parent,e),e.length===0},_isLastRequired:function(t){var e=this.option("selectionRequired"),i=this._isSingleSelection(),n=this.getSelectedNodeKeys();if(e)return i?n.length===1:this._isLastSelectedBranch(t.internalFields.publicNode,n.slice(),!0)},_updateItemSelection:function(t,e,i){var n=this._getNode(e);if(!n||n.visible===!1)return!1;if(n.internalFields.selected===t)return!0;if(!t&&this._isLastRequired(n)){if(this._showCheckboxes()){var r=this._getNodeElement(n);this._getCheckBoxInstance(r).option("value",!0)}return!1}if(t&&this._isSingleSelection()){var o=this.getSelectedNodeKeys();F(o,(l,d)=>{this._dataAdapter.toggleSelection(d,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(d))})}this._dataAdapter.toggleSelection(n.internalFields.key,t);var s=this._dataAdapter.isAllSelected(),a=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==s;return this._updateItemsUI(),this._fireItemSelectionChanged(n,i),this._fireSelectionChanged(),a&&this._fireSelectAllValueChanged(s),!0},_fireItemSelectionChanged:function(t,e){var i=e||this._findItemElementByItem(t.internalFields.item),n=e?this._itemDXEventHandler:this._itemEventHandler;n.call(this,i,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(t),itemData:t.internalFields.item})},_getCheckBoxInstance:function(t){var e=this._getItem(t);return e.children(".".concat(MY)).dxCheckBox("instance")},_updateItemsUI:function(){var t={};if(F(this._dataAdapter.getData(),(i,n)=>{var r=this._getNodeElement(n,t),o=n.internalFields.selected;r.length&&(this._toggleSelectedClass(r,o),this.setAria("selected",o,r),this._showCheckboxes()&&this._getCheckBoxInstance(r).option("value",o))}),this._selectAllEnabled()){var e=this._$selectAllItem.dxCheckBox("instance");e.option("onValueChanged",void 0),e.option("value",this._dataAdapter.isAllSelected()),e.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState:function(t,e){if(e){var i=this._dataAdapter.getNodeByKey(t.internalFields.parentKey),n=g(e.parents("."+xo)[0]);if(this._showCheckboxes()){var r=i.internalFields.selected;this._getCheckBoxInstance(n).option("value",r),this._toggleSelectedClass(n,r)}i.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(i,n)}},_itemEventHandlerImpl:function(t,e,i){var n=g(t).closest("."+xo).children("."+Vr);return e(y(this._extendActionArgs(n),i))},_itemContextMenuHandler:function(t){this._createEventHandler("onItemContextMenu",t)},_itemHoldHandler:function(t){this._createEventHandler("onItemHold",t)},_createEventHandler:function(t,e){var i=this._getNodeByElement(e.currentTarget);this._itemDXEventHandler(e,t,{node:this._dataAdapter.getPublicNode(i)})},_itemClass:function(){return Vr},_itemDataKey:function(){return KFe},_attachClickEvent:function(){var t=this._itemContainer();this._detachClickEvent(t);var{clickEventNamespace:e,itemSelector:i,pointerDownEventNamespace:n,nodeSelector:r}=this._getItemClickEventData();S.on(t,e,i,o=>{g(o.target).hasClass(QFe)||g(o.target).hasClass(MY)||this._itemClickHandler(o,g(o.currentTarget))}),S.on(t,n,r,o=>{this._itemPointerDownHandler(o)})},_detachClickEvent:function(t){var{clickEventNamespace:e,itemSelector:i,pointerDownEventNamespace:n,nodeSelector:r}=this._getItemClickEventData();S.off(t,e,i),S.off(t,n,r)},_getItemClickEventData:function(){var t=".".concat(this._itemClass()),e=".".concat(xo,", .").concat(RO),i=ne(lt,this.NAME),n=ne(nt.down,this.NAME);return{clickEventNamespace:i,itemSelector:t,pointerDownEventNamespace:n,nodeSelector:e}},_itemClick:function(t){var e=t.args[0],i=e.event.target[0]||e.event.target,n=i.getElementsByClassName(XFe)[0];e.itemData.url&&n&&n.click()},_itemClickHandler:function(t,e){var i=this._getItemData(e),n=this._getNodeByElement(e);this._itemDXEventHandler(t,"onItemClick",{node:this._dataAdapter.getPublicNode(n)},{beforeExecute:this._itemClick}),this.option("selectByClick")&&!t.isDefaultPrevented()&&this._updateItemSelection(!n.internalFields.selected,i,t)},_updateSelectionToFirstItem:function(t,e){for(var i=e;i>=0;){var n=g(t[i]);this._updateItemSelection(!0,n.find("."+Vr).get(0)),i--}},_updateSelectionToLastItem:function(t,e){for(var i=t.length,n=e;n<i;){var r=g(t[n]);this._updateItemSelection(!0,r.find("."+Vr).get(0)),n++}},focus:function(){if(this._selectAllEnabled()){S.trigger(this._$selectAllItem,"focus");return}this.callBase()},_focusInHandler:function(t){this._updateFocusState(t,!0);var e=g(t.target).hasClass(RO);if(e||this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{var n=e?Pe(this._$selectAllItem):g(this.option("focusedElement"));this._setFocusedItem(n)});return}var i=this._getActiveItem();this.option("focusedElement",Pe(i.closest("."+xo)))},_itemPointerDownHandler:function(t){if(this.option("focusStateEnabled")){var e=g(t.target).closest("."+xo+", ."+RO);if(e.length){var i=e.hasClass(fC)?null:e;this.option("focusedElement",Pe(i))}}},_findNonDisabledNodes:function(t){return t.not(function(){return g(this).children("."+Vr).hasClass(fC)})},_moveFocus:function(t,e){var i="up",n="down",r="first",o="last",s=this.option("rtlEnabled")?"right":"left",a=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(Td)).each(function(){Et.stop(this,!0)});var l=this._nodeElements();if(!(!l||!l.length))switch(t){case i:var d=this._prevItem(l);this.option("focusedElement",Pe(d));var u=this._getNodeItemElement(d);this.getScrollable().scrollToElement(u),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,u);break;case n:var h=this._nextItem(l);this.option("focusedElement",Pe(h));var p=this._getNodeItemElement(h);this.getScrollable().scrollToElement(p),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,p);break;case r:var m=l.first();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",Pe(m)),this.getScrollable().scrollToElement(this._getNodeItemElement(m));break;case o:var c=l.last();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",Pe(c)),this.getScrollable().scrollToElement(this._getNodeItemElement(c));break;case a:this._expandFocusedContainer();break;case s:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_getNodeItemElement:function(t){return t.find("."+Vr).get(0)},_nodeElements:function(){return this.$element().find("."+xo).not(":hidden")},_expandFocusedContainer:function(){var t=g(this.option("focusedElement"));if(!(!t.length||t.hasClass(hC))){var e=t.find(".".concat(Td)).eq(0);if(e.hasClass(ic)){var i=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",Pe(i)),this.getScrollable().scrollToElement(this._getNodeItemElement(i));return}var n=this._getNodeByElement(this._getItem(t));this._toggleExpandedState(n,!0)}},_getClosestNonDisabledNode:function(t){do t=t.parent().closest("."+xo);while(t.children(".dx-treeview-item.dx-state-disabled").length);return t},_collapseFocusedContainer:function(){var t=g(this.option("focusedElement"));if(t.length){var e=t.find(".".concat(Td)).eq(0);if(!t.hasClass(hC)&&e.hasClass(ic)){var i=this._getNodeByElement(this._getItem(t));this._toggleExpandedState(i,!1)}else{var n=this._getClosestNonDisabledNode(t);n.length&&this.option("focusedElement",Pe(n)),this.getScrollable().scrollToElement(this._getNodeItemElement(n))}}},_encodeString:function(t){return Se(t)?encodeURI(t):t},_decodeString:function(t){return Se(t)?decodeURI(t):t},getScrollable:function(){return this._scrollable},updateDimensions:function(){var t=new H,e=this.getScrollable();return e?e.update().done(()=>{t.resolveWith(this)}):t.resolveWith(this),t.promise()},selectItem:function(t){return this._updateItemSelection(!0,t)},unselectItem:function(t){return this._updateItemSelection(!1,t)},expandItem:function(t){return this._toggleExpandedState(t,!0)},collapseItem:function(t){return this._toggleExpandedState(t,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){return this.getSelectedNodeKeys().map(t=>{var e=this._dataAdapter.getNodeByKey(t);return this._dataAdapter.getPublicNode(e)})},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},_allItemsExpandedHandler:function(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()},expandAll:function(){var t=this._dataAdapter.getData(),e=[];this._skipContentReadyAndItemExpanded=!0,t.forEach(i=>e.push(this._toggleExpandedState(i.internalFields.key,!0))),Promise.allSettled(e).then(()=>{var i;return(i=this._allItemsExpandedHandler)===null||i===void 0?void 0:i.call(this)})},collapseAll:function(){F(this._dataAdapter.getExpandedNodesKeys(),(function(t,e){this._toggleExpandedState(e,!1)}).bind(this))},scrollToItem:function(t){var e=this._getNode(t);if(!e)return new H().reject().promise();for(var i=[],n=e.internalFields.publicNode.parent;n!=null;)n.expanded||i.push(n.key),n=n.parent;var r=new H;return this._expandNodes(i.reverse()).always(()=>{var o=this._getNodeElement(e);o&&o.length?(this.scrollToElementTopLeft(o.get(0)),r.resolve()):r.reject()}),r.promise()},scrollToElementTopLeft:function(t){var e=this.getScrollable(),{scrollDirection:i,rtlEnabled:n}=this.option(),r={top:0,left:0},o=X0(eD,t);if(i!==xh){var s=g(e.container()).get(0);r.left=n?o.left+t.offsetWidth-s.clientWidth:o.left}i!==Q0&&(r.top=o.top),e.scrollTo(r)},_expandNodes:function(t){if(!t||t.length===0)return new H().resolve().promise();var e=new H,i=t.map(n=>this.expandItem(n));return ye.apply(g,i).done(()=>e.resolve()).fail(()=>e.reject()),e.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}}),AY=tPe;ya.setEditorClass(gl);var RY="dx-treeview",iPe="".concat(RY,"-node-container"),FY=AY.inherit(ya).inherit({_addWidgetPrefix:function(t){return"".concat(RY,"-").concat(t)},_optionChanged:function(t){switch(t.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(t)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return y(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer:function(){return this.$element().find(".".concat(iPe)).first()},_updateSearch:function(){if(this._searchEditor){var t=this._getSearchEditorOptions();this._searchEditor.option(t)}},_repaintContainer:function(){var t=this._getNodeContainer(),e;t.length&&(t.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(t,e),this._fireContentReadyAction())},_focusTarget:function(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer:function(){this.$element().empty()},_itemContainer:function(t,e){var i;return(i=e)!==null&&i!==void 0||(e=this._selectAllEnabled()),e?this._getNodeContainer():this._scrollable&&t?g(this._scrollable.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});Be("dxTreeView",FY);var PY=FY;var xl=PY;var nPe="column-chooser",LY="column-chooser-button",kY="notouch-action",rPe="column-chooser-list",oPe="column-chooser-plain",sPe="column-chooser-mode-drag",aPe="column-chooser-mode-select",BY="column-chooser",NY="dx-column-chooser-item",lPe=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],dPe=function(t,e){var i=[],n=t.isSelectMode(),r=t.option("columnChooser.selection.recursive");return e.length&&F(e,(o,s)=>{var a={text:s.caption,cssClass:s.cssClass,allowHiding:s.allowHiding,expanded:!0,id:s.index,disabled:s.allowHiding===!1,parentId:O(s.ownerBand)?s.ownerBand:null},l=r&&s.hasColumns;n&&!l&&(a.selected=s.visible),i.push(a)}),i},uPe={renderShowColumnChooserButton(t){var e=this,i=e.addWidgetPrefix(LY),n=e.option("columnChooser.enabled"),r=t.find(".".concat(i)),o;n?r.length?r.show():(o=g("<div>").addClass(i).appendTo(t),e._createComponent(o,ci,{icon:BY,onClick(){e.getView("columnChooserView").showColumnChooser()},hint:e.option("columnChooser.title"),integrationOptions:{}})):r.hide()},getPosition(){var t=this.getView("rowsView"),e=this.option("columnChooser.position");return O(e)?e:{my:"right bottom",at:"right bottom",of:t&&t.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}},cPe=Mt.ViewController.inherit(uPe),hPe={_resizeCore:W,_isWinDevice:()=>!!be.real().win,_initializePopupContainer(){var t=this,e=t.addWidgetPrefix(nPe),i=t.element().addClass(e),n=t.option("columnChooser"),r=an(),o=pv(r),s=mi(r),a={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:e},toolbarItems:[{text:n.title,toolbar:"top",location:o||s?"before":"center"}],position:t.getController("columnChooser").getPosition(),width:n.width,height:n.height,rtlEnabled:t.option("rtlEnabled"),onHidden(){t._isWinDevice()&&g("body").removeClass(t.addWidgetPrefix(kY))},container:n.container};o||s?y(a,{showCloseButton:!0}):a.toolbarItems[a.toolbarItems.length]={shortcut:"cancel"},O(this._popupContainer)?this._popupContainer.option(a):(t._popupContainer=t._createComponent(i,Xn,a),t._popupContainer.on("optionChanged",l=>{l.name==="visible"&&t.renderCompleted.fire()})),this.setPopupAttributes()},setPopupAttributes(){var t=this.isSelectMode(),e=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:j.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(sPe),!t).toggleClass(this.addWidgetPrefix(aPe),t),this._popupContainer.$content().addClass(this.addWidgetPrefix(rPe)),t&&!e&&this._popupContainer.$content().addClass(this.addWidgetPrefix(oPe))},_renderCore(t){if(this._popupContainer){var e=!this.isSelectMode();!this._columnChooserList||t==="full"?this._renderTreeView():e&&this._updateItems()}},_renderTreeView(){var t,e,i,n=this,r=this._popupContainer.$content(),o=this.option("columnChooser"),s=this.isSelectMode(),a=O(o.allowSearch)?o.allowSearch:(t=o.search)===null||t===void 0?void 0:t.enabled,l=O(o.searchTimeout)?o.searchTimeout:(e=o.search)===null||e===void 0?void 0:e.timeout,d={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:a,searchTimeout:l,searchEditorOptions:(i=o.search)===null||i===void 0?void 0:i.editorOptions};if(this._isWinDevice()&&(d.useNativeScrolling=!1),y(d,s?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)d.searchEnabled||(d.searchValue=""),this._columnChooserList.option(d),this._updateItems();else{this._columnChooserList=this._createComponent(r,xl,d),this._updateItems();var u=0;this._columnChooserList.on("optionChanged",h=>{var p=h.component.getScrollable();u=p.scrollTop()}),this._columnChooserList.on("contentReady",h=>{Kn(()=>{var p=h.component.getScrollable();p.scrollTo({y:u}),n.renderCompleted.fire()})})}},_prepareDragModeConfig(){var t=this.option("columnChooser");return{noDataText:t.emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate(e,i,n){g(n).text(e.text).parent().addClass(e.cssClass).addClass(NY)}}},_prepareSelectModeConfig(){var t=this,e=this.option("columnChooser.selection")||{},i=!1;return{selectByClick:e.selectByClick,selectNodesRecursive:e.recursive,showCheckBoxesMode:e.allowSelectAll?"selectAll":"normal",onSelectionChanged:n=>{if(!i){var r=(o=>{var s=(a,l)=>a.reduce((d,u)=>(d.push(u),u.children.length&&s(u.children,d),d),l);return s(o,[])})(n.component.getNodes());n.component.beginUpdate(),i=!0,((o,s)=>{s.filter(a=>a.itemData.allowHiding===!1).forEach(a=>o.component.selectItem(a.key))})(n,r),n.component.endUpdate(),i=!1,t.component.beginUpdate(),this._isUpdatingColumnVisibility=!0,(o=>{o.forEach(s=>{var a=s.itemData.id,l=s.selected!==!1;t._columnsController.columnOption(a,"visible",l)})})(r),t.component.endUpdate(),this._isUpdatingColumnVisibility=!1}}}},_updateItems(){var t=this.isSelectMode(),e=this._columnsController.getChooserColumns(t),i=dPe(this,e);this._columnChooserList.option("items",i)},_updateItemsSelection(t){var e=t?.map(i=>this._columnsController.columnOption(i));this._columnChooserList.beginUpdate(),e?.forEach(i=>{var{visible:n,index:r}=i;n?this._columnChooserList.selectItem(r):this._columnChooserList.unselectItem(r)}),this._columnChooserList.endUpdate()},_columnOptionChanged(t){this.callBase(t);var e=this.isSelectMode();if(e&&this._columnChooserList&&this._isUpdatingColumnVisibility!==!0){var{optionNames:i}=t,n=i.visible&&i.length===1,r=O(t.columnIndex)?[t.columnIndex]:t.columnIndices,o=lPe.some(s=>i[s])||t.changeTypes.columns&&i.all;o&&(this._updateItemsSelection(r),n||this._updateItems())}},optionChanged(t){switch(t.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(t)}},getColumnElements(){var t=[],e=this.isSelectMode(),i=this._columnsController.getChooserColumns(e),n=this._popupContainer&&this._popupContainer.$content(),r=n&&n.find(".dx-treeview-node");return r&&i.forEach(o=>{var s=r.filter("[data-item-id = '".concat(o.index,"']")),a=s.length?s.children(".".concat(NY)).get(0):null;t.push(a)}),g(t)},getName:()=>"columnChooser",getColumns(){return this._columnsController.getChooserColumns()},allowDragging(t){var e=this._columnsController.isParentColumnVisible(t.index),i=!t.visible&&t.allowHiding;return this.isColumnChooserVisible()&&e&&i},allowColumnHeaderDragging(t){var e=!this.isSelectMode();return e&&this.isColumnChooserVisible()&&t.allowHiding},getBoundingRect(){var t=this._popupContainer&&this._popupContainer.$overlayContent();if(t&&t.is(":visible")){var e=t.offset();return{left:e.left,top:e.top,right:e.left+it(t),bottom:e.top+et(t)}}return null},showColumnChooser(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&g("body").addClass(this.addWidgetPrefix(kY))},hideColumnChooser(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible(){var t=this._popupContainer;return t&&t.option("visible")},isSelectMode(){return this.option("columnChooser.mode")==="select"},hasHiddenColumns(){var t=this.option("columnChooser.enabled"),e=this.getColumns().filter(i=>!i.visible);return t&&e.length},publicMethods:()=>["showColumnChooser","hideColumnChooser"]},pPe=Ns.inherit(hPe),PO={defaultOptions:()=>({columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,mode:"dragAndDrop",width:250,height:260,title:j.format("dxDataGrid-columnChooserTitle"),emptyPanelText:j.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}),controllers:{columnChooser:cPe},views:{columnChooserView:pPe},extenders:{views:{headerPanel:{_getToolbarItems(){var t=this.callBase();return this._appendColumnChooserItem(t)},_appendColumnChooserItem(t){var e=this,i=e.option("columnChooser.enabled");if(i){var n=e.option("columnChooser.title"),r={widget:"dxButton",options:{icon:BY,onClick:function(){e.component.getView("columnChooserView").showColumnChooser()},hint:n,text:n,onInitialized:function(o){g(o.element).addClass(e._getToolbarButtonClass(e.addWidgetPrefix(LY)))},elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};t.push(r)}return t},optionChanged(t){switch(t.name){case"columnChooser":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}},isVisible(){var t=this.option("columnChooser.enabled");return this.callBase()||t}},columnHeadersView:{allowDragging(t){var e=this.component.getView("columnChooserView"),i=!e.isSelectMode(),n=e.isColumnChooserVisible();return i&&n&&t.allowHiding||this.callBase(t)}}},controllers:{columns:{allowMoveColumn(t,e,i,n){var r=this.option("columnChooser.mode")==="select",o=r&&n==="columnChooser";return o?!1:this.callBase(t,e,i,n)}}}}};var NLt=PO.controllers.columnChooser,LLt=PO.views.columnChooserView;Ie.registerModule("columnChooser",PO);function yl(t,e){for(var i=fo(e.group),n=[],r=0;r<t.length;r++)n.push([i[r].selector,"=",t[r]]);return e.filter&&n.push(e.filter),he.combineFilters(n)}function kO(t,e,i){for(var n=fo(e.group),r=[],o=i?t.length-1:0;o<t.length;o++){for(var s=[],a=0;a<=o;a++){var{selector:l}=n[a];if(o===a&&(t[a]===null||t[a]===!1||t[a]===!0))t[a]===!1?s.push([l,"=",n[a].desc?!0:null]):(t[a]?!n[a].desc:n[a].desc)?s.push([l,"<>",t[a]]):(s.push([l,"<>",null]),s.push([l,"=",null]));else{var d=[l,o===a?n[a].desc?">":"<":"=",t[a]];d[1]==="<"?s.push([d,"or",[l,"=",null]]):s.push(d)}}r.push(Ie.combineFilters(s))}return r=Ie.combineFilters(r,"or"),Ie.combineFilters([r,e.filter])}var NO=ot.inherit(function(){var t=function(i,n){var{hash:r}=i;return r&&r[JSON.stringify(n)]},e=function(i,n){var r=0,o=i.length-1;if(!i.length)return 0;do{var s=o+r>>1;i[s].offset>n?o=s:r=s}while(o-r>1);var a;for(a=r;a<=o&&!(i[a].offset>n);a++);return a};return{ctor(i){this._dataSource=i,this.reset()},reset(){this._groupsInfo=[],this._totalCountCorrection=0},totalCountCorrection(){return this._totalCountCorrection},updateTotalItemsCount(i){this._totalCountCorrection=i||0},isGroupItemCountable(i){return!this._isVirtualPaging()||!i.isContinuation},_isVirtualPaging(){var i=this._dataSource.option("scrolling.mode");return i==="virtual"||i==="infinite"},itemsCount(){var i=this._dataSource,n=i._dataSource,r=Ie.normalizeSortingInfo(n.group()||[]).length,o=function s(a,l,d){var u=0;if(l)if(!d)u=l.length;else for(var h=0;h<l.length;h++)a.isGroupItemCountable(l[h])&&u++,u+=s(a,l[h].items,d-1);return u}(this,n.items(),r);return o},foreachGroups(i,n,r,o,s){var a=this;return function l(d,u,h,p){var m=[];function c(G,U,re,_){var Oe=U&&G(U,re);return Oe&&_.push(Oe),Oe}for(var x=0;x<d.length;x++){if(p.push(d[x].data),!h&&c(u,d[x].data,p,m)===!1)return!1;if(!d[x].data||d[x].data.isExpanded||r){var{children:D}=d[x],T=D.length&&l(D,u,h,p);if(T&&m.push(T),T===!1)return!1}if(h&&c(u,d[x].data,p,m)===!1)return!1;(!d[x].data||d[x].data.offset!==d[x].offset)&&(o=!0),p.pop()}var N=s&&p.slice(0);return o&&ye.apply(g,m).always(()=>{a._updateGroupInfoOffsets(d,N)})}(a._groupsInfo,i,n,[])},_updateGroupInfoOffsets(i,n){n=n||[];for(var r=0;r<i.length;r++){var o=i[r];if(o.data&&o.data.offset!==o.offset){o.offset=o.data.offset;for(var s=0;s<n.length;s++)n[s].offset=o.offset}}i.sort((a,l)=>a.offset-l.offset)},findGroupInfo(i){for(var n,r=this._groupsInfo,o=0;r&&o<i.length;o++)n=t(r,i[o]),r=n&&n.children;return n&&n.data},addGroupInfo(i){for(var n,{path:r}=i,o=this._groupsInfo,s=0;s<r.length;s++){if(n=t(o,r[s]),!n){n={key:r[s],offset:i.offset,data:{offset:i.offset,isExpanded:!0,path:r.slice(0,s+1)},children:[]};var a=e(o,i.offset);o.splice(a,0,n),o.hash=o.hash||{},o.hash[JSON.stringify(n.key)]=n}s===r.length-1&&(n.data=i,n.offset!==i.offset&&this._updateGroupInfoOffsets(o)),o=n.children}},allowCollapseAll:()=>!0,refresh(i){var{storeLoadOptions:n}=i,r=fo(n.group||[]),o="_group"in this?fo(this._group||[]):r,s=Math.min(o.length,r.length);this._group=n.group;for(var a=0;a<s;a++)if(o[a].selector!==r[a].selector){s=a;break}s?function l(d,u,h){for(var p=0;p<d.length;p++)u+1>=h?d[p].children=[]:l(d[p].children,u+1,h)}(this._groupsInfo,0,s):this.reset()},handleDataLoading(){},handleDataLoaded(i,n){n(i)},handleDataLoadedCore(i,n){n(i)}}}());function EL(t,e,i,n){if(n=n||0,e>1&&i>0){var r=t-Math.floor(t/e)*e||e;return r+=i-n-2,r<0&&(r+=e),Math.floor(r/(e-n-1))}return 0}var SL=NO.inherit(function(){var t=function(h,p,m){return h.foreachGroups((c,x)=>{if(c.isExpanded)return p(c,x)},!0,!1,m,m)},e=function h(p,m,c,x,D,T,N){var G;if(x.items=x.items||[],x.paths=x.paths||[],x.count=x.count||0,x.lastCount=x.lastCount||0,!!c)for(var U=0;U<m.length;U++){var re=m[U];if(re.items!==void 0){if(D.push(re.key),T)G=!0;else{var _=p.findGroupInfo(D);G=_&&_.isExpanded}G?re.items?h(p,re.items,c-1,x,D,T,N):c===1&&re.count&&(!T||N)&&(x.items.push(re),x.paths.push(D.slice(0)),x.count+=x.lastCount,x.lastCount=re.count):(re.collapsedItems=re.items,re.items=null),D.pop()}}},i=function(h,p,m,c,x){var D=h.findGroupInfo(c),T;D?(m?D.count=p.count>0?p.count:p.items&&p.items.length||0:p.count=D.count||p.count,D.offset=x):(m&&(T=p.count>0?p.count:p.items.length),h.addGroupInfo({isExpanded:h._isGroupExpanded(c.length-1),path:c.slice(0),offset:x,count:T||0}))},n=function h(p,m,c,x,D,T,N){var G=m.group?m.group.length:0,U=G===x,re=m.remoteOperations.paging,_=0,Oe=0,fe;if(D=D||0,T=T||[],re&&!N&&(_=D===0?m.skip||0:m.skips[D-1]||0),D>=x)return c.length;for(var we=0;we<c.length;we++){var We=c[we];if(We){if(T.push(We.key),!We.count&&!We.items||We.items===void 0||(i(p,We,U,T,_+we),fe=We.items?h(p,m,We.items,x,D+1,T,we):We.count||-1,fe<0))return-1;Oe+=fe,T.pop()}}return Oe},r=function(h,p){return h&&h.length&&h[p]&&!!h[p].isExpanded},o=function(h,p,m){for(var c,x=m,D=0;D<h.length;D++)c=h[D].offset+1,D>0&&(c+=h[D-1].childrenTotalCount,p&&(c+=EL(x,p,c,D-1)*D)),x+=c;return x};function s(h,p,m,c){var x=p.items[c],D=h.skips&&h.skips[m],T=h.takes&&h.takes[m],N=c===p.items.length-1,G=c===0,U=G&&D||0,re=x.count>T+U;G&&D!==void 0&&(x.isContinuation=!0),N&&T!==void 0&&re&&(x.isContinuationOnNextPage=!0)}function a(h){return!Array.isArray(h)}function l(h){a(h.data)||(h.data=new H)}function d(h,p,m,c,x,D){p.isCustomLoading||(c={},e(h,D,m,c,[]),function(N,G,U){var re=U-1,_=N.group?N.group.length:0;G.skip=N.skips&&N.skips[re],N.takes&&N.takes[re]!==void 0&&(_===U?G.take=G.count?G.count-(G.skip||0):0:G.take=0,G.take+=N.takes[re])}(p,c,m));var T=p.group?p.group.length:0;c.paths.length&&T-m>0?(l(p),function(N,G,U,re,_,Oe){var fe=G.group||[],we=fe[_+1],We=[];F(U.paths,b=>{var w,A={requireTotalCount:!1,requireGroupCount:!0,group:[we],groupSummary:G.storeLoadOptions.groupSummary,filter:yl(U.paths[b],{filter:G.storeLoadOptions.filter,group:fe}),select:G.storeLoadOptions.select,langParams:(w=G.storeLoadOptions)===null||w===void 0?void 0:w.langParams};b===0&&(A.skip=U.skip||0),b===U.paths.length-1&&(A.take=U.take);var R=A.take===0?[]:N._dataSource.loadFromStore(A);ye(R).done(B=>{var z=U.items[b];s(G,U,_,b),z.items=B}),We.push(R)}),ye.apply(null,We).done(()=>{n(N,G,Oe,re+1),d(N,G,re+1,U,_+1,Oe)})}(h,p,c,m,x,D)):c.paths.length&&p.storeLoadOptions.group?(l(p),function(N,G,U,re){var _=[],Oe=G.group||[];F(U.paths,(b,w)=>{_.push(yl(w,{group:G.isCustomLoading?G.storeLoadOptions.group:Oe}))});var{filter:fe}=G.storeLoadOptions;G.storeLoadOptions.isLoadingAll||(fe=Ie.combineFilters([fe,Ie.combineFilters(_,"or")]));var we=y({},G.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:Oe.concat(Ie.normalizeSortingInfo(G.storeLoadOptions.sort||[])),filter:fe}),We=N._dataSource.isLastLevelGroupItemsPagingLocal();We||(we.skip=U.skip,we.take=U.take),ye(U.take===0?[]:N._dataSource.loadFromStore(we)).done(b=>{We&&(b=N._dataSource.sortLastLevelGroupItems(b,Oe,U.paths),b=U.skip?b.slice(U.skip):b,b=U.take?b.slice(0,U.take):b),F(U.items,(w,A)=>{var R=A.count-(w===0&&U.skip||0),B=b.splice(0,R);s(G,U,Oe.length-1,w),A.items=B}),G.data.resolve(re)}).fail(G.data.reject)}(h,p,c,D)):a(p.data)&&p.data.resolve(D)}var u=function(h,p){var m=new H,c=!!(p.group&&p.group.length),x=y({skip:0,take:1,requireGroupCount:c,requireTotalCount:!c},p,{group:c?p.group:null});return h.load(x).done((D,T)=>{var N=T&&(c?T.groupCount:T.totalCount);if(!isFinite(N)){m.reject(ji.Error(c?"E4022":"E4021"));return}m.resolve(N)}).fail(m.reject.bind(m)),m};return{updateTotalItemsCount(h){var p=0,m=h.extra&&h.extra.totalCount||0,c=h.extra&&h.extra.groupCount||0,x=this._dataSource.pageSize(),D=this._isVirtualPaging();t(this,T=>{T.childrenTotalCount=0}),t(this,(T,N)=>{var G=o(N,D?0:x,p),U=T.count+T.childrenTotalCount;D||(U+=EL(G,x,U,N.length-1)),N[N.length-2]?N[N.length-2].childrenTotalCount+=U:p+=U}),this.callBase(p-m+c)},_isGroupExpanded(h){var p=this._dataSource.group();return r(p,h)},_updatePagingOptions(h,p){var m=this._isVirtualPaging(),c=this._dataSource.pageSize(),x=[],D=[],T=0,N=0;h.take&&(t(this,G=>{G.childrenTotalCount=0,G.skipChildrenTotalCount=0}),t(this,(G,U)=>{var re,_=0,Oe=0,fe=o(U,m?0:c,N),we=0,We=0,b=G.count+G.childrenTotalCount,w=b;p&&p(G,fe);var A=h.skip-fe;fe<=h.skip+h.take&&b&&(re=h.take,m||(we=EL(fe,c,b,U.length-1),b+=we*U.length,w+=we,c&&A>=0&&(_=U.length,Oe=U.length-1,We=Math.floor(A/c))),A>=0?(fe+b>h.skip&&x.unshift(A-We*_-G.skipChildrenTotalCount),fe+b>=h.skip+re&&D.unshift(re-_-G.childrenTotalCount+G.skipChildrenTotalCount)):fe+b>=h.skip+re&&D.unshift(re+A-G.childrenTotalCount)),fe<=h.skip&&(U[U.length-2]?U[U.length-2].skipChildrenTotalCount+=Math.min(w,A+1-We*Oe):T+=Math.min(w,A+1)),fe<=h.skip+re&&(b=Math.min(w,A+re-(We+1)*Oe),U[U.length-2]?U[U.length-2].childrenTotalCount+=b:N+=b)}),h.skip-=T,h.take-=N-T),h.skips=x,h.takes=D},changeRowExpand(h){var p=this.findGroupInfo(h),m=this._dataSource,c=m.remoteOperations().groupPaging,x=Ie.normalizeSortingInfo(m.group());return p?(p.isExpanded=!p.isExpanded,c&&p.isExpanded&&h.length<x.length?u(m,{filter:yl(h,{filter:m.lastLoadOptions().filter,group:m.group()}),group:[x[h.length]],select:m.select()}).done(D=>{p.count=D}):new H().resolve()):new H().reject()},handleDataLoading(h){var{storeLoadOptions:p}=h,m=Ie.normalizeSortingInfo(p.group||h.loadOptions.group);if(!(h.isCustomLoading||!m.length)){if(h.remoteOperations.grouping){var c=this._dataSource.remoteOperations().paging;p.group=Ie.normalizeSortingInfo(p.group),p.group.forEach((x,D)=>{var T=D===p.group.length-1;x.isExpanded=!c||!T})}h.group=h.group||m,h.remoteOperations.paging?(h.skip=p.skip,h.take=p.take,p.requireGroupCount=!0,p.group=m.slice(0,1),this._updatePagingOptions(h),p.skip=h.skip,p.take=h.take):(h.skip=h.loadOptions.skip,h.take=h.loadOptions.take,this._updatePagingOptions(h))}},handleDataLoadedCore(h,p){var m=Ie.normalizeSortingInfo(h.storeLoadOptions.group||h.loadOptions.group).length,c=h.group?h.group.length:0,x,D={};if(h.isCustomLoading)p(h),e(this,h.data,m,D,[],h.isCustomLoading,h.storeLoadOptions.isLoadingAll);else{if(h.remoteOperations.paging||this.foreachGroups(T=>{T.count=0}),x=n(this,h,h.data,m),x<0){h.data=new H().reject(Ke.Error("E1037"));return}if(h.remoteOperations.paging||m&&h.extra&&h.loadOptions.requireTotalCount&&(h.extra.totalCount=x,h.extra.groupCount=h.data.length),c&&h.storeLoadOptions.requireGroupCount&&!isFinite(h.extra.groupCount)){h.data=new H().reject(ji.Error("E4022"));return}this.updateTotalItemsCount(h),h.remoteOperations.paging||(this._updatePagingOptions(h),h.lastLoadOptions.skips=h.skips,h.lastLoadOptions.takes=h.takes),p(h),h.remoteOperations.paging||this._processPaging(h,m)}d(this,h,m,D,0,h.data)},_processSkips(h,p,m){if(m){var c=h[0],x=p[0],D=c&&c.items;x!==void 0&&(c.isContinuation=!0,D&&(c.items=D.slice(x),this._processSkips(c.items,p.slice(1),m-1)))}},_processTakes(h,p,m,c,x){if(!(!c||!h)){x=x||[];var D=h[h.length-1],T=D&&D.items,N=m[0],G=p[0];if(D){var U=D.count-(D.isContinuation&&G||0)||T.length;N!==void 0&&U>N&&(D.isContinuationOnNextPage=!0,x.forEach(re=>{re.isContinuationOnNextPage=!0}),T&&(T=T.slice(0,N),D.items=T)),x.push(D),this._processTakes(T,p.slice(1),m.slice(1),c-1,x)}}},_processPaging(h,p){this._processSkips(h.data,h.skips,p),this._processTakes(h.data,h.skips,h.takes,p)},isLastLevelGroupItemsPagingLocal:()=>!1,sortLastLevelGroupItems:h=>h,refresh(h,p){var m=this,c=m._dataSource,{storeLoadOptions:x}=h,D=h.group||h.storeLoadOptions.group,T=Ie.normalizeSortingInfo(m._group),N,G;function U(re,_){_.length===G+1&&(re.isExpanded=N)}for(G=0;G<T.length;G++)N=r(D,G),r(m._group,G)!==N&&m.foreachGroups(U);if(m.callBase.apply(this,arguments),D&&h.remoteOperations.paging&&p.reload)return t(m,re=>{var _=u(c,{filter:yl(re.path,{filter:x.filter,group:D}),group:D.slice(re.path.length),select:x.select}),Oe=u(c,{filter:kO(re.path,{filter:x.filter,group:D},!0),group:D.slice(re.path.length-1,re.path.length),select:x.select});return ye(Oe,_).done((fe,we)=>{fe=parseInt(fe.length?fe[0]:fe),we=parseInt(we.length?we[0]:we),re.offset=fe,re.count!==we&&(re.count=we,m.updateTotalItemsCount(h))})},!0)}}}());var wL=function(t,e){var i=new H,n=y({skip:0,take:1,requireTotalCount:!0},e);return t.load(n).done((r,o)=>{i.resolve(o&&o.totalCount)}).fail(i.reject.bind(i)),i},IL=NO.inherit(function(){var t=function(o,s,a){return o.foreachGroups(l=>{if(!l.isExpanded)return s(l)},!1,!1,a,!0)},e=function(o,s){var a=0,l=s||0;return s&&(t(o,d=>{if(d.offset-a>=s)return!1;a+=d.count-1}),l+=a),l},i=function(o,s){if(o.length!==s.length)return!1;for(var a=0;a<o.length;a++)if(!Zl(null,o[a],s[a]))return!1;return!0},n=function o(s,a,l,d,u){if(a){for(var h=0;h<a.length;h++){var p=a[h];if("key"in p&&p.items!==void 0){l.push(p.key),u&&i(u.path,l)&&!p.isContinuation&&(u.offset=d);var m=s.findGroupInfo(l);m&&!p.isContinuation&&(m.offset=d),m&&!m.isExpanded?d+=m.count:d=o(s,p.items,l,d,u),l.pop()}else d++}return d}},r=function o(s,a){var l=s.count||s.items.length;if(!s.count&&a>1){l=0;for(var d=0;d<s.items.length;d++)l+=o(s.items[d],a-1)}return l};return{handleDataLoading(o){var{storeLoadOptions:s}=o,a=[],l=0,d=!1,u,{group:h}=o.loadOptions,p=0;if(function(c,x){if(x.group){var D=Ie.normalizeSortingInfo(x.group),T=Ie.normalizeSortingInfo(c.sort);c.sort=Zr.arrangeSortingInfo(D,T),delete x.group}}(s,o.loadOptions),o.group=o.group||h,!o.isCustomLoading){var m=y({},s);m.skip=e(this,s.skip),m.skip&&m.take&&h&&(m.skip--,m.take++,d=!0),m.take&&h&&(u=m.take,m.take++),t(this,c=>{if(c.offset>=m.skip+m.take+p)return!1;c.offset>=m.skip+p&&c.count&&(p+=c.count-1,a.push(c),l+=c.count)}),F(a,function(){m.filter=function(c,x,D){for(var T=Ie.normalizeSortingInfo(D||x.group),N=[],G=0;G<c.length;G++){for(var U=[],re=0;re<=G;re++)U.push([T[re].selector,G===re?"<>":"=",c[re]]);N.push(Ie.combineFilters(U))}return N=Ie.combineFilters(N,"or"),Ie.combineFilters([N,x.filter])}(this.path,m,h)}),o.storeLoadOptions=m,o.collapsedGroups=a,o.collapsedItemsCount=l,o.skip=m.skip||0,o.skipFirstItem=d,o.take=u}},handleDataLoaded(o,s){var{collapsedGroups:a}=o,l=Ie.normalizeSortingInfo(o.group),d=l.length;function u(c,x,D,T,N){if(!(!c||!x.length||!D.length)){var G,U,re=Cn(x[0],!0);for(U=0;U<c.length&&(G=Cn(c[U].key,!0),!(N>=T.offset||re===G));U++)N+=r(c[U],D.length);(!c.length||re!==G)&&c.splice(U,0,{key:x[0],items:[],count:x.length===1?T.count:void 0}),u(c[U].items,x.slice(1),D.slice(1),T,N)}}if(o.collapsedItemsCount&&o.extra&&o.extra.totalCount>=0&&(o.extra._totalCountWasIncreasedByCollapsedItems||(o.extra.totalCount+=o.collapsedItemsCount,o.extra._totalCountWasIncreasedByCollapsedItems=!0)),s(o),d){var{data:h}=o,p=hn(h);if(Zr.multiLevelGroup(p,l).enumerate().done(c=>{h=c}),a)for(var m=0;m<a.length;m++)u(h,a[m].path,l,a[m],o.skip);o.isCustomLoading||function c(x,D,T,N,G,U){for(var re=0,_=!1,Oe=0;Oe<D.length;Oe++){var fe=D[Oe];if(fe.items!==void 0){T.push(fe.key);var we=x.findGroupInfo(T);if(we&&!we.isExpanded)fe.collapsedItems=fe.items,fe.items=null,N+=we.count,U--,U<0&&re++,G&&(_=!0);else if(fe.items){var We=c(x,fe.items,T,N,G,U);G&&(We.offset-N>1?fe.isContinuation=!0:_=!0),N=We.offset,U=We.take,U<0&&(fe.items.length?fe.isContinuationOnNextPage=!0:re++)}T.pop()}else G&&(_=!0),N++,U--,U<0&&re++;G=!1}return _&&D.splice(0,1),re&&D.splice(-re,re),{offset:N,take:U}}(this,h,[],o.skip,o.skipFirstItem,o.take),o.data=h}},isGroupItemCountable:o=>o.items===null,updateTotalItemsCount(){var o=0;t(this,s=>{s.count&&(o-=s.count-1)}),this.callBase(o)},changeRowExpand(o){var s=this,a=s._dataSource,l=a.beginPageIndex?a.beginPageIndex():a.pageIndex(),d=a.items(),u=e(s,l*a.pageSize()),h=s.findGroupInfo(o),p;return h&&!h.isExpanded?p=new H().resolve(h.count):p=wL(a,{filter:yl(o,{filter:a.filter(),group:a.group()})}),ye(p).done(m=>{m=parseInt(m.length?m[0]:m),h?(n(s,d,[],u),h.isExpanded=!h.isExpanded,h.count=m):(h={offset:-1,count:m,path:o,isExpanded:!1},n(s,d,[],u,h),h.offset>=0&&s.addGroupInfo(h)),s.updateTotalItemsCount()}).fail(function(){a._eventsStrategy.fireEvent("loadError",arguments)})},allowCollapseAll:()=>!1,refresh(o,s){var a=this,{storeLoadOptions:l}=o,d=a._dataSource;if(this.callBase.apply(this,arguments),s.reload)return t(a,u=>{var h=wL(d,{filter:yl(u.path,l)}),p=wL(d,{filter:kO(u.path,l)});return ye(p,h).done((m,c)=>{m=parseInt(m.length?m[0]:m),c=parseInt(c.length?c[0]:c),u.offset=m,u.count!==c&&(u.count=c,a.updateTotalItemsCount())})},!0)}}}());var TL="dx-datagrid-group-panel",fPe="dx-group-panel-message",LO="dx-group-panel-item",VY="dx-toolbar-label",gPe="dx-toolbar-item",mPe="dx-datagrid-expand",vPe="dx-group-row",_Pe=".dx-header-filter",CPe={init(){this.callBase.apply(this,arguments),this._initGroupingHelper()},_initGroupingHelper(t){var e=this._grouping,i=this.option("grouping.autoExpandAll"),n=this.option("focusedRowEnabled"),r=t?t.remoteOperations:this.remoteOperations(),o=r.filtering&&r.sorting&&r.paging;o&&!r.grouping&&(i||!n)?(!e||e instanceof SL)&&(this._grouping=new IL(this)):(!e||e instanceof IL)&&(this._grouping=new SL(this))},totalItemsCount(){var t=this.callBase();return t>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?t+this._grouping.totalCountCorrection():t},itemsCount(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase.apply(this,arguments)},allowCollapseAll(){return this._grouping.allowCollapseAll()},isGroupItemCountable(t){return this._grouping.isGroupItemCountable(t)},isRowExpanded(t){var e=this._grouping.findGroupInfo(t);return e?e.isExpanded:!this._grouping.allowCollapseAll()},collapseAll(t){return this._collapseExpandAll(t,!1)},expandAll(t){return this._collapseExpandAll(t,!0)},_collapseExpandAll(t,e){var i=this._dataSource,n=i.group(),r=Ie.normalizeSortingInfo(n||[]);if(r.length){for(var o=0;o<r.length;o++)t===void 0||t===o?r[o].isExpanded=e:n&&n[o]&&(r[o].isExpanded=n[o].isExpanded);i.group(r),this._grouping.foreachGroups((s,a)=>{(t===void 0||t===a.length-1)&&(s.isExpanded=e)},!1,!0),this.resetPagesCache()}return!0},refresh(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand(t){var e=this._dataSource;if(e.group())return e.beginLoading(),this._lastLoadOptions&&(this._lastLoadOptions.groupExpand=!0),this._changeRowExpandCore(t).always(()=>{e.endLoading()})},_changeRowExpandCore(t){return this._grouping.changeRowExpand(t)},_hasGroupLevelsExpandState(t,e){if(t&&Array.isArray(t)){for(var i=0;i<t.length;i++)if(t[i].isExpanded===e)return!0}},_customizeRemoteOperations(t,e){var{remoteOperations:i}=t;t.storeLoadOptions.group?(i.grouping&&!t.isCustomLoading&&(!i.groupPaging||this._hasGroupLevelsExpandState(t.storeLoadOptions.group,!0))&&(i.paging=!1),!i.grouping&&(!i.sorting||!i.filtering||t.isCustomLoading||this._hasGroupLevelsExpandState(t.storeLoadOptions.group,!1))&&(i.paging=!1)):!t.isCustomLoading&&i.paging&&e.grouping&&this.resetCache(),this.callBase.apply(this,arguments)},_handleDataLoading(t){return this.callBase(t),this._initGroupingHelper(t),this._grouping.handleDataLoading(t)},_handleDataLoaded(t){return this._grouping.handleDataLoaded(t,this.callBase.bind(this))},_handleDataLoadedCore(t){return this._grouping.handleDataLoadedCore(t,this.callBase.bind(this))}};Id.extend(CPe);var xPe={init(){this.callBase(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")},_beforeProcessItems(t){var e=this._columnsController.getGroupColumns();return t=this.callBase(t),t.length&&e.length&&(t=this._processGroupItems(t,e.length)),t},_processItem(t,e){return O(t.groupIndex)&&Se(t.rowType)&&t.rowType.indexOf("group")===0?(t=this._processGroupItem(t,e),e.dataIndex=0):t=this.callBase.apply(this,arguments),t},_processGroupItem:t=>t,_processGroupItems(t,e,i){var n=this._columnsController.getGroupColumns(),r=n[n.length-e];if(!i){var o=this.option("scrolling.mode");i={collectContinuationItems:o!=="virtual"&&o!=="infinite",resultItems:[],path:[],values:[]}}var{resultItems:s}=i;if(i.data&&(i.collectContinuationItems||!i.data.isContinuation)&&s.push({rowType:"group",data:i.data,groupIndex:i.path.length-1,isExpanded:!!i.data.items,key:i.path.slice(0),values:i.values.slice(0)}),t)if(e===0)s.push.apply(s,t);else for(var a=0;a<t.length;a++){var l=t[a];l&&"items"in l?(i.data=l,i.path.push(l.key),i.values.push(r&&r.deserializeValue&&!r.calculateDisplayValue?r.deserializeValue(l.key):l.key),this._processGroupItems(l.items,e-1,i),i.data=void 0,i.path.pop(),i.values.pop()):s.push(l)}return s},publicMethods(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll(t){var e=this._dataSource;e&&e.collapseAll(t)&&(e.pageIndex(0),e.reload())},expandAll(t){var e=this._dataSource;e&&e.expandAll(t)&&(e.pageIndex(0),e.reload())},changeRowExpand(t){var e=this,i=e.isRowExpanded(t),n={key:t,expanded:i};return e.executeAction(i?"onRowCollapsing":"onRowExpanding",n),n.cancel?new H().resolve():ye(e._changeRowExpandCore(t)).done(()=>{n.expanded=!i,e.executeAction(i?"onRowCollapsed":"onRowExpanded",n)})},_changeRowExpandCore(t){var e=this,i=this._dataSource,n=new H;return i?ye(i.changeRowExpand(t)).done(()=>{e.load().done(n.resolve).fail(n.reject)}).fail(n.reject):n.resolve(),n},isRowExpanded(t){var e=this._dataSource;return e&&e.isRowExpanded(t)},expandRow(t){return this.isRowExpanded(t)?new H().resolve():this.changeRowExpand(t)},collapseRow(t){return this.isRowExpanded(t)?this.changeRowExpand(t):new H().resolve()},optionChanged(t){t.name==="grouping"&&(t.name="dataSource"),this.callBase(t)}},ML=function(t,e){var i=this._columnsController;switch(e.itemData.value){case"group":var n=i._dataSource.group()||[];i.columnOption(t.dataField,"groupIndex",n.length);break;case"ungroup":i.columnOption(t.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},HY=t=>{var e=t?.visible;return e==="auto"?be.current().deviceType==="desktop":!!e},zY=(t,e)=>{var i=HY(t),n=t?.allowColumnDragging&&e.allowGrouping;return i&&!!n},yPe={_getToolbarItems(){var t=this.callBase();return this._appendGroupingItem(t)},_appendGroupingItem(t){if(this._isGroupPanelVisible()){var e=!1,i={template:()=>{var n=g("<div>").addClass(TL);return this._updateGroupPanelContent(n),Yu("groupPanel",this,n,void 0,this._handleActionKeyDown.bind(this)),n},name:"groupPanel",onItemRendered:()=>{e&&this.renderCompleted.fire(),e=!0},location:"before",locateInMenu:"never",sortIndex:1};t.push(i),this.updateToolbarDimensions()}return t},_handleActionKeyDown(t){var{event:e}=t,i=g(e.target),n=i.closest(".".concat(LO)).index(),r=this._columnsController.getGroupColumns()[n],o=r&&r.index;i.is(_Pe)?this.getController("headerFilter").showHeaderFilterMenu(o,!0):this._processGroupItemAction(o),e.preventDefault()},_isGroupPanelVisible(){return HY(this.option("groupPanel"))},_renderGroupPanelItems(t,e){var i=this;t.empty(),F(e,(n,r)=>{i._createGroupPanelItem(t,r)}),kg(this)},_createGroupPanelItem(t,e){var i=g("<div>").addClass(e.cssClass).addClass(LO).data("columnData",e).appendTo(t).text(e.caption);return aJ(this,i),i},_columnOptionChanged(t){if(!this._requireReady&&!Ie.checkChanges(t.optionNames,["width","visibleWidth"])){var e=this.element(),i=e&&e.find(".".concat(TL));i&&i.length&&(this._updateGroupPanelContent(i),this.updateToolbarDimensions(),this.renderCompleted.fire())}this.callBase()},_updateGroupPanelContent(t){var e=this.getController("columns").getGroupColumns(),i=this.option("groupPanel");this._renderGroupPanelItems(t,e),i.allowColumnDragging&&!e.length&&(g("<div>").addClass(fPe).text(i.emptyPanelText).appendTo(t),t.closest(".".concat(gPe)).addClass(VY),t.closest(".".concat(VY)).css("maxWidth","none"))},allowDragging(t){var e=this.option("groupPanel");return zY(e,t)},getColumnElements(){var t=this.element();return t&&t.find(".".concat(LO))},getColumns(){return this.getController("columns").getGroupColumns()},getBoundingRect(){var t=this.element();if(t&&t.find(".".concat(TL)).length){var e=t.offset();return{top:e.top,bottom:e.top+je(t)}}return null},getName:()=>"group",getContextMenuItems(t){var e=this.option("grouping.contextMenuEnabled"),i=g(t.targetElement).closest(".".concat(LO)),n;if(i.length&&(t.column=i.data("columnData")),e&&t.column){var{column:r}=t,o=O(r.allowGrouping)?r.allowGrouping:!0;if(o){var s=O(r.groupIndex)&&r.groupIndex>-1,a=this.option("grouping.texts"),l=ML.bind(this,r);n=[{text:a.ungroup,value:"ungroup",disabled:!s,onItemClick:l},{text:a.ungroupAll,value:"ungroupAll",onItemClick:l}]}}return n},isVisible(){return this.callBase()||this._isGroupPanelVisible()},hasGroupedColumns(){return this._isGroupPanelVisible()&&!!this.getColumns().length},optionChanged(t){t.name==="groupPanel"?(this._invalidate(),t.handled=!0):this.callBase(t)}},bPe={getContextMenuItems(t){var e=this.option("grouping.contextMenuEnabled"),i;if(e&&t.row&&t.row.rowType==="group"){var n=this._columnsController,r=n.columnOption("groupIndex:".concat(t.row.groupIndex));if(r&&r.allowGrouping){var o=this.option("grouping.texts"),s=ML.bind(this,r);i=[],i.push({text:o.ungroup,value:"ungroup",onItemClick:s},{text:o.ungroupAll,value:"ungroupAll",onItemClick:s})}}return i},_rowClick(t){var e=this.option("grouping.expandMode"),i=this.option("scrolling.mode"),n=i!=="infinite"&&e==="rowClick"&&g(t.event.target).closest(".".concat(vPe)).length,r=g(t.event.target).closest(".".concat(mPe)).length;(n||r)&&this._changeGroupRowState(t),this.callBase(t)},_changeGroupRowState(t){var e=this.getController("data"),i=e.items()[t.rowIndex],n=this._columnsController.columnOption("groupIndex:".concat(i.groupIndex),"allowCollapsing");(i.rowType==="data"||i.rowType==="group"&&n!==!1)&&(e.changeRowExpand(i.key,!0),t.event.preventDefault(),t.handled=!0)}},DPe={getContextMenuItems(t){var e=this.option("grouping.contextMenuEnabled"),i=this.callBase(t);if(e&&t.row&&(t.row.rowType==="header"||t.row.rowType==="detailAdaptive")){var{column:n}=t;if(!n.command&&(!O(n.allowGrouping)||n.allowGrouping)){var r=this.option("grouping.texts"),o=O(n.groupIndex)&&n.groupIndex>-1,s=ML.bind(this,n);i=i||[],i.push({text:r.groupByThisColumn,value:"group",beginGroup:!0,disabled:o,onItemClick:s}),n.showWhenGrouped&&i.push({text:r.ungroup,value:"ungroup",disabled:!o,onItemClick:s}),i.push({text:r.ungroupAll,value:"ungroupAll",onItemClick:s})}}return i},allowDragging(t){var e=this.option("groupPanel");return zY(e,t)||this.callBase(t)}};Ie.registerModule("grouping",{defaultOptions:()=>({grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:j.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:j.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:j.format("dxDataGrid-groupHeaderText"),ungroup:j.format("dxDataGrid-ungroupHeaderText"),ungroupAll:j.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:j.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}),extenders:{controllers:{data:xPe,columns:{_getExpandColumnOptions(){var t=this.callBase.apply(this,arguments);return t.cellTemplate=Ie.getExpandCellTemplate(),t}},editing:{_isProcessedItem:t=>O(t.groupIndex)&&Se(t.rowType)&&t.rowType.indexOf("group")===0}},views:{headerPanel:yPe,rowsView:bPe,columnHeadersView:DPe}}});var OPe="dx-master-detail-cell",WY="dx-master-detail-row",EPe="dx-cell-focus-disabled",SPe="dx-row-lines",jY={defaultOptions:()=>({masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}),extenders:{controllers:{columns:{_getExpandColumnsCore(){var t=this.callBase();return this.option("masterDetail.enabled")&&t.push({type:"detailExpand",cellTemplate:he.getExpandCellTemplate()}),t}},data:function(){var t=function(e){e._expandedItems=[],e._isExpandAll=e.option("masterDetail.autoExpandAll")};return{init(){t(this),this.callBase()},expandAll(e){e<0?(this._isExpandAll=!0,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},collapseAll(e){e<0?(this._isExpandAll=!1,this._expandedItems=[],this.updateItems()):this.callBase.apply(this,arguments)},isRowExpanded(e){var i=he.getIndexByKey(e,this._expandedItems);return Array.isArray(e)?this.callBase.apply(this,arguments):!!(this._isExpandAll^(i>=0&&this._expandedItems[i].visible))},_getRowIndicesForExpand(e){var i=this.getRowIndexByKey(e);return[i,i+1]},_changeRowExpandCore(e){var i;if(Array.isArray(e))i=this.callBase.apply(this,arguments);else{var n=he.getIndexByKey(e,this._expandedItems);if(n>=0){var{visible:r}=this._expandedItems[n];this._expandedItems[n].visible=!r}else this._expandedItems.push({key:e,visible:!0});this.updateItems({changeType:"update",rowIndices:this._getRowIndicesForExpand(e)}),i=new H().resolve()}return i},_processDataItem(e,i){var n=this.callBase.apply(this,arguments);return n.isExpanded=this.isRowExpanded(n.key),i.detailColumnIndex===void 0&&(i.detailColumnIndex=-1,F(i.visibleColumns,(r,o)=>{if(o.command==="expand"&&!O(o.groupIndex))return i.detailColumnIndex=r,!1})),i.detailColumnIndex>=0&&(n.values[i.detailColumnIndex]=n.isExpanded),n},_processItems(e,i){var n=this,{changeType:r}=i,o=[];return e=n.callBase.apply(n,arguments),r==="loadingAll"?e:(r==="refresh"&&(n._expandedItems=Sn(n._expandedItems,s=>s.visible)),F(e,(s,a)=>{o.push(a);var l=he.getIndexByKey(a.key,n._expandedItems);a.rowType==="data"&&(a.isExpanded||l>=0)&&!a.isNewRow&&o.push({visible:a.isExpanded,rowType:"detail",key:a.key,data:a.data,values:[]})}),o)},optionChanged(e){var i,n;if(e.name==="masterDetail"){switch(e.name="dataSource",e.fullName){case"masterDetail":var r=e.value||{},o=e.previousValue||{};i=r.enabled!==o.enabled,n=r.autoExpandAll!==o.autoExpandAll;break;case"masterDetail.template":t(this);break;case"masterDetail.enabled":i=!0;break;case"masterDetail.autoExpandAll":n=!0}(i||n)&&t(this)}this.callBase(e)}}}(),resizing:{fireContentReadyAction(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids(t){var e=t.closest(".".concat(WY));e.length&&ye(this._updateMasterDataGrid(e,t)).done(()=>{this._updateParentDataGrids(e.parent())})},_updateMasterDataGrid(t,e){var i=g(t).data("options"),n=g(t).closest(".".concat(this.getWidgetContainerClass())).parent().data("dxDataGrid");if(i&&n)return this._updateMasterDataGridCore(n,i)},_updateMasterDataGridCore(t,e){var i=H();if(t.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(t,e.rowIndex,g(e.rowElement)).done(i.resolve);else{if(t.option("scrolling.useNative")===!0){t.updateDimensions().done(()=>i.resolve(!0));return}var n=t.getScrollable();n?n?.update().done(()=>i.resolve()):i.resolve()}return i.promise()},_updateFixedMasterDetailGrids(t,e,i){var n=H(),r=g(t.getRowElement(e)),o=g(t.getView("rowsView").getTableElements()),s=r?.length===2&&je(r.eq(0))!==je(r.eq(1)),a=o?.length===2&&je(o.eq(0))!==je(o.eq(1));if(s||a){var l=Ae(i);return t.updateDimensions().done(()=>{var d=this.option("columnAutoWidth")&&t.option("scrolling.useNative")===!0,u=d&&l!==Ae(i);d&&u?this.updateDimensions().done(()=>n.resolve(!0)):n.resolve(!0)}),n.promise()}return H().resolve()},_toggleBestFitMode(t){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var e=this._rowsView.getTableElement();e&&e.find(".dx-master-detail-cell").css("maxWidth",t?0:"")}}}},views:{rowsView:{_getCellTemplate(t){var{column:e}=t,i=this.getController("editing"),n=i&&i.isEditRow(t.rowIndex),r;return e.command==="detail"&&!n?r=this.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:this._getDefaultTemplate(e)}:r=this.callBase.apply(this,arguments),r},_isDetailRow:t=>t&&t.rowType&&t.rowType.indexOf("detail")===0,_createRow(t){var e=this.callBase.apply(this,arguments);return t&&this._isDetailRow(t)&&(this.option("showRowLines")&&e.addClass(SPe),e.addClass(WY),O(t.visible)&&e.toggle(t.visible)),e},_renderCells(t,e){var{row:i}=e,n,r=this._columnsController.getVisibleColumns();i.rowType&&this._isDetailRow(i)?this._needRenderCell(0,e.columnIndices)&&(n=this._renderCell(t,{value:null,row:i,rowIndex:i.rowIndex,column:{command:"detail"},columnIndex:0,change:e.change}),n.addClass(EPe).addClass(OPe).attr("colSpan",r.length)):this.callBase.apply(this,arguments)}}}}};Ie.registerModule("masterDetail",jY);var wPe=".dx-state-disabled",IPe="dx-selectbox",TPe="dx-selectbox-popup",MPe="dx-selectbox-container",$Y="dx-selectbox-popup-wrapper",GY=s9.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),i=function(r){var o=this._isEditable();o?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(r.preventDefault(),this.clear()),this._savedTextRemoveEvent=r,this._preventSubstitution=!0},n=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return y({},e,{tab:function(){this.option("opened")&&!this._popup.getFocusableElements().length&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(r){if(e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(r),!0},downArrow:function(r){if(e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(r),!0},leftArrow:function(){n(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){n(),e.home&&e.home.apply(this,arguments)},end:function(){n(),e.end&&e.end.apply(this,arguments)},escape:function(){var r=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),r??!0},enter:function(r){var o=this.option("opened"),s=this._input().val().trim(),a=s&&this._list&&!this._list.option("focusedElement");if(!s&&O(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(r),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return r.preventDefault(),a&&(o&&this._toggleOpenState(),this._valueChangeEventHandler(r)),o;if(e.enter&&e.enter.apply(this,arguments))return o}},space:function(r){var o=this.option("opened"),s=this.option("searchEnabled"),a=this.option("acceptCustomValue");if(!(!o||s||a))return r.preventDefault(),this._valueChangeEventHandler(r),!0},backspace:i,del:i})},_getDefaultOptions:function(){return y(this.callBase(),{placeholder:j.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){O(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(IPe),this._renderTooltip(),this.callBase(),this._$container.addClass(MPe)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(TPe),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+$Y},_setDeprecatedOptions(){this.callBase(),y(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var t,e=this._searchValue();if(!e){this._focusListElement(null);return}var{items:i,selectedItem:n}=this.option(),r=this._list._itemElements(),o=(t=i?.indexOf(n))!==null&&t!==void 0?t:-1,s=o!==-1&&!this._isCustomItemSelected()?r.eq(o):null;this._focusListElement(s)},_renderFocusedElement:function(){if(this._list){var t=this._searchValue();if(!t||this.option("acceptCustomValue")){this._focusListElement(null);return}var e=this._list._itemElements(),i=e.not(wPe).eq(0);this._focusListElement(i)}},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",Pe(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var t=this._dataController.paginate();t&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),new H().resolve()},_renderInputValue:function(){return this.callBase().always((function(){this._renderInputValueAsync()}).bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always((function(){this._refreshSelected()}).bind(this))},_renderInputValueImpl:function(){return this._renderField(),new H().resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),i=this._valueGetter(e);this._setValue(i)},_setNextValue:function(t){var e=this._dataController.isLoaded()?new H().resolve():this._dataController.load();e.done((function(){var i=this._getSelectedIndex(),n=this._dataController.pageSize(),r=this._dataController.isLastPage(),o=i===this._items().length-1;this._saveValueChangeEvent(t);var s=qt(t)==="downArrow"?1:-1;n&&!r&&o&&s>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,s))):this._setNextItem(s)}).bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&t===void 0;this.callBase(e?null:t),!e&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!O(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=y(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&y(t,{showSelectionControls:!0,selectByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,i=g(e.option("focusedElement")),n=e._getItemData(i);this._updateField(n)}},_updateField:function(t){var e=this._getTemplateByOption("fieldTemplate");if(!(e&&this.option("fieldTemplate"))){var i=this._displayGetter(t);this.option("text",i),this._renderDisplayText(i);return}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):W},_selectionChangeHandler:function(t){F(t.addedItems||[],(function(e,i){this._setValue(this._valueGetter(i))}).bind(this))},_getActualSearchValue:function(){return this._dataController.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if(t=arguments.length?t:!this.option("opened"),!t&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataController.getDataSource()){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._updatePopupWidth(),this._updateListDimensions()},_isValueEqualInputText:function(){var t=this.option("selectedItem");if(t===null)return!1;var e=this._displayGetter(t),i=e?String(e):"",n=this._searchValue();return i===n},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always((function(){var{acceptCustomValue:e,text:i,selectedItem:n}=this.option();if(e){!t&&!this._isValueChanging&&(this._updateField(n??this._createCustomItem(i)),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always((function(r){var o=Qt(r,n);this._setSelectedItem(o),this._updateField(o),this._clearFilter()}).bind(this))}).bind(this))},_valueChangeEventIncludesBlur:function(){var t=this.option(this._getValueChangeEventOptionName());return t.includes("blur")},_isPreventedFocusOutEvent:function(t){return this._preventNestedFocusEvent(t)||this._valueChangeEventIncludesBlur()},_focusOutHandler:function(t){if(!this._isPreventedFocusOutEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t)}t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed:function(t){var{searchEnabled:e}=this.option(),i=this._isOverlayNestedTarget(t?.relatedTarget),n=this._wasSearch()&&e&&!i;if(n){var r,o=(r=this._popup)===null||r===void 0?void 0:r._hideAnimationProcessing;this._clearSearchTimer(),o?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:function(t){return!!g(t).closest(".".concat($Y)).length},_clearTextValue:function(){var t=this.option("selectedItem"),e=this._displayGetter(t),i=t&&e!=="";i&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var t=ie.getActiveElement(this.element());return this.callBase()&&g(t).closest(this._input()).length>0},_getValueChangeEventOptionName:function(){return"customItemCreateEvent"},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&g(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement(g(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var i=this,n=new H;return this.callBase(t,e).done((function(r){n.resolve(r)}).bind(this)).fail((function(r){if(!(r!=null&&r.shouldSkipCallback)){var o=i.option("selectedItem");i.option("acceptCustomValue")&&t===i._valueGetter(o)?n.resolve(o):n.reject()}}).bind(this)),n.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),i=this._displayGetter(t);return!i||e!==i.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t))},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},i=this._customItemCreatingAction(e),n=Qt(i,e.customItem);return O(i)&&xt.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(t){var e=this._searchValue(),i=this._createCustomItem(e);if(this._saveValueChangeEvent(t),i===void 0)throw this._renderValue(),xt.Error("E0121");Ka(i)?rn(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)),this._isValueChanging=!1)},_clearValueHandler:function(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch:function(t){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered:function(t){this.callBase(),t!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=this._searchValue().length,i=t.selectionStart===0&&t.selectionEnd===e,n=t.selectionStart!==t.selectionEnd,r=e===t.selectionEnd;return this._wasSearch()&&n&&!i&&r&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_renderInputSubstitution:function(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),i=e.val().length;if(i!==0){var n=e.get(0),r=this._displayGetter(t).toString();n.value=r,this._caret({start:i,end:r.length})}}},_dispose:function(){this._renderInputValueAsync=W,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}});Be("dxSelectBox",GY);var Bg=GY;var UY=t=>t.getMonth()+1,KY=(t,e)=>{var i=t.getDate(),n=gC("M",t),r=ln(parseInt(e),n.min,n.max);t.setMonth(r-1,1);var{min:o,max:s}=gC("dM",t),a=ln(i,o,s);t.setDate(a)},APe={a:t=>t.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:UY,L:UY,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},RPe=y({},i7(),{a:(t,e)=>{var i=t.getHours(),n=i>=12;n!==!!parseInt(e)&&t.setHours((i+12)%24)},d:(t,e)=>{var i=gC("dM",t).max;e>i&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:(t,e)=>{var i=t.getHours()>=12;t.setHours(+e%12+(i?12:0))},M:KY,L:KY,E:(t,e)=>{e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:(t,e)=>{var i=t.getFullYear(),n=String(e).length,r=String(gC("y",t).max).length,o=parseInt(String(i).substr(0,r-n)+e);t.setFullYear(o)}}),FPe=t=>APe[t]||(()=>t),qY=(t,e)=>{for(var i=e.regexp.exec(t),n=0,r=0,o=[],s=function(){n=r,r=n+i[a].length;var l=e.patterns[a-1].replace(/^'|'$/g,""),d=FPe(l[0]);o.push({index:a-1,isStub:l===i[a],caret:{start:n,end:r},pattern:l,text:i[a],limits:function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];return gC(l[0],...h)},setter:RPe[l[0]]||W,getter:d})},a=1;a<i.length;a++)s();return o},gC=(t,e,i)=>{var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:1,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return n[i||t]||n.getAmPm},JY=(t,e)=>{for(var i=0;i<t.length;i++){var n=t[i].caret.end>=e;if(!t[i].isStub&&n)return i}return null};var AL=["year","day","month","day"],YY=["hours","minutes","seconds","milliseconds"],XY=6e4,QY=60*XY*24,PPe=365*QY,kPe=function(t){var e=typeof t;return e==="string"?"format":e==="object"&&t.type!==void 0?t.type:null},bl={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:XY,ONE_DAY:QY,ONE_YEAR:PPe,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:AL},time:{getStandardPattern:function(){return"HH:mm"},components:YY},datetime:{getStandardPattern:function(){var t;return function(){var e=g("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ")}(),t||(t="yyyy-MM-ddTHH:mm:ssZ"),bl.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:[...AL,...YY]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...AL,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var i=bl.FORMATS_INFO[e].getStandardPattern();return Gi.serializeDate(t,i)},fromStandardDateFormat:function(t){var e=Gi.dateParser(t);return Dn(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,i){if(!e)return e||null;if(!t||isNaN(t.getTime())){var n=new Date(null);t=new Date(n.getFullYear(),n.getMonth(),n.getDate())}var r=new Date(t.valueOf()),o=bl.FORMATS_INFO[i];return F(o.components,function(){var s=bl.DATE_COMPONENTS_INFO[this];r[s.setter](e[s.getter]())}),r},getLongestCaptionIndex:function(t){var e=0,i=0,n;for(n=0;n<t.length;++n)t[n].length>i&&(e=n,i=t[n].length);return e},formatUsesMonthName:function(t){return ft.formatUsesMonthName(t)},formatUsesDayName:function(t){return ft.formatUsesDayName(t)},getLongestDate:function(t,e,i){var n=kPe(t),r=9;(!n||bl.formatUsesMonthName(n))&&(r=bl.getLongestCaptionIndex(e));var o=new Date(1888,r,21,23,59,59,999);if(!n||bl.formatUsesDayName(n)){var s=o.getDate()-o.getDay()+bl.getLongestCaptionIndex(i);o.setDate(s)}return o},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};bl.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var i=new Date(e.getTime());return i.setFullYear(t),ft.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var i=new Date(e.getTime());return i.setDate(t),ft.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return ft.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return ft.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return ft.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return ft.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return ft.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};var Mi=bl;var BO=ot.abstract,NPe=ot.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||g("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var e=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(t,e,i)},_getWidgetOptions:BO,_getWidgetName:BO,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:BO,supportedKeys:W,getKeyboardListener:W,customizeButtons:W,getParsedText:function(t,e){var i=ft.parse(t,e);return i||ft.parse(t)},renderInputMinMax:W,renderOpenedState:function(){this._updateValue()},popupConfig:BO,_dimensionChanged:function(){var t;(t=this._getPopup())===null||t===void 0||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();S.off(e,"mousedown"),S.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:W,popupHiddenHandler:W,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:W,getDefaultDate:function(){return new Date},textChangedHandler:W,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),nc=NPe;var LPe="dx-button-today",BPe=nc.inherit({NAME:"Calendar",getDefaultOptions:function(){return y(this.callBase(),{todayButtonText:j.format("dxCalendar-todayButtonText")})},supportedKeys:function(){var t=function(e){return this.option("opened")?(e.preventDefault(),!0):!1};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:(function(e){if(this.dateBox.option("opened"))if(e.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var i=this._getContouredValue(),n=this._lastActionElement,r=this._closeDropDownByEnter();return r&&i&&n==="calendar"&&this.dateBoxValue(i,e),r&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(e),!r}else return!0;else this.dateBox._valueChangeEventHandler(e)}).bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return L7},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return y(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,selectionMode:"single",dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),disabledDates:ce(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(t){var e=this;return function(i){return y(i,{component:e.dateBox}),t(i)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},_getTodayButtonConfig(){var t=this.dateBox.option("buttonsLocation"),e=t==="default",i=e?["bottom","center"]:Ja(t),n=mi()?"text":"outlined";return{widget:"dxButton",toolbar:i[0],location:i[1]==="after"?"before":i[1],options:{onClick:r=>{this._widget._toTodayView(r)},text:this.dateBox.option("todayButtonText"),elementAttr:{class:LPe},stylingMode:n}}},_isCalendarVisible:function(){var{calendarOptions:t}=this.dateBox.option();return Zi(t)||t.visible!==!1},_getPopupToolbarItems(t){var e=this.dateBox.option("applyValueMode")==="useButtons",i=e&&this._isCalendarVisible();if(i){var n=this._getTodayButtonConfig();return[n,...t]}return t},popupConfig:function(t){return y(!0,t,{position:{collision:"flipfit flip"},width:"auto"})},_valueChangedHandler:function(t){var e=t.value,i=t.previousValue;ze.sameDate(e,i)&&ze.sameHoursAndMinutes(e,i)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;e.option("applyValueMode")==="instantly"&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}}),VO=BPe;var mC=class{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=e??xh}get isHorizontal(){return this.direction===Q0||this.direction===Z0}get isVertical(){return this.direction===xh||this.direction===Z0}get isBoth(){return this.direction===Z0}};function ZY(t,e){if(Ve(t)){var i=Qt(t.left,t.x),n=Qt(t.top,t.y);return{left:O(i)?i:void 0,top:O(n)?n:void 0}}var{isHorizontal:r,isVertical:o}=new mC(e);return{left:r&&O(t)?t:void 0,top:o&&O(t)?t:void 0}}var VPe="dx-dateviewroller",HPe="dx-state-active",zPe="dx-dateviewroller-current",eX="dx-dateview-item",WPe="dx-dateview-item-selected",jPe="dx-dateview-item-selected-frame",$Pe="dx-dateview-item-selected-border",HO=class extends tD{_getDefaultOptions(){return y(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass(VPe),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){S.on(g(this.container()),"dxmousewheel",e=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(this.option("showOnClick")){var e=ne(lt,this.NAME),i=this._createActionByOption("onClick");S.off(g(this.container()),e),S.on(g(this.container()),e,function(n){i({event:n})})}}_renderItems(){var e=this.option("items")||[],i=g();g(this.content()).empty(),e.forEach(function(n){i=i.add(g("<div>").addClass(eX).append(n))}),g(this.content()).append(i),this._$items=i,this.update()}_renderSelectedItemFrame(){g("<div>").addClass(jPe).append(g("<div>").addClass($Pe)).appendTo(g(this.container()))}_renderSelectedValue(e){var i=this._fitIndex(e??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(i)}),this._renderActiveStateItem()}_fitIndex(e){var i=this.option("items")||[],n=i.length;return e>=n?n-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){var e=this._getItemSelector(),i=ne(lt,this.NAME);S.off(this.$element(),i,e),S.on(this.$element(),i,e,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+eX}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var e=this.option("selectedIndex");F(this._$items,function(i){g(this).toggleClass(WPe,e===i)})}_shouldScrollToNeighborItem(){return be.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(e){var{top:i,left:n}=ZY(e),r=this.scrollOffset(),o={x:r.left-n,y:r.top-i};if(this._isVisible()&&(o.x||o.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var s=this;Et.stop(g(this.content())),Et.animate(g(this.content()),{duration:200,type:"slide",to:{top:Math.floor(o.y)},complete(){tl(g(s.content())),s.handleMove({delta:o})}}),delete this._animation}else this.handleMove({delta:o})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){var i=this.option("items").length;return Math.max(Math.min(e,i-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){var i=this.scrollOffset().top,n=e*this._itemHeight(),r=i-n;if(this._isInNullNeighborhood(r))return e;var o=r>0?1:-1,s=this._fitSelectedIndexInRange(e+o);return s}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;var i=this.scrollOffset().top/this._itemHeight();return Math.round(i)}_endActionHandler(){var e=this.option("selectedIndex"),i=this._getNewSelectedIndex(e);i===e?this._renderSelectedValue(i):this.option("selectedIndex",i),this._isWheelScrolled=!1}_itemHeight(){var e=this._$items.first();return je(e)}_toggleActive(e){this.$element().toggleClass(HPe,e)}_isVisible(){return g(this.container()).is(":visible")}_fireSelectedIndexChanged(e,i){this._selectedIndexChanged({value:e,previousValue:i,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass(zPe,e)}_refreshSelectedIndex(){var e=this.option("selectedIndex"),i=this._fitIndex(e);i===e?this._renderActiveStateItem():this.option("selectedIndex",i)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}};Be("dxDateViewRoller",HO);var tX=HO;var RL="dx-dateview",GPe="dx-dateview-compact",UPe="dx-dateview-wrapper",KPe="dx-dateview-rollers",qPe="dx-dateviewroller",iX={date:"date",datetime:"datetime",time:"time"},Ho={year:"year",month:"month",day:"day",hours:"hours"},nX=Cr.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===iX.date?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return y(this.callBase(),{minDate:Mi.MIN_DATEVIEW_DEFAULT_DATE,maxDate:Mi.MAX_DATEVIEW_DEFAULT_DATE,type:iX.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return t.deviceType!=="desktop"},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(RL),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass(RL+"-"+t),e&&this.$element().removeClass(RL+"-"+e)},_toggleCompactClass:function(){this.$element().toggleClass(GPe,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=g("<div>").addClass(UPe),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=g("<div>").addClass(KPe)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;F(t._rollerConfigs,function(e){var i=g("<div>").appendTo(t._$rollersContainer).addClass(qPe+"-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(i,tX,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(n){var r=n.component;r._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],r.option("selectedIndex"))},onEnd:function(n){var r=n.component;r._toggleActive(!1)},onClick:function(n){var r=n.component;r._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],r.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],r.option("selectedIndex")),r._toggleActive(!1)},onSelectedIndexChanged:function(n){var r=n.component;t._setRollerState(t._rollerConfigs[e],r.option("selectedIndex"))}})}),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},ft.getFormatParts(Mi.FORMATS_MAP[t]).forEach(function(i){e._createRollerConfig(i)})},_createRollerConfig:function(t){for(var e=Mi.DATE_COMPONENTS_INFO[t],i=this._calculateRollerConfigValueRange(t),n=i.startValue,r=i.endValue,o=e.formatter,s=this._getCurrentDate(),a={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(d){return d[e.getter]()-n}},l=n;l<=r;l++)a.valueItems.push(l),a.displayItems.push(o(l,s));a.selectedIndex=a.getIndex(s),this._rollerConfigs[t]=a},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];F(this._rollers,function(){this.toggleActiveState(this===e)})},_updateRollersPosition:function(){var t=this;F(this._rollers,function(e){var i=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",i)})},_setRollerState:function(t,e){if(e!==t.selectedIndex){var i=t.valueItems[e],n=t.setValue,r=new Date(this._getCurrentDate()),o=r.getDate(),s=this.option("minDate"),a=this.option("maxDate");t.type===Ho.month?o=Math.min(o,Mi.getMaxMonthDay(r.getFullYear(),i)):t.type===Ho.year&&(o=Math.min(o,Mi.getMaxMonthDay(i,r.getMonth()))),r.setDate(o),r[n](i);var l=ze.normalizeDate(r,s,a);r=Mi.mergeDates(l,r,"time"),r=ze.normalizeDate(r,s,a),this.option("value",r),t.selectedIndex=e}t.type===Ho.year&&this._refreshRollers(),t.type===Ho.month&&(this._refreshRoller(Ho.day),this._refreshRoller(Ho.hours))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var i=this._rollerConfigs[t];(t===Ho.day||i.displayItems.toString()!==e.option("items").toString())&&e.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),i=this.option("maxDate");return ze.normalizeDate(t,e,i)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),i=this.option("minDate"),n=this.option("maxDate"),r=ze.sameYear(e,i),o=r&&e.getMonth()===i.getMonth(),s=ze.sameYear(e,n),a=s&&e.getMonth()===n.getMonth(),l=o&&e.getDate()===i.getDate(),d=a&&e.getDate()===n.getDate(),u=Mi.DATE_COMPONENTS_INFO[t],h=u.startValue,p=u.endValue;return t===Ho.year&&(h=i.getFullYear(),p=n.getFullYear()),t===Ho.month&&(r&&(h=i.getMonth()),s&&(p=n.getMonth())),t===Ho.day&&(p=Mi.getMaxMonthDay(e.getFullYear(),e.getMonth()),r&&o&&(h=i.getDate()),s&&a&&(p=n.getDate())),t===Ho.hours&&(h=l?i.getHours():h,p=d?n.getHours():p),{startValue:h,endValue:p}},_refreshRollers:function(){this._refreshRoller(Ho.month),this._refreshRoller(Ho.day),this._refreshRoller(Ho.hours)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});Be("dxDateView",nX);var rX=nX;var JPe=Le(),YPe=nc.inherit({NAME:"DateView",getDefaultOptions:function(){return y(this.callBase(),{openOnFieldClick:!0,applyButtonText:j.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||Mi.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(e){var i=e.platform;return i==="generic"||i==="ios"},options:{width:"auto",height:"auto"}},{device:function(e){var i=e.platform,n=e.phone;return i==="generic"&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:JPe}}}]}},_renderWidget:function(){if(eh(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=g("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())},_getWidgetName:function(){return rX},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*Mi.ONE_YEAR),onDisposing:(function(){this._widget=null}).bind(this)}}}),oX=YPe;var XPe=nc.inherit({NAME:"Native",popupConfig:function(t){return y({},t,{width:"auto"})},getParsedText:function(t){return t?this.dateBox.option("type")==="datetime"?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):Mi.fromStandardDateFormat(t):null},renderPopupContent:W,_getWidgetName:W,_getWidgetOptions:W,_getDateBoxType:function(){var t=this.dateBox.option("type");return Mi.SUPPORTED_FORMATS.includes(t)?t==="datetime"&&!eh(t)&&(t="datetime-local"):t="date",t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");be.real().android&&t&&t.on("click",(function(){this.dateBox._input().get(0).click()}).bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||Mi.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:Gi.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Gi.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),sX=XPe;var QPe="dx-timeview",ZPe="dx-timeview-clock",eke="dx-timeview-field",tke="dx-timeview-hourarrow",ike="dx-timeview-time-separator",nke="dx-timeview-format12",FL=-1,PL=1,rke="dx-timeview-minutearrow",aX=function(t,e,i){oke(t,e,i)},oke=function(t,e,i){t.css("transform","rotate("+e+"deg) translate(0,"+i+"px)")},lX=Cr.inherit({_getDefaultOptions:function(){return y(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(QPe)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=g("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(t,Ph,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,i){this._$hourArrow=g("<div>").addClass(tke),this._$minuteArrow=g("<div>").addClass(rke);var n=g(i);n.addClass(ZPe).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock:function(){var t=this._getValue(),e=t.getHours()/12*360+t.getMinutes()/60*30,i=t.getMinutes()/60*360;aX(this._$hourArrow,e,this.option("_arrowOffset")),aX(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:g("<div>").addClass(ike).text(ft.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return t&&e.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),e},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent(g("<div>").addClass(eke),Ph,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){var e=this._hourBox=this._createComponent(g("<div>"),nC,y({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:i=>this._keyboardHandler(i)},this._getNumberBoxConfig()));e.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&this._format12.option("value")===1},_onHourBoxValueChanged:function(t){var{value:e,component:i}=t,n=this._getValue(),r=new Date(n),o=this._convertMaxHourToMin(e);i.option("value",o),this._isPM()&&(o+=12),r.setHours(o),Mi.normalizeTime(r),this.option("value",r)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this._minuteBox=this._createComponent(g("<div>"),nC,y({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{var{value:i,component:n}=e,r=(60+i)%60;n.option("value",r);var o=new Date(this._getValue());o.setMinutes(r),Mi.normalizeTime(o),this.option("value",o)}},this._getNumberBoxConfig()));t.setAria("label","minutes")},_createFormat12Box:function(){var t=ft.getPeriodNames(),e=this._format12=this._createComponent(g("<div>").addClass(nke),Bg,{items:[{value:FL,text:t[0]},{value:PL,text:t[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:i=>this._keyboardHandler(i),onValueChanged:i=>{var{value:n}=i,r=this._getValue().getHours(),o=new Date(this._getValue()),s=(r+12*n)%24;o.setHours(s),this.option("value",o)},value:this._getValue().getHours()>=12?PL:FL,stylingMode:this.option("stylingMode")});e.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue(),e=t.getHours(),i=e>=12,n=i?PL:FL;this._silentEditorValueUpdate(this._format12,n)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});Be("dxTimeView",lX);var dX=lX;var ske=Le(),ake=573,lke="dx-datebox-adaptivity-mode",uX="dx-datebox-datetime-time-side",dke=VO.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return y(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return ze.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return ft.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(g("<div>"),dX,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")})},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t.$wrapper().toggleClass(lke,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout((function(){this._getPopup()&&this._getPopup().repaint()}).bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,e!==void 0):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();!e&&!t&&(e=new Date,Mi.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return Ae(ske)<=ake},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent(g("<div>").appendTo(t),Ph,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:(function(e,i,n){var r=g("<div>");switch(e.name){case"calendar":r.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(uX),r.append(this._timeView.$element()));break;case"time":r.append(this._timeView.$element()),g(n).addClass(uX)}return r}).bind(this)})},popupConfig:function(t){var e=this.callBase(t);return y(e,{width:"auto"})},_preventFocusOnPopup:function(t){g(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var e=this._timeView.option("value");return t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t},getValue:function(){var t,e=(t=this._widget.option("value"))!==null&&t!==void 0?t:this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),cX=dke;var uke=Le(),cke="date",hke={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},pke=nc.inherit({NAME:"List",supportedKeys:function(){return{space:W,home:W,end:W}},getDefaultOptions:function(){return y(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},getValue:function(){var t=this._widget.option("selectedIndex");if(t===-1)return this.dateBox.option("value");var e=this._widgetItems[t];return this._getDateByItemData(e)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return As},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);e===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,i=0,n=this._widgetItems.length;i<n;i++)if(this._areDatesEqual(t,this._widgetItems[i])){e=i;break}return e},_areDatesEqual:function(t,e){return Dn(t)&&Dn(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,n=e-t,r=t.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>Mi.ONE_DAY&&(n=Mi.ONE_DAY),i-t<Mi.ONE_DAY?this._getRangeItems(t,new Date(t),n):(t=this._getBoundaryDate("min"),t.setMinutes(r),i&&Math.abs(i-e)<Mi.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-r))*Mi.ONE_MINUTE),this._getRangeItems(t,new Date(t),n)))},_getRangeItems:function(t,e,i){for(var n=[],r=this.dateBox.option("interval");e-t<=i;)n.push(new Date(e)),e.setMinutes(e.getMinutes()+r);return n},_getBoundaryDate:function(t){var e=hke[t],i=new Date(Qt(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return ft.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){if(this.dateBox.option("applyValueMode")!=="useButtons"){var e=this._getDateByItemData(t.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,t.event)}},_getDateByItemData:function(t){var e=this.dateBox.option("value"),i=t.getHours(),n=t.getMinutes(),r=t.getSeconds(),o=t.getFullYear(),s=t.getMonth(),a=t.getDate();return e?(this.dateBox.option("dateSerializationFormat")?e=Gi.deserializeDate(e):e=new Date(e),e.setHours(i),e.setMinutes(n),e.setSeconds(r),e.setFullYear(o),e.setMonth(s),e.setDate(a)):e=new Date(o,s,a,i,n,0,0),e},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=Sg(this.dateBox.option("dropDownOptions.height"));if(t===void 0||t==="auto"){this.dateBox._setPopupOption("height","auto");var e=et(this._widget.$element()),i=.45*je(uke);this.dateBox._setPopupOption("height",Math.min(e,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var i=this.callBase(t,e);return i&&(i=Mi.mergeDates(i,new Date(null),cke)),i}}),hX=pke;var vC=Le(),_C="dx-datebox",fke="dx-auto-width",gke="dx-show-invalid-badge",mke="dx-clear-button-area",zO="dx-datebox-wrapper",vke="dx-dropdowneditor-overlay",Ls={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Bs={date:"date",datetime:"datetime",time:"time"},CC={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},_ke={Calendar:VO,DateView:oX,Native:sX,CalendarWithTime:cX,List:hX},Cke=sO.inherit({_supportedKeys:function(){return y(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return y(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:Ls.calendar,invalidDateMessage:j.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:j.format("validation-range"),applyButtonText:j.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=be.real(),e=t.platform;return e==="ios"||e==="android"},options:{pickerType:Ls.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=y({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t===Ls.list&&(e===Bs.datetime||e===Bs.date)&&(t=Ls.calendar),e===Bs.time&&t===Ls.calendar&&(t=Ls.list),this._pickerType=t,this._setShowDropDownButtonOption()},_setShowDropDownButtonOption(){var t=be.real().platform,e=t==="android"&&Nt.mozilla,i=this._isNativeType(),n=t!=="generic"||!i;i&&e&&(n=!1),this.option({showDropDownButton:n})},_init:function(){this._initStrategy(),this.option(y({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=_ke[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),i=/d|M|Y/g.test(t),n="";return i&&(n+=Bs.date),e&&(n+=Bs.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===Ls.rollers?CC.dateView:e===Ls.native?CC.native:t===Bs.date?CC.calendar:t===Bs.datetime?CC.calendarWithTime:CC.list},_initMarkup:function(){this.$element().addClass(_C),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(fke,!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()},_dimensionChanged:function(){this.callBase(),this._updatePopupHeight()},_updatePopupHeight:function(){if(this._popup){var t,e;(t=(e=this._strategy)._updatePopupHeight)===null||t===void 0||t.call(e)}},_refreshFormatClass:function(){var t=this.$element();F(Bs,function(e,i){t.removeClass(_C+"-"+i)}),t.addClass(_C+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();F(Ls,function(e,i){t.removeClass(_C+"-"+i)}),t.addClass(_C+"-"+this._pickerType)},_formatValidationIcon:function(){if(Ne()){var t=this._input().get(0),e=this.option("rtlEnabled"),i=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),r=parseFloat(vC.getComputedStyle(t).width)-i,o=n.width>r,s=t.style;this.$element().toggleClass(gke,!o&&this.option("_showValidationIcon")),o?(this._storedPadding===void 0&&(this._storedPadding=e?n.leftPadding:n.rightPadding),e?s.paddingLeft=0:s.paddingRight=0):e?s.paddingLeft=this._storedPadding+"px":s.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&this._input().val()===""){var e=this.$element().find("."+mke).get(0);t=parseFloat(vC.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=ft.format(Mi.getLongestDate(t,ft.getMonthNames(),ft.getDayNames()),t),i=this._input(),n=i.get(0),r=YG(i,e),o=this._storedPadding!==void 0,s=o?this._storedPadding:0;r.appendTo(this.$element());var a=parseFloat(vC.getComputedStyle(r.get(0)).width),l=parseFloat(vC.getComputedStyle(n).paddingRight),d=parseFloat(vC.getComputedStyle(n).paddingLeft),u=a+d+l+s;return r.remove(),{width:u,leftPadding:d,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(zO),this._renderPopupWrapper()},_getPopupToolbarItems(){var t,e,i,n=this.callBase();return(t=(e=(i=this._strategy)._getPopupToolbarItems)===null||e===void 0?void 0:e.call(i,n))!==null&&t!==void 0?t:n},_popupConfig:function(){var t=this.callBase();return y(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=y({},Bs,Ls);F(e,(function(i,n){t.removeClass(zO+"-"+n)}).bind(this)),this._popup.$wrapper().addClass(zO+"-"+this.option("type")).addClass(zO+"-"+this._pickerType).addClass(vke)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===Ls.rollers)return!0;var t=be.real().platform,e=this._isNativeType()&&(t==="ios"||t==="android");return e?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),i=Mi.SUBMIT_FORMATS_MAP[this.option("type")],n=e?Gi.serializeDate(t,e):Mi.toStandardDateFormat(t,i);this._getSubmitElement().val(n)},_getDisplayedText:function(t){var e=this.option("mode"),i;if(e==="text"){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));i=ft.format(t,n)}else{var r=this._getFormatByMode(e);r?i=ft.format(t,r):i=Mi.toStandardDateFormat(t,e)}return i},_getFormatByMode:function(t){return eh(t)?null:Mi.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var{text:e,type:i,validationError:n}=this.option(),r=this.dateOption("value");if(e===this._getDisplayedText(r)){this._recallInternalValidation(r,n);return}var o=this._getParsedDate(e),s=r??this._getDateByDefault(),a=Mi.mergeDates(s,o,i),l=o&&i==="time"?a:o;if(this._applyInternalValidation(l).isValid){var d=this._getDisplayedText(a);s&&a&&s.getTime()===a.getTime()&&d!==e?this._renderValue():this.dateValue(a,t)}},_recallInternalValidation(t,e){(!e||e.editorSpecific)&&(this._applyInternalValidation(t),this._applyCustomValidation(t))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(t,e);return i??void 0},_applyInternalValidation(t){var e=this.option("text"),i=!!e&&t!==null,n=!!t&&Dn(t)&&!isNaN(t.getTime()),r=n&&ze.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),o=!i&&!t||r,s="";return n?r||(s=this.option("dateOutOfRangeMessage")):s=this.option("invalidDateMessage"),this._updateInternalValidationState(o,s),{isValid:o,isDate:n}},_updateInternalValidationState(t,e){this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:e}})},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value"),i=e&&e.getTime(),n=t&&t.getTime();return i!==n},_isTextChanged:function(t){var e=this.option("text"),i=t&&this._getDisplayedText(t)||"";return e!==i},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===Bs.time?j.format("dxDateBox-simulatedDataPickerTitleTime"):e===Bs.date||e===Bs.datetime?j.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue();this.dateValue(e,t.event),this.callBase()},_dispose:function(){var t;this.callBase(),(t=this._strategy)===null||t===void 0||t.dispose()},_isNativeType:function(){return this._pickerType===Ls.native},_updatePopupTitle:function(){var t;(t=this._popup)===null||t===void 0||t.option("title",this._getPopupTitle())},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");if(this.option("dateSerializationFormat")&&_t().forceIsoDateParsing)return this.option("dateSerializationFormat");if(It(t))return"number";if(Se(t))return Gi.getDateSerializationFormat(t)},_updateValue:function(t){this.callBase(),this._applyInternalValidation(t??this.dateOption("value"))},dateValue:function(t,e){var i=this._isValueChanged(t);return i&&e&&this._saveValueChangeEvent(e),i||(this._isTextChanged(t)?this._updateValue(t):this.option("text")===""&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(arguments.length===1)return Gi.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return Gi.serializeDate(t,e)},_clearValue:function(){var t=this.option("value");this.callBase(),t===null&&this._applyCustomValidation(null)},clear:function(){var t=this.option("value");this.callBase(),t===null&&this._applyInternalValidation(null)}}),pX=Cke;var Vg="dateBoxMask",rc=1,Hg=-1,xke=pX.inherit({_supportedKeys(t){var e=this.callBase(t),i=r=>{var o=e[qt(r)];return o&&o.apply(this,[r])},n=(r,o)=>this._shouldUseOriginalHandler(r)?i.apply(this,[r]):o.apply(this,[r]);return y({},e,{del:r=>n(r,o=>{this._revertPart(rc),this._isAllSelected()||o.preventDefault()}),backspace:r=>n(r,o=>{this._revertPart(Hg),this._isAllSelected()||o.preventDefault()}),home:r=>n(r,o=>{this._selectFirstPart(),o.preventDefault()}),end:r=>n(r,o=>{this._selectLastPart(),o.preventDefault()}),escape:r=>n(r,o=>{this._revertChanges(o)}),enter:r=>n(r,()=>{this._enterHandler()}),leftArrow:r=>n(r,o=>{this._selectNextPart(Hg),o.preventDefault()}),rightArrow:r=>n(r,o=>{this._selectNextPart(rc),o.preventDefault()}),upArrow:r=>n(r,o=>{this._upDownArrowHandler(rc),o.preventDefault()}),downArrow:r=>n(r,o=>{this._upDownArrowHandler(Hg),o.preventDefault()})})},_shouldUseOriginalHandler(t){var e=this.option("opened")&&t&&["backspace","del"].indexOf(qt(t))===-1;return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue(),n=i-e;this._loadMaskValue(this._initialMaskValue),this._changePartValue(n+t,!0)},_changePartValue(t,e){var i=this._getActivePartProp("pattern")==="a";i?this._toggleAmPm():this._partIncrease(t,e)},_toggleAmPm(){var t=this._getActivePartProp("text"),e=Od.getPeriodNames().indexOf(t),i=1^e;this._setActivePartValue(i)},_getDefaultOptions(){return y(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(t){var{originalEvent:e,alt:i}=t,n=e.data||e.key;return typeof n=="string"&&n.length===1&&!i&&!Wi(e)},_isSingleDigitKey(t){var e,i=(e=t.originalEvent)===null||e===void 0?void 0:e.data;return i?.length===1&&parseInt(i,10)},_useBeforeInputEvent:function(){return be.real().android},_keyInputHandler(t,e){var i=this._input().val();this._processInputKey(e),t.preventDefault();var n=i!==this._input().val();n&&S.trigger(this._input(),"input")},_keyboardHandler(t){var e=t.originalEvent.key,i=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(Nt.chrome&&t.key==="Process"&&t.code.indexOf("Digit")===0?(e=t.code.replace("Digit",""),this._processInputKey(e),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(t)&&this._keyInputHandler(t.originalEvent,e)),i},_maskBeforeInputHandler(t){this._maskInputHandler=null;var{inputType:e}=t.originalEvent;e==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var i=e==="deleteContentBackward",n=e==="deleteContentForward";if(i||n){var r=i?Hg:rc;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(r)}}if(!(!this._useMaskBehavior()||!this._isSingleCharKey(t))){var o=t.originalEvent.data;return this._keyInputHandler(t,o),!0}},_keyPressHandler(t){var{originalEvent:e}=t;e?.inputType==="insertCompositionText"&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=Se(t)&&!ft._getPatternByFormat(t);return e?this._formatPattern=t:this._formatPattern=fO(function(i){return ft.format(i,t)}),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var t=this.option("type")==="time"?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached(t){var e=String(t).length,i=this._getActivePartProp("pattern").length,n=i===1,r=n?e:Math.min(i,e),o=this._searchValue.length===r,s=parseInt(this._searchValue+"0")>t;return o||s},_searchNumber(t){var{max:e}=this._getActivePartLimits(),i=String(e).length;this._searchValue=(this._searchValue+t).substr(-i),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(rc)},_searchString(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+t.toLowerCase(),n=e.max-e.min,r=0;r<=n;r++)if(this._loadMaskValue(this._initialMaskValue),this._changePartValue(r+1),this._getActivePartProp("text").toLowerCase().indexOf(i)===0){this._searchValue=i;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&this.option("mode")==="text"},_prepareRegExpInfo(){this._regExpInfo=iN(this._getFormatPattern(),ft);var t=this._regExpInfo.regexp,e=t.source,i=t.flags,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),r=e.split(n).map(o=>n.test(o)?o:ei.convertDigits(o,!1)).join("");this._regExpInfo.regexp=new RegExp(r,i)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=qY(t,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){S.off(this._input(),"."+Vg)},_attachMaskEvents(){S.on(this._input(),ne("dxclick",Vg),this._maskClickHandler.bind(this)),S.on(this._input(),ne("paste",Vg),this._maskPasteHandler.bind(this)),S.on(this._input(),ne("drop",Vg),()=>{this._renderSelectedPart()}),S.on(this._input(),ne("compositionend",Vg),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&S.on(this._input(),ne("beforeinput",Vg),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(Hg))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(rc))},_onMouseWheel(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?rc:Hg,t)},_selectNextPart(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(!this.option("text")||this._disposed)){t&&(this._initialMaskValue=new Date(this._maskValue));var e=ln(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var i=e===0&&t<0||e===this._dateParts.length-1&&t>0;if(i)e=this._activePartIndex;else{this._selectNextPart(t>=0?t+1:t-1);return}}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"},_getActivePartLimits(t){var e=this._getActivePartProp("limits");return e(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return ce(e)?e(t):t[e]()},_addLeadingZeroes(t){var e=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),n=String(i.max).length;return((e&&e[0]||"")+String(t)).substr(-n)},_setActivePartValue(t,e){e=e||this._maskValue;var i=this._getActivePartProp("setter"),n=this._getActivePartLimits();t=No(t,n.min,n.max)?t:t%10,t=this._addLeadingZeroes(ln(t,n.min,n.max)),ce(i)?i(e,t):e[i](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp(t){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][t]},_loadMaskValue(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue(){var t=this._maskValue&&new Date(this._maskValue);t&&this.option("type")==="date"&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease(t,e){this._setNewDateIfEmpty();var{max:i,min:n}=this._getActivePartLimits(e),r=t+this._getActivePartValue();r>i?r=this._applyLimits(r,{limitBase:n,limitClosest:i,max:i}):r<n&&(r=this._applyLimits(r,{limitBase:i,limitClosest:n,max:i})),this._setActivePartValue(r)},_applyLimits(t,e){var{limitBase:i,limitClosest:n,max:r}=e,o=(t-n)%r;return o?i+o-1*ua(o):n},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=JY(this._dateParts,this._caret().start),this._isAllSelected()||(O(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(t){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),Dv(t)),i=ft.parse(e,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:t=>Dn(t)&&!isNaN(t),_isValueDirty(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&S.trigger(this._input(),"change")},_enterHandler(){this._fireChangeEvent(),this._selectNextPart(rc)},_focusOutHandler(t){var e=this._useMaskBehavior()&&!t.isDefaultPrevented();e?(this._fireChangeEvent(),this.callBase(t),this._selectFirstPart(t)):this.callBase(t)},_valueChangeEventHandler(t){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),e?this._maskValue===null&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},clear(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}}),fX=xke;Be("dxDateBox",fX);var{isWrapped:yke}=En,bke="checkbox-size",Dke="dx-editor-inline-block",Oke=function(){var t=function(u,h){return y(u,{readOnly:h.readOnly,placeholder:h.placeholder,inputAttr:{id:h.id,"aria-labelledby":h["aria-labelledby"]},tabIndex:h.tabIndex},h.editorOptions)},e=function(){return Nt.mozilla||be.real().ios},i=function(u){var h={},p=e(),m=u.sharedData||h;return t({placeholder:u.placeholder,width:u.width,value:u.value,onValueChanged:function(c){var x=u.parentType==="filterRow"||u.parentType==="searchPanel",D=c.event&&(c.event.type==="input"||c.event.type==="keyup"),T=function(N,G){u&&u.setValue(N.value,G)};clearTimeout(h.valueChangeTimeout),D&&x?m.valueChangeTimeout=h.valueChangeTimeout=setTimeout(function(){T(c,h.valueChangeTimeout!==m.valueChangeTimeout)},O(u.updateValueTimeout)?u.updateValueTimeout:0):T(c)},onKeyDown:function(c){p&&qt(c.event)==="enter"&&S.trigger(g(c.component._input()),"change")},valueChangeEvent:"change"+(u.parentType==="filterRow"?" keyup input":"")},u)},n=function(u){u.editorName="dxDateBox",u.editorOptions=t({value:u.value,onValueChanged:function(h){u.setValue(h.value)},onKeyDown:function(h){var{component:p,event:m}=h,c=p.option("useMaskBehavior");(e()||c)&&qt(m)==="enter"&&(p.blur(),p.focus())},displayFormat:u.format,type:u.dataType,dateSerializationFormat:null,width:u.parentType==="filterBuilder"?void 0:"auto"},u)},r=function(u){var h=i(u),p=u.parentType==="searchPanel";u.editorType&&u.editorType!=="dxTextBox"?h.value=u.value:h.value=(m=u.value,O(m)?m.toString():"");var m;h.valueChangeEvent+=p?" keyup input search":"",h.mode=h.mode||(p?"search":"text"),u.editorName="dxTextBox",u.editorOptions=h},o=function(u){var h=i(u);h.value=O(u.value)?u.value:null,u.editorName="dxNumberBox",u.editorOptions=h};function s(u){var h=u.lookup,p,m,c,x=u.parentType==="filterRow";if(h){var D;p=Tt(h.displayExpr),m=h.dataSource,ce(m)&&!yke(m)&&(m=m(u.row||{}),function(N){if(N.row&&N.row.watch&&N.parentType==="dataRow"){var G=N.editorOptions||{};N.editorOptions=G;var U,re=G.onInitialized;G.onInitialized=function(fe){re&&re.apply(this,arguments),U=fe.component,U.on("disposing",Oe)};var _,Oe=N.row.watch(()=>(_=N.lookup.dataSource(N.row),_&&_.filter),()=>{U.option("dataSource",_)},fe=>{N.row=fe})}}(u)),(ke(m)||Array.isArray(m))&&(m=Ms(m),x&&(c=m.postProcess,m.postProcess=function(N){return this.pageIndex()===0&&(N=N.slice(0),N.unshift(null)),c?c.call(this,N):N}));var T=!!(h.allowClearing&&!x);u.editorName=(D=u.editorType)!==null&&D!==void 0?D:"dxSelectBox",u.editorOptions=t({searchEnabled:!0,value:u.value,valueExpr:u.lookup.valueExpr,searchExpr:u.lookup.searchExpr||u.lookup.displayExpr,allowClearing:T,showClearButton:T,displayExpr:function(N){return N===null?u.showAllText:p(N)},dataSource:m,onValueChanged:function(N){var G=[N.value];!x&&G.push(N.component.option("text")),u.setValue.apply(this,G)}},u)}}function a(u){u.editorName="dxCheckBox",u.editorOptions=t({elementAttr:{id:u.id},value:O(u.value)?u.value:void 0,hoverStateEnabled:!u.readOnly,focusStateEnabled:!u.readOnly,activeStateEnabled:!1,onValueChanged:function(h){u.setValue&&u.setValue(h.value,h)}},u)}var l=u=>{u.editorName=u.editorType,u.editorOptions=t({value:u.value,onValueChanged:function(h){u.setValue(h.value)}},u)},d=u=>{var h={dxDateBox:n,dxCheckBox:a,dxNumberBox:o,dxTextBox:r};if(u.lookup)s(u);else if(u.editorType){var p;((p=h[u.editorType])!==null&&p!==void 0?p:l)(u)}else switch(u.dataType){case"date":case"datetime":n(u);break;case"boolean":(function(m){m.parentType==="filterRow"||m.parentType==="filterBuilder"?s(y(m,{lookup:{displayExpr:function(c){if(c===!0)return m.trueText||"true";if(c===!1)return m.falseText||"false"},dataSource:[!0,!1]}})):a(m)})(u);break;case"number":o(u);break;default:r(u)}};return{createEditor:function(u,h){h.cancel=!1,h.editorElement=Pe(u),O(h.tabIndex)||(h.tabIndex=this.option("tabIndex")),d(h),this.executeAction("onEditorPreparing",h),!h.cancel&&(h.parentType==="dataRow"&&!h.isOnForm&&!O(h.editorOptions.showValidationMark)&&(h.editorOptions.showValidationMark=!1),function(p,m){var c=g(m.editorElement);if(m.editorName&&m.editorOptions&&c[m.editorName]){if((m.editorName==="dxCheckBox"||m.editorName==="dxSwitch")&&(m.isOnForm||(c.addClass(p.addWidgetPrefix(bke)),c.parent().addClass(Dke))),p._createComponent(c,m.editorName,m.editorOptions),m.editorName==="dxDateBox"){var x=c.dxDateBox("instance"),D=x._supportedKeys().enter;x.registerKeyHandler("enter",T=>(x.option("opened")&&D(T),!0))}m.editorName==="dxTextArea"&&c.dxTextArea("instance").registerKeyHandler("enter",function(T){qt(T)==="enter"&&!T.ctrlKey&&!T.shiftKey&&T.stopPropagation()})}}(this,h),this.executeAction("onEditorPrepared",h))}}}(),WO=Oke;var Eke="dx-editor-inline-block",kL="dx-cell-focus-disabled",Ske="dx-cell-modified",wke="invalid",Ike="dx-focused-cell-modified",Tke="dx-focused-cell-invalid",gX="focus-overlay",Mke="content",NL="dx-focused",Ake="dx-row",vX="dxDataGridEditorFactory",mX=ne([nt.down,"focusin",lt].join(" "),vX),LL="dx-hidden",Rke=Mt.ViewController.inherit(WO),BL=class extends Rke{_getFocusedElement(e){var i=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",n="td[tabindex]:focus, ".concat(i,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus, .dx-adaptive-item-text:focus"),r=e.find(n);return this.elementIsInsideGrid(r)&&r}_getFocusCellSelector(){return".dx-row > td"}_updateFocusCore(){var e=this.component&&this.component.$element();if(e){var i=this._getFocusedElement(e);if(i&&i.length){var n;if(!i.hasClass(kL)&&!i.hasClass(Ake)){var r=i.closest("".concat(this._getFocusCellSelector(),", .").concat(kL));r.get(0)!==i.get(0)&&(n=this._needHideBorder(r),i=r)}if(i.length&&!i.hasClass(kL)){this.focus(i,n);return}}}this.loseFocus()}_needHideBorder(e){return e.hasClass(Eke)}_updateFocus(e){var i=this,n=e&&e.event&&g(e.event.target).hasClass(i.addWidgetPrefix(gX));i._isFocusOverlay=i._isFocusOverlay||n,clearTimeout(i._updateFocusTimeoutID),i._updateFocusTimeoutID=setTimeout(()=>{delete i._updateFocusTimeoutID,i._isFocusOverlay||i._updateFocusCore(),i._isFocusOverlay=!1})}_updateFocusOverlaySize(e,i){e.hide();var n=en.calculate(e,y({collision:"fit"},i));n.h.oversize>0&&eM(e,it(e)-n.h.oversize),n.v.oversize>0&&tM(e,et(e)-n.v.oversize),e.show()}callbackNames(){return["focused"]}focus(e,i){var n=this;if(e===void 0)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass(NL),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout(()=>{delete n._focusTimeoutID,n.renderFocusOverlay(e,i),e.addClass(NL),n.focused.fire(e)}))}refocus(){var e=this.focus();this.focus(e)}renderFocusOverlay(e,i){if(he.isElementInCurrentGrid(this,e)){if(this._$focusOverlay||(this._$focusOverlay=g("<div>").addClass(this.addWidgetPrefix(gX))),i)this._$focusOverlay.addClass(LL);else if(e.length){var n=Nt.mozilla?"right bottom":"left top",r=e.closest(".".concat(this.addWidgetPrefix(Mke))),o=Jt(e.get(0)),s=e.hasClass(this.addWidgetPrefix(wke)),a=e.hasClass(Ske)&&!s;this._$focusOverlay.removeClass(LL).toggleClass(Tke,s).toggleClass(Ike,a).appendTo(r),tM(this._$focusOverlay,o.bottom-o.top+1),eM(this._$focusOverlay,o.right-o.left+1);var l={precise:!0,my:n,at:n,of:e,boundary:r.length&&r};this._updateFocusOverlaySize(this._$focusOverlay,l),en.setup(this._$focusOverlay,l),this._$focusOverlay.css("visibility","visible")}}}resize(){var e=this._$focusedElement;e&&this.focus(e)}loseFocus(){this._$focusedElement&&this._$focusedElement.removeClass(NL),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(LL)}init(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),S.on(this._subscribedContainerRoot,mX,this._updateFocusHandler),this._attachContainerEventHandlers()}_getContainerRoot(){var e,i=(e=this.component)===null||e===void 0?void 0:e.$element(),n=ie.getRootNode(i?.get(0));return n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!n.host?ie.getDocument():n}_attachContainerEventHandlers(){var e=this,i=e.component&&e.component.$element();i&&S.on(i,ne("keydown",vX),n=>{qt(n)==="tab"&&e._updateFocusHandler(n)})}dispose(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),S.off(this._subscribedContainerRoot,mX,this._updateFocusHandler)}},_X={defaultOptions:()=>({}),controllers:{editorFactory:BL}};Ie.registerModule("editorFactory",_X);var jO=Le(),Fke={text:"OK",onClick:function(){return!0}},Hh="dx-dialog",Pke="".concat(Hh,"-wrapper"),kke="".concat(Hh,"-root"),Nke="".concat(Hh,"-content"),Lke="".concat(Hh,"-message"),Bke="".concat(Hh,"-buttons"),Vke="".concat(Hh,"-button"),CX="dx-button",Hke=()=>Ui()?{stylingMode:"contained",type:"default"}:{},zke=()=>Ui()?{stylingMode:"outlined",type:"default"}:{},Wke=function(t){var e,i=new H;t=t||{};var n=g("<div>").addClass(Hh).appendTo(qr()),r="message"in t,o="messageHtml"in t;r&&Ke.log("W1013");var s=String(o?t.messageHtml:t.message),a=t.title?null:new kt,l=g("<div>").addClass(Lke).html(s).attr("id",a),d=[],u=new Xn(n,y({title:(e=t.title)!==null&&e!==void 0?e:"",showTitle:Qt(t.showTitle,!0),dragEnabled:Qt(t.dragEnabled,!0),height:"auto",width:t.width,showCloseButton:t.showCloseButton||!1,ignoreChildEvents:!1,container:n,visualContainer:jO,dragAndResizeArea:jO,onContentReady:function(m){m.component.$content().addClass(Nke).append(l),a&&m.component.$overlayContent().attr("aria-labelledby",a)},onShowing:function(m){m.component.bottomToolbar().addClass(Bke).find(".".concat(CX)).addClass(Vke),ys()},onShown:function(m){var c=m.component.bottomToolbar().find(".".concat(CX)).first();S.trigger(c,"focus")},onHiding:function(){i.reject()},onHidden:function(m){var{element:c}=m;g(c).remove()},animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:_t().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},t.popupOptions)),h=t.buttons||[Fke];h.forEach(m=>{var c=new pa(m.onClick,{context:u});d.push({toolbar:"bottom",location:be.current().android?"after":"center",widget:"dxButton",options:te({},m,{onClick:function(){var x=c.execute(...arguments);p(x)}})})}),u.option("toolbarItems",d),u.$wrapper().addClass(Pke),t.position&&u.option("position",t.position),u.$wrapper().addClass(kke);function p(m){i.resolve(m),u.hide()}return{show:function(){if(be.real().deviceType==="phone"){var m=je(jO)>Ae(jO),c=m?"90%":"60%";u.option({width:c})}return u.show(),i.promise()},hide:p}};var xX=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=Ve(t)?t:{title:e,messageHtml:t,showTitle:i,buttons:[te({text:j.format("Yes"),onClick:function(){return!0}},Hke()),te({text:j.format("No"),onClick:function(){return!1}},zke())],dragEnabled:i};return Wke(n).show()};var oc="dx-editor-cell",Da="dx-row",yX="dx-cell-modified",VL="dx-selection",zh="edit-form",Vs="insert",Oa="remove",zg="editing.popup",$O="editing.form",Hr="editing.editRowKey",Md="editing.editColumnName",GO="targetComponent",xC="input:not([type='hidden'])",Wg="[tabindex]:not([disabled]), ".concat(xC,":not([disabled])"),Ad="batch",Hs="row",sc="cell",ac="form",UO="popup",HL="first",yC="last",zL="pageBottom",KO="pageTop",WL="viewportBottom",jL="viewportTop",bX=[Ad,Hs,sc,ac,UO],DX=[Hs,ac,UO],OX=[Ad,sc],EX=[Ad,Hs,sc],SX=[Hs,ac],wX="readonly",IX="dx-link",TX="dx-link-icon",MX="dx-selection",AX="dx-edit-button",$L="dx-command-edit",GL="".concat($L,"-with-icons"),Rd="__DX_INSERT_INDEX__",RX="dx-row-inserted",FX="dx-row-modified",UL="dx-cell-modified",PX="dxDataGridEditing",kX="dx-cell-focus-disabled",jg="update",NX="click",LX={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},BX={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},VX={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},HX={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},zX=["edit","save","cancel","delete","undelete"],Dl="editing.changes",WX="focus-overlay",jX="addrow-button",$X="dx-dropdowneditor-overlay",GX="dx-data-row",UX="dx-row-removed",jke=!!Or.IS_RENOVATED_WIDGET,KL="edit-form-item",KX="edit-popup",qX="edit-popup-form",JX=jke?"dx-scrollable":"dx-scrollable-container",YX="dx-button",XX="form-buttons-container",qL="dx-edit-row";var JL="_DX_KEY_",$ke=36,$g=function(t){return function(e){var i=e instanceof Error?e:new Error(e&&String(e)||"Unknown error");t.reject(i)}},YL=function(t,e){return e.isEditing||t&&e.column.allowEditing},XL=function(t,e){var i=!!e.column.command,n=YL(t,e),r=!i&&(n||e.column.showEditorAlways);return e.rowType==="data"&&r},QX=t=>{var e=t.component.option("editing.texts")||{};return{save:e.saveRowChanges,cancel:e.cancelRowChanges,edit:e.editRow,undelete:e.undeleteRow,delete:e.deleteRow,add:e.addRowToNode}},ZX=()=>"".concat(JL).concat(new kt),eQ=t=>typeof t=="string"&&t.startsWith(JL)&&t.length===JL.length+$ke,Wh=(t,e)=>{var i=-1;return t.some((n,r)=>{if(QL(n)===e)return i=r,!0}),i};function QL(t){return ke(t)?t.name:t}function tQ(t){return t&&(t.is("input")||t.is("textarea"))}var iQ=t=>{var e,{column:i}=t;return t.isCustomEditorType?t.editorType:(e=i.formItem)===null||e===void 0?void 0:e.editorType},ZL=(t,e)=>{t.forEach(i=>{i.items||i.tabs?ZL(i.items||i.tabs,e):e(i)})};var eB=class extends Mt.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._rowsView=this.getView("rowsView"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(e=>{e.reject("cancel")}),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[Hr]=!0,this.component._optionsByReference[Dl]=!0}getEditMode(){var e,i=(e=this.option("editing.mode"))!==null&&e!==void 0?e:Hs;return bX.includes(i)?i:Hs}isCellBasedEditMode(){var e=this.getEditMode();return OX.includes(e)}_getDefaultEditorTemplate(){return(e,i)=>{var n=g("<div>").appendTo(e),r=y({},i.column,{value:i.value,setValue:i.setValue,row:i.row,parentType:"dataRow",width:null,readOnly:!i.setValue,isOnForm:i.isOnForm,id:i.id}),o=EX.includes(this.getEditMode());o&&(r["aria-labelledby"]=i.column.headerId),this.getController("editorFactory").createEditor(n,r)}}_getNewRowPosition(){var e=this.option("editing.newRowPosition"),i=this.option("scrolling.mode");if(i==="virtual")switch(e){case KO:return jL;case zL:return WL;default:return e}return e}getChanges(){return this.option(Dl)}getInsertRowCount(){var e=this.option(Dl);return e.filter(i=>i.type==="insert").length}resetChanges(){var e=this.getChanges(),i=e?.length;i&&this._silentOption(Dl,[])}_getInternalData(e){return this._internalState.filter(i=>Rt(i.key,e))[0]}_addInternalData(e){var i=this._getInternalData(e.key);return i?y(i,e):(this._internalState.push(e),e)}_getOldData(e){var i;return(i=this._getInternalData(e))===null||i===void 0?void 0:i.oldData}getUpdatedData(e){var i=this._dataController.keyOf(e),n=this.getChanges(),r=he.getIndexByKey(i,n);return n[r]?Ca(e,n[r].data):e}getInsertedData(){return this.getChanges().filter(e=>e.data&&e.type===Vs).map(e=>e.data)}getRemovedData(){return this.getChanges().filter(e=>this._getOldData(e.key)&&e.type===Oa).map(e=>this._getOldData(e.key))}_fireDataErrorOccurred(e){if(e!=="cancel"){var i=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,i)}}_needToCloseEditableCell(e){}_closeEditItem(e){}_handleDataChanged(e){}_isDefaultButtonVisible(e,i){var n=!0;switch(e.name){case"delete":n=this.allowDeleting(i);break;case"undelete":n=!1}return n}_isButtonVisible(e,i){var{visible:n}=e;return O(n)?ce(n)?n.call(e,{component:i.component,row:i.row,column:i.column}):n:this._isDefaultButtonVisible(e,i)}_isButtonDisabled(e,i){var{disabled:n}=e;return ce(n)?n.call(e,{component:i.component,row:i.row,column:i.column}):!!n}_getButtonConfig(e,i){var n=ke(e)?e:{},r=QL(e),o=QX(i),s=VX[r],a=this.option("editing"),l=HX[r],d=l?a[l]:!0;return y({name:r,text:o[r],cssClass:LX[r]},{onClick:s&&(u=>{var{event:h}=u;h.stopPropagation(),h.preventDefault(),setTimeout(()=>{i.row&&d&&this[s]&&this[s](i.row.rowIndex)})})},n)}_getEditingButtons(e){var i,n=!!e.column.buttons,r=(e.column.buttons||[]).slice();return n?(i=Wh(r,"edit"),i>=0&&(Wh(r,"save")<0&&r.splice(i+1,0,"save"),Wh(r,"cancel")<0&&r.splice(Wh(r,"save")+1,0,"cancel")),i=Wh(r,"delete"),i>=0&&Wh(r,"undelete")<0&&r.splice(i+1,0,"undelete")):r=zX.slice(),r.map(o=>this._getButtonConfig(o,e))}_renderEditingButtons(e,i,n,r){i.forEach(o=>{this._isButtonVisible(o,n)&&this._createButton(e,o,n,r)})}_getEditCommandCellTemplate(){return(e,i,n)=>{var r=g(e);if(i.rowType==="data"){var o=this._getEditingButtons(i);if(this._renderEditingButtons(r,o,i,n),i.watch){var s=i.watch(()=>o.map(a=>({visible:this._isButtonVisible(a,i),disabled:this._isButtonDisabled(a,i)})),()=>{r.empty(),this._renderEditingButtons(r,o,i)});S.on(r,xn,s)}}else he.setEmptyText(r)}}isRowBasedEditMode(){var e=this.getEditMode();return DX.includes(e)}getFirstEditableColumnIndex(){var e=this.getController("columns"),i,n=e.getVisibleColumns();return F(n,(r,o)=>{if(o.allowEditing)return i=r,!1}),i}getFirstEditableCellInRow(e){var i=this.getView("rowsView"),n=this.getFirstEditableColumnIndex();return i?._getCellElement(e||0,n)}getFocusedCellInRow(e){return this.getFirstEditableCellInRow(e)}getIndexByKey(e,i){return he.getIndexByKey(e,i)}hasChanges(e){for(var i=this.getChanges(),n=!1,r=0;r<i?.length;r++)if(i[r].type&&(!O(e)||this._dataController.getRowIndexByKey(i[r].key)===e)){n=!0;break}return n}dispose(){super.dispose(),clearTimeout(this._inputFocusTimeoutID),S.off(ie.getDocument(),nt.up,this._pointerUpEditorHandler),S.off(ie.getDocument(),nt.down,this._pointerDownEditorHandler),S.off(ie.getDocument(),lt,this._saveEditorHandler)}_silentOption(e,i){e==="editing.changes"&&(this._changes=Gr([],i)),super._silentOption(e,i)}optionChanged(e){if(e.name==="editing"){var{fullName:i}=e;if(i===Hr)this._handleEditRowKeyChange(e);else if(i===Dl){var n=Rt(e.value,this._changes,{maxDepth:4});n||(this._changes=Gr([],e.value),this._handleChangesChange(e))}else e.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey());e.handled=!0}else super.optionChanged(e)}_handleEditRowKeyChange(e){var i=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),r=this._dataController.getRowIndexByKey(e.previousValue)+n;O(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(i,r):this.cancelEditData()}_handleChangesChange(e){var i=this._dataController,n=e.value;!e.value.length&&!e.previousValue.length||(n.forEach(r=>{var o;if(r.type==="insert")this._addInsertInfo(r);else{var s=i.getCachedStoreData()||((o=i.items())===null||o===void 0?void 0:o.map(l=>l.data)),a=he.getIndexByKey(r.key,s,i.key());this._addInternalData({key:r.key,oldData:s[a]})}}),i.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))}publicMethods(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]}refresh(){O(this._pageIndex)&&this._refreshCore.apply(this,arguments)}_refreshCore(e){}isEditing(){var e=O(this.option(Hr));return e}isEditRow(e){return!1}_setEditRowKey(e,i){i?this._silentOption(Hr,e):this.option(Hr,e),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())}_setEditRowKeyByIndex(e,i){var n=this._dataController.getKeyByRowIndex(e);if(n===void 0){this._dataController.fireError("E1043");return}this._setEditRowKey(n,i)}getEditRowIndex(){return this._getVisibleEditRowIndex()}getEditFormRowIndex(){return-1}isEditRowByIndex(e){var i=this._dataController.getKeyByRowIndex(e),n=O(i)&&Rt(this.option(Hr),i);return n&&this._getVisibleEditRowIndex()===e}isEditCell(e,i){return this.isEditRowByIndex(e)&&this._getVisibleEditColumnIndex()===i}getPopupContent(){}_isProcessedItem(e){return!1}_getInsertRowIndex(e,i,n){var r=-1,o=this._dataController,s=this._getInsertAfterOrBeforeKey(i);return!O(s)&&e.length===0?r=0:O(s)&&e.some((a,l)=>{var d=n||this._isProcessedItem(a);if(ke(a)&&(d||O(a[Rd])?Rt(a.key,s)&&(r=l):Rt(o.keyOf(a),s)&&(r=l)),r>=0){var u=e[r+1];return u&&(u.rowType==="detail"||u.rowType==="detailAdaptive")&&O(i.insertAfterKey)?void 0:(O(i.insertAfterKey)&&(r+=1),!0)}}),r}_generateNewItem(e){var i,n={key:e},r=(i=this._getInternalData(e))===null||i===void 0?void 0:i.insertInfo;return r?.[Rd]&&(n[Rd]=r[Rd]),n}_getLoadedRowIndex(e,i,n){var r=this._getInsertRowIndex(e,i,n),o=this._dataController;if(r<0){var s=this._getNewRowPosition(),a=o.pageIndex(),l=this._getInsertAfterOrBeforeKey(i);s!==yC&&a===0&&!O(l)?r=0:s===yC&&o.isLastPageLoaded()&&(r=e.length)}return r}processItems(e,i){var{changeType:n}=i;this.update(n);var r=this.getChanges();return r.forEach(o=>{var s,a=o.type===Vs;if(a){var{key:l}=o,d=(s=this._getInternalData(l))===null||s===void 0?void 0:s.insertInfo;(!O(l)||!O(d))&&(d=this._addInsertInfo(o),l=d.key);var u=this._getLoadedRowIndex(e,o),h=this._generateNewItem(l);u>=0&&e.splice(u,0,h)}}),e}processDataItem(e,i,n){var r=i.visibleColumns,o=e.data[Rd]?e.data.key:e.key,s=this.getChanges(),a=he.getIndexByKey(o,s);e.isEditing=!1,a>=0&&this._processDataItemCore(e,s[a],o,r,n)}_processDataItemCore(e,i,n,r,o){var{data:s,type:a}=i;switch(a){case Vs:e.isNewRow=!0,e.key=n,e.data=s;break;case jg:e.modified=!0,e.oldData=e.data,e.data=Ca(e.data,s),e.modifiedValues=o(s,r,!0);break;case Oa:e.removed=!0}}_initNewRow(e){if(this.executeAction("onInitNewRow",e),e.promise){var i=new H;return ye(rn(e.promise)).done(i.resolve).fail($g(i)).fail(n=>this._fireDataErrorOccurred(n)),i}}_createInsertInfo(){var e={};return e[Rd]=this._getInsertIndex(),e}_addInsertInfo(e,i){var n,r;e.key=this.getChangeKeyValue(e);var{key:o}=e;if(r=(n=this._getInternalData(o))===null||n===void 0?void 0:n.insertInfo,!O(r)){var s=this._getInsertAfterOrBeforeKey(e);r=this._createInsertInfo(),O(s)||this._setInsertAfterOrBeforeKey(e,i)}return this._addInternalData({insertInfo:r,key:o}),{insertInfo:r,key:o}}getChangeKeyValue(e){if(O(e.key))return e.key;var i=this._dataController.key(),n;return e.data&&i&&!Array.isArray(i)&&(n=e.data[i]),O(n)||(n=ZX()),n}_setInsertAfterOrBeforeKey(e,i){var n=this._dataController,r=n.items(!0),o=this.getView("rowsView"),s=this._getNewRowPosition();switch(s){case HL:case yC:break;case KO:case zL:if(r.length){var a=s===KO?0:r.length-1;e[a===0?"insertBeforeKey":"insertAfterKey"]=r[a].key}break;default:var l=s===WL,d=l?o?.getBottomVisibleItemIndex():o?.getTopVisibleItemIndex(),u=n.getVisibleRows()[d];u&&(!u.isEditing&&u.rowType==="detail"||u.rowType==="detailAdaptive")&&d++;var h=n.getKeyByRowIndex(d);O(h)&&(e.insertBeforeKey=h)}}_getInsertIndex(){var e=0;return this.getChanges().forEach(i=>{var n,r=(n=this._getInternalData(i.key))===null||n===void 0?void 0:n.insertInfo;O(r)&&i.type===Vs&&r[Rd]>e&&(e=r[Rd])}),e+1}_getInsertAfterOrBeforeKey(e){var i;return(i=e.insertAfterKey)!==null&&i!==void 0?i:e.insertBeforeKey}_getPageIndexToInsertRow(){var e=this._getNewRowPosition(),i=this._dataController,n=i.pageIndex(),r=i.pageCount()-1;return e===HL&&n!==0?0:e===yC&&n!==r?r:-1}addRow(e){var i=this._dataController,n=i.store();return n?this._addRow(e):(i.fireError("E1052",this.component.NAME),new H().reject())}_addRow(e){var i=this._dataController,n=i.store(),r=n&&n.key(),o={data:{}},s=this._getVisibleEditRowIndex(),a=new H;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(r||(o.data.__KEY__=String(new kt)),ye(this._initNewRow(o,e)).done(()=>{this._allowRowAdding()?ye(this._addRowCore(o.data,e,s)).done(a.resolve).fail(a.reject):a.reject("cancel")}).fail(a.reject),a.promise()):(ye(this._navigateToNewRow(s)).done(a.resolve).fail(a.reject),a.promise())}_allowRowAdding(e){var i=this._getInsertIndex();return!(i>1)}_addRowCore(e,i,n){var r={data:e,type:Vs},o=this._getVisibleEditRowIndex(),s=this._addInsertInfo(r,i),{key:a}=s;return this._setEditRowKey(a,!0),this._addChange(r),this._navigateToNewRow(n,r,o)}_navigateToNewRow(e,i,n){var r=new H,o=this._dataController,s=this.getController("focus");if(n=n??-1,i=i??this.getChanges().filter(h=>h.type===Vs)[0],!i)return r.reject("cancel").promise();var a=this._getPageIndexToInsertRow(),l=this._getLoadedRowIndex(o.items(),i,!0),d=h=>{ye(s?.navigateToRow(h)).done(()=>{l=o.getRowIndexByKey(i.key),r.resolve()})},u=this._getInsertAfterOrBeforeKey(i);return a>=0?o.pageIndex(a).done(()=>{d(i.key)}).fail(r.reject):l<0&&O(u)?d(u):(o.updateItems({changeType:"update",rowIndices:[e,n,l]}),l=o.getRowIndexByKey(i.key),l<0?d(i.key):r.resolve()),r.done(()=>{var h;(h=this._rowsView)===null||h===void 0||h.waitAsyncTemplates(!0).done(()=>{this._showAddedRow(l),this._afterInsertRow(i.key)})}),r.promise()}_showAddedRow(e){this._focusFirstEditableCellInRow(e)}_beforeFocusElementInRow(e){}_focusFirstEditableCellInRow(e){var i=this._dataController,n=this.getController("keyboardNavigation"),r=i.getKeyByRowIndex(e),o=this.getFirstEditableCellInRow(e);n?.focus(o),this.option("focusedRowKey",r),this._editCellInProgress=!0,this._delayedInputFocus(o,()=>{e=i.getRowIndexByKey(r),this._editCellInProgress=!1,this._beforeFocusElementInRow(e)})}_isEditingStart(e){return this.executeAction("onEditingStart",e),e.cancel}_beforeUpdateItems(e,i){}_getVisibleEditColumnIndex(){var e=this.option(Md);return O(e)?this._columnsController.getVisibleColumnIndex(e):-1}_setEditColumnNameByIndex(e,i){var n,r=this._columnsController.getVisibleColumns();this._setEditColumnName((n=r[e])===null||n===void 0?void 0:n.name,i)}_setEditColumnName(e,i){i?this._silentOption(Md,e):this.option(Md,e)}_resetEditColumnName(){this._setEditColumnName(null,!0)}_getEditColumn(){var e=this.option(Md);return this._getColumnByName(e)}_getColumnByName(e){var i=this._columnsController.getVisibleColumns(),n;return O(e)&&i.some(r=>{if(r.name===e)return n=r,!0}),n}_getVisibleEditRowIndex(e){var i=this._dataController,n=this.option(Hr),r=i.getRowIndexByKey(n);return r===-1?r:r+this._getEditRowIndexCorrection(e)}_getEditRowIndexCorrection(e){var i=e?this._getColumnByName(e):this._getEditColumn(),n=i?.visibleWidth==="adaptiveHidden";return n?1:0}_resetEditRowKey(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)}_resetEditIndices(){this._resetEditColumnName(),this._resetEditRowKey()}editRow(e){var i,n=this._dataController,r=n.items(),o=r[e],s={data:o&&o.data,cancel:!1},a=this._getVisibleEditRowIndex();if(o){if(e===a)return!0;if(o.key===void 0){this._dataController.fireError("E1043");return}o.isNewRow||(s.key=o.key),!this._isEditingStart(s)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=n.pageIndex(),this._addInternalData({key:o.key,oldData:(i=o.oldData)!==null&&i!==void 0?i:o.data}),this._setEditRowKey(o.key))}}_editRowFromOptionChanged(e,i){var n=[i,e];this._beforeUpdateItems(n,e,i),this._editRowFromOptionChangedCore(n,e)}_editRowFromOptionChangedCore(e,i,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:e,cancel:n})}_focusEditorIfNeed(){}_showEditPopup(e,i){}_repaintEditPopup(){}_getEditPopupHiddenHandler(){return e=>{this.isEditing()&&this.cancelEditData()}}_getPopupEditFormTemplate(e){}_getSaveButtonConfig(){var e={text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)};return Ui(an())&&(e.stylingMode="contained",e.type="default"),e}_getCancelButtonConfig(){var e={text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)};return Ui(an())&&(e.stylingMode="outlined"),e}_removeInternalData(e){var i=this._getInternalData(e),n=this._internalState.indexOf(i);n>-1&&this._internalState.splice(n,1)}_updateInsertAfterOrBeforeKeys(e,i){var n=e[i];e.forEach(r=>{var o=this._getInsertAfterOrBeforeKey(r);Rt(o,n.key)&&(r[O(r.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(n))})}_removeChange(e){if(e>=0){var i=[...this.getChanges()],{key:n}=i[e];this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(i,e),i.splice(e,1),this._silentOption(Dl,i),Rt(this.option(Hr),n)&&this._resetEditIndices()}}executeOperation(e,i){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done(()=>{e.state()!=="rejected"&&(i(),this._lastOperation=null)}).fail(()=>{e.reject(),this._lastOperation=null})}waitForDeferredOperations(){return ye(...this._deferreds)}_processCanceledEditingCell(){}_repaintEditCell(e,i,n){!e||!e.showEditorAlways||i&&!i.showEditorAlways?(this._editCellInProgress=!0,this._needFocusEditor=!0,this.getController("editorFactory").loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):e!==i&&(this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:[]}))}_delayedInputFocus(e,i,n){var r=()=>{if(i&&i(),e){var o=e.find(Wg).first();he.focusAndSelectElement(this,o)}this._beforeFocusCallback=null};be.real().ios||be.real().android?r():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=i),this._inputFocusTimeoutID=setTimeout(r))}_focusEditingCell(e,i,n){var r=this.getView("rowsView"),o=this._getVisibleEditColumnIndex();i=i||r&&r._getCellElement(this._getVisibleEditRowIndex(),o),i&&this._delayedInputFocus(i,e,n)}deleteRow(e){this._checkAndDeleteRow(e)}_checkAndDeleteRow(e){var i=this.option("editing"),n=i?.texts,r=i?.confirmDelete,o=n?.confirmDeleteMessage,s=this._dataController.items()[e],a=!this.isEditing()||s.isNewRow;if(s&&a)if(!r||!o)this._deleteRowCore(e);else{var l=n&&n.confirmDeleteTitle,d=O(l)&&l.length>0;xX(o,l,d).done(u=>{u&&this._deleteRowCore(e)})}}_deleteRowCore(e){var i=this._dataController,n=i.items()[e],r=n&&n.key,o=this._getVisibleEditRowIndex();this.refresh();var s=this.getChanges(),a=he.getIndexByKey(r,s);return a>=0?s[a].type===Vs?this._removeChange(a):this._addChange({key:r,type:Oa}):this._addChange({key:r,oldData:n.data,type:Oa}),this._afterDeleteRow(e,o)}_afterDeleteRow(e,i){return this.saveEditData()}undeleteRow(e){var i=this._dataController,n=i.items()[e],r=this._getVisibleEditRowIndex(),o=n&&n.key,s=this.getChanges();if(n){var a=he.getIndexByKey(o,s);if(a>=0){var{data:l}=s[a];Zi(l)?this._removeChange(a):this._addChange({key:o,type:jg}),i.updateItems({changeType:"update",rowIndices:[r,e]})}}}_fireOnSaving(){var e={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",e);var i=new H;return ye(rn(e.promise)).done(()=>{i.resolve(e)}).fail(n=>{$g(i),this._fireDataErrorOccurred(n),i.resolve({cancel:!0})}),i}_executeEditingAction(e,i,n){if(this.component._disposed)return null;var r=new H;return this.executeAction(e,i),ye(rn(i.cancel)).done(o=>{o?setTimeout(()=>{r.resolve("cancel")}):n(i).done(r.resolve).fail($g(r))}).fail($g(r)),r}_processChanges(e,i,n,r){var o=this._dataController.store();F(r,(s,a)=>{var l=this._getOldData(a.key),{data:d,type:u}=a,h=te({},a),p,m;if(!this._beforeSaveEditData(a,s)){switch(u){case Oa:m={data:l,key:a.key,cancel:!1},p=this._executeEditingAction("onRowRemoving",m,()=>o.remove(a.key).done(x=>{n.push({type:"remove",key:x})}));break;case Vs:m={data:d,cancel:!1},p=this._executeEditingAction("onRowInserting",m,()=>o.insert(m.data).done((x,D)=>{O(D)&&(h.key=D),x&&ke(x)&&x!==m.data&&(h.data=x),n.push({type:"insert",data:x,index:0})}));break;case jg:m={newData:d,oldData:l,key:a.key,cancel:!1},p=this._executeEditingAction("onRowUpdating",m,()=>o.update(a.key,m.newData).done((x,D)=>{x&&ke(x)&&x!==m.newData&&(h.data=x),n.push({type:"update",key:D,data:x})}))}if(r[s]=h,p){var c=new H;p.always(x=>{i.push({key:a.key,result:x})}).always(c.resolve),e.push(c.promise())}}})}_processRemoveIfError(e,i){var n=e[i];return n?.type===Oa&&i>=0&&e.splice(i,1),!0}_processRemove(e,i,n){var r=e[i];if(!n||!r||r.type===Oa)return this._processRemoveCore(e,i,!n||!r)}_processRemoveCore(e,i,n){return i>=0&&e.splice(i,1),!0}_processSaveEditDataResult(e){for(var i=!1,n=[...this.getChanges()],r=n.length,o=0;o<e.length;o++){var s=e[o].result,a=s==="cancel",l=he.getIndexByKey(e[o].key,n),d=n[l],u=s&&s instanceof Error;if(u){if(d&&this._addInternalData({key:d.key,error:s}),this._fireDataErrorOccurred(s),this._processRemoveIfError(n,l))break}else this._processRemove(n,l,a)&&(i=!a)}return n.length<r&&this._silentOption(Dl,n),i}_fireSaveEditDataEvents(e){F(e,(i,n)=>{var{data:r,key:o,type:s}=n,a=this._addInternalData({key:o}),l={key:o,data:r};switch(a.error&&(l.error=a.error),s){case Oa:this.executeAction("onRowRemoved",y({},l,{data:a.oldData}));break;case Vs:this.executeAction("onRowInserted",l);break;case jg:this.executeAction("onRowUpdated",l)}}),this.executeAction("onSaved",{changes:e})}saveEditData(){var e=new H;return this.waitForDeferredOperations().done(()=>{if(this.isSaving()){this._resolveAfterSave(e);return}ye(this._beforeSaveEditData()).done(i=>{if(i){this._resolveAfterSave(e,{cancel:i});return}this._saving=!0,this._saveEditDataInner().always(()=>{this._saving=!1,this._refocusEditCell&&this._focusEditingCell()}).done(e.resolve).fail(e.reject)}).fail(e.reject)}).fail(e.reject),e.promise()}_resolveAfterSave(e){var{cancel:i,error:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ye(this._afterSaveEditData(i)).done(()=>{e.resolve(n)}).fail(e.reject)}_saveEditDataInner(){var e=new H,i=[],n=[],r=[],o=this._dataController.dataSource();return ye(this._fireOnSaving()).done(s=>{var{cancel:a,changes:l}=s;if(a)return e.resolve().promise();if(this._processChanges(n,i,r,l),n.length)return this._refocusEditCell=!0,o?.beginLoading(),ye(...n).done(()=>{this._processSaveEditDataResult(i)?this._endSaving(r,l,e):(o?.endLoading(),e.resolve())}).fail(d=>{o?.endLoading(),e.resolve(d)}),e.always(()=>{this._refocusEditCell=!0}).promise();this._cancelSaving(e)}).fail(e.reject),e.promise()}_beforeEndSaving(e){this._resetEditIndices()}_endSaving(e,i,n){var r=this._dataController.dataSource();this._beforeEndSaving(i),r?.endLoading(),this._refreshDataAfterSave(e,i,n)}_cancelSaving(e){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)}_refreshDataAfterSave(e,i,n){var r=this._dataController,o=this.option("editing.refreshMode"),s=o!=="reshape"&&o!=="repaint";s||r.push(e),ye(r.refresh({selection:s,reload:s,load:o==="reshape",changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(i)}).done(()=>{this._resolveAfterSave(n)}).fail(a=>{this._resolveAfterSave(n,{error:a})})}isSaving(){return this._saving}_updateEditColumn(){var e=this._isEditColumnVisible(),i=this.option("editing.useIcons"),n=$L+(i?" ".concat(GL):"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:n})}_isEditColumnVisible(){var e=this.option("editing");return e.allowDeleting}_isEditButtonDisabled(){var e=this.hasChanges(),i=O(this.option("editing.editRowKey"));return!(i||e)}_updateEditButtons(){var e=this.getView("headerPanel"),i=this._isEditButtonDisabled();e&&(e.setToolbarItemDisabled("saveButton",i),e.setToolbarItemDisabled("revertButton",i))}_applyModified(e,i){e&&e.addClass(UL)}_beforeCloseEditCellInBatchMode(e){}cancelEditData(){var e=this.getChanges(),i={cancel:!1,changes:e};this.executeAction("onEditCanceling",i),i.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))}_cancelEditDataCore(){var e=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(e)}_afterCancelEditData(e){var i=this._dataController;i.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}_hideEditPopup(){}hasEditData(){return this.hasChanges()}update(e){var i=this._dataController;i&&this._pageIndex!==i.pageIndex()&&(e==="refresh"&&this.refresh({isPageChanged:!0}),this._pageIndex=i.pageIndex()),this._updateEditButtons()}_getRowIndicesForCascadeUpdating(e,i){return i?[]:[e.rowIndex]}addDeferred(e){this._deferreds.includes(e)||(this._deferreds.push(e),e.always(()=>{var i=this._deferreds.indexOf(e);i>=0&&this._deferreds.splice(i,1)}))}_prepareChange(e,i,n){var r,o={},s=(r=e.row)===null||r===void 0?void 0:r.data,a=e.key,l=new H;if(a!==void 0){e.value=i;var d=rn(e.column.setCellValue(o,i,y(!0,{},s),n));d.done(()=>{l.resolve({data:o,key:a,oldData:s,type:jg})}).fail($g(l)).fail(u=>this._fireDataErrorOccurred(u)),O(n)&&e.column.displayValueMap&&(e.column.displayValueMap[i]=n),this._updateRowValues(e),this.addDeferred(l)}return l}_updateRowValues(e){if(e.values){var i=this._dataController,n=i.getRowIndexByKey(e.key),r=i.getVisibleRows()[n];r&&(e.row.values=r.values,e.values=r.values),e.values[e.columnIndex]=e.value}}updateFieldValue(e,i,n,r){var o=e.key,s=new H;return o===void 0&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,i,n).done(a=>{ye(this._applyChange(e,a,r)).always(()=>{s.resolve()})}):s.resolve(),s.promise()}_focusPreviousEditingCellIfNeed(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0}_needUpdateRow(e){var i=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());var n=e&&e.setCellValue!==e.defaultSetCellValue,r=i.some(o=>o.calculateCellValue!==o.defaultCalculateCellValue);return n||r}_applyChange(e,i,n){var r=te(te({},e),{forceUpdateRow:n});return this._addChange(i,r),this._updateEditButtons(),this._applyChangeCore(e,r.forceUpdateRow)}_applyChangeCore(e,i){var n=e.column.setCellValue!==e.column.defaultSetCellValue,{row:r}=e;r&&(i||n?this._updateEditRow(r,i,n):r.update&&r.update())}_updateEditRowCore(e,i,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,i)})}_updateEditRow(e,i,n){i?this._updateRowImmediately(e,i,n):this._updateRowWithDelay(e,n)}_updateRowImmediately(e,i,n){this._updateEditRowCore(e,!i,n),this._validateEditFormAfterUpdate(e,n),i||this._focusEditingCell()}_updateRowWithDelay(e,i){var n=new H;this.addDeferred(n),setTimeout(()=>{var r,o=((r=this._editForm)===null||r===void 0?void 0:r.element())||this.component.$element().get(0),s=g(ie.getActiveElement(o)),a=this._rowsView.getCellIndex(s,e.rowIndex),l=s.get(0),d=he.getSelectionRange(l);if(this._updateEditRowCore(e,!1,i),this._validateEditFormAfterUpdate(e,i),a>=0){var u=this._rowsView._getCellElement(e.rowIndex,a);this._delayedInputFocus(u,()=>{setTimeout(()=>{var h;l=ie.getActiveElement((h=this.component.$element())===null||h===void 0?void 0:h.get(0)),d.selectionStart>=0&&he.setSelectionRange(l,d)})})}n.resolve()})}_validateEditFormAfterUpdate(){}_addChange(e,i){var n,r=i?.row,o=[...this.getChanges()],s=he.getIndexByKey(e.key,o);s<0&&(s=o.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,o.push(e));var a=te({},o[s]);return a&&(e.data&&(a.data=Ca(a.data,e.data)),(!a.type||!e.data)&&e.type&&(a.type=e.type),r&&(r.oldData=this._getOldData(r.key),r.data=Ca(r.data,e.data))),o[s]=a,this._silentOption(Dl,o),i&&a!==((n=this.getChanges())===null||n===void 0?void 0:n[s])&&(i.forceUpdateRow=!0),a}_getFormEditItemTemplate(e,i){return i.editCellTemplate||this._getDefaultEditorTemplate()}getColumnTemplate(e){var{column:i}=e,n=e.row&&e.row.rowIndex,r,o=this.isRowBasedEditMode(),s=this.isEditRow(n),a=this.isEditCell(n,e.columnIndex),l;if((i.showEditorAlways||i.setCellValue&&(s&&i.allowEditing||a))&&(e.rowType==="data"||e.rowType==="detailAdaptive")&&!i.command){var d=this.allowUpdating(e);((d||s)&&i.allowEditing||a)&&(s||!o)&&(i.showEditorAlways&&!o&&(l={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:i},this._isEditingStart(l)),(!l||!l.cancel)&&(e.setValue=(u,h)=>{this.updateFieldValue(e,u,h)})),r=i.editCellTemplate||this._getDefaultEditorTemplate()}else i.command==="detail"&&e.rowType==="detail"&&s&&(r=this===null||this===void 0?void 0:this.getEditFormTemplate(e));return r}_createButton(e,i,n,r){var o=BX[i.name],s=this.option("editing.useIcons"),a=this.option("useLegacyColumnButtonTemplate"),l=g("<a>").attr("href","#").addClass(IX).addClass(i.cssClass);if(i.template&&a)this._rowsView.renderTemplate(e,i.template,n,!0);else{if(i.template)l=g("<span>").addClass(i.cssClass);else if(s&&o||i.icon){o=i.icon||o;var d=ed(o);d==="image"||d==="svg"?l=Dr(o).addClass(i.cssClass):l.addClass("dx-icon".concat(d==="dxIcon"?"-":" ").concat(o)).attr("title",i.text),l.addClass(TX),e.addClass(GL);var u=this.getButtonLocalizationNames()[i.name];u&&l.attr("aria-label",j.format(u))}else l.text(i.text);O(i.hint)&&l.attr("title",i.hint),this._isButtonDisabled(i,n)?l.addClass("dx-state-disabled"):(!i.template||i.onClick)&&S.on(l,ne("click",PX),this.createAction(h=>{var p;(p=i.onClick)===null||p===void 0||p.call(i,y({},h,{row:n.row,column:n.column})),h.event.preventDefault(),h.event.stopPropagation()})),e.append(l,"&nbsp;"),i.template&&(n.renderAsync=!1,this._rowsView.renderTemplate(l,i.template,n,!0,r))}}getButtonLocalizationNames(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}}prepareButtonItem(e,i,n,r){var o,s=(o=this.option("editing.texts"))!==null&&o!==void 0?o:{},a={revert:s.cancelAllChanges,save:s.saveAllChanges,addRow:s.addRow},l={revert:"cancel",save:"save",addRow:"addrow"}[i],d=a[i],u=(l==="save"||l==="cancel")&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:h=>{g(h.element).addClass(e._getToolbarButtonClass("".concat(AX," ").concat(this.addWidgetPrefix(l),"-button")))},icon:"edit-button-".concat(l),disabled:u,onClick:()=>{setTimeout(()=>{this[n]()})},text:d,hint:d},showText:"inMenu",name:"".concat(i,"Button"),location:"after",locateInMenu:"auto",sortIndex:r}}prepareEditButtons(e){var i,n=(i=this.option("editing"))!==null&&i!==void 0?i:{},r=[];return n.allowAdding&&r.push(this.prepareButtonItem(e,"addRow","addRow",20)),r}highlightDataCell(e,i){this.shouldHighlightCell(i)&&e.addClass(UL)}_afterInsertRow(e){}_beforeSaveEditData(e){if(e&&!O(e.key)&&O(e.type))return!0}_afterSaveEditData(){}_beforeCancelEditData(){}_allowEditAction(e,i){var n=this.option("editing.".concat(e));return ce(n)&&(n=n({component:this.component,row:i.row})),n}allowUpdating(e,i){var n,r=(n=this.option("editing.startEditAction"))!==null&&n!==void 0?n:NX,o=arguments.length>1?r===i||i==="down":!0;return o&&this._allowEditAction("allowUpdating",e)}allowDeleting(e){return this._allowEditAction("allowDeleting",e)}isCellModified(e){var i,n,r,{columnIndex:o}=e,s=(n=(i=e?.row)===null||i===void 0?void 0:i.modifiedValues)===null||n===void 0?void 0:n[o];return!((r=e?.row)===null||r===void 0)&&r.isNewRow&&(s=e.value),s!==void 0}isNewRowInEditMode(){var e=this._getVisibleEditRowIndex(),i=this._dataController.items();return e>=0?i[e].isNewRow:!1}_isRowDeleteAllowed(){}shouldHighlightCell(e){var i=this.isCellModified(e);return i&&e.column.setCellValue&&(this.getEditMode()!==Hs||!e.row.isEditing)}},nQ={defaultOptions:()=>({editing:{mode:"row",refreshMode:"full",newRowPosition:jL,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:j.format("dxDataGrid-editingEditRow"),saveAllChanges:j.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:j.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:j.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:j.format("dxDataGrid-editingCancelRowChanges"),addRow:j.format("dxDataGrid-editingAddRow"),deleteRow:j.format("dxDataGrid-editingDeleteRow"),undeleteRow:j.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:j.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}),controllers:{editing:eB},extenders:{controllers:{data:{init(){this._editingController=this.getController("editing"),this.callBase()},reload(t,e){return!e&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow(t){var e,i=this.option(Hr),n=he.getIndexByKey(i,t),r=t[n];r&&(r.isEditing=!0,(e=this._updateEditItem)===null||e===void 0||e.call(this,r))},_updateItemsCore(t){this.callBase(t),this._updateEditRow(this.items(!0))},_applyChangeUpdate(t){this._updateEditRow(t.items),this.callBase(t)},_applyChangesOnly(t){this._updateEditRow(t.items),this.callBase(t)},_processItems(t,e){return t=this._editingController.processItems(t,e),this.callBase(t,e)},_processDataItem(t,e){return this._editingController.processDataItem(t,e,this.generateDataValues),this.callBase(t,e)},_processItem(t,e){return t=this.callBase(t,e),t.isNewRow&&(e.dataIndex--,delete t.dataIndex),t},_getChangedColumnIndices(t,e,i,n){if(!(t.isNewRow!==e.isNewRow||t.removed!==e.removed))return this.callBase.apply(this,arguments)},_isCellChanged(t,e,i,n,r){var o=this.getController("editing"),s=t.cells&&t.cells[n],a=o&&o.isEditCell(i,n);return r&&a?!1:s&&s.column&&!s.column.showEditorAlways&&s.isEditing!==a?!0:this.callBase.apply(this,arguments)},needToRefreshOnDataSourceChange(t){var e=this.getController("editing"),i=Array.isArray(t.value)&&t.value===t.previousValue&&e.isSaving();return!i},_handleDataSourceChange(t){var e=this.callBase(t),i=this.option("editing.changes"),n=t.value;if(Array.isArray(n)&&i.length){var r=n.map(l=>this.keyOf(l)),o=i.filter(l=>l.type==="insert"||r.some(d=>Rt(l.key,d)));o.length!==i.length&&this.option("editing.changes",o);var s=this.option("editing.editRowKey"),a=o.some(l=>l.type==="insert"&&Rt(s,l.key));!a&&r.every(l=>!Rt(s,l))&&this.option("editing.editRowKey",null)}return e}}},views:{rowsView:{init(){this.callBase(),this._editingController=this.getController("editing")},getCellIndex(t,e){if(!t.is("td")&&e>=0){var i=this.getCellElements(e),n=-1;return F(i,(r,o)=>{g(o).find(t).length&&(n=r)}),n}return this.callBase.apply(this,arguments)},publicMethods(){return this.callBase().concat(["cellValue"])},_getCellTemplate(t){var e=this._editingController.getColumnTemplate(t);return e||this.callBase(t)},_createRow(t){var e=this.callBase.apply(this,arguments);if(t){var i=!!t.removed,n=!!t.isNewRow,r=!!t.modified;n&&e.addClass(RX),r&&e.addClass(FX),(n||i)&&e.removeClass(MX)}return e},_getColumnIndexByElement(t){for(var e=t.closest("table"),i=this.getTableElements();e.length&&!i.filter(e).length;)t=e.closest("td"),e=t.closest("table");return this._getColumnIndexByElementCore(t)},_getColumnIndexByElementCore(t){var e=t.closest(".".concat(Da,"> td:not(.dx-master-detail-cell)"));return this.getCellIndex(e)},_editCellByClick(t,e){var i=this._editingController,n=g(t.event.target),r=this._getColumnIndexByElement(n),o=this._dataController.items()[t.rowIndex],s=i.allowUpdating({row:o},e)||o&&o.isNewRow,a=this._columnsController.getVisibleColumns()[r],l=i.isEditCell(t.rowIndex,r),d=s&&a&&(a.allowEditing||l),u=this.option("editing.startEditAction")||"click",h=a&&a.showEditorAlways;if(l)return!0;if(e==="down")return(be.real().ios||be.real().android)&&ys(),h&&d&&i.editCell(t.rowIndex,r);if(e==="click"&&u==="dblClick"&&this._pointerDownTarget===n.get(0)){var p=o?.isNewRow;i.closeEditCell(!1,p)}if(d&&e===u)return i.editCell(t.rowIndex,r)||i.isEditRow(t.rowIndex)},_rowPointerDown(t){this._pointerDownTarget=t.event.target,this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(t,"down")})},_rowClick(t){var e=g(t.rowElement).hasClass(this.addWidgetPrefix(zh));t.event[GO]=this.component,!this._editCellByClick(t,"click")&&!e&&this.callBase.apply(this,arguments)},_rowDblClick(t){this._editCellByClick(t,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared(t,e){var i,n=this._editingController,r=!!e.column.command,o=e.setValue,s=n.isEditRow(e.rowIndex),a=YL(s,e);if(XL(s,e)){var{alignment:l}=e.column;t.toggleClass(this.addWidgetPrefix(wX),!o).toggleClass(kX,!o),l&&t.find(xC).first().css("textAlign",l)}a&&this._editCellPrepared(t);var d=!!(!((i=e.column)===null||i===void 0)&&i.cellTemplate);e.column&&!r&&(!d||n.shouldHighlightCell(e))&&n.highlightDataCell(t,e),this.callBase.apply(this,arguments)},_editCellPrepared:W,_formItemPrepared:W,_getCellOptions(t){var e=this.callBase(t),{columnIndex:i,row:n}=t;return e.isEditing=this._editingController.isEditCell(e.rowIndex,e.columnIndex),e.removed=n.removed,n.modified&&(e.modified=n.modifiedValues[i]!==void 0),e},_setCellAriaAttributes(t,e){this.callBase(t,e),e.removed&&this.setAria("roledescription",j.format("dxDataGrid-ariaDeletedCell"),t),e.modified&&this.setAria("roledescription",j.format("dxDataGrid-ariaModifiedCell"),t);var i=e.column.allowEditing&&!e.removed&&!e.modified&&e.rowType==="data"&&e.column.calculateCellValue===e.column.defaultCalculateCellValue&&this._editingController.isCellBasedEditMode();i&&this.setAria("roledescription",j.format("dxDataGrid-ariaEditableCell"),t)},_createCell(t){var e=this.callBase(t),i=this._editingController.isEditRow(t.rowIndex);return XL(i,t)&&e.addClass(oc),e},cellValue(t,e,i,n){var r=this.getCellOptions(t,e);if(r){if(i===void 0)return r.value;this._editingController.updateFieldValue(r,i,n,!0)}},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore(){return this.callBase.apply(this,arguments),this.waitAsyncTemplates(!0).done(()=>{this._editingController._focusEditorIfNeed()})}},headerPanel:{_getToolbarItems(){var t=this.callBase(),e=this.getController("editing").prepareEditButtons(this);return e.concat(t)},optionChanged(t){var{fullName:e}=t;switch(t.name){case"editing":var i=[zg,Dl,Md,Hr],n=e&&!i.some(r=>r===e);n&&this._invalidate(),this.callBase(t);break;case"useLegacyColumnButtonTemplate":t.handled=!0;break;default:this.callBase(t)}},isVisible(){var t=this.getController("editing").option("editing");return this.callBase()||t?.allowAdding}}}}};Ie.registerModule("editing",y(!0,{},nQ,{extenders:{controllers:{data:{_changeRowExpandCore(t){var e=this._editingController;return Array.isArray(t)&&e&&e.refresh(),this.callBase.apply(this,arguments)}}}}}));var Gke=t=>class extends t{isRowEditMode(){return this.getEditMode()===Hs}_afterCancelEditData(e){var i=this._dataController;this.isRowBasedEditMode()&&e>=0?i.updateItems({changeType:"update",rowIndices:[e,e+1]}):super._afterCancelEditData(e)}_isDefaultButtonVisible(e,i){var n=this.isRowBasedEditMode(),r=i.row&&Rt(i.row.key,this.option(Hr));if(n)switch(e.name){case"edit":return!r&&this.allowUpdating(i);case"delete":return super._isDefaultButtonVisible(e,i)&&!r;case"save":case"cancel":return r;default:return super._isDefaultButtonVisible(e,i)}return super._isDefaultButtonVisible(e,i)}isEditRow(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)}_cancelSaving(e){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),super._cancelSaving(e)}_refreshCore(e){var{allowCancelEditing:i}=e??{};if(this.isRowBasedEditMode()){var n=this.getChanges().filter(r=>r.type==="update").length>0;this.init(),i&&n&&this._cancelEditDataCore()}super._refreshCore(e)}_isEditColumnVisible(){var e=super._isEditColumnVisible(),i=this.option("editing"),n=this.isRowEditMode(),r=i.allowUpdating||i.allowAdding;return e||n&&r}_focusEditorIfNeed(){var e=this.getEditMode();if(this._needFocusEditor){if(SX.includes(e)){var i=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(i,()=>{i&&this.component.focus(i)})}this._needFocusEditor=!1}}},rQ={extenders:{controllers:{editing:Gke,data:{_getChangedColumnIndices(t,e,i,n){var r=this.getController("editing");if(!(r.isRowBasedEditMode()&&t.isEditing!==e.isEditing))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_createRow(t){var e=this.callBase.apply(this,arguments);if(t){var i=this._editingController,n=i.isEditRow(t.rowIndex);n&&(e.addClass(qL),e.removeClass(VL),t.rowType==="detail"&&e.addClass(this.addWidgetPrefix(zh)))}return e},_update(t){this.callBase(t),t.changeType==="updateSelection"&&this.getTableElements().children("tbody").children(".".concat(qL)).removeClass(VL)}}}}};Ie.registerModule("editingRowBased",rQ);var Gg=class{constructor(){this._map={}}_findWidgetInstance(e){var i;return F(this._map,function(n,r){var{widgetInstance:o,item:s}=r;if(e(s))return i=o,!1}),i}_findFieldByCondition(e,i){var n;return F(this._map,function(r,o){if(e(o))return n=i==="guid"?r:o[i],!1}),n}clear(){this._map={}}removeItemsByItems(e){F(e.getItems(),i=>this.removeItemByKey(i))}removeItemByKey(e){delete this._map[e]}add(e){var i=e.guid||new kt;return this._map[i]=e,i}addItemsOrExtendFrom(e){e.each((i,n)=>{this._map[i]?(n.widgetInstance&&(this._map[i].widgetInstance=n.widgetInstance),this._map[i].$itemContainer=n.$itemContainer):this.add({item:n.item,widgetInstance:n.widgetInstance,guid:i,$itemContainer:n.$itemContainer})})}extendRunTimeItemInfoByKey(e,i){this._map[e]&&(this._map[e]=y(this._map[e],i))}findWidgetInstanceByItem(e){return this._findWidgetInstance(i=>i===e)}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition(i=>{var{path:n}=i;return n===e},"layoutManager")}findKeyByPath(e){return this._findFieldByCondition(i=>{var{path:n}=i;return n===e},"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance(i=>e===i.name)}findWidgetInstanceByDataField(e){return this._findWidgetInstance(i=>e===(Se(i)?i:i.dataField))}findItemContainerByItem(e){for(var i in this._map)if(this._map[i].item===e)return this._map[i].$itemContainer;return null}findItemIndexByItem(e){return this._findFieldByCondition(i=>{var{item:n}=i;return n===e},"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition(i=>{var{item:n}=i;return n===e},"preparedItem")}getItems(){return this._map}each(e){F(this._map,function(i,n){e(i,n)})}removeItemsByPathStartWith(e){var i=Object.keys(this._map),n=i.filter(r=>this._map[r].path?this._map[r].path.indexOf(e,0)>-1:!1);n.forEach(r=>this.removeItemByKey(r))}};var bC={move(t,e){Vt(t,{left:e})}},qO={moveTo(t,e,i,n){Et.animate(t,{type:"slide",to:{left:e},duration:i,complete:n})},complete(t){Et.stop(t,!0)}};var Uke="dx-multiview",Kke="dx-multiview-wrapper",qke="dx-multiview-item-container",oQ="dx-multiview-item",Jke="dx-multiview-item-hidden",Yke="dxMultiViewItemData",Xke=200,sQ=t=>+t,Qke=t=>In(t).left,aQ=rg.inherit({_activeStateUnit:"."+oQ,_supportedKeys:function(){return y(this.callBase(),{pageUp:W,pageDown:W})},_getDefaultOptions:function(){return y(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return be.real().deviceType==="desktop"&&!be.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return oQ},_itemDataKey:function(){return Yke},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=Ae(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(t){var e=this._itemsCount();return t<0&&(t+=e),t>=e&&(t-=e),t},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.$element();t.addClass(Uke),this._$wrapper=g("<div>").addClass(Kke),this._$wrapper.appendTo(t),this._$itemContainer=g("<div>").addClass(qke),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._findBoundaryIndices(),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0]),this._setElementAria(),this._setItemsAria()},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(t){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(t.index,0,null)},_executeItemRenderAction:function(t,e,i){t=(this.option("items")||[]).indexOf(e),this.callBase(t,e,i)},_renderItemContent:function(t){var e=new H,i=this,n=this.callBase,r=new H;return r.done(function(){var o=n.call(i,t);e.resolve(o)}),this._deferredItems[t.index]=r,this.option("deferRendering")||r.resolve(),e.promise()},_render:function(){this.callBase(),zi(()=>{var t=this._getSelectedItemIndices();this._updateItems(t[0])})},_getElementAria:()=>({role:"group",roledescription:j.format("dxMultiView-elementAriaRoleDescription"),label:j.format("dxMultiView-elementAriaLabel")}),_setElementAria(){var t=this._getElementAria();this.setAria(t,this.$element())},_setItemsAria(){var t=this._itemElements(),e=this._itemsCount();t.each((i,n)=>{var r=this._getItemAria({itemIndex:i,itemsCount:e});this.setAria(r,g(n))})},_getItemAria(t){var{itemIndex:e,itemsCount:i}=t,n={role:"group",roledescription:j.format("dxMultiView-itemAriaRoleDescription"),label:j.format("dxMultiView-itemAriaLabel",e+1,i)};return n},_updateItems:function(t,e){this._updateItemsPosition(t,e),this._updateItemsVisibility(t,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_updateItemsPosition:function(t,e){var i=this._itemElements(),n=O(e)?-this._animationDirection(e,t):void 0,r=i.eq(t);bC.move(r,0),O(e)&&bC.move(i.eq(e),100*n+"%")},_updateItemsVisibility(t,e){var i=this._itemElements();i.each((n,r)=>{var o=g(r),s=n!==t&&n!==e;s||this._renderSpecificItem(n),o.toggleClass(Jke,s),this.setAria("hidden",s||void 0,o)})},_renderSpecificItem:function(t){var e=this._itemElements().eq(t),i=e.find(this._itemContentClass()).length>0;O(t)&&!i&&(this._deferredItems[t].resolve(),Pr(e))},_refreshItem:function(t,e){this.callBase(t,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelectionAttribute:W,_updateSelection:function(t,e){var i=t[0],n=e[0];qO.complete(this._$itemContainer),this._updateItems(n,i);var r=this._animationDirection(i,n);this._animateItemContainer(r*this._itemWidth(),(function(){bC.move(this._$itemContainer,0),this._updateItems(i),Ae(this._$itemContainer)}).bind(this))},_animateItemContainer:function(t,e){var i=this.option("animationEnabled")?Xke:0;qO.moveTo(this._$itemContainer,t,i,e)},_animationDirection:function(t,e){var i=Qke(this._$itemContainer),n=(e-t)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),r=i!==0,o=r?i:n;return ua(o)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),Y_,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:t=>this._swipeStartHandler(t.event),onUpdated:t=>this._swipeUpdateHandler(t.event),onEnd:t=>this._swipeEndHandler(t.event)})},_findBoundaryIndices(){var t,e,i=this.option("items"),n,r;i.forEach((o,s)=>{var a=!!o?.disabled;if(!a){var l;(l=n)!==null&&l!==void 0||(n=s),r=s}}),this._boundaryIndices={firstAvailableIndex:(t=n)!==null&&t!==void 0?t:0,lastAvailableIndex:(e=r)!==null&&e!==void 0?e:i.length-1,firstTrueIndex:0,lastTrueIndex:i.length-1}},_swipeStartHandler:function(t){qO.complete(this._$itemContainer);var e=this.option("selectedIndex"),i=this.option("loop"),{firstAvailableIndex:n,lastAvailableIndex:r}=this._boundaryIndices,o=this.option("rtlEnabled");t.maxLeftOffset=sQ(i||(o?e>n:e<r)),t.maxRightOffset=sQ(i||(o?e<r:e>n)),this._swipeDirection=null},_swipeUpdateHandler:function(t){var e=t.offset,i=ua(e)*this._getRTLSignCorrection();if(bC.move(this._$itemContainer,e*this._itemWidth()),i!==this._swipeDirection){this._swipeDirection=i;var n=this.option("selectedIndex"),r=this._normalizeIndex(n-i);this._updateItems(n,r)}},_findNextAvailableIndex(t,e){var{items:i,loop:n}=this.option(),{firstAvailableIndex:r,lastAvailableIndex:o,firstTrueIndex:s,lastTrueIndex:a}=this._boundaryIndices,l=[s,r].includes(t),d=[a,o].includes(t);if(n){if(l&&e<0)return o;if(d&&e>0)return r}for(var u=t+e;u>=r&&u<=o;u+=e){var h=!!i[u].disabled;if(!h)return u}return t},_swipeEndHandler:function(t){var e=t.targetOffset*this._getRTLSignCorrection();if(e){var i=this._findNextAvailableIndex(this.option("selectedIndex"),-e);this.option("selectedIndex",i);var n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",Pe(n))}else this._animateItemContainer(0,W)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.last()),e},_nextItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(t){t&&this._dimensionChanged()},_updateSwipeDisabledState(){var t=this._getSwipeDisabledState();Y_.getInstance(this.$element()).option("disabled",t)},_dispose:function(){delete this._boundaryIndices,this.callBase()},_optionChanged:function(t){var e=t.value;switch(t.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),this.callBase(t);break;default:this.callBase(t)}}});Be("dxMultiView",aQ);var lQ=aQ;var Zke="dx-tabs-item-badge",dQ="dx-badge",eNe=ws.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(t){if(this._$element.children("."+dQ).remove(),!!t){var e=g("<div>").addClass(Zke).addClass(dQ).text(t);this._$element.append(e)}}}),uQ=eNe;var tB="dx-tabs-expanded";function JO(t){return t.scrollWidth-t.clientWidth}function cQ(t){return t.scrollHeight-t.clientHeight}function hQ(t,e){return Math.round(t)<=e}function pQ(t,e,i){return Math.round(JO(t)-e)<=i}function fQ(t,e){return Math.round(t)<=e}function gQ(t,e,i,n){return Math.round(cQ(t)-e-i)<=n}var tNe="dx-tabs",iNe="dx-tabs-wrapper",mQ="dx-tabs-stretched",nNe="dx-tabs-scrollable",vQ="dx-tabs-nav-buttons",_Q="dx-overflow-hidden",CQ="dx-tab",rNe="dx-tab-selected",oNe="dx-tabs-scrolling-enabled",sNe="dx-tabs-nav-button",aNe="dx-tabs-nav-button-left",lNe="dx-tabs-nav-button-right",dNe="dx-tab-text",uNe="dx-tab-text-span",cNe="dx-tab-text-span-pseudo",xQ="dx-state-disabled",yQ="dx-focused-disabled-next-tab",bQ="dx-focused-disabled-prev-tab",DQ={vertical:"dx-tabs-vertical",horizontal:"dx-tabs-horizontal"},OQ={top:"dx-tab-indicator-position-top",right:"dx-tab-indicator-position-right",bottom:"dx-tab-indicator-position-bottom",left:"dx-tab-indicator-position-left"},DC={top:"dx-tabs-icon-position-top",end:"dx-tabs-icon-position-end",bottom:"dx-tabs-icon-position-bottom",start:"dx-tabs-icon-position-start"},iB={primary:"dx-tabs-styling-mode-primary",secondary:"dx-tabs-styling-mode-secondary"},hNe="dxTabData",EQ="chevronnext",SQ="chevronprev",pNe=100,wQ=5,fNe=300,IQ=30,nB={horizontal:"horizontal",vertical:"vertical"},YO={top:"top",right:"right",bottom:"bottom",left:"left"},TQ={horizontal:"horizontal",vertical:"vertical"},jh={top:"top",end:"end",bottom:"bottom",start:"start"},MQ={primary:"primary",secondary:"secondary"},rB=rg.inherit({_activeStateUnit:"."+CQ,_getDefaultOptions:function(){return y(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",orientation:nB.horizontal,iconPosition:jh.start,stylingMode:MQ.primary,activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0},_itemAttributes:{role:"tab"},_indicatorPosition:null})},_defaultOptionsRules:function(){var t=an();return this.callBase().concat([{device:()=>be.real().deviceType!=="desktop",options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:()=>be.real().deviceType==="desktop"&&!be.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Ui(t),options:{iconPosition:jh.top,stylingMode:MQ.secondary}},{device:()=>mi(t),options:{useInkRipple:!0,selectOnFocus:!1,iconPosition:jh.top}}])},_init(){var{orientation:t,stylingMode:e,scrollingEnabled:i}=this.option(),n=this._getIndicatorPosition();this.callBase(),this.$element().addClass(tNe),this._toggleScrollingEnabledClass(i),this._toggleOrientationClass(t),this._toggleIndicatorPositionClass(n),this._toggleIconPositionClass(),this._toggleStylingModeClass(e),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=pNe},_prepareDefaultItemTemplate(t,e){var i=Ve(t)?t?.text:t;if(O(i)){var n=g("<span>").addClass(uNe);n.text(i);var r=g("<span>").addClass(cNe);r.text(i),r.appendTo(n),n.appendTo(e)}O(t.html)&&e.html(t.html)},_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Er(((t,e)=>{this._prepareDefaultItemTemplate(e,t);var i=Dr(e.icon);i&&i.prependTo(t);var n=g("<div>").addClass(dNe);t.wrapInner(n)}).bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(t,e){var{itemData:i,container:n,index:r}=e;return this._deferredTemplates[r]=new H,t.render({model:i,container:n,index:r,onRendered:()=>this._deferredTemplates[r].resolve()})},_itemClass:function(){return CQ},_selectedItemClass:function(){return rNe},_itemDataKey:function(){return hNe},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(_Q)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){ye.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling(){var t=[mQ,tB,_Q];if(this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsSizeExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){var i=JO(g(this.getScrollable().container()).get(0));e.scrollTo({left:i})}this._updateNavButtonsState(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsSizeExceeded()||(this._cleanScrolling(),this._needStretchItems()&&this.$element().addClass(mQ),this.$element().removeClass(vQ).addClass(tB))},_isVertical(){return this.option("orientation")===nB.vertical},_isItemsSizeExceeded(){var t=this._isVertical(),e=t?this._isItemsHeightExceeded():this._isItemsWidthExceeded();return e},_isItemsWidthExceeded(){var t=this._getVisibleItems(),e=this._getSummaryItemsSize("width",t,!0),i=Ae(this.$element());if([e,i].includes(0))return!1;var n=e>i-1;return n},_isItemsHeightExceeded(){var t=this._getVisibleItems(),e=this._getSummaryItemsSize("height",t,!0),i=je(this.$element()),n=e-1>i;return n},_needStretchItems(){var t=this._getVisibleItems(),e=Ae(this.$element()),i=[];F(t,(s,a)=>{i.push(it(a,!0))});var n=Math.max.apply(null,i),r=e/t.length,o=n>r+1;return o},_cleanNavButtons:function(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=zu()},_getPointerEvent:()=>nt.up,_toggleActiveState:function(t,e,i){if(this.callBase.apply(this,arguments),!!this._inkRipple){var n={element:t,event:i};e?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_renderMultiple:function(){this.option("selectionMode")==="multiple"&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=g("<div>").addClass(iNe),this.setAria("role","tablist",this._$wrapper),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_getScrollableDirection(){var t=this._isVertical(),e=t?TQ.vertical:TQ.horizontal;return e},_updateScrollable(){this.getScrollable()&&this._cleanScrolling(),this._renderScrolling()},_renderScrollable(){var t=this.$element().wrapInner(g("<div>").addClass(nNe)).children();this._scrollable=this._createComponent(t,Or,{direction:this._getScrollableDirection(),showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsState()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass(vQ,this.option("showNavButtons")),!!this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-IQ,t?EQ:SQ);var e=this._leftButton.$element();e.addClass(aNe),this.$element().prepend(e),this._rightButton=this._createNavButton(IQ,t?SQ:EQ);var i=this._rightButton.$element();i.addClass(lNe),this.$element().append(i)}},_updateNavButtonsState(){var t=this._isVertical(),e=this.getScrollable();if(t){var i,n;(i=this._leftButton)===null||i===void 0||i.option("disabled",fQ(e.scrollTop(),1)),(n=this._rightButton)===null||n===void 0||n.option("disabled",gQ(g(e.container()).get(0),e.scrollTop(),0,1))}else{var r,o;(r=this._leftButton)===null||r===void 0||r.option("disabled",hQ(e.scrollLeft(),1)),(o=this._rightButton)===null||o===void 0||o.option("disabled",pQ(g(e.container()).get(0),e.scrollLeft(),1))}},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var i=this,n=i._createAction(function(){i._holdInterval=setInterval(function(){i._updateScrollPosition(t,wQ)},wQ)}),r=ne(_o.name,"dxNavButton"),o=ne(nt.up,"dxNavButton"),s=ne(nt.out,"dxNavButton"),a=this._createComponent(g("<div>").addClass(sNe),ci,{focusStateEnabled:!1,icon:e,onClick:function(){i._updateScrollPosition(t,1)},integrationOptions:{}}),l=a.$element();return S.on(l,r,{timeout:fNe},(function(d){n({event:d})}).bind(this)),S.on(l,o,function(){i._clearInterval()}),S.on(l,s,function(){i._clearInterval()}),a},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]))},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){this.option("selectionMode")==="single"&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_refreshActiveDescendant:function(){this.callBase(this._$wrapper)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_toggleTabsVerticalClass(t){this.$element().toggleClass(DQ.vertical,t)},_toggleTabsHorizontalClass(t){this.$element().toggleClass(DQ.horizontal,t)},_getIndicatorPositionClass:t=>OQ[t],_getIndicatorPosition(){var{_indicatorPosition:t,rtlEnabled:e}=this.option();if(t)return t;var i=this._isVertical();return e?i?YO.left:YO.bottom:i?YO.right:YO.bottom},_toggleIndicatorPositionClass(t){var e=this._getIndicatorPositionClass(t);this._toggleElementClasses(OQ,e)},_toggleScrollingEnabledClass(t){this.$element().toggleClass(oNe,!!t)},_toggleOrientationClass(t){var e=t===nB.vertical;this._toggleTabsVerticalClass(e),this._toggleTabsHorizontalClass(!e)},_getTabsIconPositionClass(){var t=this.option("iconPosition");switch(t){case jh.top:return DC.top;case jh.end:return DC.end;case jh.bottom:return DC.bottom;case jh.start:default:return DC.start}},_toggleIconPositionClass(){var t=this._getTabsIconPositionClass();this._toggleElementClasses(DC,t)},_toggleStylingModeClass(t){var e,i=(e=iB[t])!==null&&e!==void 0?e:iB.primary;this._toggleElementClasses(iB,i)},_toggleElementClasses(t,e){for(var i in t)this.$element().removeClass(t[i]);this.$element().addClass(e)},_toggleFocusedDisabledNextClass(t,e){this._itemElements().eq(t).toggleClass(yQ,e)},_toggleFocusedDisabledPrevClass(t,e){this._itemElements().eq(t).toggleClass(bQ,e)},_toggleFocusedDisabledClasses(t){var{selectedIndex:e}=this.option();this._itemElements().removeClass(yQ).removeClass(bQ);var i=e-1,n=e+1,r=g(t).index(),o=this._itemElements().eq(n).hasClass(xQ),s=this._itemElements().eq(i).hasClass(xQ),a=o&&r===n,l=s&&r===i;this._toggleFocusedDisabledNextClass(e,a),this._toggleFocusedDisabledPrevClass(e,l)},_updateFocusedElement(){var{focusStateEnabled:t,selectedIndex:e}=this.option(),i=this._itemElements();if(t&&i.length){var n=i.get(e);this.option({focusedElement:n})}},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":this._toggleScrollingEnabledClass(t.value),this._invalidate();break;case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":case"height":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;case"focusedElement":this._toggleFocusedDisabledClasses(t.value),this.callBase(t),this._scrollToItem(t.value);break;case"rtlEnabled":this.callBase(t);var e=this._getIndicatorPosition();this._toggleIndicatorPositionClass(e);break;case"orientation":this._toggleOrientationClass(t.value);var i=this._getIndicatorPosition();this._toggleIndicatorPositionClass(i),Ne()&&this._updateScrollable();break;case"iconPosition":this._toggleIconPositionClass(),Ne()&&this._dimensionChanged();break;case"stylingMode":this._toggleStylingModeClass(t.value),Ne()&&this._dimensionChanged();break;case"_indicatorPosition":this._toggleIndicatorPositionClass(t.value);break;case"selectedIndex":case"selectedItem":case"selectedItems":this.callBase(t),this._updateFocusedElement();break;default:this.callBase(t)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(t,e){this.callBase(t,e),this._renderScrolling()},getScrollable(){return this._scrollable}});rB.ItemClass=uQ;Be("dxTabs",rB);var AQ=rB;var XO=class extends ws{_renderWatchers(){return this._startWatcher("badge",W),super._renderWatchers()}};var gNe="dx-tabpanel",mNe="dx-tabpanel-tabs",vNe="dx-tabpanel-tab",_Ne="dx-tabpanel-container",CNe="dx-tab-text",xNe="dx-disabled-focused-tab",yNe="dx-tab-text-span",bNe="dx-tab-text-span-pseudo",Ug={top:"dx-tabpanel-tabs-position-top",right:"dx-tabpanel-tabs-position-right",bottom:"dx-tabpanel-tabs-position-bottom",left:"dx-tabpanel-tabs-position-left"},$h={top:"top",right:"right",bottom:"bottom",left:"left"},DNe={top:"bottom",right:"left",bottom:"top",left:"right"},RQ={horizontal:"horizontal",vertical:"vertical"},FQ={top:"top",end:"end",bottom:"bottom",start:"start"},PQ={primary:"primary",secondary:"secondary"},oB=lQ.inherit({_getDefaultOptions:function(){return y(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,tabsPosition:$h.top,iconPosition:FQ.start,stylingMode:PQ.primary,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0},_tabsIndicatorPosition:null})},_defaultOptionsRules:function(){var t=an();return this.callBase().concat([{device:function(){return be.real().deviceType==="desktop"&&!be.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!_s},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}},{device:()=>Ui(t),options:{stylingMode:PQ.secondary}},{device:()=>ki(t),options:{iconPosition:FQ.top}}])},_init:function(){this.callBase(),this.$element().addClass(gNe),this._toggleTabPanelTabsPositionClass()},_getElementAria:()=>({role:"tabpanel"}),_getItemAria:()=>({role:"tabpanel"}),_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_prepareTabsItemTemplate(t,e){var i=Dr(t?.icon);i&&e.append(i);var n=Ve(t)?t?.title:t;if(O(n)&&!Ve(n)){var r=g("<span>").addClass(yNe);r.append(ie.createTextNode(n));var o=g("<span>").addClass(bNe);o.append(ie.createTextNode(n)),o.appendTo(r),r.appendTo(e)}},_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Er((t,e)=>{this._prepareTabsItemTemplate(e,t);var i=g("<div>").addClass(CNe);t.wrapInner(i)},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderLayout:function(){if(!this._tabs){var t=this.$element();this._$tabContainer=g("<div>").addClass(mNe).appendTo(t);var e=g("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,AQ,this._tabConfig()),this._$container=g("<div>").addClass(_Ne).appendTo(t),this._$container.append(this._$wrapper)}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,e=t.itemElements(),i=g(e[t.option("selectedIndex")]),n=this.getFocusedItemId();this.setAria("controls",void 0,g(e)),this.setAria("controls",n,i)}},_getTabsIndicatorPosition(){var{_tabsIndicatorPosition:t,tabsPosition:e}=this.option();return t??DNe[e]},_tabConfig(){var t=this._getTabsIndicatorPosition();return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:(function(e){this.option("selectedIndex",e.component.option("selectedIndex")),this._refreshActiveDescendant()}).bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:(function(e){if(e.name==="focusedElement")if(e.value){var i=g(e.value),n=this._itemElements().eq(i.index());this.option("focusedElement",Pe(n))}else this.option("focusedElement",e.value)}).bind(this),onFocusIn:(function(e){this._focusInHandler(e.event)}).bind(this),onFocusOut:(function(e){this._isFocusOutHandlerExecuting||this._focusOutHandler(e.event)}).bind(this),orientation:this._getTabsOrientation(),iconPosition:this.option("iconPosition"),stylingMode:this.option("stylingMode"),_itemAttributes:{class:vNe},_indicatorPosition:t}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_getTabsOrientation(){var{tabsPosition:t}=this.option();return[$h.right,$h.left].includes(t)?RQ.vertical:RQ.horizontal},_getTabPanelTabsPositionClass(){var t=this.option("tabsPosition");switch(t){case $h.right:return Ug.right;case $h.bottom:return Ug.bottom;case $h.left:return Ug.left;case $h.top:default:return Ug.top}},_toggleTabPanelTabsPositionClass(){for(var t in Ug)this.$element().removeClass(Ug[t]);var e=this._getTabPanelTabsPositionClass();this.$element().addClass(e)},_updateTabsOrientation(){var t=this._getTabsOrientation();this._setTabsOption("orientation",t)},_toggleWrapperFocusedClass(t){this._toggleFocusClass(t,this._$wrapper)},_toggleDisabledFocusedClass(t){this._focusTarget().toggleClass(xNe,t)},_updateFocusState:function(t,e){this.callBase(t,e);var i=t.target===this._tabs._focusTarget().get(0),n=t.target===this._focusTarget().get(0);if(i&&this._toggleFocusClass(e,this._focusTarget()),i||n){var r=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(e&&!r),this._toggleDisabledFocusedClass(e&&r)}n&&this._toggleFocusClass(e,this._tabs.option("focusedElement"))},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&this._tabs._dimensionChanged()},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_updateTabsIndicatorPosition(){var t=this._getTabsIndicatorPosition();this._setTabsOption("_indicatorPosition",t)},_optionChanged:function(t){var{name:e,value:i,fullName:n}=t;switch(e){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(e,this.option(e)),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(n,i),this.callBase(t),this.option("focusStateEnabled")===!0){var r=this.option("selectedIndex"),o=this._itemElements().eq(r);this.option("focusedElement",Pe(o))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(n,i),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(n,i);break;case"focusedElement":var s=i&&g(i).index(),a=i&&this._tabs._itemElements().eq(s);if(this._setTabsOption("focusedElement",Pe(a)),i){var l=this._isDisabled(i);this._toggleWrapperFocusedClass(!l),this._toggleDisabledFocusedClass(l)}this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",i);break;case"badgeExpr":this._invalidate();break;case"tabsPosition":this._toggleTabPanelTabsPositionClass(),this._updateTabsIndicatorPosition(),this._updateTabsOrientation();break;case"iconPosition":this._setTabsOption("iconPosition",i);break;case"stylingMode":this._setTabsOption("stylingMode",i);break;case"_tabsIndicatorPosition":this._setTabsOption("_indicatorPosition",i);break;default:this.callBase(t)}}});oB.ItemClass=XO;Be("dxTabPanel",oB);var kQ=oB;var Ol=class{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){ot.abstract()}};var QO=(t,e)=>"".concat(e?"tabs":"items","[").concat(t,"]"),sB=(t,e)=>O(t)&&O(e)?"".concat(t,".").concat(e):t||e,ZO=t=>t?t.replace(/\s/g,""):void 0,NQ=(t,e)=>t?t.dataField===e||t.name===e||ZO(t.title)===e||t.itemType==="group"&&ZO(t.caption)===e:!1,Gh=(t,e)=>"".concat(t,".").concat(e),aB=t=>{var e=t.split(".");return e[e.length-1].replace(/\[\d+]/,"")},LQ=t=>{for(var e=t.split("."),i=[...e],n=e.length-1;n>=0;n--){if(lB(e[n]))return i.join(".");i.splice(n,1)}return""},lB=t=>t.indexOf("tabs")>-1,dB=(t,e,i)=>{var n=t.indexOf(e);if(n>-1)return QO(n,i);for(var r=0;r<t.length;r++){var o=t[r],s=o.tabs||o.items;if(s){var a=dB(s,e,o.tabs);if(a)return sB(QO(r,i),a)}}};function BQ(t){var{form:e,$formElement:i,formOptions:n,items:r,validationGroup:o,extendedLayoutManagerOptions:s,onFieldDataChanged:a,onContentReady:l,onDisposing:d,onFieldItemRendered:u}=t,h={form:e,items:r,$formElement:i,validationGroup:o,onFieldDataChanged:a,onContentReady:l,onDisposing:d,onFieldItemRendered:u,validationBoundary:n.scrollingEnabled?i:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode},p=y(h,{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width});return p}var uB=class extends Ol{tryExecute(){var{value:e}=this._options,i=this.findInstance();return i?(i.option(e),!0):!1}},eE=class extends Ol{tryExecute(){var e=this.findInstance();if(e){var{optionName:i,item:n,value:r}=this._options,o=this._itemsRunTimeInfo.findItemIndexByItem(n);if(o>=0)return e.option(Gh("items[".concat(o,"]"),i),r),!0}return!1}},cB=class extends Ol{tryExecute(){return!1}},hB=class extends Ol{tryExecute(){var e=this.findPreparedItem();return e!=null&&e._prepareGroupItemTemplate&&e._renderGroupContentTemplate?(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),!0):!1}},pB=class extends Ol{tryExecute(){var e=this.findInstance();if(e){var{value:i}=this._options;return e.option("dataSource",i),!0}return!1}},fB=class extends Ol{tryExecute(){var{item:e}=this._options,i=this.findInstance(),n=i&&ui(i.$element()[0],"dxValidator");if(n&&e){var r=a=>a.type==="required",o=(n.option("validationRules")||[]).some(r),s=(e.validationRules||[]).some(r);if(!o&&!s||o&&s)return n.option("validationRules",e.validationRules),!0}return!1}},gB=class extends Ol{tryExecute(){var e=this.findItemContainer(),{previousValue:i,value:n}=this._options;return e?(e.removeClass(i).addClass(n),!0):!1}},ONe=(t,e)=>{switch(t){case"editorOptions":case"buttonOptions":return new uB(e);case"validationRules":return new fB(e);case"cssClass":return new gB(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new eE(y(e,{optionName:t}));case"tabs":return new pB(e);case"template":var i,n,r,o=(i=e==null||(n=e.item)===null||n===void 0?void 0:n.itemType)!==null&&i!==void 0?i:(r=e.itemsRunTimeInfo.findPreparedItemByItem(e?.item))===null||r===void 0?void 0:r.itemType;return o==="simple"?new cB(e):o==="group"?new hB(e):new eE(y(e,{optionName:t}));default:return null}},VQ=ONe;var WQ="dx-responsivebox",HQ=WQ+"-screen-",ENe="dx-box-item",zQ="dxBoxItemData",SNe=1920,jQ=Sr.inherit({_getDefaultOptions:function(){return y(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",nv),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return ENe},_itemDataKey:function(){return zQ},_initMarkup:function(){this.callBase(),this.$element().addClass(WQ)},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(t){var e=this._findItemElementByItem(t);e.length&&(this._refreshItem(e,t),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var t=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(HQ+t),this.option("currentScreenFactor",t)},_removeScreenSizeClass:function(){var t=this.option("currentScreenFactor");t&&this.$element().removeClass(HQ+t)},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),F(this._rows,(function(){var e=[];t.push(e),F(this._cols,(function(){e.push(this._createEmptyCell())}).bind(this))}).bind(this))},getSingleColumnRows:function(){var t=this.option("rows"),e=this._screenItems.length;if(t.length){for(var i=this._filterByScreen(t),n=[],r=0;r<e;r++){var o=this._defaultSizeConfig();r<i.length&&O(i[r].shrink)&&(o.shrink=i[r].shrink),n.push(o)}return n}else return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(t,e){return t.location.row-e.location.row||t.location.col-e.location.col}),F(this._screenItems,function(t,e){y(e.location,{row:t,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(t){return gi(this._filterByScreen(t),(function(e){return y(this._defaultSizeConfig(),e)}).bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(t){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var i=[],n=0;n<t;n++)i.push(e);return i},_filterByScreen:function(t){var e=this._screenRegExp();return Sn(t,function(i){return!i.screen||e.test(i.screen)})},_screenRegExp:function(){var t=this._getCurrentScreen();return new RegExp("(^|\\s)"+t+"($|\\s)","i")},_getCurrentScreen:function(){var t=this._screenWidth();return this.option("screenByWidth")(t)},_screenWidth:function(){return Ne()?Ae(Le()):SNe},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){F(this._screenItems,(function(t,e){var i=e.location||{},n=i.col,r=i.row,o=this._grid[r],s=o&&o[n];this._occupyCells(s,e)}).bind(this))},_itemsByScreen:function(){return this.option("items").reduce((t,e)=>{var i=e.location||{};return i=Ve(i)?[i]:i,this._filterByScreen(i).forEach(n=>{t.push({item:e,location:y({rowspan:1,colspan:1},n)})}),t},[])},_occupyCells:function(t,e){!t||this._isItemCellOccupied(t,e)||(y(t,e),this._markSpanningCell(t))},_isItemCellOccupied:function(t,e){if(!Zi(t.item))return!0;var i=!1;return this._loopOverSpanning(e.location,function(n){i=i||!Zi(n.item)}),i},_loopOverSpanning:function(t,e){var i=t.row+t.rowspan-1,n=t.col+t.colspan-1,r=Math.min(i,this._rows.length-1),o=Math.min(n,this._cols.length-1);t.rowspan-=i-r,t.colspan-=n-o;for(var s=t.row;s<=r;s++)for(var a=t.col;a<=o;a++)(s!==t.row||a!==t.col)&&e(this._grid[s][a])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,function(e){y(e,{item:t.item,spanningCell:t})})},_linkNodeToItem:function(){F(this._itemElements(),function(t,e){var i=g(e),n=i.data(zQ);n.box||(n.node=i.children())})},_layoutItems:function(){var t=this._grid.length,e=t&&this._grid[0].length;if(!(!t&&!e)){var i=this._layoutBlock({direction:"col",row:{start:0,end:t-1},col:{start:0,end:e-1}}),n=this._prepareBoxConfig(i.box||{direction:"row",items:[y(i,{ratio:1})]});y(n,this._rootBoxConfig(n.items)),this._$root=g("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,Ph,n)}},_rootBoxConfig:function(t){var e=F(t,(function(i,n){this._needApplyAutoBaseSize(n)&&y(n,{baseSize:"auto"})}).bind(this));return{width:"100%",height:"100%",items:e,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}},_needApplyAutoBaseSize:function(t){return!t.baseSize&&(!t.minSize||t.minSize==="auto")&&(!t.maxSize||t.maxSize==="auto")},_prepareBoxConfig:function(t){return y(t||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(t){return this._isSingleItem(t)?this._itemByCell(t.row.start,t.col.start):this._layoutDirection(t)},_isSingleItem:function(t){var e=this._grid[t.row.start][t.col.start].location,i=t.row.end-t.row.start===e.rowspan-1,n=t.col.end-t.col.start===e.colspan-1;return i&&n},_itemByCell:function(t,e){var i=this._grid[t][e];return i.spanningCell?null:i.item},_layoutDirection:function(t){for(var e=[],i=t.direction,n=this._crossDirection(i),r;r=this._nextBlock(t);){if(this._isBlockIndivisible(t.prevBlockOptions,r))throw Ke.Error("E1025");var o=this._layoutBlock({direction:n,row:r.row,col:r.col,prevBlockOptions:t});o&&(y(o,this._blockSize(r,n)),e.push(o)),t[n].start=r[n].end+1}return{box:this._prepareBoxConfig({direction:i,items:e})}},_isBlockIndivisible:function(t,e){return t&&t.col.start===e.col.start&&t.col.end===e.col.end&&t.row.start===e.row.start&&t.row.end===e.row.end},_crossDirection:function(t){return t==="col"?"row":"col"},_nextBlock:function(t){var e=t.direction,i=this._crossDirection(e),n=t[e].start,r=t[e].end,o=t[i].start;if(o>t[i].end)return null;for(var s=1,a=o;a<o+s;a++){for(var l=1,d=n;d<=r;d++){var u=this._cellByDirection(e,d,a);l=Math.max(l,u.location[i+"span"])}var h=a+l,p=o+s;h>p&&(s+=h-p)}var m={};return m[e]={start:n,end:r},m[i]={start:o,end:o+s-1},m},_cellByDirection:function(t,e,i){return t==="col"?this._grid[i][e]:this._grid[e][i]},_blockSize:function(t,e){for(var i=e==="row"?"auto":0,n=e==="row"?this._rows:this._cols,r=y(this._createDefaultSizeConfig(),{ratio:0}),o=t[e].start;o<=t[e].end;o++){var s=n[o];r.ratio+=s.ratio,r.baseSize+=s.baseSize,r.minSize+=s.minSize,r.maxSize+=s.maxSize,O(s.shrink)&&(r.shrink=s.shrink)}return r.minSize=r.minSize?r.minSize:i,r.maxSize=r.maxSize?r.maxSize:"auto",this._isSingleColumnScreen()&&(r.baseSize="auto"),r},_update:function(t){var e=this._$root;this._renderItems(),e&&(t?e.remove():(e.detach(),this._saveAssistantRoot(e))),this._layoutChangedAction()},_saveAssistantRoot:function(t){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(t)},_dispose:function(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&F(this._assistantRoots,function(t,e){g(e).remove()})},_clearItemNodeTemplates:function(){F(this.option("items"),function(){delete this.node})},_attachClickEvent:W,_optionChanged:function(t){switch(t.name){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(t),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(t);break;case"currentScreenFactor":break;default:this.callBase(t)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});Be("dxResponsiveBox",jQ);var $Q=jQ;var GQ="dx-form",tE="dx-form-group",UQ="dx-form-group-caption",mB="dx-col-",iE="dx-field-item",vB="dx-layout-manager-one-col",_B="dx-field-item-label-content",KQ="dx-layout-manager",CB="dx-field-item-label",OC="dx-field-item-content",qQ="dx-single-column-item-content",nE="dx-root-simple-item",JQ="dx-form-group-content",YQ="dx-field-item-has-group",XQ="dx-field-item-has-tabs",QQ="dx-form-group-with-caption",xB="dx-field-item-tab",yB="dx-group-colcount-",bB="group-col-count",ZQ="dx-form-validation-summary",eZ="dx-form-styling-mode-underlined",EC="simple";var wNe=ot.inherit({ctor(t,e){this.editor=t,this.validator=e,this.validationRequestsCallbacks=[];var i=n=>{this.validationRequestsCallbacks.forEach(r=>r(n))};t.validationRequest.add(i),t.on("disposing",function(){t.validationRequest.remove(i)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset(){this.editor.clear()},focus(){this.editor.focus()}}),tZ=wNe;var INe="dx-validator",iZ="valid",TNe="invalid",DB="pending",nZ=Xr.inherit({_initOptions:function(t){this.callBase.apply(this,arguments),this.option(li.initValidationOptions(t))},_getDefaultOptions(){return y(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=vt(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var t=this._findGroup();this._groupWasInit||this.on("disposing",function(e){li.removeRegisteredValidator(e.component._validationGroup,e.component)}),(!this._groupWasInit||this._validationGroup!==t)&&(li.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=t,li.registerValidatorInGroup(t,this))},_setOptionsByReference(){this.callBase(),y(this._optionsByReference,{validationGroup:!0})},_getEditor(){var t=this.$element()[0];return ui(t,"dx-validation-target")},_initAdapter(){var t=this._getEditor(),e=this.option("adapter");if(!e){if(t){e=new tZ(t,this),e.validationRequestsCallbacks.push(n=>{this._validationInfo.skipValidation||this.validate(n)}),this.option("adapter",e);return}throw Ke.Error("E0120")}var i=e.validationRequestsCallbacks;i&&i.push(n=>{this.validate(n)})},_toggleRTLDirection(t){var e,i,n,r=(e=(i=this.option("adapter"))===null||i===void 0||(n=i.editor)===null||n===void 0?void 0:n.option("rtlEnabled"))!==null&&e!==void 0?e:t;this.callBase(r)},_initMarkup(){this.$element().addClass(INe),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var t=this._getEditor();if(t){var e=this.option("validationRules")||[],i=e.some(n=>{var{type:r}=n;return r==="required"})||null;t.isInitialized()&&t.setAria("required",i),t.option("_onMarkupRendered",()=>{t.setAria("required",i)})}},_visibilityChanged(t){t&&this._initGroupRegistration()},_optionChanged(t){switch(t.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(li.synchronizeValidationOptions(t,this.option()));break;default:this.callBase(t)}},_getValidationRules(){return this._validationRules||(this._validationRules=gi(this.option("validationRules"),(t,e)=>y({},t,{validator:this,index:e}))),this._validationRules},_findGroup(){var t=this.$element();return this.option("validationGroup")||li.findGroup(t,this._modelByElement(t))},_resetValidationRules(){delete this._validationRules},validate(t){var e=this.option("adapter"),i=this.option("name"),n=e.bypass&&e.bypass(),r=t&&t.value!==void 0?t.value:e.getValue(),o=e.getCurrentValidationError&&e.getCurrentValidationError(),s=this._getValidationRules(),a=this._validationInfo&&this._validationInfo.result;if(a&&a.status===DB&&a.value===r)return y({},a);var l;return n?l={isValid:!0,status:iZ}:o&&o.editorSpecific?(o.validator=this,l={isValid:!1,status:TNe,brokenRule:o,brokenRules:[o]}):l=li.validate(r,s,i),l.id=new kt().toString(),this._applyValidationResult(l,e),l.complete&&l.complete.then(d=>{d.id===this._validationInfo.result.id&&this._applyValidationResult(d,e)}),y({},this._validationInfo.result)},reset(){var t=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:iZ,complete:null};this._validationInfo.skipValidation=!0,t.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,t)},_updateValidationResult(t){if(!this._validationInfo.result||this._validationInfo.result.id!==t.id){var e=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=y({},t,{complete:e})}else for(var i in t)i!=="id"&&i!=="complete"&&(this._validationInfo.result[i]=t[i])},_applyValidationResult(t,e){var i=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(t.validator=this,this._updateValidationResult(t),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===DB){this._validationInfo.deferred||(this._validationInfo.deferred=new H,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!==DB&&(i(t),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(t),this._validationInfo.deferred=null))},focus(){var t=this.option("adapter");t&&t.focus&&t.focus()},_useTemplates:function(){return!1}});Be("dxValidator",nZ);var Fd=nZ;var MNe=["dxTagBox","dxRangeSlider","dxDateRangeBox"],ANe=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function rZ(t){var{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:r,item:o,template:s,labelTemplate:a,name:l,formLabelLocation:d,requiredMessageTemplate:u,validationGroup:h,editorValue:p,canAssignUndefinedValueToEditor:m,editorValidationBoundary:c,editorStylingMode:x,showColonAfterLabel:D,managerLabelLocation:T,itemId:N,managerMarkOptions:G,labelMode:U,onLabelTemplateRendered:re}=t,_=O(o.isRequired)?o.isRequired:!!FNe(o.validationRules),Oe=o.itemType===EC,fe=o.helpText?"dx-"+new kt:null,we=PNe({item:o,id:N,isRequired:_,managerMarkOptions:G,showColonAfterLabel:D,labelLocation:T,formLabelMode:U,labelTemplate:a,onLabelTemplateRendered:re}),We=we.visible&&(we.text||we.labelTemplate&&Oe),{location:b,labelID:w}=we,A=b!=="top"&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(o.editorType),R=RNe({editorType:o.editorType,editorValue:p,defaultEditorName:o.dataField,canAssignUndefinedValueToEditor:m,externalEditorOptions:o.editorOptions,editorInputId:N,editorValidationBoundary:c,editorStylingMode:x,formLabelMode:U,labelText:we.textWithoutColon,labelMark:we.markOptions.showRequiredMark?"\xA0"+we.markOptions.requiredMark:""}),B=we.markOptions.showOptionalMark&&!we.visible&&R.labelMode!=="hidden"&&!O(o.helpText),z=B?we.markOptions.optionalMark:o.helpText;return{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:r,labelOptions:we,labelNeedBaselineAlign:A,labelLocation:b,needRenderLabel:We,item:o,isSimpleItem:Oe,isRequired:_,template:s,helpID:fe,labelID:w,name:l,helpText:z,formLabelLocation:d,requiredMessageTemplate:u,validationGroup:h,editorOptions:R}}function oZ(t){var{showRequiredMark:e,requiredMark:i,showOptionalMark:n,optionalMark:r}=t;return!e&&!n?"":"\xA0"+(e?i:r)}function OB(t,e){var{showRequiredMark:i,requiredMark:n,showOptionalMark:r,optionalMark:o}=t;return{showRequiredMark:i&&e,requiredMark:n,showOptionalMark:r&&!e,optionalMark:o}}function RNe(t){var{editorType:e,defaultEditorName:i,editorValue:n,canAssignUndefinedValueToEditor:r,externalEditorOptions:o,editorInputId:s,editorValidationBoundary:a,editorStylingMode:l,formLabelMode:d,labelText:u,labelMark:h}=t,p={};(n!==void 0||r)&&(p.value=n),MNe.indexOf(e)!==-1&&(p.value=p.value||[]);var m=o?.labelMode;O(m)||(m=d==="outside"?"hidden":d);var c=o?.stylingMode||l,x=y(!0,p,o,{inputAttr:{id:s},validationBoundary:a,stylingMode:c,label:u,labelMode:m,labelMark:h});return o&&(x.dataSource&&(x.dataSource=o.dataSource),x.items&&(x.items=o.items)),i&&!x.name&&(x.name=i),x}function FNe(t){var e;return t&&t.length&&F(t,function(i,n){if(n.type==="required")return e=!0,!1}),e}function PNe(t){var{item:e,id:i,isRequired:n,managerMarkOptions:r,showColonAfterLabel:o,labelLocation:s,labelTemplate:a,formLabelMode:l,onLabelTemplateRendered:d}=t,u=ANe.includes(e.editorType),h=y({showColon:o,location:s,id:i,visible:l==="outside"||u&&l!=="hidden",isRequired:n},e?e.label:{},{markOptions:OB(r,n),labelTemplate:a,onLabelTemplateRendered:d});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(e.editorType)&&(h.labelID="dx-label-".concat(new kt)),!h.text&&e.dataField&&(h.text=ms(e.dataField)),h.text&&(h.textWithoutColon=h.text,h.text+=h.showColon?":":""),h}var kNe="dx-field-item-required-mark",sZ="dx-field-item-label-location-",NNe="dx-field-item-optional-mark",LNe="dx-field-item-label-text";function aZ(t){var{text:e,id:i,location:n,alignment:r,labelID:o=null,markOptions:s={},labelTemplate:a,labelTemplateData:l,onLabelTemplateRendered:d}=t;if((!O(e)||e.length<=0)&&!O(a))return null;var u=g("<label>").addClass(CB+" "+sZ+n).attr("for",i).attr("id",o).css("textAlign",r),h=g("<span>").addClass(_B),p=g("<span>").addClass(LNe).text(e);return a&&(p=g("<div>").addClass("dx-field-item-custom-label-content"),l.text=e,a.render({container:Pe(p),model:l,onRendered(){d?.()}})),u.append(h.append(p,BNe(s)))}function BNe(t){var e=oZ(t);return e===""?null:g("<span>").addClass(t.showRequiredMark?kNe:NNe).text(e)}function lZ(t,e,i){var n="".concat(e," > .").concat(CB,":not(.").concat(sZ,"top) > .").concat(_B),r=t.find(n),o=r.length,s,a,l=0;for(a=0;a<o;a++)s=VNe(r[a]),s>l&&(l=s);for(a=0;a<o;a++)r[a].style.width=l+"px"}function VNe(t){for(var e=0,i=t.children.length,n=0;n<i;n++){var r=t.children[n];e+=r.offsetWidth}return e}var HNe="dx-flex-layout",zNe="dx-field-item-optional",WNe="dx-field-item-required",hZ="dx-field-item-content-wrapper",jNe="dx-field-item-content-location-",$Ne="dx-field-item-label-align",GNe="dx-field-item-help-text",UNe="dx-label-v-align",KNe="dx-label-h-align",qNe="dx-toggle-controls-paddings",JNe="dx-template-wrapper",EB="dx-validation-target",YNe="dx-invalid";function pZ(t){var{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:r,labelOptions:o,labelNeedBaselineAlign:s,labelLocation:a,needRenderLabel:l,formLabelLocation:d,item:u,editorOptions:h,isSimpleItem:p,isRequired:m,template:c,helpID:x,labelID:D,name:T,helpText:N,requiredMessageTemplate:G,validationGroup:U}=t,re=g("<div>").addClass(i.join(" ")).appendTo(e);re.addClass(m?WNe:zNe),p&&re.addClass(HNe),p&&s&&re.addClass($Ne);var _=g("<div>");_.data("dx-form-item",u),_.addClass(OC).addClass(jNe+{right:"left",left:"right",top:"bottom"}[d]);var Oe=null;if(l&&(o.labelTemplate&&(o.labelTemplateData=cZ(u,h,n)),Oe=aZ(o)),Oe){var{editorType:fe}=u;re.append(Oe),(a==="top"||a==="left")&&re.append(_),a==="right"&&re.prepend(_),a==="top"?re.addClass(UNe):re.addClass(KNe),(fe==="dxCheckBox"||fe==="dxSwitch")&&S.on(Oe,lt,function(){S.trigger(_.children(),lt)});var we=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(fe),We=o.alignment,b=We==="left"||!We,w=!c,A=a==="top";w&&we&&A&&b&&_.addClass(qNe)}else re.append(_);var R;if(c)c.render({container:Pe(_),model:cZ(u,h,n),onRendered(){var P=dZ(_),Q=XNe(P);uZ(Q)}});else{var B=g("<div>").appendTo(_);try{R=r(B,u.editorType,h),R.setAria("describedby",x),D&&R.setAria("labelledby",D),R.setAria("required",m)}catch(P){Ke.log("E1035",P.message)}}var z=dZ(_),K=z&&z.data(EB);if(K){var q=u.label&&u.label.text,V=q?null:T,L=q?u.label.text:V&&ms(V),X;if(p)if(u.validationRules)X=u.validationRules;else{var J=yr(G,L||"");X=u.isRequired?[{type:"required",message:J}]:null}Array.isArray(X)&&X.length&&r(z,Fd,{validationRules:X,validationGroup:U,dataGetter:function(){return{formItem:u}}}),uZ(K)}if(N&&p){var ae=_.parent();ae.append(g("<div>").addClass(hZ).append(_).append(g("<div>").addClass(GNe).attr("id",x).text(N)))}return{$fieldEditorContainer:_,$rootElement:re,widgetInstance:R}}function dZ(t){var e=t.children().first();return e.hasClass(JNe)?e.children().first():e}function XNe(t){var e,i;return t?.data(EB)||(t==null||(e=t.parent)===null||e===void 0||(i=e.call(t))===null||i===void 0?void 0:i.data(EB))}function uZ(t){if(t&&ki()){var e=".".concat(hZ),i=n=>{var{element:r,component:o}=n,{isValid:s,validationMessageMode:a}=o.option();g(r).parents(e).toggleClass(YNe,s===!1&&(o._isFocused()||a==="always"))};t.on("optionChanged",n=>{n.name==="isValid"&&i(n)}),t.on("focusIn",i).on("focusOut",i).on("enterKey",i)}}function cZ(t,e,i){return{dataField:t.dataField,editorType:t.editorType,editorOptions:e,component:i,name:t.name}}var QNe="dx-field-button-item";function fZ(t){var{item:e,$parent:i,rootElementCssClassList:n,validationGroup:r,createComponentCallback:o}=t,s=g("<div>").appendTo(i).addClass(n.join(" ")).addClass(QNe).css("textAlign",ZNe(e.horizontalAlignment));i.css("justifyContent",eLe(e.verticalAlignment));var a=g("<div>").appendTo(s);return{$rootElement:s,buttonInstance:o(a,"dxButton",y({validationGroup:r},e.buttonOptions))}}function ZNe(t){return O(t)?t:"right"}function eLe(t){switch(t){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}var tLe="dx-field-empty-item";function SB(t){var{$parent:e,rootElementCssClassList:i}=t;return g("<div>").addClass(tLe).html("&nbsp;").addClass(i.join(" ")).appendTo(e)}var iLe="dxTextBox",nLe="dx-first-row",rLe="dx-last-row",oLe="dx-first-col",sLe="dx-last-col",aLe=Ci.inherit({_getDefaultOptions:function(){return y(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:j.format("dxForm-optionalMark"),requiredMessage:j.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),y(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var t=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new Gg,this._updateReferencedOptions(t),this._initDataAndItems(t)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(t){this._syncDataWithItems(),this._updateItems(t)},_syncDataWithItems:function(){var t=this.option("layoutData"),e=this.option("items");O(e)&&e.forEach(i=>{if(i.dataField&&this._getDataByField(i.dataField)===void 0){var n;i.editorOptions&&(n=i.editorOptions.value),(O(n)||i.dataField in t)&&this._updateFieldValue(i.dataField,n)}})},_getDataByField:function(t){return t?this.option("layoutData."+t):null},_isCheckboxUndefinedStateEnabled:function(t){var{allowIndeterminateState:e,editorType:i,dataField:n}=t;if(e===!0&&i==="dxCheckBox"){var r=["layoutData",...n.split(".")],o=r.pop(),s=this.option(r.join("."));return s&&o in s}return!1},_updateFieldValue:function(t,e){var i=this.option("layoutData"),n=e;!En.isWrapped(i[t])&&O(t)?this.option("layoutData."+t,n):En.isWritableWrapped(i[t])&&(n=ce(n)?n():n,i[t](n)),this._triggerOnFieldDataChanged({dataField:t,value:n})},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_updateItems:function(t){var e=this,i=this.option("items"),n=O(i),r=e.option("customizeItem"),o=n?i:this._generateItemsByData(t);if(O(o)){var s=[];F(o,function(a,l){e._isAcceptableItem(l)&&(l=e._processItem(l),r&&r(l),ke(l)&&En.unwrap(l.visible)!==!1&&s.push(l))}),(!e._itemWatchers.length||!n)&&e._updateItemWatchers(o),this._setItems(s),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach(function(t){t()}),this._itemWatchers=[]},_updateItemWatchers:function(t){var e=this,i=e._getWatch();t.forEach(function(n){ke(n)&&O(n.visible)&&ce(i)&&e._itemWatchers.push(i(function(){return En.unwrap(n.visible)},function(){e._updateItems(e.option("layoutData")),e.repaint()},{skipImmediate:!0}))})},_generateItemsByData:function(t){var e=[];return O(t)&&F(t,function(i){e.push({dataField:i})}),e},_isAcceptableItem:function(t){var e=t.dataField||t,i=this._getDataByField(e);return!(ce(i)&&!En.isWrapped(i))},_processItem:function(t){if(typeof t=="string"&&(t={dataField:t}),typeof t=="object"&&!t.itemType&&(t.itemType=EC),!O(t.editorType)&&O(t.dataField)){var e=this._getDataByField(t.dataField);t.editorType=O(e)?this._getEditorTypeByDataType(ir(e)):iLe}if(t.editorType==="dxCheckBox"){var i;t.allowIndeterminateState=(i=t.allowIndeterminateState)!==null&&i!==void 0?i:!0}return t},_getEditorTypeByDataType:function(t){switch(t){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){nh(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(t,e){var i=t.visibleIndex,n=e.visibleIndex,r;return i>n?r=1:i<n?r=-1:r=0,r})},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(KQ),this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox:function(){var t=[];if(this._items&&this._items.length){var e=this._getColCount(),i=g("<div>").appendTo(this.$element());this._prepareItemsWithMerging(e);var n=this._generateLayoutItems();this._responsiveBox=this._createComponent(i,$Q,this._getResponsiveBoxConfig(n,e,t)),Ne()||this._renderTemplates(t)}},_itemStateChangedHandler:function(t){this._refresh()},_renderTemplates:function(t){var e=this,i=0;t.forEach(n=>{var r,{item:o}=n;o!=null&&(r=o.label)!==null&&r!==void 0&&r.template&&i++}),F(t,function(n,r){switch(r.itemType){case"empty":SB(r);break;case"button":e._renderButtonItem(r);break;default:e._renderFieldItem(r,i)}})},_getResponsiveBoxConfig:function(t,e,i){var n=this,r=n.option("colCountByScreen"),o=r&&r.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged:function(){var s=n.option("onLayoutChanged"),a=n.isSingleColumnMode();s&&(n.$element().toggleClass(vB,a),s(a))},onContentReady:function(s){Ne()&&n._renderTemplates(i),n.option("onLayoutChanged")&&n.$element().toggleClass(vB,n.isSingleColumnMode(s.component))},itemTemplate:function(s,a,l){if(s.location){var d=g(l),u=s.location.row*e,h=n._items[s.location.col+u];if(h){var p=[h.cssClass];d.toggleClass(qQ,n.isSingleColumnMode(this)),s.location.row===0&&p.push(nLe),s.location.col===0&&p.push(oLe),h.itemType===EC&&n.option("isRoot")&&d.addClass(nE);var m=s.location.col===e-1||s.location.col+s.location.colspan===e,c=n._getRowsCount(),x=s.location.row===c-1;m&&p.push(sLe),x&&p.push(rLe),h.itemType!=="empty"&&(p.push(iE),p.push(n.option("cssItemClass")),O(h.col)&&p.push("dx-col-"+h.col)),i.push({itemType:h.itemType,item:h,$parent:d,rootElementCssClassList:p})}}},cols:n._generateRatio(e),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:t,screenByWidth:n.option("screenByWidth"),singleColumnScreen:o?!1:"xs"}},_getColCount:function(){var t=this.option("colCount"),e=this.option("colCountByScreen");if(e){var i=this.option("form").getTargetScreenFactor();i||(i=Ne()?fb(this.option("screenByWidth")):"lg"),t=e[i]||t}if(t==="auto"){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=t=this._getMaxColCount()}return t<1?1:t},_getMaxColCount:function(){if(!Ne())return 1;var t=this.option("minColWidth"),e=Ae(this.$element()),i=this._items.length,n=Math.floor(e/t)||1;return i<n?i:n},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(t){var e=this._items.slice(0),i,n,r=[],o,s;for(s=0;s<e.length;s++)if(i=e[s],r.push(i),(this.option("alignItemLabels")||i.alignItemLabels||i.colSpan)&&(i.col=this._getColByIndex(r.length-1,t)),i.colSpan>1&&i.col+i.colSpan<=t){for(n=[],o=0;o<i.colSpan-1;o++)n.push({merged:!0});r=r.concat(n)}else delete i.colSpan;this._setItems(r)},_getColByIndex:function(t,e){return t%e},_setItems:function(t){this._items=t,this._cashedColCount=null},_generateLayoutItems:function(){var t=this._items,e=this._getColCount(),i=[],n,r;for(r=0;r<t.length;r++)if(n=t[r],!n.merged){var o={location:{row:parseInt(r/e),col:this._getColByIndex(r,e)}};O(n.disabled)&&(o.disabled=n.disabled),O(n.visible)&&(o.visible=n.visible),O(n.colSpan)&&(o.location.colspan=n.colSpan),O(n.rowSpan)&&(o.location.rowspan=n.rowSpan),i.push(o)}return i},_renderEmptyItem:function(t){SB({$container:t})},_renderButtonItem:function(t){var{item:e,$parent:i,rootElementCssClassList:n}=t,{$rootElement:r,buttonInstance:o}=fZ({item:e,$parent:i,rootElementCssClassList:n,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:e,widgetInstance:o,guid:e.guid,$itemContainer:r})},_renderFieldItem:function(t,e){var i,n,{item:r,$parent:o,rootElementCssClassList:s}=t,a=this._getDataByField(r.dataField),l=!1;if(a===void 0){var{allowIndeterminateState:d,editorType:u,dataField:h}=r;l=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:d,editorType:u,dataField:h})}var p=r.dataField||r.name,m=this._getFormOrThis(),{$fieldEditorContainer:c,widgetInstance:x,$rootElement:D}=pZ(rZ({$parent:o,rootElementCssClassList:s,item:r,name:p,editorValue:a,canAssignUndefinedValueToEditor:l,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:r.template?this._getTemplate(r.template):null,labelTemplate:(i=r.label)!==null&&i!==void 0&&i.template?this._getTemplate(r.label.template):null,itemId:this.option("form")&&this.option("form").getItemID(p),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode"),onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(m,e)&&m._alignLabels(this,this.isSingleColumnMode(m))}}));(n=this.option("onFieldItemRendered"))===null||n===void 0||n(),x&&r.dataField&&this._bindDataField(x,r.dataField,r.editorType,c),this._itemsRunTimeInfo.add({item:r,widgetInstance:x,guid:r.guid,$itemContainer:D})},_incTemplateRenderedCallCount(){var t;this._labelTemplateRenderedCallCount=((t=this._labelTemplateRenderedCallCount)!==null&&t!==void 0?t:0)+1},_shouldAlignLabelsOnTemplateRendered(t,e){return t.option("templatesRenderAsynchronously")&&this._labelTemplateRenderedCallCount===e},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(t,e,i,n){var r=this._getFormOrThis();t.on("enterKey",function(o){r._createActionByOption("onEditorEnterKey")(y(o,{dataField:e}))}),this._createWatcher(t,n,e),this.linkEditorToDataField(t,e,i)},_createWatcher:function(t,e,i){var n=this,r=n._getWatch();if(ce(r)){var o=r(function(){return n._getDataByField(i)},function(){var s=n._getDataByField(i);if(t.NAME==="dxTagBox"){var a=t.option("value");if(s!==a&&function(l,d){if(!Array.isArray(l)||!Array.isArray(d)||l.length!==d.length)return!1;for(var u=0;u<l.length;u++)if(l[u]!==d[u])return!1;return!0}(s,a))return}t.option("value",s)},{deep:!0,skipImmediate:!0});S.on(e,xn,o)}},_getWatch:function(){if(!O(this._watch)){var t=this.option("form");this._watch=t&&t.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(t,e,i){var n=this.option("readOnly"),r=Object.hasOwn(i,"readOnly"),o=this.callBase(t,e,te({},i,{readOnly:r?i.readOnly:n})),s=!1;return o.on("optionChanged",a=>{a.name==="readOnly"&&!s&&(r=!0)}),this.on("optionChanged",function(a){a.name==="readOnly"&&!r&&(s=!0,o.option(a.name,a.value),s=!1)}),o},_generateRatio:function(t,e){var i=[],n,r;for(r=0;r<t;r++)n={ratio:1},e&&(n.baseSize="auto"),i.push(n);return i},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(t){var e=this.option("layoutData");ke(e)&&Object.getOwnPropertyNames(e).forEach(i=>delete this._optionsByReference["layoutData."+i]),ke(t)&&Object.getOwnPropertyNames(t).forEach(i=>this._optionsByReference["layoutData."+i]=!0)},_clearWidget(t){this._disableEditorValueChangedHandler=!0,t.clear(),this._disableEditorValueChangedHandler=!1,t.option("isValid",!0)},_optionChanged(t){if(t.fullName.search("layoutData.")!==0)switch(t.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(t.value),this.option("items")?Zi(t.value)||this._itemsRunTimeInfo.each((e,i)=>{if(O(i.item)){var n=i.item.dataField;if(n&&O(i.widgetInstance)){var r=Tt(n),o=r(t.value),{allowIndeterminateState:s,editorType:a}=i.item;o!==void 0||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:s,editorType:a,dataField:n})?i.widgetInstance.option("value",o):this._clearWidget(i.widgetInstance)}}}):(this._initDataAndItems(t.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(t.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":this.option("colCount")==="auto"&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(t),this.option("colCount")==="auto"&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(t)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(t,e){this.on("optionChanged",i=>{i.fullName==="layoutData.".concat(e)&&t._setOptionWithoutOptionChange("value",i.value)}),t.on("valueChanged",i=>{var n=ke(i.value)||Array.isArray(i.value);!this._disableEditorValueChangedHandler&&!(n&&i.value===i.previousValue)&&this._updateFieldValue(e,i.value)})},_dimensionChanged:function(){this.option("colCount")==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(t,e){var i=this;ke(t)?F(t,function(n,r){i._updateFieldValue(n,r)}):typeof t=="string"&&i._updateFieldValue(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},isSingleColumnMode:function(t){var e=this._responsiveBox||t;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});Be("dxLayoutManager",aLe);var wB="dx-validationsummary",lLe=wB+"-item",dLe=wB+"-item-data",gZ=Sr.inherit({_getDefaultOptions(){return y(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),y(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var t=this.$element(),e=this.option("validationGroup")||li.findGroup(t,this._modelByElement(t)),i=li.addGroup(e);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),i.on("validated",this.groupSubscription)},_unsubscribeGroup(){var t=li.getGroupConfig(this._validationGroup);t&&t.off("validated",this.groupSubscription)},_getOrderedItems(t,e){var i=[];return F(t,function(n,r){var o=Sn(e,function(s){if(s.validator===r)return!0});o.length&&(i=i.concat(o))}),i},_groupValidationHandler(t){var e=this._getOrderedItems(t.validators,gi(t.brokenRules,function(i){return{text:i.message,validator:i.validator,index:i.index}}));this.validators=t.validators,F(this.validators,(i,n)=>{if(n._validationSummary!==this){var r=this._itemValidationHandler.bind(this);n.on("validated",r),n.on("disposing",function(){n.off("validated",r),n._validationSummary=null,r=null}),n._validationSummary=this}}),this.option("items",e)},_itemValidationHandler(t){for(var{isValid:e,validator:i,brokenRules:n}=t,r=this.option("items"),o=!1,s=0,a=function(){var l=r[s];if(l.validator===i){var d=Sn(n||[],function(u){return u.index===l.index})[0];if(e||!d)return r.splice(s,1),o=!0,1;d.message!==l.text&&(l.text=d.message,o=!0)}s++};s<r.length;)a();F(n,function(l,d){var u=Sn(r,function(h){return h.validator===i&&h.index===d.index})[0];u||(r.push({text:d.message,validator:i,index:d.index}),o=!0)}),o&&(r=this._getOrderedItems(this.validators,r),this.option("items",r))},_initMarkup(){this.$element().addClass(wB),this.callBase()},_optionChanged(t){switch(t.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(t)}},_itemClass:()=>lLe,_itemDataKey:()=>dLe,_postprocessRenderItem(t){S.on(t.itemElement,"click",function(){t.itemData.validator&&t.itemData.validator.focus&&t.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup(){this._initGroupRegistration()}});Be("dxValidationSummary",gZ);var mZ=gZ;var vZ="dx-validationgroup",uLe="dx-validator",cLe="dx-validationsummary",rE=class extends Xr{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),li.addGroup(this)}_initMarkup(){var e=this.$element();e.addClass(vZ),e.find(".".concat(uLe)).each(function(i,n){Fd.getInstance(g(n))._initGroupRegistration()}),e.find(".".concat(cLe)).each(function(i,n){mZ.getInstance(g(n)).refreshValidationGroup()}),super._initMarkup()}validate(){return li.validateGroup(this)}reset(){return li.resetGroup(this)}_dispose(){li.removeGroup(this),this.$element().removeClass(vZ),super._dispose()}_useTemplates(){return!1}};Be("dxValidationGroup",rE);var _Z=rE;var CZ="dx-state-focused",hLe=["items","isRequired","validationRules","visible"],xZ=Ci.inherit({_init:function(){this.callBase(),this._dirtyFields=new Set,this._cachedColCountOptions=[],this._itemsRunTimeInfo=new Gg,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return y(this.callBase(),{formID:"dx-"+new kt,formData:{},colCount:1,screenByWidth:nv,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:j.format("dxForm-optionalMark"),requiredMessage:j.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:_t().editorStylingMode,labelMode:"outside",isDirty:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return ki()},options:{labelLocation:"top"}},{device:function(){return mi()},options:{showColonAfterLabel:!1}}])},_setOptionsByReference:function(){this.callBase(),y(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(t){return parseInt(t.attr(bB))},_applyLabelsWidthByCol:function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,r=i.inOneColumn?iE:mB+e,o=i.excludeTabbed?":not(.".concat(xB,")"):"";lZ(t,".".concat(r).concat(o),n)},_applyLabelsWidth:function(t,e,i,n,r){n=i?1:n||this._getGroupColCount(t);var o={excludeTabbed:e,inOneColumn:i},s;for(s=0;s<n;s++)this._applyLabelsWidthByCol(t,s,o,r)},_getGroupElementsInColumn:function(t,e,i){var n=O(i)?"."+yB+i:"",r="."+mB+e+" > ."+OC+" > ."+tE+n;return t.find(r)},_applyLabelsWidthWithGroups:function(t,e,i,n){if(this.option("alignRootItemLabels")===!0)for(var r=t.find(".".concat(nE)),o=0;o<e;o++)this._applyLabelsWidthByCol(r,o,i,n);var s=this.option("alignItemLabelsInAllGroups");if(s)this._applyLabelsWidthWithNestedGroups(t,e,i,n);else{var a=this.$element().find("."+tE),l;for(l=0;l<a.length;l++)this._applyLabelsWidth(a.eq(l),i,void 0,void 0,n)}},_applyLabelsWidthWithNestedGroups:function(t,e,i,n){var r={excludeTabbed:i},o,s,a,l;for(o=0;o<e;o++)for(l=this._getGroupElementsInColumn(t,o),this._applyLabelsWidthByCol(l,0,r,n),s=0;s<this._groupsColCount.length;s++){l=this._getGroupElementsInColumn(t,o,this._groupsColCount[s]);var d=this._getGroupColCount(l);for(a=1;a<d;a++)this._applyLabelsWidthByCol(l,a,r,n)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(t){var{layoutManager:e,inOneColumn:i,$container:n,excludeTabbed:r,items:o}=t;if(!(!Ne()||this._labelLocation()==="top")){var s=OB(e._getMarkOptions());i?this._applyLabelsWidth(n,r,!0,void 0,s):this._checkGrouping(o)?this._applyLabelsWidthWithGroups(n,e._getColCount(),r,s):this._applyLabelsWidth(n,r,!1,e._getColCount(),s)}},_prepareFormData:function(){O(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){this.option("stylingMode")==="underlined"&&this.$element().addClass(eZ)},_initMarkup:function(){li.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(GQ),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()},_attachResizeObserverSubscription:function(){if(Ne()){var t=this.$element().get(0);hl.unobserve(t),hl.observe(t,()=>{this._resizeHandler()})}},_resizeHandler:function(){this._cachedLayoutManagers.length&&F(this._cachedLayoutManagers,(t,e)=>{var i;(i=e.option("onLayoutChanged"))===null||i===void 0||i(e.isSingleColumnMode())})},_getCurrentScreenFactor:function(){return Ne()?fb(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(t,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:t,excludeTabbed:!0,items:this.option("items"),inOneColumn:e}),Pr(this.$element().find(".".concat(TD)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,hl.unobserve(this.$element().get(0))},_renderScrollable:function(){var t=this.option("useNativeScrolling");this._scrollable=new Or(this.$element(),{useNative:!!t,useSimulatedScrollbar:!t,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?g(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var t;(t=this._$validationSummary)===null||t===void 0||t.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=g("<div>").addClass(ZQ).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(t,e,i,n){if(t){for(var r=[],o=0;o<t.length;o++){var s=t[o],a=sB(i,QO(o,n)),l={item:s,itemIndex:o,path:a},d=this._itemsRunTimeInfo.add(l);if(Se(s)&&(s={dataField:s}),ke(s)){var u=te({},s);l.preparedItem=u,u.guid=d,this._tryPrepareGroupItem(u),this._tryPrepareTabbedItem(u,a),this._tryPrepareItemTemplate(u),e&&(u.cssItemClass=xB),u.items&&(u.items=this._prepareItems(u.items,e,a)),r.push(u)}else r.push(s)}return r}},_tryPrepareGroupItem:function(t){t.itemType==="group"&&(t.alignItemLabels=Qt(t.alignItemLabels,!0),t._prepareGroupItemTemplate=e=>{t.template&&(t.groupContentTemplate=this._getTemplate(e)),t.template=this._itemGroupTemplate.bind(this,t)},t._prepareGroupItemTemplate(t.template))},_tryPrepareTabbedItem:function(t,e){t.itemType==="tabbed"&&(t.template=this._itemTabbedTemplate.bind(this,t),t.tabs=this._prepareItems(t.tabs,!0,e,!0))},_tryPrepareItemTemplate:function(t){t.template&&(t.template=this._getTemplate(t.template))},_checkGrouping:function(t){if(t)for(var e=0;e<t.length;e++){var i=t[e];if(i.itemType==="group")return!0}},_renderLayout:function(){var t=this,e=t.option("items"),i=t._getContent();e=t._prepareItems(e),t._rootLayoutManager=t._renderLayoutManager(i,this._createLayoutManagerOptions(e,{isRoot:!0,colCount:t.option("colCount"),alignItemLabels:t.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(n){t._alignLabels.bind(t)(t._rootLayoutManager,n)},onContentReady:function(n){t._alignLabels(n.component,n.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(t){return t.items||[]},_itemTabbedTemplate:function(t,e,i){var n,r=g("<div>").appendTo(i),o=y({},t.tabPanelOptions,{dataSource:t.tabs,onItemRendered:l=>{var d,u;(d=t.tabPanelOptions)===null||d===void 0||(u=d.onItemRendered)===null||u===void 0||u.call(d,l),yf(l.itemElement)},itemTemplate:(l,d,u)=>{var h=g(u),p=Qt(l.alignItemLabels,!0),m=this._renderLayoutManager(h,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(l),{colCount:l.colCount,alignItemLabels:p,screenByWidth:this.option("screenByWidth"),colCountByScreen:l.colCountByScreen,cssItemClass:l.cssItemClass,onLayoutChanged:c=>{this._alignLabelsInColumn({$container:h,layoutManager:m,items:l.items,inOneColumn:c})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(l.guid,{layoutManager:m}),p&&this._alignLabelsInColumn({$container:h,layoutManager:m,items:l.items,inOneColumn:m.isSingleColumnMode()})}}),s=(l,d)=>{Array.isArray(l)&&l.forEach(u=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(u.guid,{widgetInstance:d}))},a=this._createComponent(r,kQ,o);g(i).parent().addClass(XQ),a.on("optionChanged",l=>{l.fullName==="dataSource"&&s(l.value,l.component)}),s([{guid:t.guid},...(n=t.tabs)!==null&&n!==void 0?n:[]],a)},_itemGroupTemplate:function(t,e,i){var n=e.editorOptions.inputAttr.id,r=g("<div>").toggleClass(QQ,O(t.caption)&&t.caption.length).addClass(tE).appendTo(i),o={role:"group",labelledby:n};this.setAria(o,r),g(i).parent().addClass(YQ),t.caption&&g("<span>").addClass(UQ).text(t.caption).attr("id",n).appendTo(r);var s=g("<div>").addClass(JQ).appendTo(r);if(t.groupContentTemplate)t._renderGroupContentTemplate=()=>{s.empty();var d={formData:this.option("formData"),component:this};t.groupContentTemplate.render({model:d,container:Pe(s)})},t._renderGroupContentTemplate();else{var a=this._renderLayoutManager(s,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(t),{colCount:t.colCount,colCountByScreen:t.colCountByScreen,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:a});var l=a._getColCount();this._groupsColCount.includes(l)||this._groupsColCount.push(l),r.addClass(yB+l),r.attr(bB,l)}},_createLayoutManagerOptions:function(t,e){return BQ({form:this,formOptions:this.option(),$formElement:this.$element(),items:t,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:e,onFieldDataChanged:i=>{this._isDataUpdating||this._triggerOnFieldDataChanged(i)},onContentReady:i=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(i.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(i)},onDisposing:i=>{var{component:n}=i,r=n.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(r)},onFieldItemRendered:()=>{var i;(i=this._validationSummary)===null||i===void 0||i.refreshValidationGroup()}})},_renderLayoutManager:function(t,e){var i={lg:e.colCount,md:e.colCount,sm:e.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:y(i,e.colCountByScreen)});var n=g("<div>");n.appendTo(t);var r=this._createComponent(n,"dxLayoutManager",e);return r.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(r),r},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(t,e,i){return i=i||{},this._extendConfig(i,{readOnly:this.option("readOnly")}),this.callBase(t,e,i)},_attachSyncSubscriptions:function(){var t=this;t.on("optionChanged",function(e){var i=e.fullName;i==="formData"&&(O(e.value)||t._options.silent("formData",e.value={}),t._triggerOnFieldDataChangedByDataSet(e.value)),t._cachedLayoutManagers.length&&F(t._cachedLayoutManagers,function(n,r){i==="formData"&&(t._isDataUpdating=!0,r.option("layoutData",e.value),t._isDataUpdating=!1),(e.name==="readOnly"||e.name==="disabled")&&r.option(i,e.value)})})},_optionChanged:function(t){var e=t.fullName.split(".");e.length>1&&e[0].search("items")!==-1&&this._itemsOptionChangedHandler(t)||e.length>1&&e[0].search("formData")!==-1&&this._formDataOptionChangedHandler(t)||this._defaultOptionChangedHandler(t)},_defaultOptionChangedHandler:function(t){switch(t.name){case"formData":this.option("items")?Zi(t.value)&&this._clear():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":this.option("colCount")==="auto"&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":case"isDirty":break;case"width":this.callBase(t),this._rootLayoutManager.option(t.name,t.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":li.removeGroup(t.previousValue||this),this._invalidate();break;default:this.callBase(t)}},_itemsOptionChangedHandler:function(t){var e=t.fullName.split("."),i=t.value,n=this._getItemPath(e),r=this.option(n),o=t.fullName.replace(n+".",""),s=o.split(".")[0].replace(/\[\d+]/,""),a=this._tryCreateItemOptionAction(s,r,r[s],t.previousValue,n),l=this._tryExecuteItemOptionAction(a)||this._tryChangeLayoutManagerItemOption(t.fullName,i);if(!l&&r){this._changeItemOption(r,o,i);var d=this._generateItemsFromData(this.option("items"));this.option("items",d),l=!0}return l},_formDataOptionChangedHandler:function(t){var e=t.fullName.split("."),i=t.value,n=e.slice(1).join("."),r=this.getEditor(n);return r?r.option("value",i):this._triggerOnFieldDataChanged({dataField:n,value:i}),!0},_tryCreateItemOptionAction:function(t,e,i,n,r){return t==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(r,".tabs")),i=this._prepareItems(i,!0,r,!0)),VQ(t,{item:e,value:i,previousValue:n,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(t){return t&&t.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(t){var e=aB(t);if(hLe.indexOf(e)>-1&&(li.addGroup(this._getValidationGroup()),this.option("showValidationSummary"))){var i;(i=this._validationSummary)===null||i===void 0||i.refreshValidationGroup()}},_setLayoutManagerItemOption(t,e,i,n){if(this._updateLockCount>0){!t._updateLockCount&&t.beginUpdate();var r=this._itemsRunTimeInfo.findKeyByPath(n);this.postponedOperations.add(r,()=>(!t._disposed&&t.endUpdate(),new H().resolve()))}var o=s=>{if(s.component.off("contentReady",o),lB(n)){var a=LQ(n),l=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(a);l&&this._alignLabelsInColumn({items:l.option("items"),layoutManager:l,$container:l.$element(),inOneColumn:l.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};t.on("contentReady",o),t.option(e,i),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption(t,e){var i=t.split("."),n=aB(t);if(n==="items"&&i.length>1){var r=this._getItemPath(i),o=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(r);if(o){this._itemsRunTimeInfo.removeItemsByItems(o.getItemsRunTimeInfo());var s=this._prepareItems(e,!1,r);return this._setLayoutManagerItemOption(o,n,s,r),!0}}else if(i.length>2){var a=i.length-2,l=this._getItemPath(i.slice(0,a)),d=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(d){var u=Gh(i[a],n);if(n==="editorType"&&d.option(u)!==e)return!1;if(n==="visible"){var h=this.option(Gh(l,"items"));if(h&&h.length){var p=d.option("items");h.forEach((m,c)=>{var x=p[c];x.visibleIndex=m.visibleIndex})}}return this._setLayoutManagerItemOption(d,u,e,l),!0}}return!1},_tryChangeLayoutManagerItemOptions(t,e){var i;return this.beginUpdate(),F(e,(n,r)=>{if(i=this._tryChangeLayoutManagerItemOption(Gh(t,n),r),!i)return!1}),this.endUpdate(),i},_getItemPath:function(t){var e=t[0],i;for(i=1;i<t.length&&t[i].search(/items\[\d+]|tabs\[\d+]/)!==-1;i++)e+="."+t[i];return e},_triggerOnFieldDataChanged:function(t){this._updateIsDirty(t.dataField),this._createActionByOption("onFieldDataChanged")(t)},_triggerOnFieldDataChangedByDataSet:function(t){var e=this;t&&ke(t)&&F(t,function(i,n){e._triggerOnFieldDataChanged({dataField:i,value:n})})},_updateFieldValue:function(t,e){if(O(this.option("formData"))){var i=this.getEditor(t);if(this.option("formData."+t,e),i){var n=i.option("value");n!==e&&i.option("value",e)}}},_generateItemsFromData:function(t){var e=this.option("formData"),i=[];return!t&&O(e)&&F(e,function(n){i.push({dataField:n})}),t&&F(t,function(n,r){ke(r)?i.push(r):i.push({dataField:r})}),i},_getItemByField:function(t,e){var i=this,n=ke(t)?t:i._getFieldParts(t),r=n.fieldName,o=n.fieldPath,s;return e.length&&F(e,function(a,l){var d=l.itemType;if(o.length){var u=o.slice();l=i._getItemByFieldPath(u,r,l)}else if(d==="group"&&!(l.caption||l.name)||d==="tabbed"&&!l.name){var h=i._getSubItemField(d);l.items=i._generateItemsFromData(l.items),l=i._getItemByField({fieldName:r,fieldPath:o},l[h])}if(NQ(l,r))return s=l,!1}),s},_getFieldParts:function(t){for(var e=t,i=e.indexOf("."),n=[];i!==-1;)n.push(e.substr(0,i)),e=e.substr(i+1),i=e.indexOf(".");return{fieldName:e,fieldPath:n.reverse()}},_getItemByFieldPath:function(t,e,i){var n=i.itemType,r=this._getSubItemField(n),o=n==="group"||n==="tabbed"||i.title,s;do if(o){var a=i.name||i.caption||i.title,l=O(a),d=ZO(a),u=void 0;if(i[r]=this._generateItemsFromData(i[r]),l&&(u=t.pop()),!t.length&&(s=this._getItemByField(e,i[r]),s))break;(!l||l&&d===u)&&t.length&&(s=this._searchItemInEverySubItem(t,e,i[r]))}else break;while(t.length&&!O(s));return s},_getSubItemField:function(t){return t==="tabbed"?"tabs":"items"},_searchItemInEverySubItem:function(t,e,i){var n=this,r;return F(i,function(o,s){if(r=n._getItemByFieldPath(t.slice(),e,s),r)return!1}),r||(r=!1),r},_changeItemOption:function(t,e,i){ke(t)&&(t[e]=i)},_dimensionChanged:function(){var t=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==t&&(this._isColCountChanged(this._lastMarkupScreenFactor,t)&&(this._targetScreenFactor=t,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=t)},_isColCountChanged:function(t,e){var i=!1;return F(this._cachedColCountOptions,function(n,r){if(r.colCountByScreen[t]!==r.colCountByScreen[e])return i=!0,!1}),i},_refresh:function(){var t=".".concat(CZ," > :not(.dx-dropdowneditor-input-wrapper) input,")+" .".concat(CZ," textarea");S.trigger(this.$element().find(t),"change"),this.callBase()},_updateIsDirty:function(t){var e=this.getEditor(t);e&&(e.option("isDirty")?this._dirtyFields.add(t):this._dirtyFields.delete(t),this.option("isDirty",!!this._dirtyFields.size))},updateRunTimeInfoForEachEditor:function(t){this._itemsRunTimeInfo.each(function(e,i){var n=i.widgetInstance;O(n)&&Cr.isEditor(n)&&t(n)})},_clear:function(){this.updateRunTimeInfoForEachEditor(t=>{t.clear(),t.option("isValid",!0)}),li.resetGroup(this._getValidationGroup())},_updateData:function(t,e,i){var n=this,r=i?e:t;ke(r)?F(r,function(o,s){n._updateData(i?t+"."+o:o,s,ke(s))}):Se(t)&&n._updateFieldValue(t,e)},registerKeyHandler:function(t,e){this.callBase(t,e),this._itemsRunTimeInfo.each(function(i,n){O(n.widgetInstance)&&n.widgetInstance.registerKeyHandler(t,e)})},_focusTarget:function(){return this.$element().find("."+OC+" [tabindex]").first()},_visibilityChanged:function(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),li.removeGroup(this._getValidationGroup()),this.callBase()},clear:function(){this._clear()},resetValues:function(){this._clear()},reset:function(t){this.updateRunTimeInfoForEachEditor(e=>{var i=e.option("name");t&&i in t?e.reset(t[i]):e.reset()}),this._renderValidationSummary()},updateData:function(t,e){this._updateData(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},getButton:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByName(t)},updateDimensions:function(){var t=this,e=new H;return t._scrollable?t._scrollable.update().done(function(){e.resolveWith(t)}):e.resolveWith(t),e.promise()},itemOption:function(t,e,i){var n=this._generateItemsFromData(this.option("items")),r=this._getItemByField(t,n),o=dB(n,r);if(r)switch(arguments.length){case 1:return r;case 3:var s=this._tryCreateItemOptionAction(e,r,i,r[e],o);this._changeItemOption(r,e,i);var a=Gh(o,e);!this._tryExecuteItemOptionAction(s)&&!this._tryChangeLayoutManagerItemOption(a,i)&&this.option("items",n);break;default:if(ke(e)&&!this._tryChangeLayoutManagerItemOptions(o,e)){var l;F(e,(d,u)=>{var h=this._tryCreateItemOptionAction(d,r,u,r[d],o);this._changeItemOption(r,d,u),!l&&!this._tryExecuteItemOptionAction(h)&&(l=!0)}),l&&this.option("items",n)}}},validate:function(){return li.validateGroup(this._getValidationGroup())},getItemID:function(t){return"dx_"+this.option("formID")+"_"+(t||new kt)},getTargetScreenFactor:function(){return this._targetScreenFactor}});Be("dxForm",xZ);var yZ=xZ;var Kg=yZ;var pLe=t=>class extends t{init(){this._editForm=null,this._updateEditFormDeferred=null,super.init()}isFormOrPopupEditMode(){return this.isPopupEditMode()||this.isFormEditMode()}isPopupEditMode(){var e=this.option("editing.mode");return e===UO}isFormEditMode(){var e=this.option("editing.mode");return e===ac}getFirstEditableColumnIndex(){var e=this._firstFormItem;if(this.isFormEditMode()&&e){var i=this.option(Hr),n=this._dataController.getRowIndexByKey(i),r=this._rowsView.getCellElements(n);return this._rowsView._getEditFormEditorVisibleIndex(r,e.column)}return super.getFirstEditableColumnIndex()}getEditFormRowIndex(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():super.getEditFormRowIndex()}_isEditColumnVisible(){var e=super._isEditColumnVisible(),i=this.option("editing");return this.isFormOrPopupEditMode()&&i.allowUpdating||e}_handleDataChanged(e){var i,n;if(this.isPopupEditMode()){var r=this.option("editing.editRowKey"),o=(i=e?.items)===null||i===void 0?void 0:i.some(a=>Rt(a.key,r)),s=((n=e.changeTypes)===null||n===void 0?void 0:n.length)&&e.changeTypes.every(a=>a==="insert");(e.changeType==="refresh"||o&&e.isOptionChanged)&&!s&&this._repaintEditPopup()}super._handleDataChanged(e)}getPopupContent(){var e,i=(e=this._editPopup)===null||e===void 0?void 0:e.option("visible");if(this.isPopupEditMode()&&i)return this._$popupContent}_showAddedRow(e){this.isPopupEditMode()?this._showEditPopup(e):super._showAddedRow(e)}_cancelEditDataCore(){super._cancelEditDataCore(),this.isPopupEditMode()&&this._hideEditPopup()}_updateEditRowCore(e,i,n){var r,o=this._editForm;this.isPopupEditMode()?this.option("repaintChangesOnly")?((r=e.update)===null||r===void 0||r.call(e,e),this._rowsView.renderDelayedTemplates()):o&&(this._updateEditFormDeferred=new H().done(()=>o.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve()):super._updateEditRowCore(e,i,n)}_showEditPopup(e,i){var n=be.current().deviceType!=="desktop",r=this.addWidgetPrefix(KX),o=y({showTitle:!1,fullScreen:n,wrapperAttr:{class:r},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(e)},this.option(zg));if(!this._editPopup){var s=g("<div>").appendTo(this.component.$element()).addClass(r);this._editPopup=this._createComponent(s,Xn),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",a=>{var l;S.trigger(a.component.$content().find(Wg).not(".".concat(JX)).first(),"focus"),i&&((l=this._editForm)===null||l===void 0||l.repaint())})}this._editPopup.option(o),this._editPopup.show(),super._showEditPopup(e,i)}_getPopupEditFormTemplate(e){var i=this.component.getVisibleRows()[e],n={row:i,values:i.values,rowType:i.rowType,key:i.key,rowIndex:e};return this._rowsView._addWatchMethod(n,i),r=>{var o=this.getEditFormTemplate(),s=this._createComponent(g("<div>").appendTo(r),Or);this._$popupContent=g(s.content()),o(this._$popupContent,n,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates(),g(r).parent().attr("aria-label",this.localize("dxDataGrid-ariaEditForm"))}}_repaintEditPopup(){var e,i,n=this._getVisibleEditRowIndex();if(n>=0){var r=(e=this._editPopup)===null||e===void 0?void 0:e.option("animation");(i=this._editPopup)===null||i===void 0||i.option("animation",null),this._showEditPopup(n,!0),r!==void 0&&this._editPopup.option("animation",r)}}_hideEditPopup(){var e;(e=this._editPopup)===null||e===void 0||e.option("visible",!1)}optionChanged(e){if(e.name==="editing"&&this.isFormOrPopupEditMode()){var{fullName:i}=e;i.indexOf($O)===0?(this._handleFormOptionChange(e),e.handled=!0):i.indexOf(zg)===0&&(this._handlePopupOptionChange(e),e.handled=!0)}super.optionChanged(e)}_handleFormOptionChange(e){var i;if(this.isFormEditMode()){var n=this._getVisibleEditRowIndex();n>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[n]})}else!((i=this._editPopup)===null||i===void 0)&&i.option("visible")&&e.fullName.indexOf($O)===0&&this._repaintEditPopup()}_handlePopupOptionChange(e){var i=this._editPopup;if(i){var n=e.fullName.slice(zg.length+1);n?i.option(n,e.value):i.option(e.value)}}renderFormEditorTemplate(e,i,n,r,o){var s=this,a=g(r),{column:l}=i,d=iQ(i),u=e?.row.data,h=n.component,{label:p,labelMark:m,labelMode:c}=n.editorOptions||{},x=y({},e,{data:u,cellElement:null,isOnForm:!0,item:i,id:h.getItemID(i.name||i.dataField),column:y({},l,{editorType:d,editorOptions:y({label:p,labelMark:m,labelMode:c},l.editorOptions,i.editorOptions)}),columnIndex:l.index,setValue:!o&&l.allowEditing&&function(T,N){s.updateFieldValue(x,T,N)}});x.value=l.calculateCellValue(u);var D=this._getFormEditItemTemplate.bind(this)(x,l);return this._rowsView.renderTemplate(a,D,x,!!Ou(a)).done(()=>{this._rowsView._updateCell(a,x)}),x}getFormEditorTemplate(e,i){var n=this.component.columnOption(i.name||i.dataField);return(r,o)=>{var s=g(o),{row:a}=e;if(a?.watch){var l=a.watch(()=>n.selector(a.data),()=>{var d=s.find(".dx-widget").first(),u=d.data("dxValidator"),h=u?.option();s.contents().remove(),e=this.renderFormEditorTemplate.bind(this)(e,i,r,s),d=s.find(".dx-widget").first(),u=d.data("dxValidator"),h&&!u&&d.dxValidator({validationRules:h.validationRules,validationGroup:h.validationGroup,dataGetter:h.dataGetter})});S.on(s,xn,l)}e=this.renderFormEditorTemplate.bind(this)(e,i,r,s)}}getEditFormOptions(e){var i,n=(i=this._getValidationGroupsInForm)===null||i===void 0?void 0:i.call(this,e),r=this.option("editing.form.customizeItem"),o=this.addWidgetPrefix(KL),s=this.option("editing.form.items"),a={};if(s)ZL(s,d=>{var u=d?.name||d?.dataField;u&&(a[u]=!!d.editorType)});else{var l=this.getController("columns").getColumns();s=[],F(l,(d,u)=>{!u.isBand&&!u.type&&s.push({column:u,name:u.name,dataField:u.dataField})})}return y({},n,{items:s,formID:"dx-".concat(new kt),customizeItem:d=>{var u,h=d.name||d.dataField;if((d.column||h)&&(u=d.column||this._columnsController.columnOption(d.name?"name:".concat(d.name):"dataField:".concat(d.dataField))),u){if(d.label=d.label||{},d.label.text=d.label.text||u.caption,u.dataType==="boolean"&&d.label.visible===void 0){var p=this.option("editing.form.labelMode");(p==="floating"||p==="static")&&(d.label.visible=!0)}d.template=d.template||this.getFormEditorTemplate(e,d),d.column=u,d.isCustomEditorType=a[h],u.formItem&&y(d,u.formItem),d.isRequired===void 0&&u.validationRules&&(d.isRequired=u.validationRules.some(c=>c.type==="required"),d.validationRules=[]);var m=O(d.visible)?d.visible:!0;!this._firstFormItem&&m&&(this._firstFormItem=d)}r?.call(this,d),d.cssClass=Se(d.cssClass)?"".concat(d.cssClass," ").concat(o):o}})}getEditFormTemplate(){return(e,i,n)=>{var r=this.option($O),o=this.getEditFormOptions(i),s=g("<div>").appendTo(e),a=n?.isPopupForm;if(this._firstFormItem=void 0,a&&s.addClass(this.addWidgetPrefix(qX)),this._editForm=this._createComponent(s,Kg,y({},r,o)),!a){var l=g("<div>").addClass(this.addWidgetPrefix(XX)).appendTo(e);this._createComponent(g("<div>").appendTo(l),ci,this._getSaveButtonConfig()),this._createComponent(g("<div>").appendTo(l),ci,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var d;this._rowsView.renderDelayedTemplates(),(d=this._editPopup)===null||d===void 0||d.repaint()})}}getEditForm(){return this._editForm}_endUpdateCore(){var e;(e=this._updateEditFormDeferred)===null||e===void 0||e.resolve()}_beforeEndSaving(e){var i;super._beforeEndSaving(e),this.isPopupEditMode()&&((i=this._editPopup)===null||i===void 0||i.hide())}_processDataItemCore(e,i,n,r,o){var{type:s}=i;this.isPopupEditMode()&&s===Vs&&(e.visible=!1),super._processDataItemCore(e,i,n,r,o)}_editRowFromOptionChangedCore(e,i){var n=this.isPopupEditMode();super._editRowFromOptionChangedCore(e,i,n),n&&this._showEditPopup(i)}},bZ={extenders:{controllers:{editing:pLe,data:{_updateEditItem(t){this._editingController.isFormEditMode()&&(t.rowType="detail")},_getChangedColumnIndices(t,e,i,n){if(!(n===!1&&e.isEditing&&this._editingController.isFormEditMode()))return this.callBase.apply(this,arguments)}}},views:{rowsView:{_renderCellContent(t,e){e.rowType==="data"&&this._editingController.isPopupEditMode()&&e.row.visible===!1||this.callBase.apply(this,arguments)},getCellElements(t){var e=this.callBase(t),i=this._editingController,n=i.getEditForm(),r=i.getEditFormRowIndex();return r===t&&e&&n?n.$element().find(".".concat(this.addWidgetPrefix(KL),", .").concat(YX)):e},_getVisibleColumnIndex(t,e,i){var n=this._editingController.getEditFormRowIndex();if(n===e&&Se(i)){var r=this._columnsController.columnOption(i);return this._getEditFormEditorVisibleIndex(t,r)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex(t,e){var i=-1;return F(t,(n,r)=>{var o=g(r).find(".dx-field-item-content").data("dx-form-item");if(o?.column&&e&&o.column.index===e.index)return i=n,!1}),i},_isFormItem(t){var e=t.rowType==="detail"||t.rowType==="detailAdaptive",i=t.rowType==="data"&&this._editingController.isPopupEditMode();return(e||i)&&t.item},_updateCell(t,e){this._isFormItem(e)?this._formItemPrepared(e,t):this.callBase(t,e)},_updateContent(){var t=this._editingController,e=t.getEditForm(),i=e?.option("validationGroup"),n=this.callBase.apply(this,arguments);return n.done(()=>{var r=t.getEditForm();i&&r&&r!==e&&r.option("validationGroup",i)})}}}}};Ie.registerModule("editingFormBased",bZ);var fLe=t=>class extends t{init(){var e=!this._saveEditorHandler;if(super.init(),e){var i,n;this._pointerUpEditorHandler=()=>{var r;n=(r=this.getController("columnsResizer"))===null||r===void 0?void 0:r.isResizing()},this._pointerDownEditorHandler=r=>i=g(r.target),this._saveEditorHandler=this.createAction(function(r){var{event:o}=r,s=g(o.target),a=o[GO],{component:l}=this;if(tQ(i)&&!i.is(s))return;function d(x){if(!x)return!1;var D=x.closest(".".concat($X)),T=l.$element();return D.length>0&&T.closest(D).length===0}if(this.isCellOrBatchEditMode()&&!this._editCellInProgress){var u=d(s)||d(a?.$element()),h=a&&!a._disposed&&a!==this.component,p=!!s.closest(".".concat(this.addWidgetPrefix(jX))).length,m=s.hasClass(this.addWidgetPrefix(WX)),c=this.isCellEditMode();!n&&!u&&!m&&!(p&&c&&this.isEditing())&&(Ou(s)||h)&&this._closeEditItem.bind(this)(s)}}),S.on(ie.getDocument(),nt.up,this._pointerUpEditorHandler),S.on(ie.getDocument(),nt.down,this._pointerDownEditorHandler),S.on(ie.getDocument(),lt,this._saveEditorHandler)}}isCellEditMode(){return this.option("editing.mode")===sc}isBatchEditMode(){return this.option("editing.mode")===Ad}isCellOrBatchEditMode(){return this.isCellEditMode()||this.isBatchEditMode()}_needToCloseEditableCell(e){var i,n=this.component.$element(),r=this.isEditing(),o=!n||!!e.closest(n).length;if(o){var s=e.closest(".".concat(GX)).length;if(s){var a=this.getView("rowsView"),l=e.closest(".".concat(Da,"> td")),d=a.getRowIndex(l.parent()),u=a.getCellElements(d);if(u?.length){var h=u.index(l),p=this._columnsController.getVisibleColumns(),m=(i=p[h])===null||i===void 0?void 0:i.allowEditing,c=this.isEditCell(d,h);r=r&&!m&&!c}}}return r||super._needToCloseEditableCell(e)}_closeEditItem(e){this._needToCloseEditableCell(e)&&this.closeEditCell()}_focusEditorIfNeed(){var e;if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var i=this._getVisibleEditColumnIndex(),n=(e=this._rowsView)===null||e===void 0?void 0:e._getCellElement(this._getVisibleEditRowIndex(),i);n&&!n.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},n,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else super._focusEditorIfNeed()}isEditing(){if(this.isCellOrBatchEditMode()){var e=O(this.option(Hr)),i=O(this.option(Md));return e&&i}return super.isEditing()}_handleEditColumnNameChange(e){var i=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&i!==-1&&O(e.value)&&e.value!==e.previousValue){var n=this._columnsController.getVisibleColumnIndex(e.value),r=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,r,i)}}_addRow(e){if(this.isCellEditMode()&&this.hasChanges()){var i=new H;return this.saveEditData().done(()=>{this.hasChanges()?i.reject("cancel"):this.addRow(e).done(i.resolve).fail(i.reject)}),i.promise()}return super._addRow(e)}editCell(e,i){return this._editCell({rowIndex:e,columnIndex:i})}_editCell(e){var i=new H,n;return this.executeOperation(i,()=>{n=this._editCellCore(e),ye(n).done(i.resolve).fail(i.reject)}),n!==void 0?n:i.promise()}_editCellCore(e){var i=this._dataController,n=O(e.oldColumnIndex)||O(e.oldRowIndex),{columnIndex:r,rowIndex:o,column:s,item:a}=this._getNormalizedEditCellOptions(e),l={data:a?.data,cancel:!1,column:s};if(a.key===void 0){this._dataController.fireError("E1043");return}if(s&&(a.rowType==="data"||a.rowType==="detailAdaptive")&&!a.removed&&this.isCellOrBatchEditMode()){if(!n&&this.isEditCell(o,r))return!0;var d=o+i.getRowIndexOffset();return ye(this._beforeEditCell(o,r,a)).done(u=>{u||this._prepareEditCell(l,a,r,d)||this._processCanceledEditingCell()})}return!1}_beforeEditCell(e,i,n){if(this.isCellEditMode()&&!n.isNewRow&&this.hasChanges()){var r=new H;return this.saveEditData().always(()=>{r.resolve(this.hasChanges())}),this.addDeferred(r),r}return!1}publicMethods(){var e=super.publicMethods();return e.concat(["editCell","closeEditCell"])}_getNormalizedEditCellOptions(e){var{oldColumnIndex:i,oldRowIndex:n,columnIndex:r,rowIndex:o}=e,s=this._columnsController,a=s.getVisibleColumns(),l=this._dataController.items(),d=l[o],u;O(i)?u=a[i]:u=this._getEditColumn(),O(n)||(n=this._getVisibleEditRowIndex()),Se(r)&&(r=s.columnOption(r,"index"),r=s.getVisibleIndex(r));var h=a[r];return{oldColumn:u,columnIndex:r,oldRowIndex:n,rowIndex:o,column:h,item:d}}_prepareEditCell(e,i,n,r){var o;return i.isNewRow||(e.key=i.key),this._isEditingStart(e)?!1:(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(i.key),this._setEditColumnNameByIndex(n),e.column.showEditorAlways||this._addInternalData({key:i.key,oldData:(o=i.oldData)!==null&&o!==void 0?o:i.data}),!0)}closeEditCell(e,i){var n=ye(),r=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){var o=new H;n=new H,this.executeOperation(o,()=>{this._closeEditCellCore(e,r,i).always(n.resolve)})}return n.promise()}_closeEditCellCore(e,i,n){var r=this._dataController,o=new H,s=o.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!n)return this.saveEditData().done(l=>{if(!this.hasChanges()){this.closeEditCell(!!l).always(o.resolve);return}o.resolve()}),s}else if(this._resetEditRowKey(),this._resetEditColumnName(),i>=0){var a=[i];this._beforeCloseEditCellInBatchMode(a),e||r.updateItems({changeType:"update",rowIndices:a})}return o.resolve(),s}_resetModifiedClassCells(e){if(this.isBatchEditMode()){var i=this._columnsController.getVisibleColumns().length;e.forEach(n=>{for(var{key:r}=n,o=this._dataController.getRowIndexByKey(r),s=0;s<i;s++){var a=this._rowsView._getCellElement(o,s);a?.removeClass(yX)}})}}_prepareChange(e,i,n){var r=g(e.cellElement);return this.isBatchEditMode()&&e.key!==void 0&&this._applyModified(r,e),super._prepareChange(e,i,n)}_cancelSaving(e){var i=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),i.updateItems()),super._cancelSaving(e)}optionChanged(e){var{fullName:i}=e;e.name==="editing"&&i===Md?(this._handleEditColumnNameChange(e),e.handled=!0):super.optionChanged(e)}_editCellFromOptionChanged(e,i,n){var r=this._columnsController.getVisibleColumns();e>-1&&zi(()=>{this._repaintEditCell(r[e],r[i],n)})}_handleEditRowKeyChange(e){var i;if(this.isCellOrBatchEditMode()){var n=this._getVisibleEditColumnIndex(),r=this._getEditRowIndexCorrection(),o=this._dataController.getRowIndexByKey(e.previousValue)+r;O(e.value)&&e.value!==e.previousValue&&((i=this._editCellFromOptionChanged)===null||i===void 0||i.call(this,n,n,o))}else super._handleEditRowKeyChange(e)}deleteRow(e){if(this.isCellEditMode()&&this.isEditing()){var{isNewRow:i}=this._dataController.items()[e],n=this._dataController.getKeyByRowIndex(e);this.closeEditCell(null,i).always(()=>{e=this._dataController.getRowIndexByKey(n),this._checkAndDeleteRow(e)})}else super.deleteRow(e)}_checkAndDeleteRow(e){this.isBatchEditMode()?this._deleteRowCore(e):super._checkAndDeleteRow(e)}_refreshCore(e){var{isPageChanged:i}=e??{},n=this.isBatchEditMode()||i&&this.option("scrolling.mode")!=="virtual";this.isCellOrBatchEditMode()?n&&(this._resetEditColumnName(),this._resetEditRowKey()):super._refreshCore(e)}_allowRowAdding(e){return this.isBatchEditMode()?!0:super._allowRowAdding(e)}_afterDeleteRow(e,i){var n=this._dataController;return this.isBatchEditMode()?(n.updateItems({changeType:"update",rowIndices:[i,e]}),new H().resolve()):super._afterDeleteRow(e,i)}_updateEditRow(e,i,n){this.isCellOrBatchEditMode()?this._updateRowImmediately(e,i,n):super._updateEditRow(e,i,n)}_isDefaultButtonVisible(e,i){if(this.isCellOrBatchEditMode()){var n=this.isBatchEditMode();switch(e.name){case"save":case"cancel":case"edit":return!1;case"delete":return super._isDefaultButtonVisible(e,i)&&(!n||!i.row.removed);case"undelete":return n&&this.allowDeleting(i)&&i.row.removed;default:return super._isDefaultButtonVisible(e,i)}}return super._isDefaultButtonVisible(e,i)}_isRowDeleteAllowed(){var e=super._isRowDeleteAllowed();return e||this.isBatchEditMode()}_beforeEndSaving(e){var i;this.isCellEditMode()?((i=e[0])===null||i===void 0?void 0:i.type)!=="update"&&super._beforeEndSaving(e):(this.isBatchEditMode()&&this._resetModifiedClassCells(e),super._beforeEndSaving(e))}prepareEditButtons(e){var i,n=(i=this.option("editing"))!==null&&i!==void 0?i:{},r=super.prepareEditButtons(e),o=n.allowUpdating||n.allowAdding||n.allowDeleting;return o&&this.isBatchEditMode()&&(r.push(this.prepareButtonItem(e,"save","saveEditData",21)),r.push(this.prepareButtonItem(e,"revert","cancelEditData",22))),r}_saveEditDataInner(){var e=this._dataController.getVisibleRows()[this.getEditRowIndex()],i=this._getEditColumn(),n=i?.showEditorAlways,r=this.isCellEditMode()&&!e?.isNewRow,o;return r&&n&&(o=new H,this.addDeferred(o)),super._saveEditDataInner().always(o?.resolve)}_applyChange(e,i,n){var r=this.isCellEditMode()&&e.row&&!e.row.isNewRow,{showEditorAlways:o}=e.column,s=e.column.setCellValue!==e.column.defaultSetCellValue,a=o&&!n&&r&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex);if(a){this._focusEditingCell(),this._updateEditRow(e.row,!0,s);return}return super._applyChange(e,i,n)}_applyChangeCore(e,i){var{showEditorAlways:n}=e.column,r=this.isCellEditMode()&&e.row&&!e.row.isNewRow;if(n&&!i){if(r)return this._setEditRowKey(e.row.key,!0),this._setEditColumnNameByIndex(e.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return i=this._needUpdateRow(e.column),super._applyChangeCore(e,i)}return super._applyChangeCore(e,i)}_processDataItemCore(e,i,n,r,o){var{data:s,type:a}=i;this.isBatchEditMode()&&a===Oa&&(e.data=Ca(e.data,s)),super._processDataItemCore(e,i,n,r,o)}_processRemoveCore(e,i,n){if(!(this.isBatchEditMode()&&!n))return super._processRemoveCore(e,i,n)}_processRemoveIfError(e,i){if(!this.isBatchEditMode())return super._processRemoveIfError(e,i)}_beforeFocusElementInRow(e){super._beforeFocusElementInRow(e);var i=e>=0?e:0,n=this.getFirstEditableColumnIndex();n>=0&&this.editCell(i,n)}},DZ={extenders:{controllers:{editing:fLe},views:{rowsView:{_createTable(){var t=this.callBase.apply(this,arguments),e=this._editingController;return e.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&S.on(t,ne(_o.name,"dxDataGridRowsView"),"td:not(.".concat(oc,")"),this.createAction(()=>{e.isEditing()&&e.closeEditCell()})),t},_createRow(t){var e=this.callBase.apply(this,arguments);if(t){var i=this._editingController,n=!!t.removed;i.isBatchEditMode()&&n&&e.addClass(UX)}return e}},headerPanel:{isVisible(){var t=this.getController("editing").option("editing");return this.callBase()||t&&(t.allowUpdating||t.allowDeleting)&&t.mode===Ad}}}}};Ie.registerModule("editingCellBased",DZ);var RZ="invalid",IB="revert-tooltip",OZ="dx-invalid-message",EZ="dxInvalidMessage",TB="invalid-message",SZ="dx-invalid-message-always",gLe="dx-revert-button",wZ="dxRevertButton",FZ="validator",MB="dx-pending-indicator",IZ="dx-validation-pending",TZ="content",MZ="__DX_INSERT_INDEX__",mLe=2,PZ="row",vLe="form",oE="batch",qg="cell",_Le="popup",CLe="dx-group-cell",kZ=[_Le,vLe],xLe="transparent",zo={valid:"valid",invalid:"invalid",pending:"pending"},SC="insert",yLe="remove",wC="cancel",IC=function(t){return O(t)&&t!==wC},AZ=function(t,e){return t!==void 0||t===void 0&&e&&!e.isNewRow},bLe=Mt.Controller.inherit({init(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()},initValidationState(){this._validationState=[],this._validationStateCache={}},_rowIsValidated(t){var e=this._getValidationData(t?.key);return!!e&&!!e.validated},_getValidationData(t,e){var i=Ur(t),n=ke(i),r;return n?r=this._validationState.filter(o=>Rt(o.key,t))[0]:r=this._validationStateCache[i],!r&&e&&(r={key:t,isValid:!0},this._validationState.push(r),n||(this._validationStateCache[i]=r)),r},_getBrokenRules(t,e){var i;return e?i=e.brokenRules||e.brokenRule&&[e.brokenRule]:i=t.brokenRules||[],i},_rowValidating(t,e){var i=new H,n=this._editingController.getChangeByKey(t?.key),r=this._getBrokenRules(t,e),o=e?e.isValid:t.isValid,s={brokenRules:r,isValid:o,key:n.key,newData:n.data,oldData:this._editingController._getOldData(n.key),promise:null,errorText:this.getHiddenValidatorsErrorText(r)};return this.executeAction("onRowValidating",s),ye(rn(s.promise)).always(()=>{t.isValid=s.isValid,t.errorText=s.errorText,i.resolve(s)}),i.promise()},getHiddenValidatorsErrorText(t){var e=[];return F(t,(i,n)=>{var{column:r}=n,o=r&&r.groupIndex!==void 0&&!r.showWhenGrouped,s=r&&r.visible;!n.validator.$element().parent().length&&(!s||o)&&e.push(n.message)}),e.join(", ")},validate(t){var e=!0,i=this._editingController,n=new H,r=[],o=i.getEditMode();if(t=t||o===PZ,this._isValidationInProgress)return n.resolve(!1).promise();if(this._isValidationInProgress=!0,t){i.addDeferred(n);var s=i.getChanges();F(s,(l,d)=>{var{type:u,key:h}=d;if(u!=="remove"){var p=this._getValidationData(h,!0),m=this.validateGroup(p);r.push(m),m.done(c=>{p.validated=!0,e=e&&c.isValid})}})}else if(this._currentCellValidator){var a=this.validateGroup(this._currentCellValidator._findGroup());r.push(a),a.done(l=>{e=l.isValid})}return ye(...r).done(()=>{this._isValidationInProgress=!1,n.resolve(e)}),n.promise()},validateGroup(t){var e=new H,i=t&&li.getGroupConfig(t),n;return i?.validators.length&&(this.resetRowValidationResults(t),n=li.validateGroup(t)),ye(n?.complete||n).done(r=>{ye(this._rowValidating(t,r)).done(e.resolve)}),e.promise()},isRowDataModified:t=>!Zi(t.data),updateValidationState(t){var e=this._editingController.getEditMode(),{key:i}=t,n=this._getValidationData(i,!0);if(kZ.includes(e))n.isValid=!0;else{if(t.type===SC&&!this.isRowDataModified(t)){n.isValid=!0;return}this.setDisableApplyValidationResults(!0);var r=li.getGroupConfig(n);if(r){var o=li.validateGroup(n);ye(o.complete||o).done(s=>{n.isValid=s.isValid,n.brokenRules=s.brokenRules})}else(!n.brokenRules||!n.brokenRules.length)&&(n.isValid=!0);this.setDisableApplyValidationResults(!1)}},setValidator(t){this._currentCellValidator=t},renderCellPendingIndicator(t){var e=t.find(".".concat(MB));if(!e.length){var i=t;e=g("<div>").appendTo(i).addClass(MB),this._createComponent(e,Hn),t.addClass(IZ)}},disposeCellPendingIndicator(t){var e=t.find(".".concat(MB));if(e.length){var i=Hn.getInstance(e);i&&(i.dispose(),i.$element().remove()),t.removeClass(IZ)}},validationStatusChanged(t){var{validator:e}=t,i=e.option("validationGroup"),{column:n}=e.option("dataGetter")();this.updateCellValidationResult({rowKey:i.key,columnIndex:n.index,validationResult:t})},validatorInitialized(t){t.component.on("validating",this.validationStatusChanged.bind(this)),t.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing(t){var e=t.component,i=e.option("validationGroup"),{column:n}=e.option("dataGetter")(),r=this.getCellValidationResult({rowKey:i?.key,columnIndex:n.index});IC(r)&&r.status===zo.pending&&this.cancelCellValidationResult({change:i,columnIndex:n.index})},applyValidationResult(t,e){var{validator:i}=e,n=i.option("validationGroup"),{column:r}=i.option("dataGetter")();if(e.brokenRules&&e.brokenRules.forEach(d=>{d.columnIndex=r.index,d.column=r}),t){var o=this.getCellValidationResult({rowKey:n.key,columnIndex:r.index}),s=IC(o)&&o.disabledPendingId===e.id;if(this._disableApplyValidationResults||s)return;if(e.status===zo.invalid){var a=t.find(":focus");Fo(a)||(S.trigger(a,"focus"),S.trigger(a,nt.down))}var l=!r.editCellTemplate&&this.getController("editorFactory").getEditorInstance(t);e.status===zo.pending?l?l.option("validationStatus",zo.pending):this.renderCellPendingIndicator(t):l?l.option("validationStatus",zo.valid):this.disposeCellPendingIndicator(t),t.toggleClass(this.addWidgetPrefix(RZ),e.status===zo.invalid)}},_syncInternalEditingData(t){var e,i=this._editingController,n=i.getChangeByKey(t.key),r=i._getOldData(t.key),o=(e=t.row)===null||e===void 0?void 0:e.oldData;n&&o&&!r&&i._addInternalData({key:t.key,oldData:o})},createValidator(t,e){var i,n,r=this._editingController,{column:o}=t,{showEditorAlways:s}=o;if(!(O(o.command)||!o.validationRules||!Array.isArray(o.validationRules)||!o.validationRules.length)){var a=r.getIndexByKey(t.key,r.getChanges()),l=a>-1;if(!l){if(!s){var d=this.getController("columns"),u=d?.getVisibleColumns()||[];s=u.some(U=>U.showEditorAlways)}var h=Rt(this.option("editing.editRowKey"),t.key),p=r.isCellOrBatchEditMode()&&r.allowUpdating({row:t.row});l=h||p&&s,p&&s&&r._addInternalData({key:t.key,oldData:(n=(i=t.row)===null||i===void 0?void 0:i.oldData)!==null&&n!==void 0?n:t.data})}if(l){if(e&&!e.length){Ke.log("E1050");return}this._syncInternalEditingData(t);var m=this._getValidationData(t.key,!0),c=()=>{var U=r.getChangeByKey(m?.key),re=o.calculateCellValue(U?.data||{});return re!==void 0?re:t.value},x=e&&e.hasClass("dx-widget");e&&e.addClass(this.addWidgetPrefix(FZ));var D=new Fd(e||g("<div>"),{name:o.caption,validationRules:y(!0,[],o.validationRules),validationGroup:m,adapter:x?null:{getValue:c,applyValidationResults:U=>{this.applyValidationResult(e,U)}},dataGetter(){var U=m?.key,re=r.getChangeByKey(U),_=r._getOldData(U);return{data:Ca(_,re?.data),column:o}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(x){var T=D.option("adapter");if(T){var N=T.bypass,G=()=>t.row.isNewRow&&!this._isValidationInProgress&&!r.isCellModified(t);T.getValue=c,T.validationRequestsCallbacks=[],T.bypass=()=>N.call(T)||G()}}return D}}},setDisableApplyValidationResults(t){this._disableApplyValidationResults=t},getDisableApplyValidationResults(){return this._disableApplyValidationResults},isCurrentValidatorProcessing(t){var{rowKey:e,columnIndex:i}=t;return this._currentCellValidator&&Rt(this._currentCellValidator.option("validationGroup").key,e)&&this._currentCellValidator.option("dataGetter")().column.index===i},validateCell(t){var e={rowKey:t.option("validationGroup").key,columnIndex:t.option("dataGetter")().column.index},i=this.getCellValidationResult(e),n=IC(i),r=t.option("adapter");if(!n)i=t.validate();else{var o=r.getValue();Rt(o,i.value)||(i=t.validate())}var s=new H;return n&&i.status===zo.pending&&(this.updateCellValidationResult(e),r.applyValidationResults(i)),ye(i.complete||i).done(a=>{n&&r.applyValidationResults(a),s.resolve(a)}),s.promise()},updateCellValidationResult(t){var{rowKey:e,columnIndex:i,validationResult:n}=t,r=this._getValidationData(e);if(r){r.validationResults||(r.validationResults={});var o;if(n){if(o=y({},n),r.validationResults[i]=o,n.status===zo.pending&&(this._editingController.getEditMode()===qg&&(o.deferred=new H,o.complete.always(()=>{o.deferred.resolve()}),this._editingController.addDeferred(o.deferred)),this._disableApplyValidationResults)){o.disabledPendingId=n.id;return}}else o=r.validationResults[i];o&&o.disabledPendingId&&delete o.disabledPendingId}},getCellValidationResult(t){var{rowKey:e,columnIndex:i}=t,n,r=this._getValidationData(e,!0);return(n=r?.validationResults)===null||n===void 0?void 0:n[i]},removeCellValidationResult(t){var{change:e,columnIndex:i}=t,n=this._getValidationData(e?.key);n&&n.validationResults&&(this.cancelCellValidationResult({change:e,columnIndex:i}),delete n.validationResults[i])},cancelCellValidationResult(t){var{change:e,columnIndex:i}=t,n=this._getValidationData(e.key);if(e&&n.validationResults){var r=n.validationResults[i];r&&(r.deferred&&r.deferred.reject(wC),n.validationResults[i]=wC)}},resetRowValidationResults(t){t&&(t.validationResults&&delete t.validationResults,delete t.validated)},isInvalidCell(t){var{rowKey:e,columnIndex:i}=t,n=this.getCellValidationResult({rowKey:e,columnIndex:i});return IC(n)&&n.status===zo.invalid},getCellValidator(t){var{rowKey:e,columnIndex:i}=t,n=this._getValidationData(e),r=n&&li.getGroupConfig(n),o=r&&r.validators;return o&&o.filter(s=>{var{column:a}=s.option("dataGetter")();return a?a.index===i:!1})[0]},setCellValidationStatus(t){var e=this.getCellValidationResult({rowKey:t.key,columnIndex:t.column.index});O(e)?t.validationStatus=e!==wC?e.status:wC:delete t.validationStatus}}),NZ={defaultOptions:()=>({editing:{texts:{validationCancelChanges:j.format("dxDataGrid-validationCancelChanges")}}}),controllers:{validating:bLe},extenders:{controllers:{editing:{_addChange(t){var e=this.callBase.apply(this,arguments),i=this.getController("validating");return e&&t.type!==yLe&&i.updateValidationState(e),e},_handleChangesChange(t){this.callBase.apply(this,arguments);var e=this.getController("validating");t.value.forEach(i=>{e._getValidationData(i.key)===void 0&&e.updateValidationState(i)})},_updateRowAndPageIndices(){var t=this,e=t.getView("rowsView").getTopVisibleItemIndex(),i=e;F(t.getChanges(),(n,r)=>{var{key:o,type:s}=r,a=this.getController("validating")._getValidationData(o);a&&!a.isValid&&a.pageIndex!==t._pageIndex&&(a.pageIndex=t._pageIndex,s===SC?a.rowIndex=e:a.rowIndex=i,i++)})},_getValidationGroupsInForm(t){var e=this.getController("validating"),i=e._getValidationData(t.key,!0);return{validationGroup:i}},_validateEditFormAfterUpdate(t,e){e&&this._editForm&&this._editForm.validate(),this.callBase.apply(this,arguments)},_prepareEditCell(t){var e=this.callBase.apply(this,arguments),i=this.getController("validating");return e&&t.column.showEditorAlways&&i.updateValidationState({key:t.key}),e},processItems(t,e){var i=this.getChanges(),n=this.getController("data"),r=this.getController("validating");t=this.callBase(t,e);var o=t.length,s=function(a,l){var d={key:a.key},u=function(p,m){var c=-1,x=p.type===SC,{key:D}=p;return F(m,(T,N)=>{if(Rt(D,x?N.key:n.keyOf(N)))return c=T,!1}),c}(a,t);if(!(u>=0)){l.rowIndex=l.rowIndex>o?l.rowIndex%o:l.rowIndex;var{rowIndex:h}=l;d[MZ]=1,t.splice(h,0,d)}};return this.getEditMode()===oE&&e!=="prepend"&&e!=="append"&&i.forEach(a=>{var{key:l}=a,d=r._getValidationData(l);d&&a.type&&d.pageIndex===this._pageIndex&&a?.pageIndex!==this._pageIndex&&s(a,d)}),t},processDataItem(t){var e=t.data[MZ],i=e?t.data.key:t.key,n=this.getEditMode();if(n===oE&&e&&i){var r=this.getChanges(),o=he.getIndexByKey(i,r);if(o>=0){var s=r[o];if(s.type!==SC){var a=this._getOldData(s.key);t.data=y(!0,{},a,s.data),t.key=i}}}this.callBase.apply(this,arguments)},_createInvisibleColumnValidators(t){var e=this,i=this.getController("validating"),n=this.getController("columns"),r=n.getColumns(),o=n.getInvisibleColumns().filter(d=>!d.isBand),s=n.getGroupColumns().filter(d=>!d.showWhenGrouped&&o.indexOf(d)===-1),a=[],l=(d,u)=>this._dataController.getRowIndexByKey(u)>=0&&o.indexOf(d)<0;return o.push(...s),kZ.includes(this.getEditMode())||F(r,(d,u)=>{t.forEach(h=>{var p;if(!l(u,h.key)){if(h.type===SC)p=h.data;else if(h.type==="update"){var m=e._getOldData(h.key);if(!O(m))return;p=Ca(m,h.data)}if(p){var c=i.createValidator({column:u,key:h.key,value:u.calculateCellValue(p)});c&&a.push(c)}}})}),function(){a.forEach(d=>{d.dispose()})}},_beforeSaveEditData(t,e){var i=this.callBase.apply(this,arguments),n=this.getController("validating"),r=n._getValidationData(t?.key);if(t){var o=t.type==="remove"||r.isValid;i=i||!o}else{var s=this._createInvisibleColumnValidators(this.getChanges());i=new H,this.executeOperation(i,()=>{n.validate(!0).done(a=>{switch(s(),this._updateRowAndPageIndices(),this.getEditMode()){case qg:a||this._focusEditingCell();break;case oE:a||(this._resetEditRowKey(),this._resetEditColumnName(),this.getController("data").updateItems())}i.resolve(!a)})})}return i.promise?i.promise():i},_beforeEditCell(t,e,i){var n=this.callBase(t,e,i);if(this.getEditMode()===qg){var r=this._rowsView._getCellElement(t,e),o=r&&r.data("dxValidator"),s=r&&r.closest(".dx-row").data("options"),a=o&&o.option("adapter").getValue();if(o&&AZ(a,s)){var l=this.getController("validating"),d=new H;return ye(l.validateCell(o),n).done((u,h)=>{d.resolve(u.status===zo.valid&&h)}),d.promise()}if(!o)return n}return!1},_afterSaveEditData(t){var e,i=this.getEditMode()===qg;if(F(this.getChanges(),(l,d)=>{var u=this._showErrorRow(d);e=e||u}),e){var n=this._rowsView.getScrollable();n&&(n.update(),n.scrollToElement(e))}if(t&&i&&this._needUpdateRow()){var r=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[r]}),this._focusEditingCell()}else if(!t){var o=!0;if(i){var s=this.getController("columns").getColumns(),a=s.filter(l=>{var d;return l.showEditorAlways&&((d=l.validationRules)===null||d===void 0?void 0:d.length)>0}).length>0;o=!a}o&&this.getController("validating").initValidationState()}},_handleDataChanged(t){var e=this.getController("validating")._validationState;this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndices(),t.changeType==="prepend"&&F(e,(i,n)=>{n.rowIndex+=t.items.length}),this.callBase(t)},resetRowAndPageIndices(){var t=this.getController("validating")._validationState;F(t,(e,i)=>{i.pageIndex!==this._pageIndex&&(delete i.pageIndex,delete i.rowIndex)})},_beforeCancelEditData(){this.getController("validating").initValidationState(),this.callBase()},_showErrorRow(t){var e,i=this.getController("errorHandling"),n=this.getController("data").items(),r=this.getIndexByKey(t.key,n),o=this.getController("validating")._getValidationData(t.key);if(!o?.isValid&&o?.errorText&&r>=0)return e=this.getPopupContent(),i&&i.renderErrorRow(o?.errorText,r,e)},updateFieldValue(t){var e=this.getController("validating"),i=new H;return e.removeCellValidationResult({change:this.getChangeByKey(t.key),columnIndex:t.column.index}),this.callBase.apply(this,arguments).done(()=>{var n=e.getCellValidator({rowKey:t.key,columnIndex:t.column.index});ye(n&&e.validateCell(n)).done(r=>{this.getController("editorFactory").refocus(),i.resolve(r)})}),i.promise()},highlightDataCell(t,e){this.callBase.apply(this,arguments);var i=this.getController("validating");i.setCellValidationStatus(e);var n=!!e.setValue,r=this.isCellModified(e),o=O(e.validationStatus),s=r&&e.column.setCellValue||n&&!r&&!(e.row.isNewRow||!o);if(s){var a=t.data("dxValidator");a&&ye(this.getController("validating").validateCell(a)).done(()=>{i.setCellValidationStatus(e)})}},getChangeByKey(t){var e=this.getChanges();return e[he.getIndexByKey(t,e)]},isCellModified(t){var e=this.callBase(t),i=this.getChangeByKey(t.key),n=!!t.row&&this.getController("validating").isInvalidCell({rowKey:t.key,columnIndex:t.column.index});return e||this.getController("validating")._rowIsValidated(i)&&n}},editorFactory:{_showRevertButton(t){var e,i=(e=this._revertTooltip)===null||e===void 0?void 0:e.$element();if(!t||!t.length){i?.remove(),this._revertTooltip=void 0;return}if(!t.find(i).length){var n=t.closest(".".concat(this.addWidgetPrefix(TZ))).parent(),r=this.addWidgetPrefix(IB);i?.remove(),i=g("<div>").addClass(r).appendTo(t);var o={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:n,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:r},contentTemplate:()=>{var s=g("<div>").addClass(gLe),a={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),elementAttr:{id:wZ,"aria-label":j.format("dxDataGrid-ariaRevertButton")},onClick:()=>{this._editingController.cancelEditData()}};return new ci(s,a).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:t},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new Rn(i,o)}},_hideFixedGroupCell(t,e){var i,n,r=this._rowsView.isFixedColumns(),o=this._editingController.isFormOrPopupEditMode();if(r&&!o){var s=t.closest(".dx-row").next().data("options");s&&s.rowType==="group"&&(i=g(this._rowsView.getRowElement(s.rowIndex)).last(),n=i.find(".".concat(CLe)),n.length&&n.get(0).style.visibility!=="hidden"&&(n.css("visibility","hidden"),e.onDisposing=function(){n.css("visibility","")}))}},_positionedHandler(t,e){if(!t.component.__skipPositionProcessing){var i=g(t.element).hasClass(this.addWidgetPrefix(IB)),n=!i&&this._rowsView.updateFreeSpaceRowHeight(),r=this._normalizeValidationMessagePositionAndMaxWidth(t,i,e);t.component.__skipPositionProcessing=!!(n||r),r?t.component.option(r):n&&t.component.repaint()}},_showValidationMessage(t,e,i){var n,r=t.find(".dx-dropdowneditor-overlay").data("dxPopup"),o=r&&r.option("visible"),s=o?"top right":"top ".concat(i),a=o?"top left":"bottom ".concat(i),l=((n=this._columnsController.getFixedColumns())===null||n===void 0?void 0:n.length)>0,d=l?this.getView("rowsView").element():t.closest(".".concat(this.addWidgetPrefix(TZ))),u="";e&&e.forEach(c=>{u+=(u.length?"<br/>":"")+lb(c)});var h=this.addWidgetPrefix(TB);this._rowsView.element().find(".".concat(h)).remove();var p=g("<div>").addClass(OZ).addClass(SZ).addClass(h).html(u).appendTo(t),m={container:d,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{id:EZ,class:"".concat(OZ," ").concat(SZ," ").concat(h)},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!o&&Nt.mozilla?-1:0},my:s,at:a,of:t},onPositioned:c=>{this._positionedHandler(c,o),this._shiftValidationMessageIfNeed(c.component.$content(),t)}};this._hideFixedGroupCell(t,m),new Rn(p,m)},_hideValidationMessage(){var t,e=(t=this._rowsView.element())===null||t===void 0?void 0:t.find(this._getValidationMessagesSelector());e?.remove()},_normalizeValidationMessagePositionAndMaxWidth(t,e,i){var n=this._columnsController.getFixedColumns();if(!(!n||!n.length)){var r,o=!e&&(s=this,a=t.element,l=g(a).closest("tr").index(),d=g(s._rowsView.getRowElement(l)).first().children().filter(":not(.dx-hidden-cell)"),s._rowsView._getWidths(d).reduce((x,D)=>x+D,0)),s,a,l,d,u=t.component.$content(),h=it(u,!0),p=!e&&h>o,m=this._rowsView.getCellIndex(g(t.element).closest("td")),c=function(x){var D,T;return x.some((N,G)=>{if(N.command===xLe)return D=G===0?-1:G,T=G===x.length-1?-1:G+N.colspan-1,!0}),{startColumnIndex:D,endColumnIndex:T}}(n);return!e&&(m===c.startColumnIndex||p)?r={collision:"none flip",my:"top left",at:i?"top right":"bottom left"}:m===c.endColumnIndex&&(r={collision:"none flip",my:"top right",at:e||i?"top left":"bottom right"},e&&(r.offset="-1 0")),r&&{position:r,maxWidth:p?o-2:void 0}}},_shiftValidationMessageIfNeed(t,e){var i=this._revertTooltip&&this._revertTooltip.$content();if(i){var n=t.offset(),r=i.offset();if(n.top===r.top&&n.left+Ae(t)>r.left){var o=Ae(i)+mLe;t.css("left",r.left<e.offset().left?-o:o)}}},_getRevertTooltipsSelector(){var t=this.addWidgetPrefix(IB);return".dx-editor-cell .".concat(t)},_getValidationMessagesSelector(){var t=this.addWidgetPrefix(TB);return".dx-editor-cell .".concat(t,", .dx-cell-modified .").concat(t)},init(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus(t){t||this.getController("validating").setValidator(null),this.callBase()},updateCellState(t,e,i){var n,r=t?.closest(this._getFocusCellSelector()),o=r?.is("td")?r:null,s=r?.closest(".dx-row").data("options"),a=s?this.getController("editing").getChangeByKey(s.key):null,l=o&&this.getController("columns").getVisibleColumns()[o.index()],d=((n=a?.data)===null||n===void 0?void 0:n[l?.name])!==void 0&&!this._editingController.isSaving(),u=[];this._editingController.getEditMode()===qg&&(e?.status===zo.invalid||d?(this._showRevertButton(r),u.push(wZ)):this._revertTooltip&&this._revertTooltip.$element().remove());var h=e&&e.status===zo.invalid;if(h&&o&&l&&e&&e.brokenRules){var p=[];e.brokenRules.forEach(m=>{m.message&&p.push(m.message)}),p.length&&(this._showValidationMessage(r,p,l.alignment||"left"),u.push(EZ))}this._updateAriaValidationAttributes(r,u),!i&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},_updateAriaValidationAttributes(t,e){if(e.length!==0){var i=this._editingController.getEditMode(),n=[qg,oE,PZ].includes(i);if(n){var r=this._getCurrentFocusElement(t);r.attr("aria-labelledby",e.join(" ")),r.attr("aria-invalid",!0)}}},_getCurrentFocusElement(t){return this._editingController.isEditing()?t.find(xC).first():t},focus(t,e){if(!arguments.length)return this.callBase();if(this._hideValidationMessage(),t?.hasClass("dx-row")||t?.hasClass("dx-master-detail-cell"))return this.callBase(t,e);var i=t?.closest(this._getFocusCellSelector()),{callBase:n}=this,r=i&&(i.data("dxValidator")||t.find(".".concat(this.addWidgetPrefix(FZ))).eq(0).data("dxValidator")),o=i&&i.closest(".dx-row").data("options"),s=this.getController("editing"),a=o?s.getChangeByKey(o.key):null,l=this.getController("validating"),d;if(r){l.setValidator(r);var u=r.option("adapter").getValue();if(AZ(u,o)||l._rowIsValidated(a))return s.waitForDeferredOperations().done(()=>{ye(l.validateCell(r)).done(h=>{d=h;var{column:p}=d.validator.option("dataGetter")();a&&p&&!l.isCurrentValidatorProcessing({rowKey:a.key,columnIndex:p.index})||(!Ui(an())&&d.status===zo.invalid&&(e=!0),this.updateCellState(t,d,e),n.call(this,t,e))})}),this.callBase(t,e)}return this.updateCellState(t,d,e),this.callBase(t,e)},getEditorInstance(t){var e=t.find(".dx-texteditor").eq(0);return he.getWidgetInstance(e)}},data:{_getValidationStatus(t){var e=IC(t)?t.status:t;return e||zo.valid},_isCellChanged(t,e,i,n,r){var o,s,a=(o=t.cells)===null||o===void 0?void 0:o[n],l=this._getValidationStatus({status:a?.validationStatus}),d=this.getController("validating"),u=d.getCellValidationResult({rowKey:t.key,columnIndex:n}),h=d._getValidationData(t.key),p=this._getValidationStatus(u),m=JSON.stringify(e.modifiedValues)!==JSON.stringify(t.modifiedValues),c=l!==p&&m,x=g(a?.cellElement).hasClass(this.addWidgetPrefix(RZ)),D=(s=a?.column.validationRules)===null||s===void 0?void 0:s.length,T=t.isEditing!==e.isEditing&&D,N=c||h.isValid&&x;return T||N?!0:this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight(t){var e,i,n,r=this.element(),o=r&&r.find(".".concat(this.addWidgetPrefix(TB)," .dx-overlay-content"));if(this.callBase(t),o&&o.length&&(e=this._getRowElements(),n=this._getFreeSpaceRowElements(t),i=n.first(),i&&e.length===1&&(!i.is(":visible")||et(o)>et(i))))return n.show(),nr(n,et(o)),!0},_formItemPrepared(t,e){this.callBase.apply(this,arguments),Kn(()=>{var i=e.find(".dx-widget").first(),n=i.length&&!i.children().length;n||this.getController("validating").createValidator(t,i)})},_cellPrepared(t,e){this.getController("editing").isFormOrPopupEditMode()||this.getController("validating").createValidator(e,t),this.callBase.apply(this,arguments)},_restoreErrorRow(t){var e=this.getController("editing");e&&e.hasChanges()&&this._getRowElements(t).each((i,n)=>{var r=g(n).data("options");if(r){var o=e.getChangeByKey(r.key);o&&e._showErrorRow(o)}})}}}}};Ie.registerModule("validating",NZ);var AB="scrolling.legacyMode",VZ=t=>t.option("scrolling.loadTwoPagesOnStart")||t._controller.isVirtual()||t._controller.getViewportItemIndex()>0,sE=t=>t._cache.length?t._cache[0].pageIndex:-1,RB=t=>t._cache.length?t._cache[t._cache.length-1].pageIndex:-1,lE=(t,e,i)=>{t._isChangedFiring=!0,e(i),t._isChangedFiring=!1},LZ=(t,e,i)=>{if(t._isDelayChanged)return t._isDelayChanged=!1,lE(t,e,i),!0},DLe=t=>{var e=t._dataOptions.pageSize(),i=t.option("scrolling.preventPreload");if(i)return 0;var n=t._controller.viewportSize();if(t._controller.isVirtualMode()&&t.option("scrolling.removeInvisiblePages")){n=0;for(var r=t._controller.viewportSize()*t._controller.viewportItemSize(),o=t._controller.getContentOffset(),s=t._controller.getViewportPosition(),a=t._controller.virtualItemsCount(),l=t._dataOptions.totalItemsCount(),d=a.begin;d<l&&!(o>=s+r);d++){var u=t._controller.getItemSizes()[d]||t._controller.viewportItemSize();o+=u,o>=s&&n++}}return e&&n>0?Math.ceil(n/e):1},aE=(t,e)=>{var i=t.option("scrolling.preloadEnabled"),n=DLe(t),r=t._controller.isAppendMode();return n&&(e?n=i?1:0:(i&&n++,(r||!VZ(t))&&n--)),n},OLe=t=>{var e=-1,i=sE(t),n=t._dataOptions;if(i<0)e=t._pageIndex;else if(!t._cache[t._pageIndex-i])e=t._pageIndex;else if(i>=0&&t._controller.viewportSize()>=0){if(i>0){var r=RB(t)+1===n.pageCount()&&t._cache.length<aE(t)+1,o=r||t._pageIndex===i&&aE(t,!0);o&&(e=i-1)}if(e<0){var s=i+t._cache.length<=t._pageIndex+aE(t);s&&(e=i+t._cache.length)}}return t._loadingPageIndexes[e]&&(e=-1),e},ELe=(t,e)=>{var i=t._dataOptions;if(e===t.pageIndex()||!i.isLoading()&&e<i.pageCount()||!i.hasKnownLastPage()&&e===i.pageCount())return i.pageIndex(e),t._loadingPageIndexes[e]=!0,ye(i.load()).always(()=>{t._loadingPageIndexes[e]=!1})},BZ=(t,e,i,n,r)=>{var o=t._dataOptions,s=o.items().slice(),a=ke(i)?i:void 0,l=i==="prepend",d=o.viewportItems();i&&Se(i)&&!t._isDelayChanged&&(a={changeType:i,items:s},r&&(a.removeCount=r.itemsCount,a.removeCount&&o.correctCount&&(a.removeCount=o.correctCount(d,a.removeCount,l))));var u=r?r.itemsLength:0;u&&o.correctCount&&(u=o.correctCount(d,u,l)),i==="append"?(d.push.apply(d,s),r&&d.splice(0,u)):l?(d.unshift.apply(d,s),r&&d.splice(-u)):t._dataOptions.viewportItems(s),o.updateLoading(),t._lastPageIndex=t.pageIndex(),t._isDelayChanged=n,n||lE(t,e,a)},dE=class{constructor(e,i){this._dataOptions=i,this._controller=e,this._pageIndex=this._lastPageIndex=i.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(e){var i=this._dataOptions.pageSize(),n=this._dataOptions.pageCount(),r=this._controller.isVirtualMode(),o=this._controller.isAppendMode(),s=this._dataOptions.totalItemsCount(),a;if(i&&(r||o)&&s>=0){var l=this._controller.viewportSize();if(l&&e+l>=s&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){a=n-1;var d=s%i;a>0&&d>0&&d<l&&a--}else a=n;else{a=Math.floor(e/i);var u=n-1;a=Math.max(a,0),a=Math.min(a,u)}return this.pageIndex(a),this.load()}}pageIndex(e){var i=this._controller.isVirtualMode(),n=this._controller.isAppendMode();return this.option(AB)!==!1&&(i||n)?(e!==void 0&&(this._pageIndex=e),this._pageIndex):this._dataOptions.pageIndex(e)}beginPageIndex(e){var i=sE(this);return i<0&&(i=e!==void 0?e:this.pageIndex()),i}endPageIndex(){var e=RB(this);return e>0?e:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){var e=this._dataOptions,i,n=this._controller.isVirtualMode(),r=this._controller.isAppendMode();if(this.option(AB)!==!1&&(n||r)){var o=OLe(this);if(o>=0){var s=ELe(this,o);s&&(i=new H,s.done(()=>{var a=this._delayDeferred;a?a.done(i.resolve).fail(i.reject):i.resolve()}).fail(i.reject),e.updateLoading())}}else i=e.load();return!i&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),i||new H().resolve()}loadIfNeed(){var e=this._controller.isVirtualMode(),i=this._controller.isAppendMode();if((e||i)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){var n=this._controller.getViewportPosition();n>0?this._controller._setViewportPositionCore(n):this.load()}}handleDataChanged(e,i){var n=this._dataOptions,r=this._cache.length,o,s,a=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(i&&i.changes)lE(this,e,i);else if(this.option(AB)!==!1&&(a||l)){var d=sE(this);if(d>=0&&(a&&d+this._cache.length!==n.pageIndex()&&d-1!==n.pageIndex()&&(r=0,this._cache=[]),l)){if(n.pageIndex()===0)this._cache=[];else if(n.pageIndex()<RB(this)){lE(this,e,{changeType:"append",items:[]});return}}var u={pageIndex:n.pageIndex(),itemsLength:n.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&a?s=this._cache.length>Math.max(aE(this)+(this.option("scrolling.preloadEnabled")?1:0),2):LZ(this,e,{isDelayed:!0});var h;d===n.pageIndex()+1?(s&&(h=this._cache.pop()),o="prepend",this._cache.unshift(u)):(s&&(h=this._cache.shift()),o="append",this._cache.push(u));var p=a&&r===0&&VZ(this);BZ(this,e,this._cache.length>1?o:void 0,p,h),this._delayDeferred=this.load().done(()=>{LZ(this,e)&&this.load()})}else BZ(this,e,i)}getDelayDeferred(){return this._delayDeferred}itemsCount(e){var i=0,n=this._controller.isVirtualMode();return!e&&n?this._cache.forEach(r=>{i+=r.itemsCount}):i=this._dataOptions.itemsCount(),i}virtualItemsCount(){var e=sE(this);e<0&&(e=this._dataOptions.pageIndex());var i=e*this._dataOptions.pageSize(),n=this._cache.length*this._dataOptions.pageSize(),r=Math.max(0,this._dataOptions.totalItemsCount()-n-i);return{begin:i,end:r}}reset(){this._loadingPageIndexes={},this._cache=[]}};var SLe="infinite",zZ="virtual",uE="scrolling.legacyMode",HZ=t=>t.option("scrolling.mode")===zZ||t._isVirtual,wLe=t=>t.option("scrolling.mode")===SLe&&!t._isVirtual;function FB(t,e,i){var n,r=[],o=[],s=[];i=i||t;function a(h){var p=h.element?h.$element():h,m=en.offset(p);return m?h.scrollTop()-(m.top-t.offset().top):t.offset().top}var l={on(h,p,m){h.on("scroll",m)},off(h,p,m){h.off("scroll",m)}};function d(h){var p=h.get(0).nodeName==="#document",m=h.get(0).nodeType===Le().Node.ELEMENT_NODE,c=h.data("dxScrollable"),x=l;if(!(!c&&(c=p&&g(Le())||m&&h.css("overflowY")==="auto"&&h,x=S,!c))){var D=function(T){return function(){var N=T.scrollTop()-a(T);N=N>0?N:0,e(N)}}(c);x.on(c,"scroll",D),o.push(T=>{var N=a(c),G=c.scrollTo?"scrollTo":"scrollTop";T-N>=0&&c[G](T+N)}),r.push(c),s.push(()=>{x.off(c,"scroll",D)})}}var u=h=>{var p;return g((p=h.get(0).parentNode)!==null&&p!==void 0?p:h.get(0).host)};for(n=i.parent();n.length;n=u(n))d(n);return{scrollTo(h){F(o,(p,m)=>{m(h)})},dispose(){F(s,(h,p)=>{p()})}}}var PB=ot.inherit(function(){var t={ctor(e,i,n){this._dataOptions=i,this.component=e,this._viewportSize=e.option(uE)===!1?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=n,this.positionChanged=vt(),this._dataLoader=new dE(this,this._dataOptions)},getItemSizes(){return this._itemSizes},option(){return this.component.option.apply(this.component,arguments)},isVirtual(){return this._isVirtual},virtualItemsCount(){if(HZ(this)){var e=this._dataOptions,i=e.totalItemsCount();if(this.option(uE)===!1&&i!==-1){var n=this.getViewportParams(),r=e.loadedOffset(),o=e.loadedItemCount(),s=Math.max(n.skip,r),a=Math.min(n.take,o),l=Math.max(i-(s+a),0);return{begin:s,end:l}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}},getScrollingTimeout(){var e,i=this.option("scrolling.renderAsync"),n=0;return O(i)?i&&(n=(e=this.option("scrolling.timeout"))!==null&&e!==void 0?e:0):(n=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()),n<this.option("scrolling.renderingThreshold")&&(n=this.option("scrolling.minTimeout")||0)),n},setViewportPosition(e){var i=new H,n=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),n>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(e),i.resolve()},n):(this._setViewportPositionCore(e),i.resolve()),i.promise()},getViewportPosition(){return this._position},getItemIndexByPosition(e,i,n){e=e??this._position;for(var r=this.getItemSize(),o=0,s=0,a=Object.keys(this._itemSizes).concat(-1),l=0;l<a.length&&o<e;l++){var d=parseInt(a[l]),u=(e-o)/r;if(d<0||s+u<d){s+=u,this._sizeRatio<1&&O(i)&&(s=i+n/this._viewportItemSize);break}else u=d-s,o+=u*r,s+=u;var h=this._itemSizes[d];o+=h,s+=o<e?1:(e-o+h)/h}return Math.round(50*s)/50},isScrollingBack(){return this._isScrollingBack},_setViewportPositionCore(e){var i=this._position||0;this._position=e,i!==this._position&&(this._isScrollingBack=this._position<i);var n=this.getItemIndexByPosition(),r=this.setViewportItemIndex(n);return this.positionChanged.fire(),r},setContentItemSizes(e){var i=this.virtualItemsCount();if(this._contentSize=e.reduce((o,s)=>o+s,0),i){e.forEach((o,s)=>{this._itemSizes[i.begin+s]=o});var n=(i.begin+i.end+this.itemsCount())*this._viewportItemSize,r=he.getContentHeightLimit(Nt);n>r?this._sizeRatio=r/n:this._sizeRatio=1}},getItemSize(){return this._viewportItemSize*this._sizeRatio},getItemOffset(e,i){var n=this.virtualItemsCount(),r=e;if(!n)return 0;var o=0,s=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(a=>{r&&(i?a>=s-e:a<e)&&(o+=this._itemSizes[a],r--)}),Math.floor(o+r*this._viewportItemSize*this._sizeRatio)},getContentOffset(e){var i=e==="end",n=this.virtualItemsCount();return n?this.getItemOffset(i?n.end:n.begin,i):0},getVirtualContentSize(){var e=this.virtualItemsCount();return e?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0},getViewportItemIndex(){return this._viewportItemIndex},setViewportItemIndex(e){if(this._viewportItemIndex=e,this.option(uE)!==!1)return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)},viewportItemSize(e){return e!==void 0&&(this._viewportItemSize=e),this._viewportItemSize},viewportSize(e){return e!==void 0&&(this._viewportSize=e),this._viewportSize},viewportHeight(e,i){var n=i??this._position,r=this.getItemIndexByPosition(n),o=this.getItemIndexByPosition(n+e,r,e);this.viewportSize(Math.ceil(o-r)),!O(i)&&this._viewportItemIndex!==r&&this._setViewportPositionCore(n)},reset(e){this._dataLoader.reset(),e||(this._itemSizes={})},subscribeToWindowScrollEvents(e){this._windowScroll=this._windowScroll||FB(e,i=>{this.viewportItemSize()&&this.setViewportPosition(i)})},dispose(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo(e){this._windowScroll&&this._windowScroll.scrollTo(e)},isVirtualMode(){return HZ(this)},isAppendMode(){return wLe(this)},getViewportParams(){var e,i=this.option("scrolling.mode")===zZ,n=this._dataOptions.totalItemsCount(),r=this._dataOptions.hasKnownLastPage(),o=r&&this._viewportItemIndex>n?n:this._viewportItemIndex,s=this._viewportSize+o,a=this.option("scrolling.prerenderedRowChunkSize")||1,l=this.isScrollingBack(),d=(e=this.option("scrolling.prerenderedRowCount"))!==null&&e!==void 0?e:1,u=l?d:0,h=l?0:d,p=Math.floor(Math.max(0,o-u)/a)*a,m=Math.ceil((s+h-p)/a)*a;if(i){var c=Math.max(0,n-p);m=Math.min(m,c)}return{skip:p,take:m}},itemsCount(){var e=0;return this.option(uE)?e=this._dataLoader.itemsCount.apply(this._dataLoader,arguments):e=this._dataOptions.itemsCount(),e}};return["pageIndex","beginPageIndex","endPageIndex","pageSize","load","loadIfNeed","handleDataChanged","getDelayDeferred"].forEach(e=>{t[e]=function(){return this._dataLoader[e].apply(this._dataLoader,arguments)}}),t}());var WZ="bottom-load-panel",ILe="group-space",jZ="dx-freespace-row",TLe="dx-column-lines",cE="dx-virtual-row",MLe="dx-row-inserted",ALe="infinite",RLe="virtual",GZ=300,$t="scrolling.legacyMode",kB="paging.pageIndex",io=function(t){return t.option("scrolling.mode")===RLe},El=function(t){return t.option("scrolling.mode")===ALe},Ea=function(t){return io(t)||El(t)},$Z=function(t,e,i,n){for(var r=0;r<e+1;r++){var o=t[i?t.length-1-r:r];o&&!n(o,r===e,i)&&e++}return e},hE=function(t,e){return t.rowType==="data"&&!t.isNewRow||t.rowType==="group"&&e.isGroupItemCountable(t.data)},FLe=function(t){return t.forEach((e,i)=>{e.rowIndex=i}),t},PLe=function(){var t=function(i){var n=i._virtualScrollController.beginPageIndex(-1);io(i)&&(n<0||i.viewportSize()>=0&&i.getViewportItemIndex()>=0&&(n*i.pageSize()>i.getViewportItemIndex()||n*i.pageSize()+i.itemsCount()<i.getViewportItemIndex()+i.viewportSize())&&i._dataSource.isLoading()?i._isLoading||(i._isLoading=!0,i.loadingChanged.fire(!0)):i._isLoading&&(i._isLoading=!1,i.loadingChanged.fire(!1)))},e={init(){this.callBase.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new PB(this.component,this._getVirtualScrollDataOptions())},_getVirtualScrollDataOptions(){var i=this;return{pageSize:()=>i.pageSize(),totalItemsCount:()=>i.totalItemsCount(),hasKnownLastPage:()=>i.hasKnownLastPage(),pageIndex:n=>i._dataSource.pageIndex(n),isLoading:()=>i._dataSource.isLoading()&&!i.isCustomLoading(),pageCount:()=>i.pageCount(),load:()=>i._dataSource.load(),updateLoading(){t(i)},itemsCount:()=>i.itemsCount(!0),items:()=>i._dataSource.items(),viewportItems(n){return n&&(i._items=n),i._items},onChanged(n){i.changed.fire(n)},changingDuration(){return i.isLoading()?GZ:i._renderTime||0}}},_handleLoadingChanged(i){if(this.option($t)===!1){this.callBase.apply(this,arguments);return}(!io(this)||this._isLoadingAll)&&(this._isLoading=i,this.callBase.apply(this,arguments)),i?this._startLoadTime=new Date:this._startLoadTime=void 0},_handleLoadError(){this.option($t)!==!1&&(this._isLoading=!1,this.loadingChanged.fire(!1)),this.callBase.apply(this,arguments)},_handleDataChanged(i){if(this.option($t)===!1){this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),this.callBase.apply(this,arguments);return}var n=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(n,i)},_customizeRemoteOperations(i,n){var r=this.option($t)===!1,o=this.option("scrolling.renderAsync");O(o)||(o=this._renderTime>=this.option("scrolling.renderingThreshold")),(io(this)||El(this)&&r)&&!n.reload&&(n.skip||r)&&!o&&(i.delay=void 0),this.callBase.apply(this,arguments)},items(){return this._items},_dataSourceTotalCount(i){return this.option($t)===!1&&io(this)&&!i?this._totalCount:this.callBase()},itemsCount(i){return i||this.option($t)===!1?this.callBase():this._virtualScrollController.itemsCount()},load(i){return this.option($t)===!1||i?this.callBase(i):this._virtualScrollController.load()},isLoading(){return this.option($t)===!1?this._dataSource.isLoading():this._isLoading},isLoaded(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache(i){i||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore(){var i=this.callBase.apply(this,arguments);return this.option($t)===!1||(this.resetPagesCache(),t(this)),i},reload(){this._dataSource.pageIndex(this.pageIndex());var i=this._virtualScrollController;if(this.option($t)!==!1&&i){var n=new H;return this.callBase.apply(this,arguments).done(r=>{var o=i.getDelayDeferred();o?o.done(n.resolve).fail(n.reject):n.resolve(r)}).fail(n.reject),n}return this.callBase.apply(this,arguments)},refresh(i,n){if(this.option($t)!==!1){var{storeLoadOptions:r}=i,o=this._dataSource;n.reload?(this._virtualScrollController.reset(),o.items().length=0,this._isLoaded=!1,t(this),this._isLoaded=!0,El(this)?(this.pageIndex(0),o.pageIndex(0),r.pageIndex=0,i.pageIndex=0,r.skip=0):(o.pageIndex(this.pageIndex()),o.paginate()&&(i.pageIndex=this.pageIndex(),r.skip=this.pageIndex()*this.pageSize()))):El(this)&&r.skip&&this._totalCountCorrection<0&&(r.skip+=this._totalCountCorrection)}return this.callBase.apply(this,arguments)},dispose(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)},loadPageCount(i){if(!O(i))return this._loadPageCount;this._loadPageCount=i},_handleDataLoading(i){var n=this.loadPageCount(),r=this.pageSize(),o=this.option($t)===!1,{storeLoadOptions:s}=i,a=O(s.take);i.loadPageCount=n,!i.isCustomLoading&&o&&a&&n>1&&r>0&&(s.take=n*r),this.callBase.apply(this,arguments)},_loadPageSize(){return this.callBase.apply(this,arguments)*this.loadPageCount()}};return["beginPageIndex","endPageIndex","pageIndex"].forEach(i=>{e[i]=function(){if(this.option($t)===!1){var n=this._dataSource;return n.pageIndex.apply(n,arguments)}var r=this._virtualScrollController;return r[i].apply(r,arguments)}}),["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentItemSizes","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","loadIfNeed"].forEach(i=>{e[i]=function(){var n=this._virtualScrollController;return n[i].apply(n,arguments)}}),e}(),kLe=function(){var t=function(e,i){var n=e.toArray().map(s=>g(s).parent(".".concat(i)).get(0)).filter(s=>s);n.length&&(e=g(n));for(var r=i===jZ?e.length-1:e.length,o=0;o<r;o++)e.eq(o).remove()};return{init(){var e,i=this.getController("data");this.callBase(),i.pageChanged.add(n=>{var r=this._scrollTop;this.scrollToPage(n??i.pageIndex()),this.option($t)===!1&&this._scrollTop===r&&i.updateViewport()}),i.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),(e=i.stateLoaded)===null||e===void 0||e.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize(){var e=this.getController("data");if(e.pageIndex()>0){var i=()=>{this.resizeCompleted.remove(i),this.scrollToPage(e.pageIndex())};this.resizeCompleted.add(i)}},scrollToPage(e){var i=this._dataController,n=i?i.pageSize():0,r;if(io(this)||El(this)){var o=i.getItemSize(),s=i.getItemSizes(),a=e*n;r=a*o;for(var l in s)parseInt(l)<a&&(r+=s[l]-o)}else r=0;this.scrollTo({y:r,x:this._scrollLeft})},renderDelayedTemplates(){this.waitAsyncTemplates().done(()=>{this._updateContentPosition(!0)}),this.callBase.apply(this,arguments)},_renderCore(e){var i=new Date,n=this.callBase.apply(this,arguments),r=this._dataController._dataSource;if(r&&e){var o=e.items?e.items.length:20,s=this._dataController.viewportSize()||20;he.isVirtualRowRendering(this)&&o>0&&this.option($t)!==!1?r._renderTime=(new Date-i)*s/o:r._renderTime=new Date-i}return n},_getRowElements(e){var i=this.callBase(e);return i&&i.not(".".concat(cE))},_removeRowsElements(e,i,n){var r=this._getRowElements(e).toArray();n==="append"?r=r.slice(0,i):r=r.slice(-i);var o=this.getController("errorHandling");r.map(s=>{var a=g(s);o&&o.removeErrorRow(a.next()),a.remove()})},_updateContent(e,i){var n,r=this._findContentElement(),o=i&&i.changeType,s=H(),a=r.children().first();return o==="append"||o==="prepend"?this.waitAsyncTemplates().done(()=>{var l=this._getBodies(e);l.length===1?this._getBodies(a)[o==="append"?"append":"prepend"](l.children()):l[o==="append"?"appendTo":"prependTo"](a),e.remove(),n=this._getFreeSpaceRowElements(a),t(n,jZ),i.removeCount&&this._removeRowsElements(a,i.removeCount,o),this._restoreErrorRow(a),s.resolve()}).fail(s.reject):this.callBase.apply(this,arguments).done(()=>{o==="update"&&this._restoreErrorRow(a),s.resolve()}).fail(s.reject),s.promise().done(()=>{this._updateBottomLoading()})},_addVirtualRow(e,i,n,r){if(r){var o=this._createEmptyRow(cE,i,r);o=this._wrapRowIfNeed(e,o),this._appendEmptyRow(e,o,n)}},_updateContentItemSizes(){var e=this._getRowHeights(),i=this._correctRowHeights(e);this._dataController.setContentItemSizes(i)},_updateViewportSize(e,i){O(e)||(e=this._hasHeight?et(this.element()):et(Le())),this._dataController.viewportHeight(e,i)},_getRowHeights(){var e,i,n=(i=(e=this.getController("editing"))===null||e===void 0?void 0:e.isPopupEditMode)===null||i===void 0?void 0:i.call(e),r=this._getRowElements(this._tableElement).toArray();return n&&(r=r.filter(o=>!g(o).hasClass(MLe))),r.map(o=>Jt(o).height)},_correctRowHeights(e){for(var i=this._dataController,n=i._dataSource,r=[],o=i.getVisibleRows(),s=0,a=!0,l=-1,d=0;d<e.length;d++){var u=o[d];O(u)&&(this.option($t)===!1?(l>=0&&l!==u.loadIndex&&(r.push(s),s=0),l=u.loadIndex):hE(u,n)&&(a?a=!1:(r.push(s),s=0)),s+=e[d])}return s>0&&r.push(s),r},_updateContentPosition(e){var i=this._dataController,n=this._rowHeight||20;if(i.viewportItemSize(n),io(this)||he.isVirtualRowRendering(this)){e||this._updateContentItemSizes();var r=i.getContentOffset("begin"),o=i.getContentOffset("end"),s=this.getTableElements(),a=s.children("tbody").children(".".concat(cE));t(a,cE),s.each((l,d)=>{var u=l>0,h=this._isFixedTableRendering;this._isFixedTableRendering=u,this._addVirtualRow(g(d),u,"top",r),this._addVirtualRow(g(d),u,"bottom",o),this._isFixedTableRendering=h})}},_isTableLinesDisplaysCorrect(e){var i=e.find(".".concat(TLe)).length>0;return i===this.option("showColumnLines")},_isColumnElementsEqual(e,i){var n=e.length===i.length;return n&&F(e,(r,o)=>{if(o.style.width!==i[r].style.width)return n=!1,n}),n},_getCellClasses(e){var i=[],{cssClass:n}=e,r=e.command==="expand";return n&&i.push(n),r&&i.push(this.addWidgetPrefix(ILe)),i},_findBottomLoadPanel(e){var i=e||this.element(),n=i&&i.find(".".concat(this.addWidgetPrefix(WZ)));if(n&&n.length)return n},_updateBottomLoading(){var e=io(this),i=El(this),n=!this._dataController.hasKnownLastPage()&&this._dataController.isLoaded()&&(e||i),r=this._findContentElement(),o=this._findBottomLoadPanel(r);n?o||g("<div>").addClass(this.addWidgetPrefix(WZ)).append(this._createComponent(g("<div>"),Hn).$element()).appendTo(r):o&&o.remove()},_handleScroll(e){var i=this.option($t)===!0,n=e.scrollOffset.top===0,r=this._scrollTop!==e.scrollOffset.top,o=r||e.forceUpdateScrollPosition,s=this._hasHeight||!i&&n;if(o&&s&&this._rowHeight){this._scrollTop=e.scrollOffset.top;var a=io(this)||this.option("scrolling.rowRenderingMode")!=="standard";a&&this.option($t)===!1&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(e.scrollOffset.top)}this.callBase.apply(this,arguments)},_needUpdateRowHeight(e){return this.callBase.apply(this,arguments)||e>0&&El(this)&&!he.isVirtualRowRendering(this)},_updateRowHeight(){if(this.callBase.apply(this,arguments),this._rowHeight){this._updateContentPosition();var e=this._hasHeight?et(this.element()):et(Le()),i=this._dataController;this.option($t)===!1?(this._updateViewportSize(e),i.updateViewport()):i.viewportSize(Math.ceil(e/this._rowHeight))}},updateFreeSpaceRowHeight(){var e=this.callBase.apply(this,arguments);return e&&this._updateContentPosition(),e},setLoading(e,i){var n=this._dataController,r=n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel();this.option($t)===!1&&e&&n.isViewportChanging()||(r&&(e=!1),this.callBase.call(this,e,i))},throwHeightWarningIfNeed(){if(this._hasHeight!==void 0){var e=!this._hasHeight&&Ea(this);e&&!this._heightWarningIsThrown&&(this._heightWarningIsThrown=!0,Ke.log("W1025"))}},_resizeCore(){var e=this,i=e.element();e.callBase(),this.throwHeightWarningIfNeed(),e.component.$element()&&!e._windowScroll&&Ou(i)&&(e._windowScroll=FB(i,n=>{!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(n)},e.component.$element()),e.on("disposing",()=>{e._windowScroll.dispose()})),this.option($t)!==!1&&e.loadIfNeed()},loadIfNeed(){var e,i=this._dataController;(e=i?.loadIfNeed)===null||e===void 0||e.call(i)},_restoreErrorRow(){if(this.option($t)===!1){var e=this.getController("errorHandling");e?.removeErrorRow()}this.callBase.apply(this,arguments)},dispose(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),NB={defaultOptions:()=>({scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}),extenders:{dataSourceAdapter:PLe,controllers:{data:function(){var t={_refreshDataSource(){var e=this.callBase.apply(this,arguments)||new H().resolve().promise();return e.done(this.initVirtualRows.bind(this)),e},_loadDataSource(){var e;if(this._rowsScrollController&&Ea(this)){var{loadPageCount:i}=O(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:void 0};i>=1&&((e=this._dataSource)===null||e===void 0||e.loadPageCount(i))}return this.callBase.apply(this,arguments)},getRowPageSize(){var e=this.option("scrolling.rowPageSize"),i=this.pageSize();return i&&i<e?i:e},reload(){var e=this._rowsScrollController||this._dataSource,i=e&&e.getItemIndexByPosition(),n=this.callBase.apply(this,arguments);return n&&n.done(()=>{var r;if(io(this)||he.isVirtualRowRendering(this)){var o=this.getRowIndexOffset(),s=Math.floor(i)-o,{component:a}=this,l=a.getScrollable&&a.getScrollable(),d=this.dataSource().operationTypes().sorting;if(l&&!d&&s>=0){var u=a.getRowElement(s),h=u&&u[0]&&g(u[0]),p=h&&h.position().top,m=Nt.chrome&&Number((r=Nt.version)!==null&&r!==void 0?r:0)>=91,c=Nt.mozilla||m?1:0;p>c&&(p=Math.round(p+et(h)*(i%1)),l.scrollTo({y:p}))}}})},initVirtualRows(){var e=he.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,this.option("scrolling.mode")!=="virtual"&&!e||!e||this.option($t)!==!1&&!this.option("scrolling.rowPageSize")){this._visibleItems=null,this._rowsScrollController=null;return}var i=!io(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(i*this.pageSize()/this.getRowPageSize()),this._visibleItems=this.option($t)===!1?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new PB(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var n;if(this.option($t)===!1){this._viewportChanging=!0,this.loadViewport(),this._viewportChanging=!1;return}(n=this._dataSource)===null||n===void 0||n.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),this.option($t)===!1&&this._updateLoadViewportParams(),this.isLoaded()&&this.option($t)!==!1&&this._rowsScrollController.load()},isViewportChanging(){return this._viewportChanging},_getRowsScrollDataOptions(){var e=this,i=function(n){return hE(n,e._dataSource)};return{pageSize:()=>e.getRowPageSize(),loadedOffset(){var n;return io(e)&&((n=e._dataSource)===null||n===void 0?void 0:n.lastLoadOptions().skip)||0},loadedItemCount:()=>e._itemCount,totalItemsCount(){return Ea(e)?e.totalItemsCount():e.option($t)===!1?e._itemCount:e._items.filter(i).length},hasKnownLastPage:()=>e.option($t)===!1?e.hasKnownLastPage():!0,pageIndex(n){return n!==void 0&&(e._rowPageIndex=n),e._rowPageIndex},isLoading:()=>e.isLoading(),pageCount(){var n=Math.ceil(this.totalItemsCount()/this.pageSize());return n||1},load(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!(!this.items().length&&this.totalItemsCount())&&e._rowsScrollController.handleDataChanged(n=>{n=n||{},n.changeType=n.changeType||"refresh",n.items=n.items||e._visibleItems,e._visibleItems.forEach((r,o)=>{r.rowIndex=o}),e._fireChanged(n)})},updateLoading(){},itemsCount(){return this.items(!0).length},correctCount:(n,r,o)=>$Z(n,r,o,(s,a,l)=>s.isNewRow?a&&!l:a&&l?!s.isNewRow:i(s)),items(n){var r=e._items;if(e.option($t)){var o=e.dataSource(),s=o?.virtualItemsCount(),a=s?s.begin:0,l=e.getRowPageSize(),d=e._rowPageIndex*l-a,u=l;if(d<0)return[];d&&(d=this.correctCount(r,d),r=r.slice(d)),u&&(u=this.correctCount(r,u),r=r.slice(0,u))}return n?r.filter(i):r},viewportItems(n){return n&&e.option($t)!==!1&&(e._visibleItems=n),e._visibleItems},onChanged(){},changingDuration(){var n=e.dataSource();return n?.isLoading()&&e.option($t)!==!1?GZ:n?._renderTime||0}}},_updateItemsCore(e){var i=this.getRowIndexDelta();if(this.callBase.apply(this,arguments),this.option($t)===!1&&he.isVirtualRowRendering(this)){e.changeType==="update"&&e.rowIndices.length===0&&e.cancelEmptyChanges&&(e.cancel=!0);return}var n=this._rowsScrollController;if(n){var r=this._visibleItems,o=e.changeType==="refresh"||e.isLiveUpdate;if(e.changeType==="append"&&e.items&&!e.items.length)return;o||e.changeType==="append"||e.changeType==="prepend"?(e.cancel=!0,o&&n.reset(!0),n.load()):(e.changeType==="update"?e.rowIndices.forEach((s,a)=>{var l=e.changeTypes[a],d=e.items[a];l==="update"?r[s]=d:l==="insert"?r.splice(s,0,d):l==="remove"&&r.splice(s,1)}):(r.forEach((s,a)=>{r[a]=this._items[a+i]||r[a]}),e.items=r),FLe(r))}},_updateLoadViewportParams(){var e=this._rowsScrollController.getViewportParams(),i=this.pageSize();if(e&&!Ea(this)&&i>0){var n=this.pageIndex()*i;e.skip+=n}this._loadViewportParams=e},_processItems(){var e,i=this.callBase.apply(this,arguments);if(this.option($t)===!1){var n=this._dataSource,r=(e=n?.lastLoadOptions().skip)!==null&&e!==void 0?e:0,o,s,a,l=!1,d=[];i.forEach(u=>{var{rowType:h}=u,p=hE(u,n),m=h==="group"&&(o||p||s!=="group"&&r>0),c=h==="data"&&p&&(o||s!=="group");if(!u.isNewRow&&O(o)){var x=a&&!l;(m||c)&&!x&&r++}(m||c)&&(l=!0),u.isNewRow?d.push(u):(d.forEach(D=>{D.loadIndex=r}),d=[]),u.loadIndex=r,o=p,s=h,a=u.isNewRow}),d.forEach(u=>{u.loadIndex=r})}return i},_afterProcessItems(e){if(this._itemCount=e.filter(s=>hE(s,this._dataSource)).length,O(this._loadViewportParams)){this._updateLoadViewportParams();var i=e;if(this._allItems=e,e.length){var{skipForCurrentPage:n}=this.getLoadPageParams(!0),r=e[0].loadIndex+n,{take:o}=this._loadViewportParams;i=e.filter(s=>{var a=s.isNewRow&&s.loadIndex===r&&o===0,l=s.loadIndex>=r,d=s.loadIndex<r+o||a;return l&&d})}return i}return this.callBase.apply(this,arguments)},_applyChange(e){var i=this,{items:n}=e,{changeType:r}=e,{removeCount:o}=e;if(o){var s=r==="prepend";o=$Z(i._items,o,s,(a,l)=>a.rowType==="data"&&!a.isNewRow||a.rowType==="group"&&(i._dataSource.isGroupItemCountable(a.data)||l)),e.removeCount=o}switch(r){case"prepend":i._items.unshift.apply(i._items,n),o&&i._items.splice(-o);break;case"append":i._items.push.apply(i._items,n),o&&i._items.splice(0,o);break;default:i.callBase(e)}},items(e){return e?this._allItems||this._items:this._visibleItems||this._items},getRowIndexDelta(){var e=0;if(this.option($t)){var i=this._visibleItems;i&&i[0]&&(e=this._items.indexOf(i[0]))}return e<0?0:e},getRowIndexOffset(e,i){var n,r,o=0,s=this.dataSource(),a=this._rowsScrollController,l=this.option($t)===!1,d=Ea(this);if(a&&!e)if(l&&O(this._loadViewportParams)){var{skipForCurrentPage:u,pageIndex:h}=this.getLoadPageParams(!0),p=this.items(!0);if(o=d?h*this.pageSize():0,p.length){var m=p[0].loadIndex;o+=p.filter(x=>x.loadIndex<m+u).length}}else o=a.beginPageIndex()*a.pageSize();else if(d&&l&&s){var c=s.lastLoadOptions();i&&(!((n=c.skips)===null||n===void 0)&&n.length)?o=c.skips.reduce((x,D)=>x+D,0):o=(r=c.skip)!==null&&r!==void 0?r:0}else io(this)&&s&&(o=s.beginPageIndex()*s.pageSize());return o},getDataIndex(){return this.option($t)===!1?this.getRowIndexOffset(!0,!0):this.callBase.apply(this,arguments)},viewportSize(){var e=this._rowsScrollController,i=this._dataSource,n=e?.viewportSize.apply(e,arguments);return this.option($t)===!1?n:i?.viewportSize.apply(i,arguments)},viewportHeight(e,i){var n;(n=this._rowsScrollController)===null||n===void 0||n.viewportHeight(e,i)},viewportItemSize(){var e=this._rowsScrollController,i=this._dataSource,n=e?.viewportItemSize.apply(e,arguments);return this.option($t)===!1?n:i?.viewportItemSize.apply(i,arguments)},setViewportPosition(){var e=this._rowsScrollController,i=this._dataSource;this._isPaging=!1,e?e.setViewportPosition.apply(e,arguments):i?.setViewportPosition.apply(i,arguments)},setContentItemSizes(e){var i=this._rowsScrollController,n=this._dataSource,r=i?.setContentItemSizes(e);return this.option($t)===!1?r:n?.setContentItemSizes(e)},getPreloadedRowCount(){var e=this.option("scrolling.preloadedRowCount"),i=this.option("scrolling.preloadEnabled");if(O(e))return e;var n=this.viewportSize();return i?2*n:n},getLoadPageParams(e){var i,n,r=this.pageSize(),o=this._loadViewportParams,s=(i=this._dataSource)===null||i===void 0?void 0:i.lastLoadOptions(),a=s?.pageIndex||0,l=s?.take||0,d=this._rowsScrollController.isScrollingBack(),u=d?this.getPreloadedRowCount():0,h=d?0:this.getPreloadedRowCount(),p=((n=this._dataSource)===null||n===void 0?void 0:n.totalCountCorrection())||0,m=Math.max(0,o.skip-u),c=e?a:Math.floor(r?m/r:0),x=c*r,D=o.skip-x,T=o.take+D+h-p,N=e?l:T,G=Math.ceil(r?N/r:0);return{pageIndex:c,loadPageCount:Math.max(1,G),skipForCurrentPage:Math.max(0,D)}},_updateVisiblePageIndex(e){if(this._rowsScrollController){if(O(e)){this._silentOption(kB,e),this.pageChanged.fire();return}var i=this._rowsScrollController.getViewportItemIndex(),n=Math.floor(i/this.pageSize());this.pageIndex()!==n&&(this._silentOption(kB,n),this.updateItems({changeType:"pageIndex"}))}},_getChangedLoadParams(){var e=this.getLoadPageParams(!0),{pageIndex:i,loadPageCount:n}=this.getLoadPageParams(),r=this._pageIndexIsValid(i),o=null;return!this._isLoading&&r&&(i!==e.pageIndex||n!==e.loadPageCount)&&(o={pageIndex:i,loadPageCount:n}),o},_pageIndexIsValid(e){var i=!0;return(El(this)&&this.hasKnownLastPage()||io(this))&&(i=e*this.pageSize()<this.totalItemsCount()),i},_loadItems(e,i){var n,r,o=Ea(this),s=this._dataSource,a=this._getChangedLoadParams(),l=(n=s?.loadPageCount())!==null&&n!==void 0?n:0,d=this.pageSize()*l,u=(r=s?.pageIndex())!==null&&r!==void 0?r:0,h=a?.pageIndex===u,p=El(this)&&this.totalItemsCount()<d,m=this.option("editing.refreshMode")==="repaint",c=a?.pageIndex>u,x=!1;if(!s||o&&e&&(m&&i||c||h&&p))return x;if(o&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),o&&a){x=!0,s.pageIndex(a.pageIndex),s.loadPageCount(a.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;var D=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{var T=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(D||T)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return x},loadViewport(e){var i,n,r,{checkLoadedParamsOnly:o,checkLoading:s,viewportIsNotFilled:a}=e??{},l=Ea(this);if(l||he.isVirtualRowRendering(this)){this._updateLoadViewportParams();var d=this._loadItems(s,!a),u=(i=this._dataSource)===null||i===void 0?void 0:i.isCustomLoading(),h=s&&!u&&this._isLoading,p=!(d||h||o);if(p){var m=!(!((r=(n=this.getController("editing"))===null||n===void 0?void 0:n.getChanges())===null||r===void 0)&&r.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:m,cancelEmptyChanges:!0})}}},updateViewport(){var e,i,n=this.viewportSize(),r=this.items().length,o=n>r,s=(i=(e=this._loadViewportParams)===null||e===void 0?void 0:e.take)!==null&&i!==void 0?i:0,a=this._rowsScrollController,l=a?.getViewportParams().take;(o||s<l)&&!this._isPaging&&r&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:o})},loadIfNeed(){if(this.option($t)!==!1){var e=this._rowsScrollController;e&&e.loadIfNeed();var i=this._dataSource;return i&&i.loadIfNeed()}},getItemSize(){var e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);var i=this._dataSource;return i&&i.getItemSize.apply(i,arguments)},getItemSizes(){var e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);var i=this._dataSource;return i&&i.getItemSizes.apply(i,arguments)},getContentOffset(){var e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);var i=this._dataSource;return i&&i.getContentOffset.apply(i,arguments)},refresh(e){var i=this._dataSource;return i&&e&&e.load&&El(this)&&i.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose(){var e=this._rowsScrollController;e&&e.dispose(),this.callBase.apply(this,arguments)},topItemIndex(){var e;return(e=this._loadViewportParams)===null||e===void 0?void 0:e.skip},bottomItemIndex(){var e=this._loadViewportParams;return e&&e.skip+e.take},virtualItemsCount(){var e=this._rowsScrollController;if(e)return e.virtualItemsCount.apply(e,arguments);var i=this._dataSource;return i?.virtualItemsCount.apply(i,arguments)},pageIndex(e){var i,n=Ea(this),r=this._rowsScrollController;return this.option($t)===!1&&n&&r&&e===void 0?(i=this.option(kB))!==null&&i!==void 0?i:0:this.callBase.apply(this,arguments)},_fireChanged(e){this.callBase.apply(this,arguments);var{operationTypes:i}=e;if(this.option($t)===!1&&Ea(this)&&i){var{fullReload:n,pageIndex:r}=i;e.isDataChanged&&!n&&r&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}},_getPagingOptionValue(e){var i=this.callBase.apply(this,arguments);return this.option($t)===!1&&Ea(this)&&(i=this[e]()),i},isEmpty(){return this.option($t)===!1?!this.items(!0).length:this.callBase(this,arguments)},isLastPageLoaded(){var e=!1;if(this.option($t)===!1&&Ea(this)){var{pageIndex:i,loadPageCount:n}=this.getLoadPageParams(!0),r=this.pageCount();e=i+n>=r}else e=this.callBase.apply(this,arguments);return e},reset(){this._itemCount=0,this._allItems=null,this.callBase.apply(this,arguments)},_applyFilter(){var e;return(e=this._dataSource)===null||e===void 0||e.loadPageCount(1),this.callBase.apply(this,arguments)}};return he.proxyMethod(t,"getVirtualContentSize"),he.proxyMethod(t,"setViewportItemIndex"),t}(),resizing:{_updateMasterDataGridCore(t){return ye(this.callBase.apply(this,arguments)).done(e=>{var i=io(t)&&t.option($t)===!1;if(!e&&i){var n=t.getScrollable();n&&t.updateDimensions()}})},hasResizeTimeout(){return!!this._resizeTimeout},resize(){var{callBase:t}=this,e;if(io(this)||he.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;var i=new Date-this._lastTime,n=this.option("scrolling.updateTimeout");this._lastTime&&i<n?(e=new H,this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,t.apply(this).done(e.resolve).fail(e.reject),this._lastTime=new Date},n),this._lastTime=new Date):(e=t.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else e=t.apply(this);return e},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:kLe}}};Ie.registerModule("virtualScrolling",NB);Id.extend(NB.extenders.dataSourceAdapter);var NLe=.9,pE=(t,e)=>{var i=g(Le()),{top:n}=t.offset(),r;if(It(e)){if(e<n)return n-e;r=Yc(i)-e+i.scrollTop()}else{var o=n-i.scrollTop(),s=Yc(i)-o-et(t);r=Math.max(o,s)}return r*NLe};var LLe="dx-context-menu-content-delimiter",BLe="dx-submenu",LB=class extends Dg{_getDefaultOptions(){return y(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:W})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();var e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=g("<div>").appendTo(this._itemContainer()).addClass(LLe)}_getOverlayOptions(){return y(!0,super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this),position:{precise:!0}})}_overlayPositionedActionHandler(e){this._showDelimiter(e)}_hoverEndHandler(e){super._hoverEndHandler(e),this._toggleFocusClass(!1,e.currentTarget)}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_hoverStartHandler(e){var i=this.option("onHoverStart");i(e),super._hoverStartHandler(e),this._toggleFocusClass(!0,e.currentTarget)}_drawSubmenu(e){this._actions.onShowing({rootItem:Pe(e),submenu:this}),super._drawSubmenu(e),this._actions.onShown({rootItem:Pe(e),submenu:this})}_hideSubmenu(e){this._actions.onHiding({cancel:!0,rootItem:Pe(e),submenu:this}),super._hideSubmenu(e),this._actions.onHidden({rootItem:Pe(e),submenu:this})}_showDelimiter(e){if(this.$contentDelimiter){var i=this._itemContainer().children(".".concat(BLe)).eq(0),n=this.option("position").of.find(".dx-context-menu-container-border"),r={of:i,precise:!0},o=e.position,s=o.v.location,a=o.h.location,l=n.offset(),d=Math.round(l.left),u=Math.round(l.top),h=Ae(n),p=je(n),m=Ae(i),c=je(i);this.$contentDelimiter.css("display","block"),Ao(this.$contentDelimiter,this._isMenuHorizontal()?h<m?h:m:3),nr(this.$contentDelimiter,this._isMenuHorizontal()?3:p<c?p:c),this._isMenuHorizontal()?s>u?Math.round(a)===d?(r.offset="0 -2.5",r.at=r.my="left top"):(r.offset="0 -2.5",r.at=r.my="right top"):(nr(this.$contentDelimiter,5),Math.round(a)===d?(r.offset="0 5",r.at=r.my="left bottom"):(r.offset="0 5",r.at=r.my="right bottom")):a>d?Math.round(s)===u?(r.offset="-2.5 0",r.at=r.my="left top"):(r.offset="-2.5 0",r.at=r.my="left bottom"):Math.round(s)===u?(r.offset="2.5 0",r.at=r.my="right top"):(r.offset="2.5 0",r.at=r.my="right bottom"),en.setup(this.$contentDelimiter,r)}}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}},fE=LB;var Uh="dx-menu",VLe=Uh+"-vertical",UZ=Uh+"-horizontal",HB=Uh+"-item",KZ=Uh+"-items-container",BB=HB+"-expanded",gE="dx-context-menu",VB=gE+"-container-border",HLe="dx-context-menu-content-delimiter",zLe="dx-submenu",WLe="dx-state-disabled",qZ="dx-state-hover",jLe="dx-state-active",mE=Uh+"-adaptive-mode",JZ=Uh+"-hamburger-button",$Le=mE+"-overlay-wrapper",GLe="up",ULe="down",KLe="left",qLe="right",TC="showSubmenu",Jg="nextItem",lc="prevItem",JLe={show:50,hide:300},YZ=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"],vE=class extends KD{_getDefaultOptions(){return y(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),y(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){var e=super._itemElements(),i=this._submenuItemElements();return e.add(i)}_submenuItemElements(){var e=[],i=".".concat(HB),n=this._submenus.length&&this._submenus[0];return n&&n.itemsContainer()&&(e=n.itemsContainer().find(i)),e}_focusTarget(){return this.$element()}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_moveFocus(e){var i=this._getAvailableItems(),n=this._isMenuHorizontal(),r=this._getActiveItem(!0),o,s,a,l;switch(e){case GLe:s=n?TC:this._getItemsNavigationOperation(lc),o=n?r:i,a=this._getKeyboardNavigationAction(s,o),l=a();break;case ULe:s=n?TC:this._getItemsNavigationOperation(Jg),o=n?r:i,a=this._getKeyboardNavigationAction(s,o),l=a();break;case qLe:s=n?this._getItemsNavigationOperation(Jg):TC,o=n?i:r,a=this._getKeyboardNavigationAction(s,o),l=a();break;case KLe:s=n?this._getItemsNavigationOperation(lc):TC,o=n?i:r,a=this._getKeyboardNavigationAction(s,o),l=a();break;default:return super._moveFocus(e)}l&&l.length!==0&&this.option("focusedElement",Pe(l))}_getItemsNavigationOperation(e){var i=e;return this.option("rtlEnabled")&&(i=e===lc?Jg:lc),i}_getKeyboardNavigationAction(e,i){var n=W;switch(e){case TC:i.hasClass(WLe)||(n=this._showSubmenu.bind(this,i));break;case Jg:n=this._nextItem.bind(this,i);break;case lc:n=this._prevItem.bind(this,i)}return n}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&this.option("orientation")==="horizontal"}_updateItemsWidthCache(){var e=this.$element().find("ul").first().children("li").children(".".concat(HB));this._menuItemsWidth=this._getSummaryItemsSize("width",e,!0)}_dimensionChanged(){if(this._isAdaptivityEnabled()){var e=it(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>e)}}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},F(YZ,(e,i)=>{this._actions[i]=this._createActionByOption(i)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass(Uh),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_renderHamburgerButton(){return this._hamburger=new ci(g("<div>").addClass(JZ),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(e){Ve(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),e&&this._treeView.focus(),this._toggleHamburgerActiveState(e)}_toggleHamburgerActiveState(e){this._hamburger&&this._hamburger.$element().toggleClass(jLe,e)}_toggleAdaptiveMode(e){var i=this.$element().find(".".concat(UZ)),n=this.$element().find(".".concat(mE));e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),i.toggle(!e),n.toggle(e)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var e=this.option("rtlEnabled"),i=e?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>pE(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:n=>!g(n.target).closest(".".concat(JZ)).length,position:{collision:"flipfit",at:"bottom "+i,my:"top "+i,of:this._hamburger.$element()}}}_getTreeViewOptions(){var e={};return F(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(i,n)=>{e[n]=this.option(n)}),F(["onItemContextMenu","onSelectionChanged","onItemRendered"],(i,n)=>{e[n]=r=>{this._actions[n](r)}}),y(e,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:i=>{this._overlay.repaint(),this._actions.onSubmenuShown(i)},onItemCollapsed:i=>{this._overlay.repaint(),this._actions.onSubmenuHidden(i)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}_initAdaptivity(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=g("<div>").addClass(mE);var e=this._renderHamburgerButton();this._treeView=this._createComponent(g("<div>"),xl,this._getTreeViewOptions()),this._overlay=this._createComponent(g("<div>"),Rn,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(mE).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass($Le),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}_getDelay(e){var i=this.option("showFirstSubmenuMode").delay;return O(i)?ke(i)?i[e]:i:JLe[e]}_keyboardHandler(e){return super._keyboardHandler(e,!!this._visibleSubmenu)}_renderContainer(){var e=g("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?UZ:VLe),super._renderContainer(e)}_renderSubmenuItems(e,i){var n=this._createSubmenu(e,i);return this._submenus.push(n),this._renderBorderElement(i),n}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(e,i){var n=g("<div>").addClass(gE).appendTo(i),r=this._getChildNodes(e),o=this._createComponent(n,fE,y(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:r,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(i)}));return this._attachSubmenuHandlers(i,o),o}_getSubmenuOptions(){var e=g("<div>"),i=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:e,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:n=>{n.component.option("visible")&&this.option("focusedElement",n.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:i?null:this._moveMainMenuFocus.bind(this,lc),onLeftLastItem:i?null:this._moveMainMenuFocus.bind(this,Jg),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,i?lc:null),onExpandLastSubmenu:i?this._moveMainMenuFocus.bind(this,Jg):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return ke(e)?e.name:e}_moveMainMenuFocus(e){var i=this._getAvailableItems(),n=i.length,r=i.filter(".".concat(BB)).eq(0),o=i.index(r);this._hideSubmenu(this._visibleSubmenu),o+=e===lc?-1:1,o>=n?o=0:o<0&&(o=n-1);var s=i.eq(o);this.option("focusedElement",Pe(s))}_nestedItemOnSelectionChangedHandler(e){var i=e.addedItems.length&&e.addedItems[0],n=fE.getInstance(e.element),r=this._actions.onSelectionChanged;r(e),i&&this._clearSelectionInSubmenus(i[0],n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",i)}_clearSelectionInSubmenus(e,i){var n=!arguments.length;F(this._submenus,(r,o)=>{var s=o._itemContainer(),a=!s.is(i&&i._itemContainer()),l=s.find(".".concat(this._selectedItemClass()));if(a&&l.length||n){l.removeClass(this._selectedItemClass());var d=this._getItemData(l);d&&(d.selected=!1),o._clearSelectedItems()}})}_clearRootSelection(){var e=this.$element().find(".".concat(KZ)).first().children().children().filter(".".concat(this._selectedItemClass()));if(e.length){var i=this._getItemData(e);i.selected=!1,e.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(e){this._actions.onItemClick(e)}_nestedItemOnItemRenderedHandler(e){this._actions.onItemRendered(e)}_attachSubmenuHandlers(e,i){var n=i.getOverlayContent(),r=n.find(".".concat(zLe)),o=ne(Tu,this.NAME+"_submenu");i.option({onShowing:this._submenuOnShowingHandler.bind(this,e,i),onShown:this._submenuOnShownHandler.bind(this,e,i),onHiding:this._submenuOnHidingHandler.bind(this,e,i),onHidden:this._submenuOnHiddenHandler.bind(this,e,i)}),F(r,(s,a)=>{S.off(a,o),S.on(a,o,null,this._submenuMouseLeaveHandler.bind(this,e))})}_submenuOnShowingHandler(e,i){var n=e.children(".".concat(VB));this._actions.onSubmenuShowing({rootItem:Pe(e),submenu:i}),n.show(),e.addClass(BB)}_submenuOnShownHandler(e,i){this._actions.onSubmenuShown({rootItem:Pe(e),submenu:i})}_submenuOnHidingHandler(e,i,n){var r=e.children(".".concat(VB)),o=n;o.rootItem=Pe(e),o.submenu=i,this._actions.onSubmenuHiding(o),n=o,n.cancel||(this._visibleSubmenu===i&&(this._visibleSubmenu=null),r.hide(),e.removeClass(BB))}_submenuOnHiddenHandler(e,i){this._actions.onSubmenuHidden({rootItem:Pe(e),submenu:i})}_submenuMouseLeaveHandler(e,i){var n=g(i.relatedTarget).parents(".".concat(gE))[0],r=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&n!==r&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(this._visibleSubmenu){var e=g(this._visibleSubmenu.$element().context).hasClass(qZ),i=this._visibleSubmenu.getOverlayContent().find(".".concat(qZ)).length,n=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");!n&&!i&&!e&&this._visibleSubmenu.hide()}}_getSubmenuByRootElement(e){if(!e)return!1;var i=e.children(".".concat(gE));return i.length&&fE.getInstance(i)}getSubmenuPosition(e){var i=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),r=this.option("rtlEnabled"),o={collision:"flip",of:e,precise:!0};switch(n){case"leftortop":o.at="left top",o.my=i?"left bottom":"right top";break;case"rightorbottom":o.at=i?"left bottom":"right top",o.my="left top";break;default:i?(o.at=r?"right bottom":"left bottom",o.my=r?"right top":"left top"):(o.at=r?"left top":"right top",o.my=r?"right top":"left top")}return o}_renderBorderElement(e){g("<div>").appendTo(e).addClass(VB).hide()}_itemPointerDownHandler(e){var i=g(e.target),n=i.closest(this._itemElements());if(n.hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerDownHandler(e)}_hoverStartHandler(e){var i=ne(nt.move,this.NAME),n=this._getItemElementByEventArgs(e),r=this._dataAdapter.getNodeByItem(this._getItemData(n)),o=O(e.buttons)&&e.buttons===1||!O(e.buttons)&&e.which===1;if(!this._isItemDisabled(n)){if(S.off(n,i),!this._hasChildren(r)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!o){var s=this._getSubmenuByElement(n);this._clearTimeouts(),s.isOverlayVisible()||(S.on(n,i,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(e){var i=this._getItemElementByEventArgs(e),n=g(e.relatedTarget);super._hoverEndHandler(e),this._clearTimeouts(),!this._isItemDisabled(i)&&(n.hasClass(HLe)||this.option("hideSubmenuOnMouseLeave")&&!n.hasClass(KZ)&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(e){var i=this._getSubmenuByElement(e);this._visibleSubmenu!==i&&this._hideVisibleSubmenu(),i&&(this._clearTimeouts(),this.focus(),i.show(),this.option("focusedElement",i.option("focusedElement"))),this._visibleSubmenu=i,this._hoveredRootItem=e}_hideSubmenu(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(e){if(!(e.pointers&&e.pointers.length)){var i=g(e.currentTarget);O(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{var n=this._getSubmenuByElement(i);n&&!n.isOverlayVisible()&&this._showSubmenu(i)},this._getDelay("show")))}}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(e,i){var n=this._getSubmenuByRootElement(e);if(n)return n;i=i||this._getItemData(e);var r=this._dataAdapter.getNodeByItem(i);return this._hasChildren(r)&&this._renderSubmenuItems(r,e)}_updateSubmenuVisibilityOnClick(e){var i=e.args.length&&e.args[0];if(!(!i||this._disabledGetter(i.itemData))){var n=g(i.itemElement),r=this._getSubmenuByElement(n,i.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu)if(this._visibleSubmenu===r){this.option("showFirstSubmenuMode")==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}else this._hideSubmenu(this._visibleSubmenu);if(r&&!r.isOverlayVisible()){this._showSubmenu(n);return}}}_optionChanged(e){if(YZ.indexOf(e.name)>=0){this._initActions();return}switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),super._optionChanged(e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),super._optionChanged(e);break;default:this._isAdaptivityEnabled()&&(e.name===e.fullName||e.name==="items")&&this._treeView.option(e.fullName,e.value),super._optionChanged(e)}}_changeSubmenusOption(e,i){F(this._submenus,(n,r)=>{r.option(e,i)})}selectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}unselectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}};Be("dxMenu",vE);var XZ=vE;var zB=XZ;var WB={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},QZ={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},YLe=700,iee=1,AC="filter-row",_E="filter-range-overlay",CE="filter-range-start",XLe="filter-range-end",ZZ="dx-menu",eee="dx-editor-with-menu",Kh="dx-editor-container",KB="dx-editor-cell",QLe="dx-filter-menu",ZLe="dx-apply-button",jB="dx-highlight-outline",tee="dx-focused",eBe="dx-cell-focus-disabled",$B="dx-filter-range-content",GB="dx-filter-modified",MC="input:not([type='hidden'])",tBe=["date","datetime","number"],iBe=j.format("dxDataGrid-ariaSearchBox");function Yg(t){return t.option("filterRow.applyFilter")==="onClick"}var UB=function(t){var e=t&&t.children(),i=e&&e.data("dxComponents"),n=i&&i.length&&e.data(i[0]);return n instanceof Cr?n:null},nBe=function(){var t=function(o,s){var a="",l="",d=e(o,s),u=he.getFormatOptionsByColumn(s,"filterRow");return Array.isArray(d)?(a=he.formatValue(d[0],u),l=he.formatValue(d[1],u),l!==""&&(a+=" - ".concat(l))):O(d)&&(a=he.formatValue(d,u)),a};function e(o,s){if(s)return Yg(o)&&s.bufferedFilterValue!==void 0?s.bufferedFilterValue:s.filterValue}var i=function(o,s){if(s)return Yg(o)&&s.bufferedSelectedFilterOperation!==void 0?s.bufferedSelectedFilterOperation:s.selectedFilterOperation},n=function(o,s,a){var l=o._columnsController.columnOption(s),d=e(o,l),u=a.closest(".".concat(o.addWidgetPrefix(_E))).length,h=a.hasClass(o.addWidgetPrefix(CE));return d&&Array.isArray(d)&&i(o,l)==="between"?h?d[0]:d[1]:!u&&function(p,m){return m&&tBe.includes(m.dataType)&&Array.isArray(p)?!1:p!==void 0}(d,l)?d:null},r=function(o,s){var a=s.value===""?null:s.value,l=s.container,d=o._columnsController.columnOption(s.column.index),u=n(o,d.index,l);if(!(!O(u)&&!O(a))){o._applyFilterViewController.setHighLight(l,u!==a);var h=Yg(o)?"bufferedFilterValue":"filterValue",p=function(x,D,T,N){if(i(x,T)==="between"){var G=e(x,T);return N.hasClass(x.addWidgetPrefix(CE))?[D,Array.isArray(G)?G[1]:void 0]:[Array.isArray(G)?G[0]:G,D]}return D}(o,a,d,l),m=i(o,d)==="between",c=s.notFireEvent||m&&Array.isArray(p)&&p.includes(void 0);o._columnsController.columnOption(d.index,h,p,c)}};return{_updateEditorValue(o,s){var a=UB(s);a&&a.option("value",n(this,o.index,s))},_columnOptionChanged(o){var{optionNames:s}=o,a,l,d,u;if(he.checkChanges(s,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&o.columnIndex!==void 0){var h=this._columnsController.getVisibleIndex(o.columnIndex),p=this._columnsController.columnOption(o.columnIndex);if(a=this._getCellElement(this.element().find(".".concat(this.addWidgetPrefix(AC))).index(),h)||g(),l=a.find(".".concat(Kh)).first(),s.filterValue||s.bufferedFilterValue){this._updateEditorValue(p,l);var m=a.find(".".concat(this.addWidgetPrefix(_E))).data("dxOverlay");m&&(d=m.$content().find(".".concat(Kh)),this._updateEditorValue(p,d.first()),this._updateEditorValue(p,d.last())),(!m||!m.option("visible"))&&this._updateFilterRangeContent(a,t(this,p))}(s.selectedFilterOperation||s.bufferedSelectedFilterOperation)&&h>=0&&p&&(u=a.find(".".concat(ZZ)),u.length&&(this._updateFilterOperationChooser(u,p,l),i(this,p)==="between"?this._renderFilterRangeContent(a,p):l.find(".".concat($B)).length&&(this._renderEditor(l,this._getEditorOptions(l,p)),this._hideFilterRange())));return}this.callBase(o)},_renderCore(){return this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible(){return this._isElementVisible(this.option("filterRow"))},isVisible(){return this.callBase()||this.isFilterRowVisible()},init(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay(o,s){var a=this,l={},d=o.find(".dx-editor-container"),u=a.addWidgetPrefix(_E),h=g("<div>").addClass(u).appendTo(o);return a._createComponent(h,Rn,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:u},animation:!1,position:{my:"top",at:"top",of:d.length&&d||o,offset:"0 -1"},contentTemplate(p){var m,c=g("<div>").addClass("".concat(Kh," ").concat(a.addWidgetPrefix(CE))).appendTo(p);return s=a._columnsController.columnOption(s.index),m=a._getEditorOptions(c,s),m.sharedData=l,a._renderEditor(c,m),S.on(c.find(MC),"keydown",x=>{var D=o.find("[tabindex]").not(x.target).first();qt(x)==="tab"&&x.shiftKey&&(x.preventDefault(),a._hideFilterRange(),D.length||(D=o.prev().find("[tabindex]").last()),S.trigger(D,"focus"))}),c=g("<div>").addClass("".concat(Kh," ").concat(a.addWidgetPrefix(XLe))).appendTo(p),m=a._getEditorOptions(c,s),m.sharedData=l,a._renderEditor(c,m),S.on(c.find(MC),"keydown",x=>{qt(x)==="tab"&&!x.shiftKey&&(x.preventDefault(),a._hideFilterRange(),S.trigger(o.next().find("[tabindex]").first(),"focus"))}),g(p).addClass(a.getWidgetContainerClass())},onShown(p){var m=p.component.$content().find(".".concat(Kh)).first();S.trigger(m.find(MC),"focus")},onHidden(){s=a._columnsController.columnOption(s.index),o.find(".".concat(ZZ)).parent().addClass(eee),i(a,s)==="between"&&(a._updateFilterRangeContent(o,t(a,s)),a.component.updateDimensions())}})},_updateFilterRangeOverlay(o){var s=this._filterRangeOverlayInstance;s&&s.option(o)},_showFilterRange(o,s){var a=o.children(".".concat(this.addWidgetPrefix(_E))),l=a.length&&a.data("dxOverlay");!l&&s&&(l=this._initFilterRangeOverlay(o,s)),l.option("visible")||(this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.hide(),this._filterRangeOverlayInstance=l,this._updateFilterRangeOverlay({width:it(o,!0)+iee}),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.show())},_hideFilterRange(){var o=this._filterRangeOverlayInstance;o&&o.hide()},getFilterRangeOverlayInstance(){return this._filterRangeOverlayInstance},_createRow(o){var s=this.callBase(o);return o.rowType==="filter"&&(s.addClass(this.addWidgetPrefix(AC)),this.option("useLegacyKeyboardNavigation")||S.on(s,"keydown",a=>rC("filterRow",this,a))),s},_getRows(){var o=this.callBase();return this.isFilterRowVisible()&&o.push({rowType:"filter"}),o},_renderFilterCell(o,s){var{column:a}=s,l=g(o);this.component.option("showColumnHeaders")&&this.setAria("describedby",a.headerId,l),this.setAria("label",j.format("dxDataGrid-ariaFilterCell"),l),l.addClass(KB);var d=g("<div>").appendTo(l),u=g("<div>").addClass(Kh).appendTo(d);if(i(this,a)==="between")this._renderFilterRangeContent(l,a);else{var h=this._getEditorOptions(u,a);this._renderEditor(u,h)}var{alignment:p}=a;p&&p!=="center"&&l.find(MC).first().css("textAlign",a.alignment),a.filterOperations&&a.filterOperations.length&&this._renderFilterOperationChooser(d,a,u)},_renderCellContent(o,s){var a=this,{column:l}=s;if(s.rowType==="filter"){if(l.command)o.html("&nbsp;");else if(l.allowFiltering){a.renderTemplate(o,a._renderFilterCell.bind(a),s).done(()=>{a._updateCell(o,s)});return}}this.callBase.apply(this,arguments)},_getEditorOptions(o,s){var a=this,l={editorOptions:{inputAttr:a._getFilterInputAccessibilityAttributes(s)}},d=y(l,s,{value:n(a,s.index,o),parentType:"filterRow",showAllText:a.option("filterRow.showAllText"),updateValueTimeout:a.option("filterRow.applyFilter")==="onClick"?0:YLe,width:null,setValue(u,h){r(a,{column:s,value:u,container:o,notFireEvent:h})}});return i(a,s)==="between"&&(o.hasClass(a.addWidgetPrefix(CE))?d.placeholder=a.option("filterRow.betweenStartText"):d.placeholder=a.option("filterRow.betweenEndText")),d},_getFilterInputAccessibilityAttributes(o){var s=j.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":s,"aria-describedby":o.headerId}:{"aria-label":s}},_renderEditor(o,s){o.empty();var a=g("<div>").appendTo(o),l=this.getController("editorFactory"),d=this.getController("data").dataSource(),u=this.getController("applyFilter");if(s.lookup&&this.option("syncLookupFilterValues")){u.setCurrentColumnForFiltering(s);var h=this.getController("data").getCombinedFilter();u.setCurrentColumnForFiltering(null);var p=he.getWrappedLookupDataSource(s,d,h),m=te(te({},s),{lookup:te(te({},s.lookup),{dataSource:p})});return l.createEditor(a,m)}return l.createEditor(a,s)},_renderFilterRangeContent(o,s){var a=this,l=o.find(".".concat(Kh)).first();l.empty();var d=g("<div>").addClass($B).attr("tabindex",this.option("tabIndex"));S.on(d,"focusin",()=>{a._showFilterRange(o,s)}),d.appendTo(l),a._updateFilterRangeContent(o,t(a,s))},_updateFilterRangeContent(o,s){var a=o.find(".".concat($B));a.length&&(s===""?a.html("&nbsp;"):a.text(s))},_updateFilterOperationChooser(o,s,a){var l=this,d,u=function(){var h=zB.getInstance(o);h&&h.option("focusedElement",null),d&&l._focusEditor(a)};l._createComponent(o,zB,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:"".concat(l.getWidgetContainerClass()," ").concat(eBe," ").concat(QLe),showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(s.filterOperations&&s.filterOperations.length),icon:WB[i(l,s)||"default"],selectable:!1,items:l._getFilterOperationMenuItems(s)}],onItemRendered:h=>{var{itemElement:p}=h;this.setAria("label",iBe,g(p))},onItemClick(h){var p=h.itemData.name,m=i(l,s),c=!1,x=Yg(l),D={};if(!(h.itemData.items||p&&p===m)){if(p?(D[x?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=p,(p==="between"||m==="between")&&(c=p==="between",D[x?"bufferedFilterValue":"filterValue"]=null)):(D[x?"bufferedFilterValue":"filterValue"]=null,D[x?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=s.defaultSelectedFilterOperation||null),l._columnsController.columnOption(s.index,D),l._applyFilterViewController.setHighLight(a,!0),!p){var T=UB(a);T&&T.NAME==="dxDateBox"&&!T.option("isValid")&&(T.clear(),T.option("isValid",!0))}c?l._showFilterRange(a.closest(".".concat(KB)),s):l._focusEditor(a)}},onSubmenuShowing(){d=l._isEditorFocused(a),l.getController("editorFactory").loseFocus()},onSubmenuHiding(){S.trigger(o,"blur"),u()},onContentReady(h){S.on(o,"blur",()=>{var p=h.component;p._hideSubmenuAfterTimeout(),u()})},rtlEnabled:l.option("rtlEnabled")})},_isEditorFocused:o=>o.hasClass(tee)||o.parents(".".concat(tee)).length,_focusEditor(o){this.getController("editorFactory").focus(o),S.trigger(o.find(MC),"focus")},_renderFilterOperationChooser(o,s,a){var l;this.option("filterRow.showOperationChooser")&&(o.addClass(eee),l=g("<div>").prependTo(o),this._updateFilterOperationChooser(l,s,a))},_getFilterOperationMenuItems(o){var s=this,a=[{}],l=s.option("filterRow"),d=l&&l.operationDescriptions||{};if(o.filterOperations&&o.filterOperations.length){var u=o.filterOperations.filter(h=>O(QZ[h]));a=gi(u,h=>{var p=QZ[h];return{name:h,selected:(i(s,o)||o.defaultFilterOperation)===h,text:d[p],icon:WB[h]}}),a.push({name:null,text:l&&l.resetOperationText,icon:WB.default})}return a},_handleDataChanged(o){var s,a,l,d,u,h,p=(a=(s=this._dataController)===null||s===void 0?void 0:s.dataSource)===null||a===void 0?void 0:a.call(s),m=(l=p?.lastLoadOptions)===null||l===void 0?void 0:l.call(p);this.callBase.apply(this,arguments),(!((d=o.operationTypes)===null||d===void 0)&&d.filtering||!((u=o.operationTypes)===null||u===void 0)&&u.fullReload)&&this.updateLookupDataSource(((h=o.operationTypes)===null||h===void 0?void 0:h.filtering)||m?.filter)},updateLookupDataSource(o){if(this.option("syncLookupFilterValues")&&this.element()){var s=this._columnsController.getVisibleColumns(),a=this._dataController.dataSource(),l=this._applyFilterViewController,d=this.element().find(".".concat(this.addWidgetPrefix(AC))).index();d!==-1&&s.forEach((u,h)=>{if(!(!u.lookup||u.calculateCellValue!==u.defaultCalculateCellValue)){var p=this._getCellElement(d,h),m=UB(p?.find(".dx-editor-container"));if(m){l.setCurrentColumnForFiltering(u);var c=this._dataController.getCombinedFilter()||null;l.setCurrentColumnForFiltering(null);var x=m.option("dataSource"),D=!o||!Rt(x.__dataGridSourceFilter||null,c);if(D){var T=he.getWrappedLookupDataSource(u,a,c);m.option("dataSource",T)}}}})}},optionChanged(o){switch(o.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),o.handled=!0;break;case"syncLookupFilterValues":o.value?this.updateLookupDataSource():this.render(),o.handled=!0;break;default:this.callBase(o)}}}}(),rBe={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var t=[this.callBase()],e=this._columnsController.getVisibleColumns(null,!0),i=this.getController("applyFilter");return F(e,function(){var n,r=((n=i.getCurrentColumnForFiltering())===null||n===void 0?void 0:n.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&O(this.filterValue)&&!r){var o=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");t.push(o)}}),he.combineFilters(t)}},oBe=Mt.ViewController.inherit({_getHeaderPanel(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight(t,e){Yg(this)&&(t&&t.toggleClass(jB,e)&&t.closest(".".concat(KB)).toggleClass(GB,e),this._getHeaderPanel().enableApplyButton(e))},applyFilter(){var t=this.getController("columns"),e=t.getColumns();t.beginUpdate();for(var i=0;i<e.length;i++){var n=e[i];n.bufferedFilterValue!==void 0&&(t.columnOption(i,"filterValue",n.bufferedFilterValue),n.bufferedFilterValue=void 0),n.bufferedSelectedFilterOperation!==void 0&&(t.columnOption(i,"selectedFilterOperation",n.bufferedSelectedFilterOperation),n.bufferedSelectedFilterOperation=void 0)}t.endUpdate(),this.removeHighLights()},removeHighLights(){if(Yg(this)){var t=this.getView("columnHeadersView").element();t.find(".".concat(this.addWidgetPrefix(AC)," .").concat(jB)).removeClass(jB),t.find(".".concat(this.addWidgetPrefix(AC)," .").concat(GB)).removeClass(GB),this._getHeaderPanel().enableApplyButton(!1)}},setCurrentColumnForFiltering(t){this._currentColumn=t},getCurrentColumnForFiltering(){return this._currentColumn}}),nee={defaultOptions:()=>({syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:j.format("dxDataGrid-filterRowShowAllText"),resetOperationText:j.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:j.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:j.format("dxDataGrid-filterRowOperationEquals"),notEqual:j.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:j.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:j.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:j.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:j.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:j.format("dxDataGrid-filterRowOperationStartsWith"),contains:j.format("dxDataGrid-filterRowOperationContains"),notContains:j.format("dxDataGrid-filterRowOperationNotContains"),endsWith:j.format("dxDataGrid-filterRowOperationEndsWith"),between:j.format("dxDataGrid-filterRowOperationBetween"),isBlank:j.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:j.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:j.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:j.format("dxDataGrid-filterRowOperationBetweenEndText")}}),controllers:{applyFilter:oBe},extenders:{controllers:{data:rBe,columnsResizer:{_startResizing(){if(this.callBase.apply(this,arguments),this.isResizing()){var t=this._columnHeadersView.getFilterRangeOverlayInstance();if(t){var e=t.$element().closest("td").index();(e===this._targetPoint.columnIndex||e===this._targetPoint.columnIndex+1)&&t.$content().hide()}}},_endResizing(){var t;if(this.isResizing()){var e=this._columnHeadersView.getFilterRangeOverlayInstance();e&&(t=e.$element().closest("td"),this._columnHeadersView._updateFilterRangeOverlay({width:it(t,!0)+iee}),e.$content().show())}this.callBase.apply(this,arguments)}},editing:{updateFieldValue(t){return t.column.lookup&&(this._needUpdateLookupDataSource=!0),this.callBase.apply(this,arguments)},_afterSaveEditData(t){var e;return this._needUpdateLookupDataSource&&!t&&((e=this.getView("columnHeadersView"))===null||e===void 0||e.updateLookupDataSource()),this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)},_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,this.callBase.apply(this,arguments)}}},views:{columnHeadersView:nBe,headerPanel:{_getToolbarItems(){var t=this.callBase(),e=this._prepareFilterItem(t);return e.concat(t)},_prepareFilterItem(){var t=this,e=[];if(t._isShowApplyFilterButton()){var i=t.option("filterRow.applyFilterText"),n=t._columnsController.getColumns(),r=!n.filter(s=>s.bufferedFilterValue!==void 0).length,o={widget:"dxButton",options:{icon:"apply-filter",disabled:r,onClick:function(){t._applyFilterViewController.applyFilter()},hint:i,text:i,onInitialized:function(s){g(s.element).addClass(t._getToolbarButtonClass(ZLe))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};e.push(o)}return e},_isShowApplyFilterButton(){var t=this.option("filterRow");return t&&t.visible&&t.applyFilter==="onClick"},init(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton(t){this.setToolbarItemDisabled("applyFilterButton",!t)},isVisible(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged(t){t.name==="filterRow"?(this._invalidate(),t.handled=!0):this.callBase(t)}}}}};Ie.registerModule("filterRow",nee);var ree="dx-header-filter",oee="dx-header-filter-menu",sBe="text";function aee(t){t=t||[];for(var e=0;e<t.length;e++)t[e].selected=!1,aee(t[e].items)}function lee(t){var e=t.NAME==="dxTreeView"?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return t.$element().find(e).dxCheckBox("instance")}function see(t,e){if(!t.component.option("searchValue")){var i=lee(t.component);i&&e&&e.length&&i.option("value",void 0)}}function dee(t,e,i){if(e^i){if(t.selected=!0,i&&t.items){for(var n=0;n<t.items.length;n++)if(!t.items[n].selected){t.selected=void 0;break}}}else(i||t.selected)&&(t.selected=!1,aee(t.items))}var uee=Mt.View.inherit({getPopupContainer(){return this._popupContainer},getListComponent(){return this._listComponent},applyHeaderFilter(t){var e=this.getListComponent(),i=e.option("searchValue"),n=lee(e),r=!i&&!t.isFilterBuilder&&n?.option("value"),o=[];r?(t.type==="tree"&&(t.filterType="exclude"),Array.isArray(t.filterValues)&&(t.filterValues=[])):t.type==="tree"&&(t.filterType&&(t.filterType="include"),function s(a,l,d){F(l,(u,h)=>{if(h.selected!==void 0&&!!h.selected^d){var p=e._getNode(h),m=e._hasChildren(p),c=m&&h.items&&h.items.some(x=>x.selected);if(!i||!c){a.push(h.value);return}}h.items&&h.items.length&&s(a,h.items,d)})}(o,e.option("items"),!1),t.filterValues=o),t.filterValues&&!t.filterValues.length&&(t.filterValues=null),t.apply(),this.hideHeaderFilterMenu()},showHeaderFilterMenu(t,e){if(e){this._initializePopupContainer(e);var i=this.getPopupContainer();this.hideHeaderFilterMenu(),this.updatePopup(t,e),i.show()}},hideHeaderFilterMenu(){var t=this.getPopupContainer();t&&t.hide()},updatePopup(t,e){var i=this.option("showColumnLines"),n=e.alignment==="right"^!i?"left":"right";this._popupContainer.setAria({role:"dialog",label:j.format("dxDataGrid-headerFilterLabel")}),this._popupContainer&&(this._cleanPopupContent(),this._popupContainer.option("position",{my:"".concat(n," top"),at:"".concat(n," bottom"),of:t,collision:"fit fit"}))},_getSearchExpr(t,e){var{lookup:i}=t,{useDefaultSearchExpr:n}=t,r=e.dataSource,o=e.search.searchExpr;if(o)return o;if(n||O(r)&&!ce(r))return sBe;if(i)return i.displayExpr||"this";if(t.dataSource){var{group:s}=t.dataSource;if(Array.isArray(s)&&s.length>0)return s[0].selector;if(ce(s)&&!t.remoteFiltering)return s}return t.dataField||t.selector},_cleanPopupContent(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer(t){var e=this,i=e.element(),n=this._normalizeHeaderFilterOptions(t),{height:r,width:o}=n,s={width:o,height:r,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:oee},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.texts.ok,onClick(){e.applyHeaderFilter(t)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:n.texts.cancel,onClick(){e.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing(a){a.component.$content().parent().addClass("dx-dropdowneditor-overlay"),e._initializeListContainer(t,n),t.onShowing&&t.onShowing(a)},onShown(){e.getListComponent().focus()},onHidden:t.onHidden,onInitialized(a){var{component:l}=a;l.option("animation",l._getDefaultOptions().animation)}};O(e._popupContainer)?e._popupContainer.option(s):e._popupContainer=e._createComponent(i,Xn,s)},_initializeListContainer(t,e){var i=this,n=i._popupContainer.$content(),r=!t.isFilterBuilder&&e.allowSelectAll,o={searchEnabled:e.search.enabled,searchTimeout:e.search.timeout,searchEditorOptions:e.search.editorOptions,searchMode:e.search.mode||"",dataSource:t.dataSource,onContentReady(){i.renderCompleted.fire()},itemTemplate(a,l,d){var u=g(d);return t.encodeHtml?u.text(a.text):u.html(a.text)}};function s(a){a.fullName==="searchValue"&&r&&i.option("headerFilter.hideSelectAllOnSearch")!==!1&&(t.type==="tree"?a.component.option("showCheckBoxesMode",a.value?"normal":"selectAll"):a.component.option("selectionMode",a.value?"multiple":"all"))}t.type==="tree"?i._listComponent=i._createComponent(g("<div>").appendTo(n),xl,y(o,{showCheckBoxesMode:r?"selectAll":"normal",onOptionChanged:s,keyExpr:"id"})):i._listComponent=i._createComponent(g("<div>").appendTo(n),As,y(o,{searchExpr:i._getSearchExpr(t,e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:r?"all":"multiple",onOptionChanged:s,onSelectionChanged(a){var l=a.component.option("items"),d=a.component.option("selectedItems");if(!a.component._selectedItemsUpdating&&!a.component.option("searchValue")&&!t.isFilterBuilder){var u=t.filterValues||[],h=t.filterType==="exclude";d.length===0&&l.length&&(u.length<=1||h&&u.length===l.length-1)?(t.filterType="include",t.filterValues=[]):d.length===l.length&&(t.filterType="exclude",t.filterValues=[])}F(l,(p,m)=>{var c=he.getIndexByKey(m,d,null)>=0,x=!!m.selected;if(x!==c){m.selected=c,t.filterValues=t.filterValues||[];var D=he.getIndexByKey(m.value,t.filterValues,null);D>=0&&t.filterValues.splice(D,1);var T=t.filterType==="exclude";c^T&&t.filterValues.push(m.value)}}),see(a,t.filterValues)},onContentReady(a){var{component:l}=a,d=l.option("items"),u=[];F(d,function(){this.selected&&u.push(this)}),l._selectedItemsUpdating=!0,l.option("selectedItems",u),l._selectedItemsUpdating=!1,see(a,t.filterValues)}}))},_normalizeHeaderFilterOptions(t){var e=this.option("headerFilter")||{},i=t.headerFilter||{},n={search:{enabled:e.allowSearch,timeout:e.searchTimeout}},r={search:{enabled:i.allowSearch,mode:i.searchMode,timeout:i.searchTimeout}};return y(!0,{},e,n,i,r)},_renderCore(){this.element().addClass(oee)}}),RC=function(t){return O(t.allowHeaderFiltering)?t.allowHeaderFiltering:t.allowFiltering},qB={_applyColumnState(t){var e,{rootElement:i}=t,{column:n}=t;if(t.name==="headerFilter"){if(i.find(".".concat(ree)).remove(),RC(n)){e=this.callBase(t).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(n)),this.option("useLegacyKeyboardNavigation")||e.attr("tabindex",this.option("tabindex")||0);var r=j.format("dxDataGrid-headerFilterIndicatorLabel",n.caption);e.attr("aria-label",r),e.attr("aria-haspopup","dialog"),e.attr("role","button")}return e}return this.callBase(t)},_isHeaderFilterEmpty:t=>!t.filterValues||!t.filterValues.length,_getIndicatorClassName(t){return t==="headerFilter"?ree:this.callBase(t)},_renderIndicator(t){var e=t.container,i=t.indicator;if(t.name==="headerFilter"){var n=this.option("rtlEnabled");if(e.children().length&&(!n&&t.columnAlignment==="right"||n&&t.columnAlignment==="left")){e.prepend(i);return}}this.callBase(t)},optionChanged(t){if(t.name==="headerFilter"){var e=this.name==="columnHeadersView";this._invalidate(e,e),t.handled=!0}else this.callBase(t)}};var aBe={month:t=>ft.getMonthNames()[t-1],quarter:t=>ft.format(new Date(2e3,3*t-1),"quarter")};function cee(t,e,i){return e=e||[],i=i||[],t.forEach(n=>{if(O(n.key)){var r=e.length===1;if(e.push(r?n.key-1:n.key),n.items)cee(n.items,e,i);else{var o=new Date(Date.UTC.apply(Date,e));i.push(o)}e.pop()}else i.push(null)}),i}function lBe(t,e){var i=cee(t),n=hn(i),r=he.getHeaderFilterGroupParameters(te(te({},e),{calculateCellValue:o=>o}));return Zr.queryByOptions(n,{group:r}).toArray()}function dBe(t){return t?.slice(-1)==="Z"||t?.slice(-3)==="'Z'"}var uBe=Mt.ViewController.inherit({init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState(t,e){for(var i=t.length,n=e.filterType==="exclude";i--;){var r=t[i];"items"in t[i]&&this._updateSelectedState(t[i].items,e),dee(r,he.getIndexByKey(t[i].value,e.filterValues,null)>-1,n)}},_normalizeGroupItem(t,e,i){var n,r,{path:o}=i,{valueSelector:s}=i,{displaySelector:a}=i,{column:l}=i;return s&&a?(n=s(t),r=a(t)):(n=t.key,r=n),ke(t)?t=y({},t):t={},o.push(n),o.length===1?t.value=o[0]:t.value=o.join("/"),t.text=this.getHeaderItemText(r,l,e,i.headerFilterOptions),t},getHeaderItemText(t,e,i,n){var r=he.formatValue(t,function(o,s,a){var l=ks.getGroupInterval(s),d=he.getFormatOptionsByColumn(s,"headerFilter");return l&&(d.groupInterval=l[a],he.isDateType(s.dataType)?d.format=aBe[l[a]]:s.dataType==="number"&&(d.getDisplayFormat=function(){var u={format:s.format,target:"headerFilter"},h=he.formatValue(o,u),p=o+l[a],m=he.formatValue(p,u);return h&&m?"".concat(h," - ").concat(m):""})),d}(t,e,i));return r||(r=n.texts.emptyValue),r},_processGroupItems(t,e,i,n){var r,o,{column:s}=n,{lookup:a}=s,{level:l}=n;i=i||[],e=e||0,a&&(r=Tt(a.displayExpr),o=Tt(a.valueExpr));for(var d=0;d<t.length;d++)t[d]=this._normalizeGroupItem(t[d],e,{column:n.column,headerFilterOptions:n.headerFilterOptions,displaySelector:r,valueSelector:o,path:i}),"items"in t[d]&&(e===l||!O(t[d].value)?delete t[d].items:this._processGroupItems(t[d].items,e+1,i,n)),i.pop()},getDataSource(t){var e,i=this._dataController.dataSource(),n=i?.remoteOperations().grouping,r=he.getHeaderFilterGroupParameters(t,n),o=(e=t.headerFilter)===null||e===void 0?void 0:e.dataSource,s=this.option("headerFilter"),a=!1,l={component:this.component};if(i){if(O(o)&&!ce(o))l.dataSource=Ms(o);else if(t.lookup)if(a=!0,this.option("syncLookupFilterValues")){this._currentColumn=t;var d=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource=he.getWrappedLookupDataSource(t,i,d)}else l.dataSource=he.normalizeLookupDataSource(t.lookup);else{var u=Array.isArray(r)?r.length-1:0;this._currentColumn=t;var h=this._dataController.getCombinedFilter();this._currentColumn=null,l.dataSource={filter:h,group:r,useDefaultSearch:!0,load:c=>{var x=new H;return c.dataField=t.dataField||t.name,i.load(c).done(D=>{var T=n&&dBe(t.serializationFormat)&&u>3;T&&(D=lBe(D,t)),m._processGroupItems(D,null,null,{level:u,column:t,headerFilterOptions:s}),x.resolve(D)}).fail(x.reject),x}}}ce(o)&&o.call(t,l);var p=l.dataSource.postProcess,m=this;return l.dataSource.postProcess=function(c){var x=c;return a&&(x=x.filter(D=>D[t.lookup.valueExpr]!==null),this.pageIndex()===0&&!this.searchValue()&&(x=x.slice(0),x.unshift(null)),m._processGroupItems(x,null,null,{level:0,column:t,headerFilterOptions:s})),x=p&&p.call(this,x)||x,m._updateSelectedState(x,t),x},l.dataSource}},getCurrentColumn(){return this._currentColumn},showHeaderFilterMenu(t,e){var i=this._columnsController,n=y(!0,{},this._columnsController.getColumns()[t]);if(n){var r=i.getVisibleIndex(t),o=e?this.getView("headerPanel"):this.getView("columnHeadersView"),s=o.getColumnElements().eq(e?n.groupIndex:r);this.showHeaderFilterMenuBase({columnElement:s,column:n,applyFilter:!0,apply(){i.columnOption(t,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase(t){var e=this,{column:i}=t;if(i){var n=ks.getGroupInterval(i),r=e._dataController.dataSource(),o=r&&r.remoteOperations().filtering,s=t.onHidden;y(t,i,{type:n&&n.length>1?"tree":"list",remoteFiltering:o,onShowing(a){var l=a.component.$overlayContent().dxResizable("instance");l&&l.option("onResizeEnd",d=>{var u=e.getController("columns"),h=u.columnOption(t.dataField,"headerFilter");h=h||{},h.width=d.width,h.height=d.height,u.columnOption(t.dataField,"headerFilter",h,!0)})},onHidden:()=>{s?.(),kg(this)}}),t.dataSource=e.getDataSource(t),t.isFilterBuilder&&(t.dataSource.filter=null,t.alignment="right"),e._headerFilterView.showHeaderFilterMenu(t.columnElement,t)}},hideHeaderFilterMenu(){this._headerFilterView.hideHeaderFilterMenu()}}),cBe=y({},qB,{_renderCellContent(t,e){var i,{column:n}=e;!n.command&&RC(n)&&this.option("headerFilter.visible")&&e.rowType==="header"&&(i=this._applyColumnState({name:"headerFilter",rootElement:t,column:n,showColumnLines:this.option("showColumnLines")}),i&&this._subscribeToIndicatorEvent(i,n,"headerFilter")),this.callBase.apply(this,arguments)},_subscribeToIndicatorEvent(t,e,i){i==="headerFilter"&&S.on(t,lt,this.createAction(n=>{n.event.stopPropagation(),MN(t,this),this.getController("headerFilter").showHeaderFilterMenu(e.index,!1)}))},_updateIndicator(t,e,i){var n=this.callBase(t,e,i);n&&this._subscribeToIndicatorEvent(n,e,i)},_updateHeaderFilterIndicators(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:()=>!0,_columnOptionChanged(t){var{optionNames:e}=t,i=he.checkChanges(e,["filterValues","filterValue"]),n=he.checkChanges(e,["filterValues","filterType"]),r=(i||n)&&this._needUpdateFilterIndicators();r&&this._updateHeaderFilterIndicators(),n||this.callBase(t)}}),hBe=y({},qB,{_createGroupPanelItem(t,e){var i=this,n=i.callBase.apply(i,arguments),r;return!e.command&&RC(e)&&i.option("headerFilter.visible")&&(r=i._applyColumnState({name:"headerFilter",rootElement:n,column:{alignment:Yr(i.option("rtlEnabled")),filterValues:e.filterValues,allowHeaderFiltering:!0,caption:e.caption},showColumnLines:!0}),r&&S.on(r,lt,i.createAction(o=>{var{event:s}=o;s.stopPropagation(),i.getController("headerFilter").showHeaderFilterMenu(e.index,!0)}))),n}});var pBe={skipCalculateColumnFilters:()=>!1,_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return this.callBase();var t=[this.callBase()],e=this._columnsController.getVisibleColumns(null,!0),i=this.getController("headerFilter"),n=i.getCurrentColumn();return F(e,(r,o)=>{var s;if(!(n&&n.index===o.index)&&RC(o)&&o.calculateFilterExpression&&Array.isArray(o.filterValues)&&o.filterValues.length){var a=[];F(o.filterValues,(l,d)=>{Array.isArray(d)?s=d:(o.deserializeValue&&!he.isDateType(o.dataType)&&o.dataType!=="number"&&(d=o.deserializeValue(d)),s=o.createFilterExpression(d,"=","headerFilter")),s&&(s.columnIndex=o.index),a.push(s)}),a=he.combineFilters(a,"or"),t.push(o.filterType==="exclude"?["!",a]:a)}}),he.combineFilters(t)}},hee={defaultOptions:()=>({syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:j.format("dxDataGrid-headerFilterEmptyValue"),ok:j.format("dxDataGrid-headerFilterOK"),cancel:j.format("dxDataGrid-headerFilterCancel")}}}),controllers:{headerFilter:uBe},views:{headerFilterView:uee},extenders:{controllers:{data:pBe},views:{columnHeadersView:cBe,headerPanel:hBe}}};Ie.registerModule("headerFilter",hee);var xE="dx-filterbuilder-range",fBe="".concat(xE,"-start"),gBe="".concat(xE,"-end"),mBe="".concat(xE,"-separator"),pee="\u2013";function vBe(t,e){var i=g("<div>").addClass(fBe),n=g("<div>").addClass(gBe),r=t.value||[],o=function(a){return a&&a.length>0?a[0]:null},s=function(a){return a&&a.length===2?a[1]:null};e.append(i),e.append(g("<span>").addClass(mBe).text(pee)),e.append(n),e.addClass(xE),this._editorFactory.createEditor.call(this,i,y({},t.field,t,{value:o(r),parentType:"filterBuilder",setValue(a){r=[a,s(r)],t.setValue(r)}})),this._editorFactory.createEditor.call(this,n,y({},t.field,t,{value:s(r),parentType:"filterBuilder",setValue(a){r=[o(r),a],t.setValue(r)}}))}function JB(t,e){return{name:"between",caption:t,icon:"range",valueSeparator:pee,dataTypes:["number","date","datetime"],editorTemplate:vBe.bind(e),notForLookup:!0}}var _Be={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},CBe={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"},YB={getIconByFilterOperation:t=>_Be[t],getNameByFilterOperation:t=>CBe[t]};var e1="string",fee="icon-none",dc="and",t1="=",xBe="<>",yBe={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},bBe={date:"shortDate",datetime:"shortDateShortTime"},DBe=["=","<>","isblank","isnotblank"],OBe=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],EBe="dx-filterbuilder",_ee="".concat(EBe,"-text"),SBe="".concat(_ee,"-part"),Cee="".concat(_ee,"-separator"),wBe="".concat(Cee,"-empty");function IBe(t,e){var i=t.format||bBe[t.dataType];return vO.format(e,i)}function qh(t){return t&&t.length>1&&t[0]==="!"&&!zn(t)}function kd(t){return qh(t)?t[1]:t}function TBe(t,e){return qh(t)?t[1]=e:t=e,t}function MBe(t,e){(function(i){return i.indexOf("!")!==-1})(e)?qh(t)||function(i){var n=i.slice(0);i.length=0,i.push("!",n)}(t):qh(t)&&function(i){var n=kd(i);i.length=0,[].push.apply(i,n)}(t)}function xee(t,e){MBe(t,e);var i=kd(t),n;return e=function(r){return r.indexOf("!")===-1?r:r.substring(1)}(e),function(r,o){for(n=0;n<r.length;n++)Array.isArray(r[n])||(r[n]=o)}(i,e),t}function yee(t,e){var i=Nd(t);return e.filter(n=>n.value===i)[0]}function bee(t){if(zn(t))return dc;for(var e="",i=0;i<t.length;i++){var n=t[i];if(!Array.isArray(n)){if(e&&e!==n)throw new ji.Error("E4019");n!=="!"&&(e=n)}}return e}function Nd(t){var e=kd(t),i=bee(e);return i||(i=dc),e!==t&&(i="!".concat(i)),i}function ABe(t){return t.lookup&&DBe||yBe[t.dataType||e1]}function RBe(t){return Array.isArray(t)&&t.length}function Dee(t){var e=RBe(t.filterOperations)?t.filterOperations:ABe(t);return y([],e)}function bE(t,e){var i=YB.getNameByFilterOperation(t);return e&&e[i]?e[i]:i}function Oee(t,e){for(var i=0;i<e.length;i++)if(e[i].value===t)return e[i];throw new Ke.Error("E1048",t)}function Sa(t,e){var i=t.filter(n=>n.name===e);return i.length?i[0]:null}function Eee(t,e,i){var n=Dee(t),r=!!t.lookup;return i.forEach(o=>{if(!t.filterOperations&&n.indexOf(o.name)===-1){var s=o&&o.dataTypes,a=r?!!o.notForLookup:!1;!a&&s&&s.indexOf(t.dataType||e1)>=0&&n.push(o.name)}}),n.map(o=>{var s=Sa(i,o);return s?{icon:s.icon||fee,text:s.caption||ms(s.name),value:s.name,isCustom:!0}:{icon:YB.getIconByFilterOperation(o)||fee,text:bE(o,e),value:o}})}function PC(t){return t.defaultFilterOperation||Dee(t)[0]}function See(t,e){var i=[t.dataField,"",""],n=PC(t);return wE(i,n,e),i}function DE(t,e){var i=kd(t),n=i.indexOf(e);return i.splice(n,1),i.length!==1&&i.splice(n,1),t}function i1(t){var e=n1(t),i=e?r1(t):t;return e?["!",[i]]:[i]}function Xg(t,e){var i=kd(e),n=Nd(i);return i.length===1?i.unshift(t):i.push(t,n),e}function Qg(t,e){for(var i=0;i<e.length;i++)if(e[i].name===t||e[i].dataField.toLowerCase()===t.toLowerCase())return e[i];var n=o1(e,!0).filter(r=>r.dataField.toLowerCase()===t.toLowerCase());if(n.length>0)return n[0];throw new Ke.Error("E1047",t)}function wa(t){return Array.isArray(t)?t.length<2||Array.isArray(t[0])||Array.isArray(t[1]):!1}function zn(t){return Array.isArray(t)?t.length>1&&!Array.isArray(t[0])&&!Array.isArray(t[1]):!1}function gee(t,e,i){i=i||dc;for(var n=bee(t).toLowerCase()||i,r=[],o=0;o<t.length;o++)wa(t[o])?(r.push(OE(t[o],e,i)),r=QB(r,n)):zn(t[o])&&(r.push(yE(t[o],e)),r=QB(r,n));return r.length===0&&(r=QB(r,n)),r}function FBe(t,e){var i=Sa(e,t[1]);return i&&i.name===t[1]}function yE(t,e){return FBe(t,e)||t.length<3&&(t[2]=t[1],t[1]=t1),t}function n1(t){return t.indexOf("not")!==-1}function r1(t){return t.substring(3).toLowerCase()}function XB(t,e){var i=n1(e);return e=i?r1(e):e,i?["!",t,e]:[t,e]}function QB(t,e){var i=n1(e);e=i?r1(e):e,t.push(e);var n=t;return i&&(n=["!",n]),n}function OE(t,e,i){return i=i||dc,t?(t=y(!0,[],t),zn(t)?XB(yE(t,e),i):qh(t)?["!",zn(t[1])?XB(yE(t[1],e),i):qh(t[1])?XB(OE(t[1],e),i):gee(t[1],e,i)]:gee(t,e,i)):i1(i)}function wee(t){return t.reduce((e,i)=>{if(O(i.dataField)){var n={};for(var r in i)i[r]&&OBe.includes(r)&&(n[r]=i[r]);n.defaultCalculateFilterExpression=ks.defaultCalculateFilterExpression,O(n.dataType)||(n.dataType=e1),O(n.trueText)||(n.trueText=j.format("dxDataGrid-trueText")),O(n.falseText)||(n.falseText=j.format("dxDataGrid-falseText")),e.push(n)}return e},[])}function mee(t,e,i,n){var r=Qg(t[0],e),o=yE(t,i),s=i.length&&Sa(i,o[1]);return s&&s.calculateFilterExpression?s.calculateFilterExpression.apply(s,[o[2],r,e]):r.createFilterExpression?r.createFilterExpression.apply(r,[o[2],o[1],n]):r.calculateFilterExpression?r.calculateFilterExpression.apply(r,[o[2],o[1],n]):r.defaultCalculateFilterExpression.apply(r,[o[2],o[1],n])}function Pd(t,e,i,n){if(!O(t))return null;if(qh(t)){var r=Pd(t[1],e,i,n);return["!",r]}var o=kd(t);if(zn(o))return mee(o,e,i,n)||null;for(var s=[],a,l=Nd(o),d=0;d<o.length;d++)wa(o[d])?(a=Pd(o[d],e,i,n),a&&(d&&s.push(l),s.push(a))):zn(o[d])&&(a=mee(o[d],e,i,n),a&&(s.length&&s.push(l),s.push(a)));return s.length===1&&(s=s[0]),s.length?s:null}function Jh(t){var e=kd(t),i;if(e.length===0)return null;var n=[];for(i=0;i<e.length;i++)if(wa(e[i])){var r=Jh(e[i]);r?e[i]=r:n.push(e[i])}else zn(e[i])&&(kBe(e[i])||n.push(e[i]));for(i=0;i<n.length;i++)DE(e,n[i]);return e.length===1||(e.splice(e.length-1,1),e.length===1&&(t=TBe(t,e[0])),t.length===0)?null:t}function EE(t,e,i){if(e===""){i("");return}var{lookup:n}=t;if(n.items)i(n.calculateCellValue(e)||"");else{var r=ce(n.dataSource)?n.dataSource({}):n.dataSource,o=new Lr(r);o.loadSingle(n.valueExpr,e).done(s=>{var a="";s&&(a=n.displayExpr?Tt(n.displayExpr)(s):s),t.customizeText&&(a=t.customizeText({value:e,valueText:a})),i(a)}).fail(()=>{i("")})}}function Iee(t,e,i,n,r){var o;return e===!0?o=t.trueText||j.format("dxDataGrid-trueText"):e===!1?o=t.falseText||j.format("dxDataGrid-falseText"):o=IBe(t,e),t.customizeText&&(o=t.customizeText.call(t,{value:e,valueText:o,target:n})),i&&i.customizeText&&(o=i.customizeText.call(i,{value:e,valueText:o,field:t,target:n},r)),o}function PBe(t,e,i,n){var r={values:e};return e.map(o=>Iee(t,o,i,n,r))}function ZB(t){return t===""||t===null}function SE(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"filterBuilder";if(ZB(e))return"";if(Array.isArray(e)){var r=new H;return ye.apply(this,PBe(t,e,i,n)).done(function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var l=s.some(d=>!ZB(d))?s.map(d=>ZB(d)?"?":d):"";r.resolve(l)}),r}return Iee(t,e,i,n)}function vee(t,e){return t.some(i=>i.dataField===e)}function Tee(t,e,i){var{dataField:n}=i;s1(n)&&(i.parentId=Aee(n),!vee(e,i.parentId)&&!vee(t,i.parentId)&&Tee(t,e,{id:i.parentId,dataType:"object",dataField:i.parentId,caption:Mee(i.parentId,!0),filterOperations:["isblank","isnotblank"],defaultCalculateFilterExpression:ks.defaultCalculateFilterExpression})),e.push(i)}function Mee(t,e){var i="";if(e)t=t.substring(t.lastIndexOf(".")+1);else if(s1(t))return t.split(".").forEach((n,r,o)=>{i+=ms(n),r!==o.length-1&&(i+=".")}),i;return ms(t)}function o1(t,e){for(var i=[],n=0;n<t.length;n++){var r=y(!0,{caption:Mee(t[n].dataField,e)},t[n]);r.id=r.name||r.dataField,e?Tee(t,i,r):i.push(r)}return i}function s1(t){return t.lastIndexOf(".")!==-1}function Aee(t){return t.substring(0,t.lastIndexOf("."))}function a1(t,e){if(s1(t.dataField)){for(var i=Aee(t.dataField),n=0;n<e.length;n++)if(e[n].dataField===i)return"".concat(a1(e[n],e),".").concat(t.caption)}return t.caption}function wE(t,e,i){var n=Sa(i,e);return n?(n.hasValue===!1?(t[1]=e,t.length=2):(t[1]=e,t[2]=""),t):(e==="isblank"?(t[1]=t1,t[2]=null):e==="isnotblank"?(t[1]=xBe,t[2]=null):(n=Sa(i,t[1]),(n||t.length===2||t[2]===null)&&(t[2]=""),t[1]=e),t)}function l1(t){var e;return t[2]===null?t[1]===t1?e="isblank":e="isnotblank":e=t[1],e}function kBe(t){return t[2]!==""}function Ree(t,e,i){var n=y(!0,[],t),r=-1;return n.some((o,s)=>{if(o.name==="between")return r=s,!0}),r!==-1?n[r]=y(JB(e,i),n[r]):n.unshift(JB(e,i)),n}function FC(t,e){return t[0]===e}function IE(t,e){if(!t||t.length===0)return null;if(zn(t)){var i=FC(t,e);return i?null:t}return Fee(t,[e],!1)}function Fee(t,e,i){var n=[];return t.forEach(r=>{zn(r)?FC(r,e[0])?i?(n.push(e),i=!1):n.splice(n.length-1,1):n.push(r):(n.length||wa(r))&&n.push(r)}),n.length===0?null:(i&&(n.push(dc),n.push(e)),n.length===1?n[0]:n)}function d1(t,e){if(t===null||t.length===0)return e;if(zn(t))return FC(t,e[0])?e:[t,dc,e];var i=Nd(t);return i!==dc?[e,"and",t]:Fee(t,e,!0)}function Pee(t,e){if(t===null||t.length===0)return[];if(zn(t))return FC(t,e)?[t]:[];var i=Nd(t);if(i!==dc)return[];var n=t.filter(r=>zn(r)&&FC(r,e));return n}function u1(t,e){return t===null||t.length===0?!1:zn(t)?t[0]===e:t.some(i=>(zn(i)||wa(i))&&u1(i,e))}var kC=function(t,e,i){if(Array.isArray(e)){var n=e.length-1;t.empty(),e.forEach((r,o)=>{g("<span>").addClass(SBe).text(r).appendTo(t),o!==n&&g("<span>").addClass(Cee).text(i&&i.valueSeparator?i.valueSeparator:"|").addClass(wBe).appendTo(t)})}else e?t.text(e):t.text(j.format("dxFilterBuilder-enterValueText"))};function kee(t){var e=function(n,r){return r?"".concat(r,"/").concat(n):n},i=t&&t.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(n,r,o){var s=[],a=n.length-1;return n&&n.forEach((l,d)=>{if(zn(l)||wa(l)){var u=Pd(l,o,[],"headerFilter");s.push(u)}else{var h=Pd([r.dataField,"=",l],o,[],"headerFilter");s.push(h)}d!==a&&s.push("or")}),s.length===1?s[0]:s},editorTemplate(n,r){var o=g("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(r),s=y(!0,{},t.columnOption(n.field.dataField));return kC(o,n.text&&n.text.split("|")),s.filterType="include",s.filterValues=n.value?n.value.slice():[],i.showHeaderFilterMenuBase({columnElement:o,column:s,apply(){a=this.filterValues,n.setValue(a);var a;i.hideHeaderFilterMenu(),n.closeEditor()},onHidden(){n.closeEditor()},isFilterBuilder:!0}),r},customizeText:function(n,r){r=r||{};var{value:o}=n,s=t.columnOption(n.field.dataField),a=s&&s.headerFilter,l=s&&s.lookup,d=r.values||[o];if(a&&a.dataSource||l&&l.dataSource){var u=new H,h=r.items||new H;if(!r.items){s=y({},s,{filterType:"include",filterValues:d});var p=i.getDataSource(s);p.paginate=!1;var m=new Lr(p),c=m.store().key();if(c){var{values:x}=r;if(x&&x.length>1){var D=x.reduce((N,G)=>(N.length&&N.push("or"),N.push([c,"=",G]),N),[]);m.filter(D)}else m.filter([c,"=",n.value])}else n.field.calculateDisplayValue&&Ke.log("W1017");r.items=h,m.load().done(h.resolve)}return h.done(N=>{var G=d.indexOf(n.value);u.resolve(function U(re,_){var Oe=[];return re.forEach(fe=>{if(fe.items){var we=U(fe.items,e(fe.text,_));Oe=Oe.concat(we)}fe.selected&&Oe.push(e(fe.text,_))}),Oe}(N,null)[G])}),u}var T=i.getHeaderItemText(o,s,0,t.option("headerFilter"));return T}}}function Nee(t){return y(kee(t),{name:"anyof",icon:"selectall",caption:j.format("dxFilterBuilder-filterOperationAnyOf")})}function Lee(t){var e=kee(t);return y({},e,{calculateFilterExpression(i,n,r){var o=e.calculateFilterExpression(i,n,r);return!o||o.length===0?null:o[0]==="!"?o:["!",o]},name:"noneof",icon:"unselectall",caption:j.format("dxFilterBuilder-filterOperationNoneOf")})}var NBe=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],Bee="include",NC="exclude";function Sl(t){return t.name||t.dataField}function LBe(t){t.forEach(e=>{var i=Sl(e);if(!O(i)&&e.allowFiltering)throw new Ke.Error("E1049",e.caption)})}var BBe=Mt.Controller.inherit(function(){var t=function(){return{filterType:Bee,filterValues:void 0}},e=function(s){var a=s.filterValues||[];return!ks.getGroupInterval(s)&&!(s.headerFilter&&s.headerFilter.dataSource)||a.length===1&&a[0]===null},i=function(s){var a=s.filterValue;if(O(a)){var l=s.selectedFilterOperation||s.defaultFilterOperation||PC(s),d=[Sl(s),l,s.filterValue];return d}return null},n=function(s){var a,l,{filterValues:d}=s;return d?(d.length===1&&e(s)&&!Array.isArray(d[0])?(s.filterType===NC?a="<>":a="=",l=d[0]):(s.filterType===NC?a="noneof":a="anyof",l=d),[Sl(s),a,l]):null},r=function(s,a,l){var d=function(u,h){if(!u)return t();var p,m=u[1],c=u[2],x=Array.isArray(c);if(!x&&!e(h))return t();switch(m){case"anyof":case"=":p=Bee;break;case"noneof":case"<>":p=NC;break;default:return t()}return{filterType:p,filterValues:x?c:[c]}}(l,a);s.columnOption(Sl(a),d)},o=function(s,a,l){var d,u=l?.[1],h=l?.[2],p=a.filterOperations||a.defaultFilterOperations;(!p||p.indexOf(u)>=0||u===a.defaultFilterOperation)&&NBe.includes(u)&&h!==null?(u===a.defaultFilterOperation&&!O(a.selectedFilterOperation)&&(u=a.selectedFilterOperation),d={filterValue:h,selectedFilterOperation:u}):d={filterValue:void 0,selectedFilterOperation:void 0},s.columnOption(Sl(a),d)};return{syncFilterValue(){var s=this,a=s.getController("columns"),l=a.getFilteringColumns();this._skipSyncColumnOptions=!0,l.forEach(d=>{var u=Pee(s.option("filterValue"),Sl(d));if(u.length===1){var h=u[0];r(a,d,h),o(a,d,h)}else O(d.filterValues)&&r(a,d,null),O(d.filterValue)&&o(a,d,null)}),this._skipSyncColumnOptions=!1},_initSync(){var s=this.getController("columns").getColumns(),a=this.getController("data"),l=a.pageIndex();if(LBe(s),!this.option("filterValue")){var d=this.getController("columns").getFilteringColumns(),u=this.getFilterValueFromColumns(d);this._silentOption("filterValue",u)}this.syncFilterValue(),a.pageIndex(l)},init(){var s=this.getController("data");s.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():s.dataSourceChanged.add(()=>this._initSync()))},_getSyncFilterRow(s,a){var l=i(a);return O(l)?d1(s,l):IE(s,Sl(a))},_getSyncHeaderFilter(s,a){var l=n(a);return l?d1(s,l):IE(s,Sl(a))},getFilterValueFromColumns(s){if(!this.getController("data").isFilterSyncActive())return null;var a=["and"];return s&&s.forEach(l=>{var d=n(l),u=i(l);d&&Xg(d,a),u&&Xg(u,a)}),Jh(a)},syncFilterRow(s){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),s))},syncHeaderFilter(s){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),s))},getCustomFilterOperations(){var s=this.option("filterBuilder.customOperations")||[];return[Nee(this.component),Lee(this.component)].concat(s)},publicMethods:()=>["getCustomFilterOperations"]}}()),VBe={isFilterSyncActive(){var t=this.option("filterSyncEnabled");return t==="auto"?this.option("filterPanel.visible"):t},skipCalculateColumnFilters(){var t=this.getController("filterSync");return(O(this.option("filterValue"))||t._skipSyncColumnOptions)&&this.isFilterSyncActive()},_calculateAdditionalFilter(){if(this.option("filterPanel.filterEnabled")===!1)return this.callBase();var t=[this.callBase()],e=this.getController("columns").getFilteringColumns(),i=this.option("filterValue");if(this.isFilterSyncActive()){var n=this.getController("headerFilter").getCurrentColumn(),r=this.getController("applyFilter").getCurrentColumnForFiltering(),o=n||r,s=n||O(r?.filterValue);s&&i&&(i=IE(i,Sl(o)))}var a=this.getController("filterSync").getCustomFilterOperations(),l=Pd(i,e,a,"filterBuilder");return l&&t.push(l),he.combineFilters(t)},_parseColumnPropertyName(t){var e=t.match(/.*\.(.*)/);return e?e[1]:null},clearFilter(t){this.component.beginUpdate(),arguments.length>0?(t==="filterValue"&&this.option("filterValue",null),this.callBase(t)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged(t){switch(t.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),t.handled=!0;break;case"filterSyncEnabled":t.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var e=this.getController("columns").getColumnByPath(t.fullName),i=this.getController("filterSync");if(e&&!i._skipSyncColumnOptions){var n=this._parseColumnPropertyName(t.fullName);i._skipSyncColumnOptions=!0,n==="filterType"?(NC===t.value||NC===t.previousValue)&&i.syncHeaderFilter(e):n==="filterValues"?i.syncHeaderFilter(e):["filterValue","selectedFilterOperation"].includes(n)&&i.syncFilterRow(e,e.filterValue),i._skipSyncColumnOptions=!1}}this.callBase(t);break;default:this.callBase(t)}},_applyFilter(){var t=this.getController("filterSync");return t._skipSyncColumnOptions?new H().resolve():this.callBase.apply(this,arguments)}},HBe={_isHeaderFilterEmpty(t){return this.getController("data").isFilterSyncActive()?!u1(this.option("filterValue"),Sl(t)):this.callBase(t)},_needUpdateFilterIndicators(){return!this.getController("data").isFilterSyncActive()},optionChanged(t){t.name==="filterValue"?this._updateHeaderFilterIndicators():this.callBase(t)}},Vee={defaultOptions:()=>({filterValue:null,filterSyncEnabled:"auto"}),controllers:{filterSync:BBe},extenders:{controllers:{data:VBe},views:{columnHeadersView:HBe}}};Ie.registerModule("filterSync",Vee);var rs="dx-filterbuilder",Zg="".concat(rs,"-group"),Hee="".concat(Zg,"-item"),zee="".concat(Zg,"-content"),zBe="".concat(Zg,"-operations"),WBe="".concat(Zg,"-operation"),h1="".concat(rs,"-action"),Wee="".concat(h1,"-icon"),jBe="dx-icon-plus",$Be="dx-icon-remove",LC="".concat(rs,"-text"),GBe="".concat(rs,"-item-field"),UBe="".concat(rs,"-item-operation"),jee="".concat(rs,"-item-value"),KBe="".concat(rs,"-item-value-text"),qBe="".concat(rs,"-overlay"),JBe="".concat(rs,"-operations"),YBe="".concat(rs,"-fields"),XBe="".concat(rs,"-add-condition"),TE="dx-state-active",QBe="".concat(rs,"-menu-custom-operation"),$ee="filterBuilder",ZBe="dx-state-disabled",Gee="tab",c1="enter",Uee="escape",e1e=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],Kee={and:"and",or:"or",notAnd:"!and",notOr:"!or"},t1e=ot.inherit(WO),ME=class extends Ci{_getDefaultOptions(){return y(super._getDefaultOptions(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:j.format("dxFilterBuilder-and"),or:j.format("dxFilterBuilder-or"),notAnd:j.format("dxFilterBuilder-notAnd"),notOr:j.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:j.format("dxFilterBuilder-filterOperationBetween"),equal:j.format("dxFilterBuilder-filterOperationEquals"),notEqual:j.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:j.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:j.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:j.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:j.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:j.format("dxFilterBuilder-filterOperationStartsWith"),contains:j.format("dxFilterBuilder-filterOperationContains"),notContains:j.format("dxFilterBuilder-filterOperationNotContains"),endsWith:j.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:j.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:j.format("dxFilterBuilder-filterOperationIsNotBlank")}})}_optionChanged(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){var i=this._disableInvalidateForValue;i||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=i}break;default:super._optionChanged(e)}}getFilterExpression(){var e=this._getNormalizedFields(),i=y(!0,[],this._model);return Pd(Jh(i),e,this._customOperations,$ee)}_getNormalizedFields(){return wee(this.option("fields"))}_updateFilter(){this._disableInvalidateForValue=!0;var e=y(!0,[],this._model),i=Jh(e),n=Jh(this._getModel(this.option("value")));JSON.stringify(n)!==JSON.stringify(i)&&this.option("value",i),this._disableInvalidateForValue=!1,this._fireContentReadyAction()}_init(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),super._init()}_initEditorFactory(){this._editorFactory=new t1e}_initCustomOperations(){this._customOperations=Ree(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)}_getDefaultGroupOperation(){var e,i;return(i=(e=this.option("groupOperations"))===null||e===void 0?void 0:e[0])!==null&&i!==void 0?i:Kee.and}_getModel(e){return OE(e,this._customOperations,this._getDefaultGroupOperation())}_initModel(){this._model=this._getModel(this.option("value"))}_initActions(){var e=this;e._actions={},e1e.forEach(i=>{var n=y({},i.config);e._actions[i.name]=e._createActionByOption(i.name,n)})}executeAction(e,i){var n=this._actions[e];return n&&n(i)}_initMarkup(){this.$element().addClass(rs),super._initMarkup(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())}_createConditionElement(e,i){return g("<div>").addClass(Zg).append(this._createConditionItem(e,i))}_createGroupElementByCriteria(e,i){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=this._createGroupElement(e,i,n),o=r.find(".".concat(zee)),s=kd(e),a=0;a<s.length;a++){var l=s[a];wa(l)?this._createGroupElementByCriteria(l,e,n+1).appendTo(o):zn(l)&&this._createConditionElement(l,e).appendTo(o)}return r}_createGroupElement(e,i,n){var r=g("<div>").addClass(Hee),o=g("<div>").addClass(zee),s=g("<div>").addClass(Zg).append(r).append(o);return i!=null&&this._createRemoveButton(()=>{DE(i,e),s.remove(),this._updateFilter()}).appendTo(r),this._createGroupOperationButton(e).appendTo(r),this._createAddButton(()=>{var a=i1(this._getDefaultGroupOperation());Xg(a,e),this._createGroupElement(a,e,n+1).appendTo(o),this._updateFilter()},()=>{var a=this.option("fields")[0],l=See(a,this._customOperations);Xg(l,e),this._createConditionElement(l,e).appendTo(o),this._updateFilter()},n).appendTo(r),s}_createButton(e){return g("<div>").text(e)}_createGroupOperationButton(e){var i=this._getGroupOperations(e),n=yee(e,i),r=n.text,o=i&&i.length<2?this._createButton(r).addClass(ZBe):this._createButtonWithMenu({caption:r,menu:{items:i,displayExpr:"text",keyExpr:"value",onItemClick:s=>{n!==s.itemData&&(xee(e,s.itemData.value),o.text(s.itemData.text),n=s.itemData,this._updateFilter())},onContentReady(s){s.component.selectItem(n)},cssClass:zBe}});return o.addClass(LC).addClass(WBe).attr("tabindex",0)}_createButtonWithMenu(e){var i=this,n=function(){i.$element().find(".".concat(TE)).removeClass(TE),i.$element().find(".dx-overlay .dx-treeview").remove(),i.$element().find(".dx-overlay").remove()},r=this.option("rtlEnabled"),o=r?"right":"left",s=this._createButton(e.caption);y(e.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(a=e.menu.onItemClick,function(l){a(l),l.event.type==="dxclick"&&n()}),onHiding(){s.removeClass(TE)},position:{my:"".concat(o," top"),at:"".concat(o," bottom"),offset:"0 1",of:s,collision:"flip"},animation:null,onHidden(){n()},cssClass:"".concat(qBe," ").concat(e.menu.cssClass),rtlEnabled:r});var a;return e.popup={onShown(l){var d=g(l.component.content()).find(".dx-treeview"),u=d.dxTreeView("instance");S.on(d,"keyup keydown",h=>{var p=qt(h);(h.type==="keydown"&&p===Gee||h.type==="keyup"&&(p===Uee||p===c1))&&(l.component.hide(),S.trigger(e.menu.position.of,"focus"))}),u.focus(),u.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(s,()=>{n(),i._createPopupWithTreeView(e,i.$element()),s.addClass(TE)}),s}_hasValueButton(e){var i=Sa(this._customOperations,e[1]);return i?i.hasValue!==!1:e[2]!==null}_createOperationButtonWithMenu(e,i){var n=this,r=Eee(i,this.option("filterOperationDescriptions"),this._customOperations),o=Oee(l1(e),r),s=this._createButtonWithMenu({caption:o.text,menu:{items:r,displayExpr:"text",onItemRendered(a){a.itemData.isCustom&&g(a.itemElement).addClass(QBe)},onContentReady(a){a.component.selectItem(o)},onItemClick:a=>{if(o!==a.itemData){o=a.itemData,wE(e,o.value,n._customOperations);var l=s.siblings().filter(".".concat(jee));n._hasValueButton(e)?(l.length!==0&&l.remove(),n._createValueButton(e,i).appendTo(s.parent())):l.remove(),s.html(o.text),this._updateFilter()}},cssClass:JBe}}).addClass(LC).addClass(UBe).attr("tabindex",0);return s}_createOperationAndValueButtons(e,i,n){this._createOperationButtonWithMenu(e,i).appendTo(n),this._hasValueButton(e)&&this._createValueButton(e,i).appendTo(n)}_createFieldButtonWithMenu(e,i,n){var r=this,o=this.option("allowHierarchicalFields"),s=o1(e,o),a=Qg(n.name||n.dataField,s),l=function(u,h){return o?a1(u,h):u.caption},d=this._createButtonWithMenu({caption:l(a,s),menu:{items:s,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:u=>{if(a!==u.itemData){a=u.itemData,i[0]=a.name||a.dataField,i[2]=a.dataType==="object"?null:"",wE(i,PC(a),r._customOperations),d.siblings().filter(".".concat(LC)).remove(),r._createOperationAndValueButtons(i,a,d.parent());var h=l(a,u.component.option("items"));d.html(h),this._updateFilter()}},onContentReady(u){u.component.selectItem(a)},cssClass:YBe}}).addClass(LC).addClass(GBe).attr("tabindex",0);return d}_createConditionItem(e,i){var n=g("<div>").addClass(Hee),r=this._getNormalizedFields(),o=Qg(e[0],r);return this._createRemoveButton(()=>{DE(i,e);var s=n.parent().children().length===1;s?n.parent().remove():n.remove(),this._updateFilter()}).appendTo(n),this._createFieldButtonWithMenu(r,e,o).appendTo(n),this._createOperationAndValueButtons(e,o,n),n}_getGroupOperations(e){var i=this.option("groupOperations"),n=this.option("groupOperationDescriptions");return(!i||!i.length)&&(i=[Nd(e).replace("!","not")]),i.map(r=>({text:n[r],value:Kee[r]}))}_createRemoveButton(e){var i=g("<div>").addClass(Wee).addClass($Be).addClass(h1).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(i,e),i}_createAddButton(e,i,n){var r,o=this.option("maxGroupLevel");return O(o)&&n>=o?(r=this._createButton(),this._subscribeOnClickAndEnterKey(r,i)):r=this._createButtonWithMenu({menu:{items:[{caption:j.format("dxFilterBuilder-addCondition"),click:i},{caption:j.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick(s){s.itemData.click()},cssClass:XBe}}),r.addClass(Wee).addClass(jBe).addClass(h1).attr("tabindex",0)}_createValueText(e,i,n){var r=this,o=g("<div>").html("&nbsp;").addClass(KBe).attr("tabindex",0).appendTo(n),s=e[2],a=Sa(r._customOperations,e[1]);return!a&&i.lookup?EE(i,s,l=>{kC(o,l)}):ye(SE(i,s,a)).done(l=>{kC(o,l,a)}),r._subscribeOnClickAndEnterKey(o,l=>{l.type==="keyup"&&l.stopPropagation(),r._createValueEditorWithEvents(e,i,n)}),o}_updateConditionValue(e,i,n){var r=e[2]!==i;r&&(e[2]=i),n(),this._updateFilter()}_addDocumentKeyUp(e,i){var n=!1,r=!1,o=ie.getDocument(),s=l=>{if(n||r){r=!1;return}i(l)};S.on(o,"keyup",s);var a=e.find("input");S.on(a,"compositionstart",()=>{n=!0}),S.on(a,"compositionend",()=>{n=!1,r=!0}),S.on(a,"keydown",l=>{l.which!==229&&(r=!1)}),this._documentKeyUpHandler=s}_addDocumentClick(e,i){var n=ie.getDocument(),r=o=>{this._isFocusOnEditorParts(e,o.target)||(S.trigger(e.find("input"),"change"),i())};S.on(n,"dxpointerdown",r),this._documentClickHandler=r}_isFocusOnEditorParts(e,i){var n=i||ie.getActiveElement();return g(n).closest(e.children()).length||g(n).closest(".dx-dropdowneditor-overlay").length}_removeEvents(){var e=ie.getDocument();O(this._documentKeyUpHandler)&&S.off(e,"keyup",this._documentKeyUpHandler),O(this._documentClickHandler)&&S.off(e,"dxpointerdown",this._documentClickHandler)}_dispose(){this._removeEvents(),super._dispose()}_createValueEditorWithEvents(e,i,n){var r=e[2],o=()=>(n.empty(),this._removeEvents(),this._createValueText(e,i,n)),s=()=>{this._updateConditionValue(e,r,()=>{o()})},a={value:r===""?null:r,filterOperation:l1(e),setValue(d){r=d===null?"":d},closeEditor:s,text:n.text()};n.empty();var l=this._createValueEditor(n,i,a);S.trigger(l.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(l,s),this._addDocumentKeyUp(l,d=>{var u=qt(d);if(u===Gee){if(this._isFocusOnEditorParts(l))return;this._updateConditionValue(e,r,()=>{o(),d.shiftKey&&S.trigger(n.prev(),"focus")})}u===Uee&&S.trigger(o(),"focus"),u===c1&&this._updateConditionValue(e,r,()=>{S.trigger(o(),"focus")})}),this._fireContentReadyAction()}_createValueButton(e,i){var n=g("<div>").addClass(LC).addClass(jee);return this._createValueText(e,i,n),n}_createValueEditor(e,i,n){var r=g("<div>").attr("tabindex",0).appendTo(e),o=Sa(this._customOperations,n.filterOperation),s=o&&o.editorTemplate?o.editorTemplate:i.editorTemplate;if(s){var a=this._getTemplate(s);a.render({model:y({field:i},n),container:r})}else this._editorFactory.createEditor.call(this,r,y({},i,n,{parentType:$ee}));return r}_createPopupWithTreeView(e,i){var n=this,r=g("<div>").addClass(e.menu.cssClass).appendTo(i);this._createComponent(r,J6,{onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate(o){var s=g("<div>").appendTo(o);n._createComponent(s,xl,e.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:()=>pE(e.menu.position.of),visible:!0,focusStateEnabled:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1,_wrapperClassExternal:e.menu.cssClass})}_subscribeOnClickAndEnterKey(e,i){S.on(e,"dxclick",i),S.on(e,"keyup",n=>{qt(n)===c1&&i(n)})}};Be("dxFilterBuilder",ME);var qee=ME;var Jee=qee;var i1e=Mt.View.inherit({_renderCore(){this._updatePopupOptions()},_updatePopupOptions(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup(){var t=this;t._disposePopup(),t._filterBuilderPopup=t._createComponent(t.element(),Xn,y({title:j.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:e=>t._getPopupContentTemplate(e),onOptionChanged(e){e.name==="visible"&&t.option("filterBuilderPopup.visible",e.value)},toolbarItems:t._getPopupToolbarItems()},t.option("filterBuilderPopup"),{onHidden(){kg(t),t._disposePopup()}}))},_getPopupContentTemplate(t){var e=g(t),i=g("<div>").appendTo(g(t));this._filterBuilder=this._createComponent(i,Jee,y({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(e,Zf,{direction:"both"})},_getPopupToolbarItems(){var t=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:j.format("OK"),onClick(){var e=t._filterBuilder.option("value");t.option("filterValue",e),t._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:j.format("Cancel"),onClick(){t._filterBuilderPopup.hide()}}}]},optionChanged(t){switch(t.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}}}),Yee={defaultOptions:()=>({filterBuilder:{groupOperationDescriptions:{and:j.format("dxFilterBuilder-and"),or:j.format("dxFilterBuilder-or"),notAnd:j.format("dxFilterBuilder-notAnd"),notOr:j.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:j.format("dxFilterBuilder-filterOperationBetween"),equal:j.format("dxFilterBuilder-filterOperationEquals"),notEqual:j.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:j.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:j.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:j.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:j.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:j.format("dxFilterBuilder-filterOperationStartsWith"),contains:j.format("dxFilterBuilder-filterOperationContains"),notContains:j.format("dxFilterBuilder-filterOperationNotContains"),endsWith:j.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:j.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:j.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}),views:{filterBuilderView:i1e}};Ie.registerModule("filterBuilder",Yee);var BC="filter-panel",n1e="".concat(BC,"-text"),r1e="".concat(BC,"-checkbox"),o1e="".concat(BC,"-clear-filter"),s1e="".concat(BC,"-left"),a1e="filterPanel",l1e=Mt.View.inherit({isVisible(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init(){this.getController("data").dataSourceChanged.add(()=>this.render()),this._columnsController=this.getController("columns")},_renderCore(){var t=this.element();t.empty();var e=!!this._columnsController.getColumns().length;if(e){t.addClass(this.addWidgetPrefix(BC));var i=g("<div>").addClass(this.addWidgetPrefix(s1e)).appendTo(t);this._renderFilterBuilderText(t,i)}},_renderFilterBuilderText(t,e){var i=this._getFilterElement(),n=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){var r=this._getCheckElement(),o=this._getRemoveButtonElement();e.append(r).append(i).append(n),t.append(o);return}e.append(i).append(n)},_getCheckElement(){var t=this,e=g("<div>").addClass(this.addWidgetPrefix(r1e));return t._createComponent(e,Gu,{value:t.option("filterPanel.filterEnabled"),onValueChanged(i){t.option("filterPanel.filterEnabled",i.value)}}),e.attr("title",this.option("filterPanel.texts.filterEnabledHint")),e},_getFilterElement(){var t=this,e=g("<div>").addClass("dx-icon-filter");return S.on(e,"click",()=>t._showFilterBuilder()),Yu("filterPanel",t,e,void 0,()=>t._showFilterBuilder()),t._addTabIndexToElement(e),e},_getTextElement(){var t=this,e=g("<div>").addClass(t.addWidgetPrefix(n1e)),i,n=t.option("filterValue");return n?ye(t.getFilterText(n,t.getController("filterSync").getCustomFilterOperations())).done(r=>{var o=t.option("filterPanel.customizeText");if(o){var s=o({component:t.component,filterValue:n,text:r});typeof s=="string"&&(r=s)}e.text(r)}):(i=t.option("filterPanel.texts.createFilter"),e.text(i)),S.on(e,"click",()=>t._showFilterBuilder()),Yu("filterPanel",t,e,void 0,()=>t._showFilterBuilder()),t._addTabIndexToElement(e),e},_showFilterBuilder(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement(){var t=this,e=()=>t.option("filterValue",null),i=g("<div>").addClass(t.addWidgetPrefix(o1e)).text(t.option("filterPanel.texts.clearFilter"));return S.on(i,"click",e),Yu("filterPanel",this,i,void 0,e),t._addTabIndexToElement(i),i},_addTabIndexToElement(t){if(!this.option("useLegacyKeyboardNavigation")){var e=this.option("tabindex")||0;t.attr("tabindex",e)}},optionChanged(t){switch(t.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),t.handled=!0;break;case"filterPanel":this._invalidate(),t.handled=!0;break;default:this.callBase(t)}},_getConditionText(t,e,i){var n="[".concat(t,"] ").concat(e);return O(i)&&(n+=i),n},_getValueMaskedText:t=>Array.isArray(t)?"('".concat(t.join("', '"),"')"):" '".concat(t,"'"),_getValueText(t,e,i){var n=new H,r=e&&e.customizeText;if(O(i)||r)if(!r&&t.lookup)EE(t,i,s=>{n.resolve(this._getValueMaskedText(s))});else{var o=Array.isArray(i)?i:he.getDisplayValue(t,i,null);ye(SE(t,o,e,a1e)).done(s=>{n.resolve(this._getValueMaskedText(s))})}else n.resolve("");return n.promise()},getConditionText(t,e){var i=this,n=t[1],r=new H,o=Sa(e.customOperations,n),s,a=Qg(t[0],e.columns),l=a.caption||"",d=t[2];return o?s=o.caption||ms(o.name):d===null?s=bE(n==="="?"isblank":"isnotblank",e.filterOperationDescriptions):s=bE(n,e.filterOperationDescriptions),this._getValueText(a,o,d).done(u=>{r.resolve(i._getConditionText(l,s,u))}),r},getGroupText(t,e,i){var n=this,r=new H,o=[],s=Nd(t);return t.forEach(a=>{zn(a)?o.push(n.getConditionText(a,e)):wa(a)&&o.push(n.getGroupText(a,e,!0))}),ye.apply(this,o).done(function(){for(var a,l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];if(s.startsWith("!")){var h=e.groupOperationDescriptions["not".concat(s.substring(1,2).toUpperCase()).concat(s.substring(2))].split(" ");a="".concat(h[0]," ").concat(d[0])}else a=d.join(" ".concat(e.groupOperationDescriptions[s]," "));i&&(a="(".concat(a,")")),r.resolve(a)}),r},getFilterText(t,e){var i={customOperations:e,columns:this.getController("columns").getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return zn(t)?this.getConditionText(t,i):this.getGroupText(t,i)}}),Xee={defaultOptions:()=>({filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:j.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:j.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:j.format("dxDataGrid-filterPanelFilterEnabledHint")}}}),views:{filterPanelView:l1e},extenders:{controllers:{data:{optionChanged(t){switch(t.name){case"filterPanel":this._applyFilter(),t.handled=!0;break;default:this.callBase(t)}}}}}};Ie.registerModule("filterPanel",Xee);var Qee="search-panel",Zee="search-text",d1e="header-panel",u1e=700;function ete(t){var e;return!!((e=t.allowSearch)!==null&&e!==void 0?e:t.allowFiltering)}function tte(t,e){var{lookup:i}=t;return t.parseValue?i?t.parseValue.call(i,e):t.parseValue(e):e}var c1e=t=>class extends t{publicMethods(){return super.publicMethods().concat(["searchByText"])}_calculateAdditionalFilter(){var e=super._calculateAdditionalFilter(),i=this.calculateSearchFilter(this.option("searchPanel.text"));return he.combineFilters([e,i])}searchByText(e){this.option("searchPanel.text",e)}optionChanged(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:super.optionChanged(e)}}calculateSearchFilter(e){var i,n,r=this._columnsController.getColumns(),o=this.option("searchPanel.searchVisibleColumnsOnly"),s,a=[];if(!e)return null;function l(u){for(var h=Tt(s.valueExpr),p=0;p<u.length;p++){var m=h(u[p]);a.push(n.createFilterExpression(m,null,"search"))}}for(i=0;i<r.length;i++)if(n=r[i],!(o&&!n.visible)&&ete(n)&&n.calculateFilterExpression){s=n.lookup;var d=tte(n,e);s&&s.items?hn(s.items).filter(n.createFilterExpression.call({dataField:s.displayExpr,dataType:s.dataType,calculateFilterExpression:n.calculateFilterExpression},d,null,"search")).enumerate().done(l):d!==void 0&&a.push(n.createFilterExpression(d,null,"search"))}return a.length===0?["!"]:he.combineFilters(a,"or")}},h1e=t=>class extends t{_getToolbarItems(){var e=super._getToolbarItems();return this._prepareSearchItem(e)}_prepareSearchItem(e){var i=this,n=i.getController("data"),r=this.option("searchPanel");if(r&&r.visible){var o={template(s,a,l){var d=g("<div>").addClass(i.addWidgetPrefix(Qee)).appendTo(l);i.getController("editorFactory").createEditor(d,{width:r.width,placeholder:r.placeholder,parentType:"searchPanel",value:i.option("searchPanel.text"),updateValueTimeout:u1e,setValue(u){n.searchByText(u)},editorOptions:{inputAttr:{"aria-label":j.format("".concat(i.component.NAME,"-ariaSearchInGrid"))}}}),i.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(o)}return e}getSearchTextEditor(){var e=this,i=e.element(),n=i.find(".".concat(e.addWidgetPrefix(Qee))).filter(function(){return g(this).closest(".".concat(e.addWidgetPrefix(d1e))).is(i)});return n.length?n.dxTextBox("instance"):null}isVisible(){var e=this.option("searchPanel");return super.isVisible()||!!e?.visible}optionChanged(e){if(e.name==="searchPanel"){if(e.fullName==="searchPanel.text"){var i=this.getSearchTextEditor();i&&i.option("value",e.value)}else this._invalidate();e.handled=!0}else super.optionChanged(e)}},p1e=t=>class extends t{init(){super.init.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")}_getFormattedSearchText(e,i){var n=tte(e,i),r=he.getFormatOptionsByColumn(e,"search");return he.formatValue(n,r)}_getStringNormalizer(){var e,i,n,r,o=this.option("searchPanel.highlightCaseSensitive"),s=(i=(e=this._dataController)===null||e===void 0?void 0:e.getDataSource)===null||i===void 0?void 0:i.call(e),a=(r=(n=s?.loadOptions)===null||n===void 0?void 0:n.call(s))===null||r===void 0?void 0:r.langParams;return l=>Cn(l,o,a)}_findHighlightingTextNodes(e,i,n){var r=i.parent(),o,s=this._getStringNormalizer(),a=s(n),l=[];if(!r.length)r=g("<div>").append(i);else if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)o=i;else{var d=this._columnsController.getVisibleIndex(e.index);o=r.children("td").eq(d).find("*")}return o=o?.length?o:r.find("*"),o.each((u,h)=>{for(var p,m,c=g(h).contents(),x=0;x<c.length;x++){var D=c.get(x);if(D.nodeType===3){var T=s((m=(p=D.textContent)!==null&&p!==void 0?p:D.nodeValue)!==null&&m!==void 0?m:"");T.includes(a)&&l.push(D)}}}),l}_highlightSearchTextCore(e,i){var n=g("<span>").addClass(this.addWidgetPrefix(Zee)),r=e.text(),o=e[0],s=this._getStringNormalizer(),a=s(r).indexOf(s(i));if(a>=0)return o.textContent?o.textContent=r.substr(0,a):o.nodeValue=r.substr(0,a),e.after(n.text(r.substr(a,i.length))),e=g(ie.createTextNode(r.substr(a+i.length))).insertAfter(n),this._highlightSearchTextCore(e,i)}_highlightSearchText(e,i,n){var r=this,o=this._getStringNormalizer(),s=r.option("searchPanel.text");if(i&&n&&(s=s&&r._getFormattedSearchText(n,s)),s&&r.option("searchPanel.highlightSearchText")){var a=r._findHighlightingTextNodes(n,e,s);a.forEach(l=>{i?o(g(l).text())===o(s??"")&&g(l).replaceWith(g("<span>").addClass(r.addWidgetPrefix(Zee)).text(g(l).text())):r._highlightSearchTextCore(g(l),s)})}}_renderCore(){var e=super._renderCore.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._highlightSearchText(this.getTableElement())})):this._highlightSearchText(this.getTableElement())),e}_updateCell(e,i){var{column:n}=i,r=n.lookup&&n.lookup.dataType||n.dataType,o=r!=="string";ete(n)&&!i.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._searchParams.forEach(s=>{this._highlightSearchText.apply(this,s)}),this._searchParams=[]})),this._searchParams.push([e,o,n])):this._highlightSearchText(e,o,n)),super._updateCell(e,i)}dispose(){clearTimeout(this._highlightTimer),super.dispose()}},ite={defaultOptions:()=>({searchPanel:{visible:!1,width:160,placeholder:j.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}),extenders:{controllers:{data:c1e},views:{headerPanel:h1e,rowsView:p1e}}};Ie.registerModule("search",ite);var AE=class extends Uf{_optionChanged(e){switch(e.name){case"pageIndex":var i=this.option("pageIndexChanged");i&&i(e.value);break;case"pageSize":var n=this.option("pageSizeChanged");n&&n(e.value)}super._optionChanged(e)}};function wl(t,e){var i,n=(i=k_(e))!==null&&i!==void 0?i:{};return vD(n[t])}function nte(t){var e=wl("paddingLeft",t)+wl("paddingRight",t),i=wl("width",t);return i-e}function VC(t){var e=wl("marginLeft",t)+wl("marginRight",t),i=wl("width",t);return e+i}function RE(t){return wl("minWidth",t)}var f1e=["contentTemplate","pagerProps"],g1e=t=>{var{contentAttributes:e,infoTextRef:i,infoTextVisible:n,isLargeDisplayMode:r,pageSizesRef:o,pagesRef:s,parentRef:a,props:{contentTemplate:l}}=t;return l(te({rootElementRef:a,pageSizesRef:o,infoTextRef:i,pagesRef:s,infoTextVisible:n,isLargeDisplayMode:r},e))};function m1e(t){var{pageSizes:e,pages:i,parent:n}=t;return n-(e+i)>0}function v1e(t){var{info:e,pageSizes:i,pages:n,parent:r}=t,o=i+n+e;return r-o>0}function _1e(t){var{info:e,pageSizes:i,pages:n,parent:r}=t,o=nte(r),s=VC(i),a=VC(e),l=VC(n);return{parent:o,pageSizes:s,info:a+wl("marginLeft",e)+wl("marginRight",e),pages:l}}var C1e={},x1e=t=>t&&(t.defaultProps?e=>fn(Bt(2,t,te({},e))):t),rte=(()=>{class t extends qn{constructor(i){super(i),this.parentRef=Ki(),this.pageSizesRef=Ki(),this.infoTextRef=Ki(),this.pagesRef=Ki(),this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new ti(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new ti(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var i,n;(i=this._effects[0])===null||i===void 0||i.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),(n=this._effects[1])===null||n===void 0||n.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){var i=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return aa.add(i),()=>{aa.remove(i)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){var{className:i,displayMode:n,gridCompatibility:r,hasKnownLastPage:o,infoText:s,label:a,lightModeEnabled:l,maxPagesCount:d,onKeyDown:u,pageCount:h,pageIndex:p,pageIndexChange:m,pageSize:c,pageSizeChange:x,pageSizes:D,pagesCountText:T,pagesNavigatorVisible:N,rtlEnabled:G,showInfo:U,showNavigationButtons:re,showPageSizes:_,totalCount:Oe,visible:fe}=this.props.pagerProps;return te({},this.restAttributes,{pageSize:c,pageIndex:p,pageIndexChange:m,pageSizeChange:x,gridCompatibility:r,className:i,showInfo:U,infoText:s,lightModeEnabled:l,displayMode:n,maxPagesCount:d,pageCount:h,pagesCountText:T,visible:fe,hasKnownLastPage:o,pagesNavigatorVisible:N,showPageSizes:_,pageSizes:D,rtlEnabled:G,showNavigationButtons:re,totalCount:Oe,onKeyDown:u,label:a})}get parentWidth(){return this.parentRef.current?VC(this.parentRef.current):0}updateAdaptivityProps(){var i=_1e({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(!(this.actualInfoTextVisible!==this.state.infoTextVisible||this.actualIsLargeDisplayMode!==this.state.isLargeDisplayMode)){var n=!O(this.elementsWidth);n&&(this.elementsWidth={}),(n||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=i.pageSizes,this.elementsWidth.pages=i.pages),(n||this.state.infoTextVisible)&&(this.elementsWidth.info=i.info),this.actualIsLargeDisplayMode=m1e(te({parent:i.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=v1e(te({},i,{info:this.elementsWidth.info})),this.setState(r=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(r=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}}get restAttributes(){var i=this.props,n=St(i,f1e);return n}render(){var i=this.props;return g1e({props:te({},i,{contentTemplate:x1e(i.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}return t.defaultProps=C1e,t})();var p1={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return j.format("dxPager-ariaLabel")}};var ote=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(p1),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),dn=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(p1),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1})));var y1e=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],f1="dx-info",b1e=t=>{var{props:{rootElementRef:e},text:i}=t;return xi(1,"div",f1,i,0,null,null,e)};var D1e={get pageIndex(){return dn.pageIndex},get pageCount(){return dn.pageCount},get totalCount(){return dn.totalCount}},ste=(()=>{class t extends yn{constructor(i){super(i),this.state={}}get infoText(){var i;return((i=this.props.infoText)!==null&&i!==void 0?i:"")||j.getFormatter("dxPager-infoText")()}get text(){var{pageCount:i,pageIndex:n,totalCount:r}=this.props;return yr(this.infoText,(n+1).toString(),i.toString(),r.toString())}get restAttributes(){var i=this.props,n=St(i,y1e);return n}render(){var i=this.props;return b1e({props:te({},i),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}return t.defaultProps=D1e,t})();var Yh=V0(void 0);var O1e=["children","className","label","onClick","selected","tabIndex"],E1e=t=>{var{props:{children:e,className:i,label:n,selected:r,tabIndex:o},widgetRef:s}=t;return xi(1,"div",i,e,0,{tabIndex:o,role:"button","aria-label":n,"aria-current":r?"page":void 0},null,s)},S1e={className:"",label:"",tabIndex:0,selected:!1},Xh=(()=>{class t extends qn{constructor(i){super(i),this.state={},this.widgetRef=Ki(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}get keyboardContext(){return this.context[Yh.id]?this.context[Yh.id]:Yh.defaultValue}createEffects(){return[new ti(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new ti(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var i,n;(i=this._effects[0])===null||i===void 0||i.update([this.keyboardContext,this.props.onClick]),(n=this._effects[1])===null||n===void 0||n.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return UK(this.widgetRef.current,this.props.onClick)}get restAttributes(){var i=this.props,n=St(i,O1e);return n}render(){var i=this.props;return E1e({props:te({},i),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}return t.defaultProps=S1e,t})();var ate="dx-pager",lte="dx-light-mode",dte="dx-pages",ute="dx-page-indexes",cte="dx-page",g1="dx-selection",m1="dx-page-size",hte="dx-page-sizes",pte="".concat(m1," ").concat(g1),fte="dx-first-child";var w1e=["className","index","onClick","selected"],I1e=t=>{var{className:e,label:i,props:{onClick:n,selected:r},value:o}=t;return Bt(2,Xh,{className:e,label:i,onClick:n,selected:r,children:o})},T1e={index:0,selected:!1,className:cte},FE=(()=>{class t extends yn{constructor(i){super(i),this.state={}}get label(){return yr(j.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){var{selected:i}=this.props;return Jn({["".concat(this.props.className)]:!!this.props.className,[g1]:!!i})}get restAttributes(){var i=this.props,n=St(i,w1e);return n}render(){var i=this.props;return I1e({props:te({},i),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}return t.defaultProps=T1e,t})();var M1e=["pageIndexes"],A1e=["maxPagesCount","pageCount","pageIndex","pageIndexChange"],R1e="dx-separator",F1e=t=>{var{pages:e}=t,i=e.map(n=>{var{key:r,pageProps:o}=n;return o?Bt(2,FE,{index:o.index,selected:o.selected,onClick:o.onClick},r):xi(1,"div",R1e,". . .",16,null,r)});return eo(i,0)},Qh=4;function gte(t,e,i){return t===1?"high":t+e===i-1?"low":"both"}function vte(t,e,i){var n=[],r=[];switch(i){case"none":n=[...t];break;case"both":n=[0,"low",...t,"high",e-1],r=t.slice(1,-1);break;case"high":n=[0,...t,"high",e-1],r=t.slice(0,-1);break;case"low":n=[0,"low",...t,e-1],r=t.slice(1)}return{slidingWindowIndexes:t,indexesForReuse:r,pageIndexes:n}}function mte(t,e,i,n){for(var r=[],o=0;o<e;o+=1)r.push(o+t);return vte(r,i,n)}var P1e={get pageIndex(){return dn.pageIndex},get maxPagesCount(){return dn.maxPagesCount},get pageCount(){return dn.pageCount}},_te=(()=>{class t extends yn{constructor(i){super(i),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get config(){return this.context[Fn.id]?this.context[Fn.id]:Fn.defaultValue}get slidingWindowState(){var i=this.slidingWindowStateHolder;return i||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(i,n){var{indexesForReuse:r}=this.slidingWindowState,o=r.slice(-1)[0]<i-1,s=r.includes(n);return o&&s}generatePageIndexes(){var{pageCount:i,pageIndex:n}=this.props,r=0,{slidingWindowIndexes:o}=this.slidingWindowState;n===o[0]?r=n-1:n===o[o.length-1]?r=n+2-Qh:n<Qh?r=1:n>=i-Qh?r=i-Qh-1:r=n-1;var s=Qh,a=gte(r,s,i),l=mte(r,s,i,a),{pageIndexes:d}=l,u=St(l,M1e);return this.slidingWindowStateHolder=u,d}isSlidingWindowMode(){var{maxPagesCount:i,pageCount:n}=this.props;return n<=Qh||n<=i}onPageClick(i){this.props.pageIndexChange(i)}get pageIndexes(){var{pageCount:i}=this.props;if(this.isSlidingWindowMode())return mte(0,i,i,"none").pageIndexes;if(this.canReuseSlidingWindow(i,this.props.pageIndex)){var{slidingWindowIndexes:n}=this.slidingWindowState,r=gte(n[0],Qh,i);return vte(n,i,r).pageIndexes}return this.generatePageIndexes()}get pages(){var i,{pageIndex:n}=this.props,r=s=>{var a=s==="low"||s==="high"?null:{index:s,onClick:()=>this.onPageClick(s),selected:n===s};return{key:s.toString(),pageProps:a}},o=(i=this.config)!==null&&i!==void 0&&i.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes;return o.map(s=>r(s))}get restAttributes(){var i=this.props,n=St(i,A1e);return n}render(){var i=this.props;return F1e({props:te({},i),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}return t.defaultProps=P1e,t})();var uc={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return be.real().deviceType==="desktop"&&!be.isSimulator()}};var em={label:"",get labelMode(){return mi(an())?"floating":"static"}};var k1e=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","invalidValueMessage","isDirty","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],N1e=0,L1e=t=>{var{componentProps:e,restAttributes:i}=t;return fn(Bt(2,ag,te({componentType:nC,componentProps:e,templateNames:[]},i)))},yo=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(bn),Object.getOwnPropertyDescriptors({defaultValue:N1e,isReactComponentWrapper:!0}))),B1e={get defaultValue(){return yo.defaultValue},get readOnly(){return yo.readOnly},get name(){return yo.name},get validationError(){return yo.validationError},get validationErrors(){return yo.validationErrors},get validationMessageMode(){return yo.validationMessageMode},get validationMessagePosition(){return yo.validationMessagePosition},get validationStatus(){return yo.validationStatus},get isValid(){return yo.isValid},get isDirty(){return yo.isDirty},get inputAttr(){return yo.inputAttr},get className(){return yo.className},get activeStateEnabled(){return uc.activeStateEnabled},get disabled(){return yo.disabled},get focusStateEnabled(){return uc.focusStateEnabled},get hoverStateEnabled(){return uc.hoverStateEnabled},get tabIndex(){return yo.tabIndex},get visible(){return yo.visible},get label(){return em.label},get labelMode(){return em.labelMode},isReactComponentWrapper:!0},Cte=(()=>{class t extends yn{constructor(i){super(i),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return te({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var i=te({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),n=St(i,k1e);return n}render(){var i=this.props;return L1e({props:te({},i,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return t.defaultProps=B1e,t})();var V1e=10;function PE(t,e){return t+V1e*Math.max(...e).toString().length}var H1e=["inputAttr","pageCount","pageIndex","pageIndexChange","pagesCountText"],z1e="".concat(f1,"  dx-info-text"),xte="dx-page-index",W1e="dx-light-pages",j1e="dx-pages-count",$1e=t=>{var{pageIndexRef:e,pagesCountText:i,props:{inputAttr:n,pageCount:r},selectLastPageIndex:o,value:s,valueChange:a,width:l}=t;return xi(1,"div",W1e,[Bt(2,Cte,{className:xte,min:1,max:Math.max(r,s),width:l,value:s,valueChange:a,inputAttr:n}),xi(1,"span",z1e,i,0),Bt(2,FE,{className:j1e,selected:!1,index:r-1,onClick:o})],4,null,null,e)},G1e={inputAttr:Object.freeze({"aria-label":j.format("dxPager-ariaPageNumber")})},U1e={get pageIndex(){return dn.pageIndex},get pageCount(){return dn.pageCount},get inputAttr(){return G1e.inputAttr}},yte=(()=>{class t extends qn{constructor(i){super(i),this.pageIndexRef=Ki(),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new ti(this.updateWidth,[this.state.minWidth])]}updateEffects(){var i;(i=this._effects[0])===null||i===void 0||i.update([this.state.minWidth])}updateWidth(){var i,n=(i=this.pageIndexRef.current)===null||i===void 0?void 0:i.querySelector(".".concat(xte));this.setState(r=>({minWidth:n&&RE(n)||r.minWidth}))}get value(){return this.props.pageIndex+1}get width(){var{pageCount:i}=this.props;return PE(this.state.minWidth,[i])}get pagesCountText(){var i;return((i=this.props.pagesCountText)!==null&&i!==void 0?i:"")||j.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(i){this.props.pageIndexChange(i-1)}get restAttributes(){var i=this.props,n=St(i,H1e);return n}render(){var i=this.props;return $1e({props:te({},i),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}return t.defaultProps=U1e,t})();var K1e=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"],kE="dx-navigate-button",bte="dx-prev-button",Dte="dx-next-button",Ote="dx-button-disable",q1e=()=>j.getFormatter("dxPager-nextPage")(),J1e=()=>j.getFormatter("dxPager-prevPage")(),Y1e={nextEnabledClass:"".concat(kE," ").concat(Dte),prevEnabledClass:"".concat(kE," ").concat(bte),nextDisabledClass:"".concat(Ote," ").concat(kE," ").concat(Dte),prevDisabledClass:"".concat(Ote," ").concat(kE," ").concat(bte)},X1e={next:"prev",prev:"next"},Q1e=t=>{var{nextButtonProps:e,pageIndexChange:i,prevButtonProps:n,props:{isLargeDisplayMode:r,maxPagesCount:o,pageCount:s,pageIndex:a,pagesCountText:l},renderNextButton:d,renderPrevButton:u}=t;return eo([u&&Bt(2,Xh,{label:J1e(),className:n.className,tabIndex:n.tabIndex,onClick:n.navigate}),r&&Bt(2,_te,{maxPagesCount:o,pageCount:s,pageIndex:a,pageIndexChange:i}),!r&&Bt(2,yte,{pageCount:s,pageIndex:a,pageIndexChange:i,pagesCountText:l}),d&&Bt(2,Xh,{label:q1e(),className:e.className,tabIndex:e.tabIndex,onClick:e.navigate})],0)};function Z1e(t){return t==="next"?1:-1}var eVe={isLargeDisplayMode:!0},tVe={get pageIndex(){return dn.pageIndex},get maxPagesCount(){return dn.maxPagesCount},get pageCount(){return dn.pageCount},get hasKnownLastPage(){return dn.hasKnownLastPage},get showNavigationButtons(){return dn.showNavigationButtons},get totalCount(){return dn.totalCount},get isLargeDisplayMode(){return eVe.isLargeDisplayMode}},Ete=(()=>{class t extends yn{constructor(i){super(i),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}get config(){return this.context[Fn.id]?this.context[Fn.id]:Fn.defaultValue}pageIndexChange(i){this.canNavigateToPage(i)&&this.props.pageIndexChange(i)}getButtonProps(i){var n,r=(n=this.config)!==null&&n!==void 0&&n.rtlEnabled?X1e[i]:i,o=this.canNavigateTo(r),s=Y1e["".concat(i).concat(o?"Enabled":"Disabled","Class")];return{className:s,tabIndex:o?0:-1,navigate:()=>this.navigateToPage(r)}}canNavigateToPage(i){return this.props.hasKnownLastPage?i>=0&&i<=this.props.pageCount-1:i>=0}getNextPageIndex(i){return this.props.pageIndex+Z1e(i)}canNavigateTo(i){return this.canNavigateToPage(this.getNextPageIndex(i))}navigateToPage(i){this.pageIndexChange(this.getNextPageIndex(i))}get renderPrevButton(){var{isLargeDisplayMode:i,showNavigationButtons:n}=this.props;return!i||n}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return this.__getterCache.prevButtonProps!==void 0?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=this.getButtonProps("prev")}get nextButtonProps(){return this.__getterCache.nextButtonProps!==void 0?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=this.getButtonProps("next")}get restAttributes(){var i=this.props,n=St(i,K1e);return n}componentWillUpdate(i,n,r){(this.context[Fn.id]!==r[Fn.id]||this.props.hasKnownLastPage!==i.hasKnownLastPage||this.props.pageCount!==i.pageCount||this.props.pageIndex!==i.pageIndex||this.props.pageIndexChange!==i.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context[Fn.id]!==r[Fn.id]||this.props.hasKnownLastPage!==i.hasKnownLastPage||this.props.pageCount!==i.pageCount||this.props.pageIndex!==i.pageIndex||this.props.pageIndexChange!==i.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){var i=this.props;return Q1e({props:te({},i),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}return t.defaultProps=tVe,t})();var iVe=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","placeholder","readOnly","rtlEnabled","searchEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","valueExpr","visible","width"],nVe=t=>{var{componentProps:e,restAttributes:i}=t;return fn(Bt(2,ag,te({componentType:Bg,componentProps:e,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},i)))},zr=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(bn),Object.getOwnPropertyDescriptors({placeholder:"",hoverStateEnabled:!0,searchEnabled:!1,defaultValue:null,isReactComponentWrapper:!0}))),rVe={get placeholder(){return zr.placeholder},get hoverStateEnabled(){return uc.hoverStateEnabled},get searchEnabled(){return zr.searchEnabled},get defaultValue(){return zr.defaultValue},get readOnly(){return zr.readOnly},get name(){return zr.name},get validationError(){return zr.validationError},get validationErrors(){return zr.validationErrors},get validationMessageMode(){return zr.validationMessageMode},get validationMessagePosition(){return zr.validationMessagePosition},get validationStatus(){return zr.validationStatus},get isValid(){return zr.isValid},get isDirty(){return zr.isDirty},get inputAttr(){return zr.inputAttr},get className(){return zr.className},get activeStateEnabled(){return uc.activeStateEnabled},get disabled(){return zr.disabled},get focusStateEnabled(){return uc.focusStateEnabled},get tabIndex(){return zr.tabIndex},get visible(){return zr.visible},get label(){return em.label},get labelMode(){return em.labelMode},isReactComponentWrapper:!0},Ste=(()=>{class t extends yn{constructor(i){super(i),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return te({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){var i=te({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}),n=St(i,iVe);return n}render(){var i=this.props;return nVe({props:te({},i,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return t.defaultProps=rVe,t})();var oVe=["inputAttr","pageSize","pageSizeChange","pageSizes","parentRef"],sVe=t=>{var{props:{inputAttr:e,pageSize:i,pageSizeChange:n,pageSizes:r},width:o}=t;return Bt(2,Ste,{displayExpr:"text",valueExpr:"value",dataSource:r,value:i,valueChange:n,width:o,inputAttr:e})},aVe={inputAttr:Object.freeze({"aria-label":j.format("dxPager-ariaPageSize")})},lVe={get pageSize(){return dn.pageSize},get inputAttr(){return aVe.inputAttr}},wte=(()=>{class t extends qn{constructor(i){super(i),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new ti(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])]}updateEffects(){var i;(i=this._effects[0])===null||i===void 0||i.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])}updateWidth(){this.setState(i=>({minWidth:RE(this.props.parentRef.current)||i.minWidth}))}get width(){return PE(this.state.minWidth,this.props.pageSizes.map(i=>i.value))}get restAttributes(){var i=this.props,n=St(i,oVe);return n}render(){var i=this.props;return sVe({props:te({},i),width:this.width,restAttributes:this.restAttributes})}}return t.defaultProps=lVe,t})();var dVe=["pageSize","pageSizeChange","pageSizes"],uVe=t=>{var{pageSizesText:e}=t;return eo(e.map(i=>{var{className:n,click:r,label:o,text:s}=i;return Bt(2,Xh,{className:n,label:o,onClick:r,children:s},s)}),0)};var cVe={get pageSize(){return dn.pageSize}},Ite=(()=>{class t extends yn{constructor(i){super(i),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return this.__getterCache.pageSizesText!==void 0?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{var{pageSize:i,pageSizes:n}=this.props;return n.map((r,o)=>{var{text:s,value:a}=r,l=a===i,d=Jn({[l?pte:m1]:!0,[fte]:o===0});return{className:d,click:this.onPageSizeChange(a),label:yr(j.getFormatter("dxPager-pageSize"),a||j.getFormatter("dxPager-pageSizesAllText")),text:s}})})()}onPageSizeChange(i){return()=>(this.props.pageSizeChange(i),this.props.pageSize)}get restAttributes(){var i=this.props,n=St(i,dVe);return n}componentWillUpdate(i,n,r){(this.props.pageSize!==i.pageSize||this.props.pageSizes!==i.pageSizes||this.props.pageSizeChange!==i.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){var i=this.props;return uVe({props:te({},i),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}return t.defaultProps=cVe,t})();var hVe=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],pVe=t=>{var{htmlRef:e,normalizedPageSizes:i,props:{isLargeDisplayMode:n,pageSize:r,pageSizeChange:o}}=t;return xi(1,"div",hte,[n&&Bt(2,Ite,{pageSizes:i,pageSize:r,pageSizeChange:o}),!n&&Bt(2,wte,{parentRef:e,pageSizes:i,pageSize:r,pageSizeChange:o})],0,null,null,e)};function fVe(){return j.getFormatter("dxPager-pageSizesAllText")()}var gVe={isLargeDisplayMode:!0},mVe={get pageSize(){return dn.pageSize},get pageSizes(){return dn.pageSizes},get isLargeDisplayMode(){return gVe.isLargeDisplayMode}},Tte=(()=>{class t extends qn{constructor(i){super(i),this.state={},this.htmlRef=Ki(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new ti(this.setRootElementRef,[])]}setRootElementRef(){var{rootElementRef:i}=this.props;i&&(i.current=this.htmlRef.current)}get normalizedPageSizes(){return this.__getterCache.normalizedPageSizes!==void 0?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{var{pageSizes:i}=this.props;return i.map(n=>n==="all"||n===0?{text:fVe(),value:0}:{text:String(n),value:n})})()}get restAttributes(){var i=this.props,n=St(i,hVe);return n}componentWillUpdate(i,n,r){super.componentWillUpdate(),this.props.pageSizes!==i.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){var i=this.props;return pVe({props:te({},i),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}return t.defaultProps=mVe,t})();var vVe=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],_Ve=t=>{var{aria:e,classes:i,infoVisible:n,isLargeDisplayMode:r,pageIndexSelectorVisible:o,pagesContainerVisibility:s,pagesContainerVisible:a,props:{hasKnownLastPage:l,infoText:d,infoTextRef:u,maxPagesCount:h,pageCount:p,pageIndex:m,pageIndexChange:c,pageSize:x,pageSizeChange:D,pageSizes:T,pageSizesRef:N,pagesCountText:G,pagesRef:U,rtlEnabled:re,showNavigationButtons:_,showPageSizes:Oe,totalCount:fe,visible:we},restAttributes:We,widgetRootElementRef:b}=t;return fn(Bt(2,qf,te({rootElementRef:b,rtlEnabled:re,classes:i,visible:we,aria:e},We,{children:[Oe&&Bt(2,Tte,{rootElementRef:N,isLargeDisplayMode:r,pageSize:x,pageSizeChange:D,pageSizes:T}),a&&xi(1,"div",dte,[n&&Bt(2,ste,{rootElementRef:u,infoText:d,pageCount:p,pageIndex:m,totalCount:fe}),o&&xi(1,"div",ute,Bt(2,Ete,{hasKnownLastPage:l,isLargeDisplayMode:r,maxPagesCount:h,pageCount:p,pageIndex:m,pageIndexChange:c,pagesCountText:G,showNavigationButtons:_,totalCount:fe}),2,null,null,U)],0,{style:Gf({visibility:s})})]})))},CVe=Object.create(Object.prototype,te(Object.getOwnPropertyDescriptors(dn),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0}))),Mte=(()=>{class t extends qn{constructor(i){super(i),this.state={},this.widgetRootElementRef=Ki(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new ti(this.setRootElementRef,[])]}getChildContext(){return te({},this.context,{[Yh.id]:this.keyboardAction||Yh.defaultValue})}setRootElementRef(){var{rootElementRef:i}=this.props;i&&(i.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>i=>{var n,r;(n=(r=this.props).onKeyDown)===null||n===void 0||n.call(r,i)}}}get keyboardAction(){return this.__getterCache.keyboardAction!==void 0?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction={registerKeyboardAction:(i,n)=>{var r=this.createFakeInstance();return DO("pager",r,i,void 0,n)}}}get infoVisible(){var{infoTextVisible:i,showInfo:n}=this.props;return n&&i}get pageIndexSelectorVisible(){return this.props.pageSize!==0}get normalizedDisplayMode(){var{displayMode:i,lightModeEnabled:n}=this.props;return i==="adaptive"&&n!==void 0?n?"compact":"full":i}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if(this.props.pagesNavigatorVisible==="auto"&&this.props.pageCount===1&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){var i=this.normalizedDisplayMode,n=!1;return i==="adaptive"?n=this.props.isLargeDisplayMode:n=i==="full",n}get classes(){var i={["".concat(this.props.className)]:!!this.props.className,[ate]:!0,[lte]:!this.isLargeDisplayMode};return Jn(i)}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){var i=this.props,n=St(i,vVe);return n}componentWillUpdate(i,n,r){super.componentWillUpdate(),this.props.onKeyDown!==i.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){var i=this.props;return _Ve({props:te({},i),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}return t.defaultProps=CVe,t})();var xVe=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],yVe=t=>{var{pagerProps:e,restAttributes:i}=t;return fn(Bt(2,rte,te({contentTemplate:Mte,pagerProps:e},i)))},Ate=(()=>{class t extends Is{constructor(i){super(i),this.__getterCache={},this.state={pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.props.defaultPageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[al()]}pageIndexChange(i){if(this.props.gridCompatibility){var n;this.setState(o=>(n=i+1,{pageIndex:n})),this.props.pageIndexChange(n)}else{var r;this.setState(o=>(r=i,{pageIndex:r})),this.props.pageIndexChange(r)}}get pageIndex(){return this.props.gridCompatibility?(this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex)-1:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}pageSizeChange(i){var n;this.setState(r=>(n=i,{pageSize:n})),this.props.pageSizeChange(n)}get className(){return this.props.gridCompatibility?Jn({"dx-datagrid-pager":!0,["".concat(this.props.className)]:!!this.props.className}):this.props.className}get pagerProps(){return this.__getterCache.pagerProps!==void 0?this.__getterCache.pagerProps:this.__getterCache.pagerProps=te({},te({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:i=>this.pageIndexChange(i),pageSizeChange:i=>this.pageSizeChange(i)})}get restAttributes(){var i=te({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),n=St(i,xVe);return n}componentWillUpdate(i,n,r){super.componentWillUpdate(),(this.props!==i||this.props.gridCompatibility!==i.gridCompatibility||this.props.className!==i.className||this.state.pageIndex!==n.pageIndex||this.props.pageIndex!==i.pageIndex||this.props.pageIndexChange!==i.pageIndexChange||this.props.pageSizeChange!==i.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){var i=this.props;return yVe({props:te({},i,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}}return t.defaultProps=ote,t})();var HC=class extends AE{getProps(){var e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return Ate}};Be("dxPager",HC);var Rte=HC;var bVe="pager",DVe=10,Fte=function(t){return 1+(parseInt(t.pageIndex())||0)},OVe=Mt.View.inherit({init(){var t=this.getController("data");t.changed.add(e=>{if(e&&e.repaintChangesOnly){var i=this._pager;i?i.option({pageIndex:Fte(t),pageSize:t.pageSize(),pageCount:t.pageCount(),totalCount:t.totalCount(),hasKnownLastPage:t.hasKnownLastPage()}):this.render()}else(!e||e.changeType!=="update"&&e.changeType!=="updateSelection"&&e.changeType!=="updateFocusedRow")&&(this._pager=null,this.render())})},_renderCore(){var t=this.element().addClass(this.addWidgetPrefix(bVe)),e=this.option("pager")||{},i=this.getController("data"),n=this.getController("keyboardNavigation"),r={maxPagesCount:DVe,pageIndex:Fte(i),pageCount:i.pageCount(),pageSize:i.pageSize(),showPageSizes:e.showPageSizeSelector,showInfo:e.showInfo,displayMode:e.displayMode,pagesNavigatorVisible:e.visible,showNavigationButtons:e.showNavigationButtons,label:e.label,pageSizes:this.getPageSizes(),totalCount:i.totalCount(),hasKnownLastPage:i.hasKnownLastPage(),pageIndexChanged(o){i.pageIndex()!==o-1&&i.pageIndex(o-1)},pageSizeChanged(o){i.pageSize(o)},onKeyDown:o=>n&&n.executeAction("onKeyDown",o),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};if(O(e.infoText)&&(r.infoText=e.infoText),this._pager){this._pager.repaint();return}Ne()?this._pager=this._createComponent(t,Rte,r):t.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')},getPager(){return this._pager},getPageSizes(){var t=this.getController("data"),e=this.option("pager"),i=e&&e.allowedPageSizes,n=t.pageSize();return(!O(this._pageSizes)||!this._pageSizes.includes(n))&&(this._pageSizes=[],e&&(Array.isArray(i)?this._pageSizes=i:i&&n>1&&(this._pageSizes=[Math.floor(n/2),n,2*n]))),this._pageSizes},isVisible(){var t=this.getController("data"),e=this.option("pager"),i=e&&e.visible,n=this.option("scrolling");return i==="auto"&&(n&&(n.mode==="virtual"||n.mode==="infinite")?i=!1:i=t.pageCount()>1||t.isLoaded()&&!t.hasKnownLastPage()),i},getHeight(){return this.getElementHeight()},optionChanged(t){var{name:e}=t,i=e==="pager",n=e==="paging",r=e==="dataSource",o=e==="scrolling",s=this.getController("data");if(i||n||o||r){if(t.handled=!0,s.skipProcessingPagingChange(t.fullName))return;(i||n)&&(this._pageSizes=null),r||(this._pager=null,this._invalidate(),Ne()&&i&&this.component&&this.component.resize())}},dispose(){this._pager=null}}),Pte={defaultOptions:()=>({pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:j.format("dxPager-ariaLabel")}}),views:{pagerView:OVe}};Ie.registerModule("pager",Pte);var EVe="columns-separator",kte="columns-separator-transparent",Nte="drag-header",SVe="text-content",C1="drag-action",Lte="tracker",Bte="drop-highlight",Vte="dx-block-separator",Hte="dx-header-row",wVe="dx-widget",IVe="dx-drag-command-cell",Wo="dxDataGridResizingReordering",TVe=10,zte=5,v1=.5,zC=function(t){return t.option("allowColumnResizing")||t.getController("columns").isColumnOptionUsed("allowResizing")},Wte=function(t){return t.option("allowColumnReordering")||t.getController("columns").isColumnOptionUsed("allowReordering")},x1=class extends Mt.View{_renderCore(){var e=super._renderCore();return this.element().addClass(this.addWidgetPrefix(Lte)),this.hide(),e}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_subscribeToCallback(){var e=this;e._positionChanged=function(i){var n=e.element();n&&n.hasClass(e.addWidgetPrefix(Lte))&&(n.css({top:i.top}),nr(n,i.height))},this._tablePositionController.positionChanged.add(e._positionChanged)}optionChanged(e){e.name==="allowColumnResizing"&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),super.optionChanged(e)}init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()}isVisible(){return zC(this)}show(){this.element().show()}hide(){this.element()&&this.element().hide()}setHeight(e){nr(this.element(),e)}dispose(){this._unsubscribeFromCallback(),super.dispose()}},NE=class extends Mt.View{_renderSeparator(){}_renderCore(e){var i=super._renderCore(e);return this._isShown=!0,this._renderSeparator(),this.hide(),i}show(){this._isShown=!0}hide(){this._isShown=!1}height(e){var i=this.element();if(i)if(O(e))nr(i,e);else return je(i)}width(e){var i=this.element();if(i)if(O(e))Ao(i,e);else return Ae(i)}},y1=class extends NE{_renderSeparator(){super._renderSeparator();var e=this.element();e.addClass(this.addWidgetPrefix(EVe))}_subscribeToCallback(){var e=this,i;e._positionChanged=function(n){i=e.element(),i&&(i.css({top:n.top}),nr(i,n.height))},e._tablePositionController.positionChanged.add(e._positionChanged)}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_init(){this._isTransparent=zC(this),this.isVisible()&&this._subscribeToCallback()}isVisible(){return this.option("showColumnHeaders")&&(Wte(this)||zC(this))}optionChanged(e){e.name==="allowColumnResizing"&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=zC(this),this.hide(!0))),super.optionChanged(e)}init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._init()}show(){var e=this.element();e&&!this._isShown&&(this._isTransparent?e.removeClass(this.addWidgetPrefix(kte)):e.show()),super.show()}hide(e){var i=this.element(),n=this.addWidgetPrefix(kte);i&&(this._isShown||e)&&(this._isTransparent?(i.addClass(n),i.css("left",""),i.show()):(i.hasClass(n)&&i.removeClass(n),i.hide())),super.hide()}moveByX(e){var i=this.element();i&&i.css("left",e===null?0:e-this._parentElement().offset().left)}changeCursor(e){e=O(e)?e:"";var i=this.element();i&&i.css("cursor",e)}dispose(){this._unsubscribeFromCallback(),super.dispose()}},b1=class extends NE{init(){var e=this;super.init(),this.getController("data").loadingChanged.add(i=>{i||e.hide()})}_renderSeparator(){super._renderSeparator(),this.element().addClass(Vte).html("&nbsp;")}hide(){var e=this._parentElement(),i=this.element();i&&this._isShown&&i.css("display","none"),e&&!e.children(".".concat(Vte)).length&&e.prepend(this.element()),super.hide()}isVisible(){var e=this.option("groupPanel"),i=this.option("columnChooser");return e&&e.visible||i&&i.enabled}show(e){var i=this.element();if(i&&!this._isShown)switch(e){case"group":this.element().css("display","block");break;case"columnChooser":(function(n){Et.stop(i,!0),Et.animate(i,{type:"slide",from:{width:0,display:n.display},to:n,duration:300,easing:"swing"})})({width:"100%",display:"block"});break;default:i.css("display","")}super.show()}},D1=class extends Mt.View{isDragging(){return this._isDragging}_getDraggingPanelByPos(e){var i;return F(this._dragOptions.draggingPanels,(n,r)=>{if(r){var o=r.getBoundingRect();if(o&&(o.bottom===void 0||e.y<o.bottom)&&(o.top===void 0||e.y>o.top)&&(o.left===void 0||e.x>o.left)&&(o.right===void 0||e.x<o.right))return i=r,!1}}),i}_renderCore(){this.element().addClass("".concat(this.addWidgetPrefix(Nte)," ").concat(this.addWidgetPrefix(SVe)," ").concat(wVe)).hide()}_resetTargetColumnOptions(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY}_getVisibleIndexObject(e,i){return O(e)?{columnIndex:i,rowIndex:e}:i}dispose(){var e=this.element();this._dragOptions=null,e&&e.parent().find(".".concat(this.addWidgetPrefix(Nte))).remove()}isVisible(){var e=this.getController("columns"),i=e.getCommonSettings();return this.option("showColumnHeaders")&&(Wte(this)||i.allowGrouping||i.allowHiding)}init(){var e=this;super.init(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this._isDragging=!1,this.getController("data").loadingChanged.add(i=>{var n=e.element();!i&&n&&n.hide()})}dragHeader(e){var{columnElement:i}=e,n=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var r=ie.getDocument();this._onSelectStart=r.onselectstart,r.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:i&&i.css("textAlign"),height:i&&(n&&i.get(0).clientHeight||je(i)),width:i&&(n&&i.get(0).clientWidth||Ae(i)),whiteSpace:i&&i.css("whiteSpace")}).addClass(this.addWidgetPrefix(C1)).toggleClass(IVe,n).text(n?"":e.sourceColumn.caption),this.element().appendTo(Au.getSwatchContainer(i))}moveHeader(e){var i=e.event,{that:n}=i.data,r=Bi(i),o=n._columnsResizerViewController?n._columnsResizerViewController.isResizing():!1,s=n._dragOptions;if(n._isDragging&&!o){var a=n.element(),l=Math.abs(r.x-s.columnElement.offset().left-s.deltaX),d=Math.abs(r.y-s.columnElement.offset().top-s.deltaY);if(a.is(":visible")||l>zte||d>zte){a.show();var u=r.x-s.deltaX,h=r.y-s.deltaY;a.css({left:u,top:h}),n.dockHeader(r)}i.preventDefault()}}dockHeader(e){var i=this._getDraggingPanelByPos(e),n=this._controller,r=this._dropOptions,o=this._dragOptions;if(i){var s=this.option("rtlEnabled"),a=i.getName()==="columnChooser",l=a?"y":"x",d=i.getName(),u=d==="headers"?o.rowIndex:void 0,{sourceColumn:h}=o,p=i.getColumnElements(u,h?.ownerBand)||[],m=o.pointsByTarget=o.pointsByTarget||{},c=d==="columnChooser"?[]:m[d]||n._generatePointsByColumns(y({},o,{targetDraggingPanel:i,columns:i.getColumns(u),columnElements:p,isVerticalOrientation:a,startColumnIndex:d==="headers"&&g(p[0]).index()}));if(m[d]=c,r.targetLocation=d,c.length>0)for(var x=0;x<c.length;x++){var D=c[x+1]&&(c[x][l]+c[x+1][l])/2;if(D===void 0||(s&&l==="x"?e[l]>D:e[l]<D)){r.targetColumnIndex=this._getVisibleIndexObject(u,c[x].columnIndex),p[x]?(r.targetColumnElement=p.eq(x),r.isLast=!1):(r.targetColumnElement=p.last(),r.isLast=!0),r.posX=c[x].x,r.posY=c[x].y,n.dock(r);break}}else this._resetTargetColumnOptions(),n.dock(r)}}dropHeader(e){var i=e.event,{that:n}=i.data,r=n._controller;n.element().hide(),r&&n._isDragging&&r.drop(n._dropOptions),n.element().appendTo(n._parentElement()),n._dragOptions=null,n._dropOptions=null,n._isDragging=!1,ie.getDocument().onselectstart=n._onSelectStart||null}},_1=function(t){return t.option("columnResizingMode")!=="widget"},O1=class extends Mt.ViewController{_isHeadersRowArea(e){if(this._columnHeadersView){var i=this._columnHeadersView.element();if(i){var n=i.offset().top,r=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+r}}return!1}_isRtlParentStyle(){var e;return this.option("rtlEnabled")&&((e=this._$parentContainer)===null||e===void 0?void 0:e.parent().css("direction"))==="rtl"}_pointCreated(e,i,n){var r=_1(this),o=this.option("rtlEnabled"),s=this._isRtlParentStyle(),a=!r&&o&&!s?0:1;if(e.index>=a&&e.index<i+(!r&&(!o||s)?1:0)){e.columnIndex-=a;var l=n[e.columnIndex]||{},d=n[e.columnIndex+1]||{};return!(r?l.allowResizing&&d.allowResizing:l.allowResizing)}return!0}_getTargetPoint(e,i,n){if(e){for(var r=0;r<e.length;r++)if(!(e[r].x===e[0].x&&e[r+1]&&e[r].x===e[r+1].x)&&e[r].x-n<=i&&i<=e[r].x+n)return e[r]}return null}_moveSeparator(e){var i,n=e.event,r=n.data,o=r._columnsSeparatorView.width(),s=_1(r),a=o/2,l=r._$parentContainer.offset(),d=l.left,u=Bi(n),h=r.option("rtlEnabled"),p=this._isRtlParentStyle(),m=(i=r._draggingHeaderView)===null||i===void 0?void 0:i.isDragging();if(r._isResizing&&r._resizingInfo){if((d<=u.x||!s&&p)&&(!s||u.x<=d+Ae(r._$parentContainer))&&r._updateColumnsWidthIfNeeded(u.x)){var c=r._columnHeadersView.getColumnElements().eq(r._resizingInfo.currentColumnIndex),x=c[0];if(x){var D=x.getBoundingClientRect().width;r._columnsSeparatorView.moveByX(c.offset().left+((s||p)&&h?0:D)),r._tablePositionController.update(r._targetPoint.y),n.preventDefault()}}}else m||(r._isHeadersRowArea(u.y)?(r._previousParentOffset&&(r._previousParentOffset.left!==l.left||r._previousParentOffset.top!==l.top)&&r.pointsByColumns(null),r._targetPoint=r._getTargetPoint(r.pointsByColumns(),u.x,o),r._previousParentOffset=l,r._isReadyResizing=!1,r._targetPoint?(r._columnsSeparatorView.changeCursor("col-resize"),r._columnsSeparatorView.moveByX(r._targetPoint.x-a),r._tablePositionController.update(r._targetPoint.y),r._isReadyResizing=!0,n.preventDefault()):(r._columnsSeparatorView.changeCursor(),r._columnsSeparatorView.moveByX(null))):(r.pointsByColumns(null),r._isReadyResizing=!1,r._columnsSeparatorView.changeCursor(),r._columnsSeparatorView.moveByX(null)))}_endResizing(e){var i=e.event,n=i.data;n._isResizing&&(n.pointsByColumns(null),n._resizingInfo=null,n._columnsSeparatorView.hide(),n._columnsSeparatorView.changeCursor(),n._trackerView.hide(),n._isReadyResizing=!1,n._isResizing=!1)}_getNextColumnIndex(e){return e+1}_setupResizingInfo(e){var i=this._targetPoint.columnIndex,n=this._getNextColumnIndex(i),r=this._columnHeadersView.getHeaderElement(i),o=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:e,currentColumnIndex:i,currentColumnWidth:r&&r.length>0?Jt(r[0]).width:0,nextColumnIndex:n,nextColumnWidth:o&&o.length>0?Jt(o[0]).width:0}}_startResizing(e){var i=e.event,n=i.data,r=Bi(i);if(Jl(i)&&(n._isHeadersRowArea(r.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),r.x,TVe),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(r.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();var o=n.component.getScrollable();o&&n._isRtlParentStyle()&&(n._scrollRight=Ae(o.$content())-Ae(o.container())-o.scrollLeft()),i.preventDefault(),i.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()}_generatePointsByColumns(){var e=this,i=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),r=[];n&&n.length>0&&(r=he.getPointsByColumns(n,o=>e._pointCreated(o,n.length,i))),e._pointsByColumns=r}_unsubscribeFromEvents(){this._moveSeparatorHandler&&S.off(ie.getDocument(),ne(nt.move,Wo),this._moveSeparatorHandler),this._startResizingHandler&&S.off(this._$parentContainer,ne(nt.down,Wo),this._startResizingHandler),this._endResizingHandler&&(S.off(this._columnsSeparatorView.element(),ne(nt.up,Wo),this._endResizingHandler),S.off(ie.getDocument(),ne(nt.up,Wo),this._endResizingHandler))}_subscribeToEvents(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),S.on(ie.getDocument(),ne(nt.move,Wo),this,this._moveSeparatorHandler),S.on(this._$parentContainer,ne(nt.down,Wo),this,this._startResizingHandler),S.on(this._columnsSeparatorView.element(),ne(nt.up,Wo),this,this._endResizingHandler),S.on(ie.getDocument(),ne(nt.up,Wo),this,this._endResizingHandler)}_updateColumnsWidthIfNeeded(e){var i,n,r=this._rowsView.contentWidth(),o=this._resizingInfo,s=this._columnsController,a=s.getVisibleColumns(),l=this._columnsSeparatorView.width(),d=_1(this),u=d&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),h=this.option("rtlEnabled"),p=this._isRtlParentStyle(),m=a[o.currentColumnIndex],c=a[o.nextColumnIndex];function x(we){return Se(we)&&we.endsWith("%")}function D(we,We,b,w){if(we){var A=we.width;A&&(w=x(A)),w?(s.columnOption(we.index,"visibleWidth",We),s.columnOption(we.index,"width","".concat((We/b*100).toFixed(3),"%"))):(s.columnOption(we.index,"visibleWidth",null),s.columnOption(we.index,"width",We))}}i=e-o.startPosX,(d||p)&&h&&(i=-i);var{cellWidth:T,nextCellWidth:N}=function(we){var We,b,w,A=o.currentColumnWidth+we,R=m&&m.minWidth||l,B={};return A>=R?B.cellWidth=A:(B.cellWidth=R,w=!0),d&&(b=o.nextColumnWidth-we,We=c&&c.minWidth||l,b>=We?w?B.nextCellWidth=o.nextColumnWidth-(we+R-A):B.nextCellWidth=b:(B.nextCellWidth=We,B.cellWidth=o.currentColumnWidth+(we-We+b))),B}(i);if(n=m.width!==T,n){if(s.beginUpdate(),T=Math.floor(T),r=function(we,We){var b=We.every(A=>A.width);if(b){var w=We.reduce((A,R)=>(x(R.width)&&(A+=parseFloat(R.width)),A),0);w>100&&(we=we/w*100)}return we}(r,a),D(m,T,r,u),d)N=Math.floor(N),D(c,N,r,u);else{var G=this._columnHeadersView.getColumnWidths();G[o.currentColumnIndex]=T;var U=G.reduce((we,We)=>we+We,0)>this._rowsView.contentWidth();if(!U){var re=he.getLastResizableColumnIndex(a);re>=0&&s.columnOption(a[re].index,"visibleWidth","auto")}for(var _=0;_<G.length;_++)a[_]&&a[_]!==m&&a[_].width===void 0&&s.columnOption(a[_].index,"width",G[_])}if(s.endUpdate(),!d){this.component.updateDimensions();var Oe=this.component.getScrollable();if(Oe&&p){var fe=Ae(Oe.$content())-Ae(Oe.container())-this._scrollRight;Oe.scrollTo({left:fe})}}}return n}_subscribeToCallback(e,i){e.add(i),this._subscribesToCallbacks.push({callback:e,handler:i})}_unsubscribeFromCallbacks(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var i=this._subscribesToCallbacks[e];i.callback.remove(i.handler)}this._subscribesToCallbacks=[]}_unsubscribes(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()}_init(){var e=this,i=function(){e._isResizing||e.pointsByColumns(null)},n=function(s){e._scrollLeft!==s.left&&(e._scrollLeft=s.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._draggingHeaderView=e.component.getView("draggingHeaderView"),e._subscribeToCallback(e._columnHeadersView.renderCompleted,i),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,i),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,()=>{e._unsubscribeFromEvents(),e._subscribeToEvents()}),e._subscribeToCallback(e._rowsView.renderCompleted,()=>{e._rowsView.scrollChanged.remove(n),e._rowsView.scrollChanged.add(n)});var r=e._rowsView.getScrollbarWidth()!==0,o=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,s=>{if(e._isResizing&&!e._rowsView.isResizing){var a=e._rowsView.getScrollbarWidth()!==0;r!==a||o&&o!==s.height?(r=a,o=s.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}o=s.height})}optionChanged(e){super.optionChanged(e),e.name==="allowColumnResizing"&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())}isResizing(){return this._isResizing}init(){this._subscribesToCallbacks=[],zC(this)&&this._init()}pointsByColumns(e){if(e!==void 0)this._pointsByColumns=e;else return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns}dispose(){this._unsubscribes(),super.dispose()}},E1=class extends Mt.ViewController{constructor(e){super(e),this.positionChanged=vt()}update(e){var i={},n=this._columnHeadersView.element(),r=n&&n.offset(),o=r&&r.top||0,s=O(e)?Math.abs(e-o):0,a=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),d=this._rowsView?this._rowsView.height()-l:0,u=this.component.getController("columnsResizer"),h=this.component.getView("draggingHeaderView");i.height=a;var p=u.isResizing()||h.isDragging();p&&(i.height+=d-s),e!==null&&n&&n.length&&(i.top=n[0].offsetTop+s),this.positionChanged.fire(i)}init(){var e=this;super.init(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add(()=>{if(e.option("allowColumnResizing")){var i=e.getController("columnsResizer")._targetPoint;e.update(i?i.y:null)}})}},S1=class extends Mt.ViewController{_generatePointsByColumns(e){var i=this;this.isCustomGroupColumnPosition=this.checkIsCustomGroupColumnPosition(e);var n=he.getPointsByColumns(e.columnElements,r=>i._pointCreated(r,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn),e.isVerticalOrientation,e.startColumnIndex);return n}checkIsCustomGroupColumnPosition(e){for(var i=!0,n=0;n<e.columns.length;n+=1){var r=e.columns[n];if(r.command==="expand"&&!i)return!0;r.command||(i=!1)}return!1}_pointCreated(e,i,n,r){var o,s=i[e.columnIndex],a=i[e.columnIndex-1],l=a?.command==="expand",d=s?.command==="expand"&&a?.command!=="expand",u=r&&!r.allowReordering,h=!s?.allowReordering&&!a?.allowReordering;switch(n){case"columnChooser":return!0;case"headers":if(u)return!0;if(!d)return l||h;if(this.isCustomGroupColumnPosition)return!1;for(;((o=i[e.columnIndex])===null||o===void 0?void 0:o.command)==="expand";)e.columnIndex+=1;return!1;default:return i.length===0}}_subscribeToEvents(e,i){var n=this;F(i,(r,o)=>{if(o)for(var s,a=o.getRowCount?o.getRowCount():1,l=o.getName(),d=function(p,m){if(m){var c=g(m),x=s[p];x&&o.allowDragging(x)&&(c.addClass(n.addWidgetPrefix(C1)),S.on(c,ne(ca,Wo),n.createAction(D=>{var T=D.event,N=Bi(T);e.dragHeader({deltaX:N.x-g(T.currentTarget).offset().left,deltaY:N.y-g(T.currentTarget).offset().top,sourceColumn:x,index:x.index,columnIndex:p,columnElement:c,sourceLocation:l,draggingPanels:i,rowIndex:n._columnsController.getRowIndex(x.index,!0)})})),S.on(c,ne(Qo,Wo),{that:e},n.createAction(e.moveHeader)),S.on(c,ne(ha,Wo),{that:e},n.createAction(e.dropHeader)))}},u=0;u<a;u++){var h=o.getColumnElements(u)||[];h.length&&(s=o.getColumns(u)||[],F(h,d))}})}_unsubscribeFromEvents(e,i){var n=this;F(i,(r,o)=>{if(o){var s=o.getColumnElements()||[];F(s,(a,l)=>{var d=g(l);S.off(d,ne(ca,Wo)),S.off(d,ne(Qo,Wo)),S.off(d,ne(ha,Wo)),d.removeClass(n.addWidgetPrefix(C1))})}})}_getSeparator(e){return e==="headers"?this._columnsSeparatorView:this._blockSeparatorView}hideSeparators(e){var i=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=void 0,i&&i.hide(),e!=="block"&&n&&n.hide()}init(){var e=this;super.init(),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._draggingHeaderView=e.getView("draggingHeaderView"),e._rowsView=e.getView("rowsView"),e._blockSeparatorView=e.getView("blockSeparatorView"),e._headerPanelView=e.getView("headerPanel"),e._columnChooserView=e.getView("columnChooserView");var i=function(){if(e._draggingHeaderView){var n=[e._columnChooserView,e._columnHeadersView,e._headerPanelView];e._unsubscribeFromEvents(e._draggingHeaderView,n),e._subscribeToEvents(e._draggingHeaderView,n)}};e._columnHeadersView.renderCompleted.add(i),e._headerPanelView&&e._headerPanelView.renderCompleted.add(i),e._columnChooserView&&e._columnChooserView.renderCompleted.add(i)}allowDrop(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}drag(e){var{sourceIndex:i}=e,{sourceLocation:n}=e,{sourceColumnElement:r}=e,o=this._columnHeadersView,s=this._rowsView;r&&(r.css({opacity:v1}),n==="headers"&&(o&&o.setRowsOpacity(i,v1),s&&s.setRowsOpacity(i,v1)))}dock(e){var i=this,n=ke(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,{sourceLocation:r}=e,{targetLocation:o}=e,s=i._getSeparator(o),a=n>=0;i._columnHeadersView.element().find(".".concat(Hte)).toggleClass(i.addWidgetPrefix(Bte),r!=="headers"&&o==="headers"&&!a),s&&(i.allowDrop(e)&&a?o==="group"||o==="columnChooser"?function(){i._animationColumnIndex!==n&&(i.hideSeparators(),s.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),i._animationColumnIndex=n,s.show(o))}():(i.hideSeparators("block"),i.getController("tablePosition").update(e.posY),s.moveByX(e.posX-s.width()),s.show()):i.hideSeparators())}drop(e){var{sourceColumnElement:i}=e;if(i&&(i.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find(".".concat(Hte)).removeClass(this.addWidgetPrefix(Bte))),this.allowDrop(e)){var n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}}dispose(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}},cc={views:{columnsSeparatorView:y1,blockSeparatorView:b1,draggingHeaderView:D1,trackerView:x1},controllers:{draggingHeader:S1,tablePosition:E1,columnsResizer:O1},extenders:{views:{rowsView:{_needUpdateRowHeight(t){var e=this.option("wordWrapEnabled"),i=this.getController("columnsResizer"),n=i.isResizing();return this.callBase.apply(this,arguments)||t>0&&e&&n}}},controllers:{editorFactory:{renderFocusOverlay(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};var F9t=cc.views.draggingHeaderView,P9t=cc.controllers.draggingHeader,k9t=cc.views.columnsSeparatorView,N9t=cc.controllers.tablePosition,L9t=cc.controllers.columnsResizer,B9t=cc.views.trackerView;Ie.registerModule("columnsResizingReordering",cc);var MVe=(t,e)=>t.length===e.length&&!Object.keys(t).some(i=>t[i]!==e[i]),AVe=(t,e)=>Rt(t,e,{maxDepth:4}),RVe=(t,e,i,n)=>{var r=t,o=e;return function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var d=n(a,r);return d||(r=a,o=i(...r)),o}},FVe={compareType:"reference"},w1=function(t){var{compareType:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FVe,i=null;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!i){var s=t(...r);return i=RVe(r,s,t,e==="reference"?MVe:AVe),s}return i(...r)}};var LE={ariaColIndex:"aria-colindex",dragCell:"dx-drag-cell"},BE="rowsview";var VE="dx-data-row",jte="dx-group-row",$te="dx-header-row",Gte="edit-form-item",Ute="dx-master-detail-row",HE="dx-freespace-row",Kte="dx-virtual-row",I1="dx-master-detail-cell";var qte="dx-dropdowneditor-overlay",WC="dx-command-expand",Jte="dx-command-adaptive",zE="dx-command-select",T1="dx-command-edit",M1="[class^=dx-command]",jC="dx-cell-focus-disabled",Yte="dxDateBox",A1="dx-state-focused",Xte="dx-widget",Qte="dx-revert-button",R1="dx-focused",WE="delete",$C=`
  input:not([type="hidden"]):not([disabled]),
  textarea:not([disabled]),
  a:not([disabled]),
  select:not([disabled]),
  button:not([disabled]),
  [tabindex]:not([disabled]),
  .dx-checkbox:not([disabled],.dx-state-readonly)
`,F1="".concat($C,", .dx-dropdowneditor-icon");var P1="row",k1="cell",N1="columnHeadersView",Zte=["shift","control","alt"];var PVe=t=>t.attr(LE.dragCell)!==void 0,kVe=(t,e)=>t.filter("[".concat(LE.ariaColIndex,'="').concat(e+1,'"]:not([').concat(LE.dragCell,"])")).first(),L1={isDragCell:PVe,getCellToFocus:kVe};var NVe="dx-datagrid-group-footer";function tm(t){return t&&t.hasClass(jte)}function eie(t){return t&&t.hasClass(NVe)}function jE(t){return t&&t.hasClass(Ute)}function im(t){return t&&t.hasClass(VE)}function tie(t){return!t||t.hasClass(HE)||t.hasClass(Kte)}function B1(t,e){return!t._isRowEditMode()&&e&&!e.hasClass(zE)&&e.hasClass(oc)}function os(t){return O(t)&&t.length>0}function $E(){return be.current().deviceType!=="desktop"}function V1(t){return!!t.parent(".".concat($te)).length}function iie(t,e){var i=t.option("rtlEnabled");return i?!(e.fixedPosition==="right"||O(e.command)&&!O(e.fixedPosition)):!(!O(e.fixedPosition)||e.fixedPosition==="left")}function nie(t){var e=t.getController("keyboardNavigation");return e._isVirtualScrolling()?t.option("focusedRowIndex")===e.getRowIndex():!1}var rie=t=>class extends t{init(){var e;super.init(),this.rowsViewFocusOutHandlerContext=(e=this.rowsViewFocusOutHandlerContext)!==null&&e!==void 0?e:this.rowsViewFocusOutHandler.bind(this)}subscribeToRowsViewFocusEvent(){var e;super.subscribeToRowsViewFocusEvent();var i=(e=this._rowsView)===null||e===void 0?void 0:e.element();S.on(i,"focusout",this.rowsViewFocusOutHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var e;super.unsubscribeFromRowsViewFocusEvent();var i=(e=this._rowsView)===null||e===void 0?void 0:e.element();S.off(i,"focusout",this.rowsViewFocusOutHandlerContext)}rowsViewFocusHandler(e){var i=g(e.target);this.translateFocusIfNeed(e,i),super.rowsViewFocusHandler(e)}rowsViewFocusOutHandler(){this.makeScrollableFocusableIfNeed()}translateFocusIfNeed(e,i){var n=this.isScrollableNeedFocusable(),r=this._isFixedColumn(0);if(!(!n||!r)){var o=this._rowsView.getCell({rowIndex:0,columnIndex:0}),s=!!o.attr("tabindex"),a=i.is(this._$firstNotFixedCell);s&&a&&(e.preventDefault(),this._focus(o))}}renderCompleted(e){this._$firstNotFixedCell=this.getFirstNotFixedCell(),this.makeScrollableFocusableIfNeed(),super.renderCompleted(e)}_focus(e,i,n){super._focus(e,i,n),this.makeScrollableFocusableIfNeed()}_tabKeyHandler(e,i){var n,r=O(this._focusedCellPosition)&&!Zi(this._focusedCellPosition),o=!r||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),s=this.isScrollableNeedFocusable();o&&s&&((n=this._$firstNotFixedCell)===null||n===void 0||n.removeAttr("tabIndex")),super._tabKeyHandler(e,i)}getFirstNotFixedCell(){var e=this._columnsController.getVisibleColumns(),i=e.findIndex(n=>{var{fixed:r}=n;return!r});return i===-1?void 0:this._rowsView._getCellElement(0,i)}isScrollableNeedFocusable(){var e,i,n=!!this._rowsView.getScrollable(),r=!!(!((e=this._rowsView._fixedTableElement)===null||e===void 0)&&e.length),o=!!(!((i=this._rowsView.getCellElements(0))===null||i===void 0)&&i.length);return n&&r&&o}makeScrollableFocusableIfNeed(){var e=this.isScrollableNeedFocusable();!e||!this._$firstNotFixedCell||this._applyTabIndexToElement(this._$firstNotFixedCell)}};var H1=class extends Mt.ViewController{init(){var e,i;this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._memoFireFocusedCellChanged=w1(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=w1(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.focusedHandlerWithContext=this.focusedHandlerWithContext||this.focusedHandler.bind(this),this.renderCompletedWithContext=this.renderCompletedWithContext||this.renderCompleted.bind(this),this.rowsViewFocusHandlerContext=this.rowsViewFocusHandlerContext||this.rowsViewFocusHandler.bind(this),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this.isKeyboardEnabled()?(oJ(),(e=this._editorFactory)===null||e===void 0||e.focused.add(this.focusedHandlerWithContext),this.createAction("onKeyDown")):(AN(),(i=this._editorFactory)===null||i===void 0||i.focused.remove(this.focusedHandlerWithContext)),this.initViewHandlers(),this.initDocumentHandlers()}focusedHandler(e){this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)}rowsViewFocusHandler(e){var i,n=g(e.target),r=g(e.relatedTarget).closest(this._rowsView.element()).length,o=n.is("a");if(e.relatedTarget&&o&&!r&&this._isEventInCurrentGrid(e)){var s=this._getFocusedCell();s=os(s)?s:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),n.closest(s).length||(e.preventDefault(),S.trigger(s,"focus"))}var a=n.is("td"),l=((i=this.option("focusedRowIndex"))!==null&&i!==void 0?i:-1)<0;a&&l&&this._updateFocusedCellPosition(n)}subscribeToRowsViewFocusEvent(){var e,i=(e=this._rowsView)===null||e===void 0?void 0:e.element();S.on(i,"focusin",this.rowsViewFocusHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var e,i=(e=this._rowsView)===null||e===void 0?void 0:e.element();S.off(i,"focusin",this.rowsViewFocusHandlerContext)}renderCompleted(e){var i=this._rowsView.element(),n=!e||e.changeType==="refresh",r=this._focusedView&&this._focusedView.name===this._rowsView.name,o=!1,s=e&&(e.changeType==="append"||e.changeType==="prepend"),a=g(ie.getRootNode(i.get&&i.get(0))),l=a.find(":focus"),d=!l.length||l.closest(i).length;this.unsubscribeFromRowsViewFocusEvent(),this.subscribeToRowsViewFocusEvent(),this.initPointerEventHandler(),this.initKeyDownHandler(),this._setRowsViewAttributes(),r&&d&&(o=this._isNeedFocus?!s:this._isHiddenFocus&&n&&!e?.virtualColumnsScrolling,o&&this._updateFocus(!0))}initViewHandlers(){var e,i;this.unsubscribeFromRowsViewFocusEvent(),this.unsubscribeFromPointerEvent(),this.unsubscribeFromKeyDownEvent(),(i=(e=this._rowsView)===null||e===void 0?void 0:e.renderCompleted)===null||i===void 0||i.remove(this.renderCompletedWithContext),this.isKeyboardEnabled()&&this._rowsView.renderCompleted.add(this.renderCompletedWithContext)}initDocumentHandlers(){var e=ie.getDocument();this._documentClickHandler=this._documentClickHandler||this.createAction(i=>{var n=g(i.event.target),r=this._isEventInCurrentGrid(i.event)&&n.closest(".".concat(this.addWidgetPrefix(BE))).length,o=n.closest(".".concat(qte)).length,s=this.getController("columnsResizer"),a=!!s&&s.isResizing();if(!r&&!o&&!a){var l=this._focusedView?n.parents().filter(this._focusedView.element()).length>0:!1;!l&&this._resetFocusedCell(!0),this._resetFocusedView()}}),S.off(e,ne(nt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),this.isKeyboardEnabled()&&S.on(e,ne(nt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}_setRowsViewAttributes(){var e=this._getRowsViewElement(),i=!this._dataController.getVisibleRows().length;i&&this._applyTabIndexToElement(e)}unsubscribeFromPointerEvent(){var e=$E()?lt:nt.down,i=this._getRowsViewElement();this._pointerEventAction&&S.off(i,ne(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction)}subscribeToPointerEvent(){var e=$E()?lt:nt.down,i=this._getRowsViewElement(),n=".".concat(Da," > td, .").concat(Da);S.on(i,ne(e,"dxDataGridKeyboardNavigation"),n,this._pointerEventAction)}initPointerEventHandler(){this._pointerEventAction=this._pointerEventAction||this.createAction(this._pointerEventHandler),this.unsubscribeFromPointerEvent(),this.subscribeToPointerEvent()}unsubscribeFromKeyDownEvent(){Ds.off(this._keyDownListener)}subscribeToKeyDownEvent(){var e=this._getRowsViewElement();this._keyDownListener=Ds.on(e,null,i=>this._keyDownHandler(i))}initKeyDownHandler(){this._keyDownListener&&this.unsubscribeFromKeyDownEvent(),this.subscribeToKeyDownEvent()}dispose(){super.dispose(),this._resetFocusedView(),Ds.off(this._keyDownListener),S.off(ie.getDocument(),ne(nt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),AN()}optionChanged(e){switch(e.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":this.init(),e.handled=!0;break;default:super.optionChanged(e)}}isRowFocusType(){return this.focusType===P1}isCellFocusType(){return this.focusType===k1}setRowFocusType(){this.option("focusedRowEnabled")&&(this.focusType=P1)}setCellFocusType(){this.focusType=k1}_keyDownHandler(e){var i,n=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;var r=this._processOnKeyDown(e),o=(i=this._editingController)===null||i===void 0?void 0:i.isEditing(),{originalEvent:s}=e;if(s.isDefaultPrevented()){this._isNeedFocus=!1,this._isNeedScroll=!1;return}if(!Zte.includes(e.keyName)&&this._updateFocusedCellPositionByTarget(s.target),!r){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,o),r=!0;break;case"upArrow":case"downArrow":e.ctrl?rC("rowsView",this,s):this._upDownKeysHandler(e,o),r=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),r=!0;break;case"space":r=this._spaceKeyHandler(e,o);break;case"A":Wi(e.originalEvent)?(this._ctrlAKeyHandler(e,o),r=!0):r=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,o),r=!0;break;case"enter":this._enterKeyHandler(e,o),r=!0;break;case"escape":r=this._escapeKeyHandler(e,o);break;case"F":Wi(e.originalEvent)?(this._ctrlFKeyHandler(e),r=!0):r=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),r=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(r=this._beginFastEditing(s,!0))}!r&&!this._beginFastEditing(s)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1),n&&s.stopPropagation()}}_processOnKeyDown(e){var{originalEvent:i}=e,n={handled:!1,event:i};return this.executeAction("onKeyDown",n),e.ctrl=i.ctrlKey,e.alt=i.altKey,e.shift=i.shiftKey,!!n.handled}_closeEditCell(){setTimeout(()=>{this._editingController.closeEditCell()})}_leftRightKeysHandler(e,i){var n=this.getVisibleRowIndex(),r=e.originalEvent,o=this._focusedView&&this._focusedView.getRow(n),s=this._getDirectionCodeByKey(e.keyName),a=this._isFastEditingStarted(),l=(!i||a)&&im(o);if(l){this.setCellFocusType(),a&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(s);var d=this._getNextCell(s);os(d)&&this._arrowKeysHandlerFocusCell(r,d,s),r&&r.preventDefault()}}_upDownKeysHandler(e,i){var n,r,o=this.getVisibleRowIndex(),s=this._focusedView&&this._focusedView.getRow(o),a=e.originalEvent,l=e.keyName==="upArrow",d=this._dataController.dataSource(),u=(r=(n=this._editingController)===null||n===void 0?void 0:n.isEditRowByIndex)===null||r===void 0?void 0:r.call(n,o),h=this._isFastEditingStarted(),p=(!u||!i||h)&&s&&!jE(s);if(p){if(h&&this._closeEditCell(),!this._navigateNextCell(a,e.keyName)&&this._isVirtualRowRender()&&l&&d&&!d.isLoading()){var m=et(s),c=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-m,c,a)}a&&a.preventDefault()}}_pageUpDownKeyHandler(e){var i=this._dataController.pageIndex(),n=this._dataController.pageCount(),r=this.option("paging.enabled"),o=e.keyName==="pageUp",s=o?-1:1,a=this._rowsView.getScrollable();r&&!this._isVirtualScrolling()?(o?i>0:i<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(i+s),e.originalEvent.preventDefault()):a&&je(a.container())<je(a.$content())&&(this._scrollBy(0,je(a.container())*s),e.originalEvent.preventDefault())}_spaceKeyHandler(e,i){var n=this.getVisibleRowIndex(),r=g(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&this.option("selection").mode!=="none"&&!i){var o=this._getElementType(r)==="row"&&this.isRowFocusType()&&im(r),s=r.hasClass(zE);return s&&this.option("selection.showCheckBoxesMode")==="onClick"&&this._selectionController.startSelectionWithCheckboxes(),o||r.parent().hasClass(VE)||r.hasClass(this.addWidgetPrefix(BE))?(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0):!1}return this._beginFastEditing(e.originalEvent)}_ctrlAKeyHandler(e,i){!i&&!e.alt&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())}_tabKeyHandler(e,i){var n=this.option("editing"),r=e.shift?"previous":"next",o=O(this._focusedCellPosition)&&!Zi(this._focusedCellPosition),s=!o||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),a=e.originalEvent.target,l=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(a,r)){if(g(l).addClass(A1),n&&a&&!s)if(g(a).hasClass(this.addWidgetPrefix(BE))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(r),i){if(!this._editingCellTabHandler(e,r))return}else this._targetCellTabHandler(e,r)&&(s=!0);s?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}}_getMaxHorizontalOffset(){var e=this.component.getScrollable();return e?e.scrollWidth()-Ae(this._rowsView.element()):0}_isColumnRendered(e){var i=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),r=i[e],o=!1;return r&&(o=n.indexOf(r)>=0),o}_isFixedColumn(e){var i=this._columnsController.getVisibleColumns(null,!0),n=i[e];return!!n&&!!n.fixed}_isColumnVirtual(e){var i=e-this._columnsController.getColumnIndexOffset(),n=this._columnsController.getVisibleColumns(),r=n[i];return!!r&&r.command==="virtual"}_processVirtualHorizontalPosition(e){var i=this.component.getScrollable(),n=this.getColumnIndex(),r,o=0,s=!1;switch(e){case"next":case"nextInRow":var a=this._getVisibleColumnCount();r=n+1,o=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,e==="next"?s=a===r||this._isFixedColumn(n)&&!this._isColumnRendered(r):s=a>r&&this._isFixedColumn(n)&&!this._isColumnRendered(r);break;case"previous":case"previousInRow":if(r=n-1,o=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),e==="previous"){var l=this._columnsController.getColumnIndexOffset(),d=r<0&&l===0;s=d||this._isFixedColumn(n)&&!this._isColumnRendered(r)}else s=r>=0&&this._isFixedColumn(n)&&!this._isColumnRendered(r)}s?i.scrollTo({left:o}):O(r)&&O(e)&&this._isColumnVirtual(r)&&(o=this._getHorizontalScrollPositionOffset(e),o!==0&&i.scrollBy({left:o,top:0}))}_getHorizontalScrollPositionOffset(e){var i=0,n=this._getCell(this._focusedCellPosition),r=n&&it(n);if(r>0){var o=this.option("rtlEnabled")?-1:1;i=e==="nextInRow"||e==="next"?r*o:r*o*-1}return i}_editingCellTabHandler(e,i){var n=e.originalEvent.target,r=this._getCellElementFromTarget(n),o,s=e.originalEvent,a=this._getElementType(n);if(r.is(M1))return!this._targetCellTabHandler(e,i);this._updateFocusedCellPosition(r);var l=this._getNextCellByTabKey(s,i,a);if(r=l.$cell,!r||this._handleTabKeyOnMasterDetailCell(r,i))return!1;var d=this._getColumnByCellElement(r),u=r.parent(),h=this._getRowIndex(u),p=this._dataController.items()[h],m=this._editingController;if(d&&d.allowEditing){var c=!p||p.rowType==="data";o=m.allowUpdating({row:p})?c:p&&p.isNewRow}return o||this._closeEditCell(),this._focusCell(r,!l.isHighlighted)&&(!this._isRowEditMode()&&o?this._editFocusedCell():this._focusInteractiveElement(r,e.shift)),!0}_targetCellTabHandler(e,i){var n=e.originalEvent,r=n.target,o=this._getElementType(r),s=this._getCellElementFromTarget(r),a=o==="cell"&&this._getInteractiveElement(s,!e.shift),l=!1;if(!B1(this,s)&&a?.length&&r!==a.get(0))l=!0;else{this._focusedCellPosition.rowIndex===void 0&&g(r).hasClass(Da)&&this._updateFocusedCellPosition(s),o=this._getElementType(r),this.isRowFocusType()&&(this.setCellFocusType(),o==="row"&&im(g(r))&&(r=this.getFirstValidCellInRow(g(r)),o=this._getElementType(r)));var d=this._getNextCellByTabKey(n,i,o);if(s=d.$cell,!s||(s=this._checkNewLineTransition(n,s),!s))return!1;this._focusCell(s,!d.isHighlighted),B1(this,s)||this._focusInteractiveElement(s,e.shift)}return l}_getNextCellByTabKey(e,i,n){var r=this._getNextCell(i,n),o=r&&this._fireFocusedCellChanging(e,r,!0);return!o||o.cancel?{}:(o.$newCellElement&&(r=o.$newCellElement),{$cell:r,isHighlighted:o.isHighlighted})}_checkNewLineTransition(e,i){var n=this.getVisibleRowIndex(),r=i.parent();if(n!==this._getRowIndex(r)){var o=this._getCellPosition(i),s=this._fireFocusedRowChanging(e,r);if(s.cancel)return;s.rowIndexChanged&&o&&(this.setFocusedColumnIndex(o.columnIndex),i=this._getFocusedCell())}return i}_enterKeyHandler(e,i){var n,r=this.getVisibleRowIndex(),o=this._dataController.getKeyByRowIndex(r),s=(n=this._focusedView)===null||n===void 0?void 0:n.getRow(r),a=this._getFocusedCell(),l=this.option("grouping.allowCollapsing")&&tm(s),d=this.option("masterDetail.enabled")&&a?.hasClass(WC),u=a?.hasClass(Jte);if(l||d){var h=this._dataController.items()[r],p=h?.data&&!h.data.isContinuation;O(o)&&p&&this._dataController.changeRowExpand(o)}else u?(this._adaptiveColumnsController.toggleExpandAdaptiveDetailRow(o),this._updateFocusedCellPosition(a)):a?.hasClass(T1)||this._processEnterKeyForDataCell(e,i)}_processEnterKeyForDataCell(e,i){var n=this._getEnterKeyDirection(e),r=this._allowEditingOnEnterKey();i||!r&&n?(this._handleEnterKeyEditingCell(e.originalEvent),n==="next"||n==="previous"?this._targetCellTabHandler(e,n):(n==="upArrow"||n==="downArrow")&&this._navigateNextCell(e.originalEvent,n)):r&&this._startEditing(e)}_getEnterKeyDirection(e){var i=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;if(i==="column")return n?"upArrow":"downArrow";if(i==="row")return n?"previous":"next"}_handleEnterKeyEditingCell(e){var{target:i}=e,n=this._getCellElementFromTarget(i),r=this._isRowEditMode();this._updateFocusedCellPosition(n),r?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(S.trigger(g(i),"change"),this._closeEditCell(),e.preventDefault())}_escapeKeyHandler(e,i){var n=this._getCellElementFromTarget(e.originalEvent.target);return i?(this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData(),this._dataController.items().length===0&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):this._editingController.getEditMode()==="cell"?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault(),!0):!1}_ctrlFKeyHandler(e){if(this.option("searchPanel.visible")){var i=this._headerPanel.getSearchTextEditor();i&&(i.focus(),e.originalEvent.preventDefault())}}_f2KeyHandler(){var e=this._editingController.isEditing(),i=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(i);!e&&im(n)&&this._startEditing()}_navigateNextCell(e,i){var n=this._getNextCell(i),r=this._getDirectionCodeByKey(i),o=n&&this._isCellValid(n),s=o?this._arrowKeysHandlerFocusCell(e,n,r):!1;return s}_arrowKeysHandlerFocusCell(e,i,n){var r=n==="prevRow"||n==="nextRow",o=this._fireFocusChangingEvents(e,i,r,!0);return i=o.$newCellElement,!o.cancel&&this._isCellValid(i)?(this._focus(i,!o.isHighlighted),!0):!1}_beginFastEditing(e,i){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(i)this._startEditing(e,WE);else{var{key:n}=e,r=e.keyCode||e.which,o=n||r&&String.fromCharCode(r);o&&(o.length===1||o===WE)&&this._startEditing(e,o)}return!0}_pointerEventHandler(e){var i,n=e.event||e,r=g(n.currentTarget),o=(i=this._rowsView)===null||i===void 0?void 0:i.element(),s=r.parent(),a=g(n.target).is($C),l=!!g(n.target).closest(".".concat(Qte)).length,d=r.hasClass(WC);this._isEventInCurrentGrid(n)&&(!l&&(this._isCellValid(r,!a)||d)?(r=this._isInsideEditForm(r)?g(n.target):r,this._focusView(),g(o).removeClass(A1),s.hasClass(HE)?(this._updateFocusedCellPosition(r),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this._isMasterDetailCell(r)?this._updateFocusedCellPosition(r):this._clickTargetCellHandler(n,r)):r.is("td")&&this._resetFocusedCell())}_clickTargetCellHandler(e,i){var n=this._getColumnByCellElement(i),r=this._isCellEditMode();this.setCellFocusType();var o=this._fireFocusChangingEvents(e,i,!0);if(i=o.$newCellElement,o.cancel)this.setRowFocusType(),this.setFocusedRowIndex(o.prevRowIndex),this._editingController.isEditing()&&r&&this._closeEditCell();else{if(o.resetFocusedRow){this.getController("focus")._resetFocusedRow();return}if(o.rowIndexChanged&&(i=this._getFocusedCell()),!o.isHighlighted&&!r&&this.setRowFocusType(),this._updateFocusedCellPosition(i),this._allowRowUpdating()&&r&&n&&n.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{i=this._getFocusedCell();var s=e&&g(e.target).closest("".concat(F1,", td")),a=s&&s.not(i).is(F1),l=!!n&&!n.command&&i.hasClass(oc),d=!l&&(!o.isHighlighted||a);this._focus(i,d,a)}}}_allowRowUpdating(){var e=this.getVisibleRowIndex(),i=this._dataController.items()[e];return this._editingController.allowUpdating({row:i},"click")}focus(e){var i,n=this.option("focusedRowEnabled"),r=this._isCellElement(g(e));e||(i=".dx-datagrid-rowsview .dx-row[tabindex]",n||(i+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(i).first()),e&&this._focusElement(g(e),r)}getFocusedView(){return this._focusedView}setupFocusedView(){this.isKeyboardEnabled()&&!O(this._focusedView)&&this._focusView()}_focusElement(e,i){var n=g(this._getRowsViewElement()),r=e.closest(n),o=this.isRowFocusType(),s={};!r.length||this._isCellElement(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(e)||tm(e))&&(this.setCellFocusType(),s=this._fireFocusChangingEvents(null,e,!0,i),e=s.$newCellElement,o&&!s.isHighlighted&&this.setRowFocusType()),s.cancel||(this._focus(e,!s.isHighlighted),this._focusInteractiveElement(e)))}_getFocusedViewByElement(e){var i=this.getFocusedView(),n=i&&g(i.element());return e&&e.closest(n).length!==0}_focusView(){this._focusedView=this._rowsView}_resetFocusedView(){this.setRowFocusType(),this._focusedView=null}_focusInteractiveElement(e,i){if(e){var n=this._getInteractiveElement(e,i);he.focusAndSelectElement(this,n)}}_focus(e,i,n){var r=e&&!e.hasClass(Da)?e.closest(".".concat(Da)):e;if(!(r&&tie(r))){var o=this._focusedView,s=o&&o.element(),a;this._isHiddenFocus=i;var l=tm(r)||eie(r)||this.isRowFocusType();l?(a=r,o&&this.setFocusedRowIndex(this._getRowIndex(r))):this._isCellElement(e)&&(a=e,this._updateFocusedCellPosition(e)),a&&(s&&s.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(a).removeClass(jC).removeClass(R1).removeAttr("tabindex"),S.one(a,"blur",d=>{d.relatedTarget&&a.removeClass(jC).removeClass(R1)}),n||(this._applyTabIndexToElement(a),S.trigger(a,"focus")),i?(a.addClass(jC),l&&e.addClass(jC)):this._editorFactory.focus(a))}}_updateFocus(e){this._updateFocusTimeout=setTimeout(()=>{if(this._needFocusEditingCell()){this._editingController._focusEditingCell();return}var i=this._getFocusedCell(),n=this._editingController.isEditing();if(!this._isMasterDetailCell(i)||this._isRowEditMode()){if(this._hasSkipRow(i.parent())){var r=this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";i=this._getNextCell(r)}if(os(i))if(i.is("td")||i.hasClass(this.addWidgetPrefix(Gte))){var o=i.is(M1),s=i.find(":focus"),a=os(s),l=this._getColumnByCellElement(i);if((e||!o)&&this._editorFactory.focus()){if(o&&a){he.focusAndSelectElement(this,s);return}!a&&this._focus(i)}else!a&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(i,this._isHiddenFocus);n&&!l?.showEditorAlways&&this._focusInteractiveElement.bind(this)(i)}else S.trigger(i,"focus")}})}_getColumnByCellElement(e){var i=this._rowsView.getCellIndex(e),n=i+this._columnsController.getColumnIndexOffset();return this._columnsController.getVisibleColumns(null,!0)[n]}_needFocusEditingCell(){var e=this._editingController.getEditMode()===sc,i=this._editingController.getEditMode()===Ad,n=e&&this._editingController.hasChanges(),r=i&&this._editingController.isNewRowInEditMode(),o=this._getFocusedCell();return(o.children().length===0||o.find(Wg).length>0)&&(n||r)}_getFocusedCell(){return g(this._getCell(this._focusedCellPosition))}_updateFocusedCellPositionByTarget(e){var i,n=this._getElementType(e);if(n==="row"&&O((i=this._focusedCellPosition)===null||i===void 0?void 0:i.columnIndex)){var r=g(e);this._focusedView&&tm(r)&&this.setFocusedRowIndex(this._getRowIndex(r))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))}_updateFocusedCellPosition(e,i){var n=this._getCellPosition(e,i);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n}_getFocusedColumnIndexOffset(e){var i=0,n=this._columnsController.getVisibleColumns()[e];return n&&n.fixed?i=this._getFixedColumnIndexOffset(n):e>=0&&(i=this._columnsController.getColumnIndexOffset()),i}_getFixedColumnIndexOffset(e){var i=iie(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return i}_getCellPosition(e,i){var n,r=os(e)&&e.closest("tr");if(os(r)){var o=this._getRowIndex(r);return n=this._rowsView.getCellIndex(e,o),n+=this._getFocusedColumnIndexOffset(n),i&&(n=i==="previous"?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:o,columnIndex:n}}}_focusCell(e,i){if(this._isCellValid(e))return this._focus(e,i),!0}_focusEditFormCell(e){e.hasClass(I1)&&this._editorFactory.focus(e,!0)}_resetFocusedCell(e){var i,n=this._getFocusedCell();os(n)&&n.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),(i=this._focusedView)===null||i===void 0||i.renderFocusState({preventScroll:e})}restoreFocusableElement(e,i){var n,r,o=O(e),s=this._rowsView.element(),{columnIndex:a}=this._focusedCellPosition,l=this._dataController.getRowIndexOffset();e=o?e:this._rowsView.getTopVisibleItemIndex()+l,o?(r=this._rowsView.getRow(e-l),n=this._fireFocusedRowChanging(i,r),!n.cancel&&n.rowIndexChanged&&(e=n.newRowIndex)):(this._editorFactory.loseFocus(),this._applyTabIndexToElement(s),S.trigger(s,"focus")),(!o||!n.cancel)&&this.setFocusedCellPosition(e,a),o&&this._updateFocus()}_getNewPositionByCode(e,i,n){var{columnIndex:r}=e,{rowIndex:o}=e,s;if(e.rowIndex===void 0&&n==="next")return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":s=this._getVisibleColumnCount(),r<s-1&&i!=="row"&&this._hasValidCellAfterPosition({columnIndex:r,rowIndex:o})?r++:!this._isLastRow(o)&&n==="next"&&(r=0,o++);break;case"previousInRow":case"previous":r>0&&i!=="row"&&this._hasValidCellBeforePosition({columnIndex:r,rowIndex:o})?r--:o>0&&n==="previous"&&(o--,s=this._getVisibleColumnCount(),r=s-1);break;case"upArrow":o=o>0?o-1:o;break;case"downArrow":o=this._isLastRow(o)?o:o+1}return{columnIndex:r,rowIndex:o}}setFocusedCellPosition(e,i){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(i)}setFocusedRowIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e}setFocusedColumnIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e}getRowIndex(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1}getColumnIndex(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1}getVisibleRowIndex(){var e,i=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.rowIndex;return!O(i)||i<0?-1:i-this._dataController.getRowIndexOffset()}getVisibleColumnIndex(){var e,i=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.columnIndex;return O(i)?i-this._columnsController.getColumnIndexOffset():-1}_applyColumnIndexBoundaries(e){var i=this._getVisibleColumnCount();return e<0?e=0:e>=i&&(e=i-1),e}_isCellByPositionValid(e){var i=g(this._getCell(e));return this._isCellValid(i)}_isLastRow(e){var i=this._dataController;if(this._isVirtualRowRender())return e>=i.getMaxRowIndex();var n=Math.max(...i.items().map((r,o)=>r.visible!==!1?o:-1));return e===n}_isFirstValidCell(e){var i=!1;return e.rowIndex===0&&e.columnIndex>=0&&(i=i||!this._hasValidCellBeforePosition(e)),i}_hasValidCellBeforePosition(e){for(var{columnIndex:i}=e,n=!1;i>0&&!n;){var r={columnIndex:--i,rowIndex:e.rowIndex};n=this._isCellByPositionValid(r)}return n}_hasValidCellAfterPosition(e){for(var{columnIndex:i}=e,n=!1,r=this._getVisibleColumnCount();i<r-1&&!n;){var o={columnIndex:++i,rowIndex:e.rowIndex};n=this._isCellByPositionValid(o)}return n}_isLastValidCell(e){var i=e.columnIndex>=0?e.columnIndex+1:0,{rowIndex:n}=e,r={columnIndex:i,rowIndex:n},o=this._dataController.getVisibleRows(),s=o&&o[n],a=this._isLastRow(n);if(!a)return!1;var l=s?.rowType==="group"||s?.rowType==="groupFooter";return l&&e.columnIndex>0||e.columnIndex===this._getVisibleColumnCount()-1?!0:this._isCellByPositionValid(r)?!1:this._isLastValidCell(r)}_isCellValid(e,i){if(os(e)){var n=e.parent(),r=this._rowsView.getCellIndex(e)+this._columnsController.getColumnIndexOffset(),o=this._getColumnByCellElement(e),s=this._getVisibleColumnCount(),a=this._editingController,l=jE(n),d=o&&o.showWhenGrouped,u=o&&!e.hasClass(WC)&&im(n),h=L1.isDragCell(e);if(h)return!1;if(this._isMasterDetailCell(e))return!0;if(s>r&&(!l&&o&&(!O(o.groupIndex)||d&&u)||parseInt(e.attr("colspan"),10)>1)){var p=this._dataController.items(),m=this._rowsView.getRowIndex(n),c=p[m],x=a&&this._isCellEditMode()&&a.isEditing(),D=a&&a.isEditRow(m),T=D||x;return o.command?this._isLegacyNavigation()?!T&&o.command==="expand":x?!1:D?o.command!=="select":!T:x&&c&&c.rowType!=="data"?!1:!T||o.allowEditing||i}}}getFirstValidCellInRow(e,i){var n=e.find("> td"),r,o;i=i||0;for(var s=i;s<n.length;++s)if(r=n.eq(s),this._isCellValid(r)){o=r;break}return o}_getNextCell(e,i,n){var r=n||this._focusedCellPosition,o=this.isRowFocusType(),s=o||["next","previous"].includes(e),a,l;if(this._focusedView&&r){var d=this._getNewPositionByCode(r,i,e);a=g(this._getCell(d));var u=e==="previous"?this._isFirstValidCell(d):this._isLastValidCell(d);if(os(a)&&!this._isCellValid(a)&&this._isCellInRow(d,s)&&!u&&(o?a=this.getFirstValidCellInRow(a.parent(),d.columnIndex):a=this._getNextCell(e,"cell",d)),l=os(a)&&a.parent(),this._hasSkipRow(l)){var h=this._getRowIndex(l);if(!this._isLastRow(h))a=this._getNextCell(e,"row",{columnIndex:r.columnIndex,rowIndex:h});else return null}return os(a)?a:null}return null}_startEditing(e,i){var n=this._focusedCellPosition,r=this.getVisibleRowIndex(),o=this.getVisibleColumnIndex(),s=this._dataController.items()[r],a=this._columnsController.getVisibleColumns()[o];this._isAllowEditing(s,a)&&(this._isRowEditMode()?this._editingController.editRow(r):n&&this._startEditCell(e,i))}_isAllowEditing(e,i){return this._editingController.allowUpdating({row:e})&&i&&i.allowEditing}_editFocusedCell(){var e=this.getVisibleRowIndex(),i=this.getVisibleColumnIndex();return this._editingController.editCell(e,i)}_startEditCell(e,i){this._fastEditingStarted=O(i);var n=this._editFocusedCell(),r=rf(n),o=this._isFastEditingStarted();if(!(!o||!r&&!n)){var s=r&&i===WE?"":i,a=r?n:H().resolve(),l=this._rowsView.waitAsyncTemplates(!0);ye(a,l).done(()=>{this._editingCellHandler(e,s)})}}_editingCellHandler(e,i){var n,r,o=this._getFocusedCell().find($C).eq(0),s=o.get(0);if(s){var a=la(e,{type:"keydown",target:s}),l=la(e,{type:"keypress",target:s}),d=la(e,{type:"input",target:s});if(d.originalEvent&&(d.originalEvent=la(d.originalEvent,{data:i})),(r=(n=s).select)===null||r===void 0||r.call(n),S.trigger(o,a),!a.isDefaultPrevented()&&(S.trigger(o,l),!l.isDefaultPrevented())){var u=Nt.mozilla?25:0;setTimeout(()=>{var h=this._getKeyPressInputValue(o,i);o.val(h);var p=o.closest(".".concat(Xte));S.off(p,"focusout"),S.one(p,"focusout",()=>{S.trigger(o,"change")}),S.trigger(o,d)},u)}}}_getKeyPressInputValue(e,i){var n=e.val();return i==="-"&&n==="-0"?"-0":i}_fireFocusChangingEvents(e,i,n,r){var o,s={},a=(o=this._getCellPosition(i))!==null&&o!==void 0?o:{};return this.isCellFocusType()&&(s=this._fireFocusedCellChanging(e,i,r),s.cancel||(a.columnIndex=s.newColumnIndex,a.rowIndex=s.newRowIndex,r=s.isHighlighted,i=g(this._getCell(a)))),!s.cancel&&n&&i&&(s=this._fireFocusedRowChanging(e,i.parent()),s.cancel||(a.rowIndex=s.newRowIndex,s.isHighlighted=r)),s.$newCellElement=g(this._getCell(a)),s.$newCellElement.length||(s.$newCellElement=i),s}_fireFocusedCellChanging(e,i,n){var r=this.option("focusedColumnIndex"),o=this.option("focusedRowIndex"),s=this._getCellPosition(i),a=s?s.columnIndex:-1,l=s?s.rowIndex:-1,d=this._dataController.getVisibleRows(),u=this._columnsController.getVisibleColumns(),h={cellElement:i,prevColumnIndex:r,prevRowIndex:o,newColumnIndex:a,newRowIndex:l,rows:d,columns:u,event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",h),(h.newColumnIndex!==a||h.newRowIndex!==l)&&(h.$newCellElement=g(this._getCell({columnIndex:h.newColumnIndex,rowIndex:h.newRowIndex}))),h.cancel&&(this._canceledCellPosition={rowIndex:l,columnIndex:a}),h}_fireFocusedCellChanged(e){var i=this._rowsView.getCellIndex(e),n=e?.parent().data("options"),r=n?.key;this._memoFireFocusedCellChanged(r,i)}_memoFireFocusedCellChanged(e,i){var n=this._getFocusedCell(),r=this._getRowIndex(n?.parent()),o=Math.min(r-this._dataController.getRowIndexOffset(),this._dataController.items().length-1),s=this._editingController.isEditCell(o,i);if(!s){var a=this._dataController.items()[o],l=this._columnsController.getVisibleColumns()[i];this.executeAction("onFocusedCellChanged",{cellElement:n?Pe(n):void 0,columnIndex:i,rowIndex:r,row:a,column:l})}}_fireFocusedRowChanging(e,i){var n=this._getRowIndex(i),r=this.option("focusedRowIndex"),o=this._dataController.loadingOperationTypes(),s={rowElement:i,prevRowIndex:r,newRowIndex:n,event:e,rows:this._dataController.getVisibleRows(),cancel:!1},a=o.sorting||o.grouping||o.filtering||o.paging;return!this._dataController||this._dataController.isLoading()&&a?(s.cancel=!0,s):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",s),!s.cancel&&s.newRowIndex!==n&&(s.resetFocusedRow=s.newRowIndex<0,s.resetFocusedRow||this.setFocusedRowIndex(s.newRowIndex),s.rowIndexChanged=!0)),s)}_fireFocusedRowChanged(){var e,i=this.option("focusedRowEnabled"),n=this.option("focusedRowKey"),r=(e=this._focusController)===null||e===void 0?void 0:e.getFocusedRowIndexByKey(n);!i||O(n)&&r<0||this._memoFireFocusedRowChanged(n,r)}_memoFireFocusedRowChanged(e,i){var n=i-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:i<0?void 0:this._rowsView.getRowElement(n),rowIndex:i,row:i<0?void 0:this._dataController.getVisibleRows()[n]})}_isEventInCurrentGrid(e){return he.isElementInCurrentGrid(this,g(e.target))}_isRowEditMode(){var e=this._editingController.getEditMode();return e===Hs||e===ac}_isCellEditMode(){var e=this._editingController.getEditMode();return e===sc||e===Ad}_isFastEditingAllowed(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")}_getInteractiveElement(e,i){var n=e.find($C).filter(":visible");return i?n.last():n.first()}_applyTabIndexToElement(e){var i,n=(i=this.option("tabIndex"))!==null&&i!==void 0?i:0;e.attr("tabindex",n)}_getCell(e){if(this._focusedView&&e){var i=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],r=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),o=e.rowIndex>=0?e.rowIndex-i:-1,s=e.columnIndex>=0?e.columnIndex-r:-1;return this._focusedView.getCell({rowIndex:o,columnIndex:s})}}_getRowIndex(e){var i=this._rowsView.getRowIndex(e);return i>=0&&(i+=this._dataController.getRowIndexOffset()),i}_hasSkipRow(e){var i=e&&e.get(0);return i&&(i.style.display==="none"||jE(e)&&!e.hasClass(this.addWidgetPrefix(zh)))}_allowEditingOnEnterKey(){return this.option("keyboardNavigation.enterKeyAction")==="startEdit"}_isLegacyNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDirectionCodeByKey(e){var i;switch(e){case"upArrow":i="prevRow";break;case"downArrow":i="nextRow";break;case"leftArrow":i=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":i=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return i}_isVirtualScrolling(){var e=this.option("scrolling.mode");return e==="virtual"||e==="infinite"}_isVirtualRowRender(){return this._isVirtualScrolling()||he.isVirtualRowRendering(this)}_isVirtualColumnRender(){return this.option("scrolling.columnRenderingMode")==="virtual"}_scrollBy(e,i,n,r){var o=this,s=this._rowsView.getScrollable();return o._focusedCellPosition&&s.on("scroll",function a(){s.off("scroll",a),setTimeout(o.restoreFocusableElement.bind(o,n,r))}),s.scrollBy({left:e,top:i})}_isInsideEditForm(e){var i=g(e).closest(".".concat(this.addWidgetPrefix(zh)));return i.length&&this.elementIsInsideGrid(i)}_isMasterDetailCell(e){var i=g(e).closest(".".concat(I1));return i.length&&this.elementIsInsideGrid(i)}_processNextCellInMasterDetail(e,i){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)}_handleTabKeyOnMasterDetailCell(e,i){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition(g(e),i);var n=this._getNextCell(i,"row");return this._processNextCellInMasterDetail(n,g(e)),!0}return!1}_getElementType(e){return g(e).is("tr")?"row":"cell"}_isFastEditingStarted(){return this._isFastEditingAllowed()&&this._fastEditingStarted}_getVisibleColumnCount(){return this._columnsController.getVisibleColumns(null,!0).length}_isCellInRow(e,i){var{columnIndex:n}=e,r=this._getVisibleColumnCount();return i?n>=0&&n<=r-1:n>0&&n<r-1}_isCellElement(e){return e.length&&e[0].tagName==="TD"}_getCellElementFromTarget(e){var i=this._getElementType(e),n=g(e),r;return i==="cell"?r=n.closest(".".concat(Da," > td")):r=n.children().not(".".concat(WC)).first(),r}_getRowsViewElement(){var e;return(e=this._rowsView)===null||e===void 0?void 0:e.element()}isKeyboardEnabled(){return this.option("keyboardNavigation.enabled")}_processCanceledEditCellPosition(e,i){if(this._canceledCellPosition){var n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===i;return this._canceledCellPosition=null,n}}updateFocusedRowIndex(){var e=this._dataController,i=this.getVisibleRowIndex(),n=e.items(),r=n.length?n.length-1:-1,o=e.getRowIndexOffset();r>=0&&i>r&&this.setFocusedRowIndex(r+o)}},oie={defaultOptions:()=>({useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}),controllers:{keyboardNavigation:H1},extenders:{views:{rowsView:{init(){this.callBase(),this._keyboardController=this.getController("keyboardNavigation")},_rowClick(t){var e=this.getController("editing").getEditRowIndex(),i=this._keyboardController.isKeyboardEnabled();e===t.rowIndex&&this._keyboardController.setCellFocusType();var n=($E()||!i)&&this.option("focusedRowEnabled");n&&this._triggerPointerDownEventHandler(t,!i),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler(t,e){var{originalEvent:i}=t.event;if(i){var n=g(i.target),r=this.getCellIndex(n),o=this.getController("columns").getVisibleColumns()[r],s=this.getController("data").items()[t.rowIndex];if(this._keyboardController._isAllowEditing(s,o)||e){var a=la(i,{currentTarget:i.target});this._keyboardController._pointerEventHandler(a)}}},renderFocusState(t){var{preventScroll:e,pageSizeChanged:i}=t??{},n=this.element();n&&!Fo(n)&&n.attr("tabindex",null),i&&this._keyboardController.updateFocusedRowIndex();var r=this._keyboardController.getVisibleRowIndex();(!O(r)||r<0)&&(r=0);var o=this.getCellElements(r);this._keyboardController.isKeyboardEnabled()&&o?.length&&this.updateFocusElementTabIndex(o,e)},updateFocusElementTabIndex(t){var e=t.eq(0).parent();if(tm(e))this._keyboardController._applyTabIndexToElement(e);else{var i=this._keyboardController.getColumnIndex();(!O(i)||i<0)&&(i=0),this._updateFocusedCellTabIndex(t,i)}},_updateFocusedCellTabIndex(t,e){var i=this._keyboardController,n=t?t.length:-1,r=function(a){var l=i._isMasterDetailCell(a),d=i._isCellValid(a);if(!l&&d&&i._isCellElement(a))return i._applyTabIndexToElement(a),i.setCellFocusType(),!0},o=L1.getCellToFocus(t,e);if(o.length)r(o);else{n<=e&&(e=n-1);for(var s=e;s<n&&!r(g(t[s]));++s);}},renderDelayedTemplates(t){this.callBase.apply(this,arguments),this._renderFocusByChange(t)},_renderFocusByChange(t){var e,{operationTypes:i,repaintChangesOnly:n}=t??{},{fullReload:r,pageSize:o}=i??{},s=!!(!((e=t?.changeTypes)===null||e===void 0)&&e.find(l=>l==="insert"||l==="remove"));if(!t||!n||r||o||s){var a=nie(this);this.renderFocusState({preventScroll:a,pageSizeChanged:o})}},_renderCore(t){var e=this.callBase.apply(this,arguments);return this._renderFocusByChange(t),e},_editCellPrepared(t){var e,i=this._getEditorInstance(t),n=(e=this._keyboardController)===null||e===void 0?void 0:e._isFastEditingStarted();i&&n&&this._handleEditingNavigationMode(i),this.callBase.apply(this,arguments)},_handleEditingNavigationMode(t){["downArrow","upArrow"].forEach(i=>{var n=t._supportedKeys()[i];t.registerKeyHandler(i,r=>{var o=t._input().attr("aria-expanded")==="true";if(o)return n&&n.call(t,r)})}),t.registerKeyHandler("leftArrow",W),t.registerKeyHandler("rightArrow",W);var e=t.NAME===Yte&&t.option("useMaskBehavior");e&&t.registerKeyHandler("enter",W)},_getEditorInstance(t){var e=t.find(".dx-texteditor").eq(0);return he.getWidgetInstance(e)}}},controllers:{editing:{editCell(t,e){var i=this.getController("keyboardNavigation");if(i._processCanceledEditCellPosition(t,e))return!1;var n=this.callBase(t,e);return n&&i.setupFocusedView(),n},editRow(t){var e=this.getController("keyboardNavigation"),i=e.getVisibleColumnIndex(),n=this._columnsController.getVisibleColumns()[i];(n&&n.type||this.option("editing.mode")===ac)&&e._resetFocusedCell(),this.callBase(t)},addRow(t){var e=this.getController("keyboardNavigation");return e.setupFocusedView(),e.setCellFocusType(),this.callBase.apply(this,arguments)},getFocusedCellInRow(t){var e=this.getController("keyboardNavigation"),i=this.callBase(t),n=this._dataController.getRowIndexOffset(),r=e._focusedCellPosition.rowIndex-n;if(e.isKeyboardEnabled()&&r===t){var o=e._getFocusedCell();os(o)&&!o.hasClass(T1)&&(i=o)}return i},_processCanceledEditingCell(){this.closeEditCell().done(()=>{var t=this.getController("keyboardNavigation");t._updateFocus()})},init(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell(){var t=this._keyboardNavigationController;t._fastEditingStarted=!1;var e=this.callBase.apply(this,arguments);return t._updateFocus(),e},_delayedInputFocus(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart(){var t=this.getController("keyboardNavigation"),e=this.callBase.apply(this,arguments);if(e&&!t._isNeedFocus){var i=t._getFocusedCell();t._focus(i,!0)}return e}},data:{_correctRowIndices(t){var e=this.getController("keyboardNavigation"),i=this.getController("editorFactory"),n=e._focusedCellPosition;if(this.callBase.apply(this,arguments),n&&n.rowIndex>=0){var r=t(n.rowIndex);r&&(n.rowIndex+=r,i.refocus())}},getMaxRowIndex(){var t=this.items().length-1,e=this.virtualItemsCount();if(e){var i=this.getRowIndexOffset();t+=i+e.end}return t}},adaptiveColumns:{_showHiddenCellsInView(t){var{viewName:e,$cells:i,isCommandColumn:n}=t;this.callBase.apply(this,arguments),e===N1&&!n&&i.each((r,o)=>{var s=g(o);V1(s)&&s.attr("tabindex",0)})},_hideVisibleCellInView(t){var{viewName:e,$cell:i,isCommandColumn:n}=t;this.callBase.apply(this,arguments),e===N1&&!n&&V1(i)&&i.removeAttr("tabindex")}},keyboardNavigation:rie}}};Ie.registerModule("keyboardNavigation",oie);function z1(t,e,i,n){var r=0;if(t<e)for(;r<i.items.length;r++)z1(t+1,e,i.items[r],n);t===e&&n(i)}function GE(t,e){var i;if("map"in t)return t.map(e);var n=new Array(t.length);for(i in t)n[i]=e(t[i],i);return n}function LVe(t){return t!==t||t===""||t===null||t===void 0}function BVe(t){return t===o_.count}function sie(t){var e=Tt(t.selector),i="skipEmptyValues"in t?t.skipEmptyValues:!0,{aggregator:n}=t;if(typeof n=="string"&&(n=o_[n],!n))throw ji.Error("E4001",t.aggregator);return{selector:e,aggregator:n,skipEmptyValues:i}}var aie=ot.inherit({ctor(t){this._data=t.data,this._groupLevel=t.groupLevel||0,this._totalAggregates=GE(t.totalAggregates||[],sie),this._groupAggregates=GE(t.groupAggregates||[],sie),this._totals=[]},calculate(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})},totalAggregates(){return this._totals},_aggregate(t,e,i){for(var n=e.items?e.items.length:0,r=0;r<t.length;r++){if(BVe(t[r].aggregator)){i[r]=(i[r]||0)+n;continue}for(var o=0;o<n;o++)this._accumulate(r,t[r],i,e.items[o])}},_calculateTotals(t,e){if(t===0&&(this._totals=this._seed(this._totalAggregates)),t===this._groupLevel)this._aggregate(this._totalAggregates,e,this._totals);else for(var i=0;i<e.items.length;i++)this._calculateTotals(t+1,e.items[i]);t===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups(t){var e=this._groupLevel,i=e+1,n=this._seed.bind(this,this._groupAggregates),r=this._aggregate.bind(this,this._groupAggregates),o=this._finalize.bind(this,this._groupAggregates);function s(a){a.aggregates=n(i-1),i===e?r(a,a.aggregates):z1(i,e,a,l=>{r(l,a.aggregates)}),a.aggregates=o(a.aggregates)}for(;--i>0;)z1(0,i,t,s)},_seed:(t,e)=>GE(t,i=>{var{aggregator:n}=i,r="seed"in n?ce(n.seed)?n.seed(e):n.seed:NaN;return r}),_accumulate(t,e,i,n){var r=e.selector(n),{aggregator:o}=e,{skipEmptyValues:s}=e;s&&LVe(r)||(i[t]!==i[t]?i[t]=r:i[t]=o.step(i[t],r))},_finalize:(t,e)=>GE(t,(i,n)=>{var r=i.aggregator.finalize;return r?r(e[n]):e[n]})});var VVe="dx-datagrid-total-footer",HVe="dx-datagrid-summary-item",zVe="dx-datagrid-text-content",WVe="dx-datagrid-group-footer",jVe="dx-datagrid-group-text-content",$Ve="dx-datagrid-nowrap",GVe="dx-footer-row",UVe="dx-cell-focus-disabled",W1="groupFooter",lie="totalFooter",die=function(t,e){var i=g(t),{column:n}=e,{summaryItems:r}=e,o=[];if(!n.command&&r){for(var s=0;s<r.length;s++){var a=r[s],l=Ie.getSummaryText(a,e.summaryTexts);o.push(g("<div>").css("textAlign",a.alignment||n.alignment).addClass(HVe).addClass(zVe).addClass(a.cssClass).toggleClass(jVe,e.rowType==="group").text(l).attr("aria-label","".concat(n.caption," ").concat(l)))}i.append(o)}},uie=function(t,e){var i=t.option("summary.texts")||{};return{totalItem:e.row,summaryItems:e.row.summaryCells[e.columnIndex],summaryTexts:i}},j1=function(t){return t.summary||t.aggregates||[]},$1=function(t){return t.option("summary.recalculateWhileEditing")},KVe=Ns.inherit({_getRows(){return this._dataController.footerItems()},_getCellOptions(t){return y(this.callBase(t),uie(this,t))},_renderCellContent(t,e){die(t,e),this.callBase.apply(this,arguments)},_renderCore(t){var e=!1,i=this._dataController.footerItems()[0];(!t||!t.columnIndices)&&(this.element().empty().addClass(VVe).toggleClass($Ve,!this.option("wordWrapEnabled")),e=!0),i&&i.summaryCells&&i.summaryCells.length&&(this._updateContent(this._renderTable({change:t}),t),e&&this._updateScrollLeftPosition())},_updateContent(t,e){return e&&e.changeType==="update"&&e.columnIndices?this.waitAsyncTemplates().done(()=>{var i=this.getTableElement().find(".dx-row"),n=t.find(".dx-row");this._updateCells(i,n,e.columnIndices[0])}):this.callBase.apply(this,arguments)},_rowClick(t){var e=this._dataController.footerItems()[t.rowIndex]||{};this.executeAction("onRowClick",y({},t,e))},_columnOptionChanged(t){var{optionNames:e}=t;t.changeTypes.grouping||(e.width||e.visibleWidth)&&this.callBase(t)},_handleDataChanged(t){var{changeType:e}=t;t.changeType==="update"&&t.repaintChangesOnly?t.totalColumnIndices?t.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[t.totalColumnIndices]}):this.render():(e==="refresh"||e==="append"||e==="prepend")&&this.render()},_createRow(t){var e=this.callBase.apply(this,arguments);return t.rowType===lie&&(e.addClass(GVe),e.addClass(UVe),e.attr("tabindex",0)),e},getHeight(){return this.getElementHeight()},isVisible(){return!!this._dataController.footerItems().length}}),qVe={init(){this.callBase.apply(this,arguments),this._totalAggregates=[],this._summaryGetter=W},summaryGetter(t){if(!arguments.length)return this._summaryGetter;ce(t)&&(this._summaryGetter=t)},summary(t){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return t}},totalAggregates(){return this._totalAggregates},isLastLevelGroupItemsPagingLocal(){var t=this.summary(),e=t&&t.sortByGroups();return e&&e.length},sortLastLevelGroupItems(t,e,i){var n=Zr.multiLevelGroup(hn(t),e).toArray(),r=[];return i.forEach(o=>{(function s(a,l,d,u){u=u||[];for(var h=0;h<a.length;h++)u.push(a[h].key),l===1?d(u,a[h].items):s(a[h].items,l-1,d,u),u.pop()})(n,e.length,(s,a)=>{o.toString()===s.toString()&&(r=r.concat(a))})}),r}},JVe=function(){var t=function(i,n,r,o){var s;if($1(i)){var a=i.getController("editing");if(a){var l=a.getInsertedData();l.length&&(r=function u(h,p,m){return m?u(h,p.map(c=>({items:[c]}),m-1)):h.concat(p)}(r,l,o));var d=a.getRemovedData();d.length&&(r=function u(h,p,m){return m?h.map(c=>{var x={},D=u(c.items||[],p,m-1);return Object.defineProperty(x,"aggregates",{get:()=>c.aggregates,set:T=>{c.aggregates=T}}),y(x,c,{items:D})}):h.filter(c=>p.indexOf(c)<0)}(r,d,o))}}return n&&(s=new aie({totalAggregates:n.totalAggregates,groupAggregates:n.groupAggregates,data:r,groupLevel:o}),s.calculate()),s?s.totalAggregates():[]},e=function(i,n,r){var o=r&&r.sortByGroups&&r.sortByGroups();return o&&o.length?function s(a,l,d){if(!a||!l.length)return a;var u=l[0],h=d[0],p;return u&&h&&h.length&&(p=hn(a),F(h,function(m){m===0?p=p.sortBy(this.selector,this.desc):p=p.thenBy(this.selector,this.desc)}),p.enumerate().done(m=>{a=m})),l=l.slice(1),d=d.slice(1),l.length&&d.length&&F(a,function(){this.items=s(this.items,l,d)}),a}(i,n,o):i};return{_customizeRemoteOperations(i){var n=this.summary();n&&(i.remoteOperations.summary?(!i.isCustomLoading||i.storeLoadOptions.isLoadingAll)&&(i.storeLoadOptions.group&&(i.remoteOperations.grouping?i.storeLoadOptions.groupSummary=n.groupAggregates:n.groupAggregates.length&&(i.remoteOperations.paging=!1)),i.storeLoadOptions.totalSummary=n.totalAggregates):(n.totalAggregates.length||n.groupAggregates.length&&i.storeLoadOptions.group)&&(i.remoteOperations.paging=!1)),this.callBase.apply(this,arguments);var r=i.cachedData.extra;r&&r.summary&&!i.isCustomLoading&&(i.storeLoadOptions.totalSummary=void 0)},_handleDataLoadedCore(i){var n,r,o=fo(i.storeLoadOptions.group||i.loadOptions.group||[]),s=i.remoteOperations||{},a=this.summaryGetter()(s);if(!i.isCustomLoading||i.storeLoadOptions.isLoadingAll){if(s.summary)!s.paging&&o.length&&a&&(s.grouping||t(this,{groupAggregates:a.groupAggregates},i.data,o.length),i.data=e(i.data,o,a));else if(!s.paging&&a){var l=i.operationTypes||{},d=Object.keys(l).some(h=>l[h]);if(!d||!(!((r=(n=i.cachedData)===null||n===void 0?void 0:n.extra)===null||r===void 0)&&r.summary)||o.length&&a.groupAggregates.length){var u=t(this,a,i.data,o.length);i.extra=Ve(i.extra)?i.extra:{},i.extra.summary=u,i.cachedData&&(i.cachedData.extra=i.extra)}i.data=e(i.data,o,a)}}i.isCustomLoading||(this._totalAggregates=i.extra&&i.extra.summary||this._totalAggregates),this.callBase(i)}}}();Id.extend(qVe);Id.extend(JVe);Ie.registerModule("summary",{defaultOptions:()=>({summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:j.format("dxDataGrid-summarySum"),sumOtherColumn:j.format("dxDataGrid-summarySumOtherColumn"),min:j.format("dxDataGrid-summaryMin"),minOtherColumn:j.format("dxDataGrid-summaryMinOtherColumn"),max:j.format("dxDataGrid-summaryMax"),maxOtherColumn:j.format("dxDataGrid-summaryMaxOtherColumn"),avg:j.format("dxDataGrid-summaryAvg"),avgOtherColumn:j.format("dxDataGrid-summaryAvgOtherColumn"),count:j.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}),views:{footerView:KVe},extenders:{controllers:{data:{_isDataColumn:t=>t&&(!O(t.groupIndex)||t.showWhenGrouped),_isGroupFooterVisible(){for(var t=this.option("summary.groupItems")||[],e=0;e<t.length;e++){var i=t[e],n=this._columnsController.columnOption(i.showInColumn||i.column);if(i.showInGroupFooter&&this._isDataColumn(n))return!0}return!1},_processGroupItems(t,e,i){var n=i&&i.data,r=this.callBase.apply(this,arguments);return i&&(i.isGroupFooterVisible===void 0&&(i.isGroupFooterVisible=this._isGroupFooterVisible()),n&&n.items&&i.isGroupFooterVisible&&(i.collectContinuationItems||!n.isContinuationOnNextPage)&&r.push({rowType:W1,key:i.path.slice(),data:n,groupIndex:i.path.length-1,values:[]})),r},_processGroupItem(t,e){var i=this;if(e.summaryGroupItems||(e.summaryGroupItems=i.option("summary.groupItems")||[]),t.rowType==="group"){var n=-1,r=-1;F(e.visibleColumns,function(o){var s=e.visibleColumns[o-1];t.groupIndex===this.groupIndex&&(n=this.index),o>0&&s.command==="expand"&&this.command!=="expand"&&(r=this.index)}),t.summaryCells=this._calculateSummaryCells(e.summaryGroupItems,j1(t.data),e.visibleColumns,(o,s)=>o.showInGroupFooter?-1:o.alignByColumn&&s&&!O(s.groupIndex)&&s.index!==r?s.index:n,!0)}return t.rowType===W1&&(t.summaryCells=this._calculateSummaryCells(e.summaryGroupItems,j1(t.data),e.visibleColumns,(o,s)=>o.showInGroupFooter&&i._isDataColumn(s)?s.index:-1)),t},_calculateSummaryCells(t,e,i,n,r){var o=this,s=[],a={};return F(t,(l,d)=>{var u=o._columnsController.columnOption(d.column),h=d.showInColumn&&o._columnsController.columnOption(d.showInColumn)||u,p=n(d,h);if(p>=0){a[p]||(a[p]=[]);var m=e[l];if(m===m){var c;O(d.valueFormat)?c=d.valueFormat:d.summaryType!=="count"&&(c=Ie.getFormatByDataType(u&&u.dataType)),a[p].push(y({},d,{value:Se(m)&&u&&u.deserializeValue?u.deserializeValue(m):m,valueFormat:c,columnCaption:u&&u.index!==p?u.caption:void 0}))}}}),Zi(a)||i.forEach((l,d)=>{var u=i[d-1],h=r&&(u?.command==="expand"||l.command==="expand")?u?.index:l.index;s.push(a[h]||[])}),s},_getSummaryCells(t,e){var i=this,n=i._columnsController;return i._calculateSummaryCells(t,e,n.getVisibleColumns(),(r,o)=>i._isDataColumn(o)?o.index:-1)},_updateItemsCore(t){var e,i=this._dataSource,n=this._footerItems,r=n&&n[0]&&n[0].summaryCells,o=this.option("summary.totalItems");if(this._footerItems=[],i&&o&&o.length){var s=i.totalAggregates();e=this._getSummaryCells(o,s),t&&t.repaintChangesOnly&&r&&(t.totalColumnIndices=e.map((a,l)=>JSON.stringify(a)!==JSON.stringify(r[l])?l:-1).filter(a=>a>=0)),e.length&&this._footerItems.push({rowType:lie,summaryCells:e})}this.callBase(t)},_prepareUnsavedDataSelector(t){if($1(this)){var e=this.getController("editing");if(e)return function(i){return i=e.getUpdatedData(i),t(i)}}return t},_prepareAggregateSelector(t,e){return t=this._prepareUnsavedDataSelector(t),e==="avg"||e==="sum"?function(i){var n=t(i);return O(n)?Number(n):n}:t},_getAggregates(t,e){var i=this,n=i.getController("columns"),r=i.option("summary.calculateCustomSummary"),o=i.option("summary.skipEmptyValues");return gi(t||[],s=>{var a=n.columnOption(s.column),l=a&&a.calculateCellValue?a.calculateCellValue.bind(a):Tt(a?a.dataField:s.column),d=s.summaryType||"count",u=O(s.skipEmptyValues)?s.skipEmptyValues:o;if(e)return{selector:s.column,summaryType:d};var h=i._prepareAggregateSelector(l,d);if(d==="custom"){r||(Ke.log("E1026"),r=function(){});var p={component:i.component,name:s.name};r(p),p.summaryProcess="calculate",d={seed(m){return p.summaryProcess="start",p.totalValue=void 0,p.groupIndex=m,delete p.value,r(p),p.totalValue},step(m,c){return p.summaryProcess="calculate",p.totalValue=m,p.value=c,r(p),p.totalValue},finalize(m){return p.summaryProcess="finalize",p.totalValue=m,delete p.value,r(p),p.totalValue}}}return{selector:h,aggregator:d,skipEmptyValues:u}})},_addSortInfo(t,e,i,n){if(e){var{groupIndex:r}=e;n=n||e.sortOrder,O(r)&&(t[r]=t[r]||[],t[r].push({selector:i,desc:n==="desc"}))}},_findSummaryItem(t,e){var i=-1;return O(e)&&F(t||[],function(n){if(this.name===e||n===e||this.summaryType===e||this.column===e||function(r){var{summaryType:o}=r,{column:s}=r;return o&&s&&"".concat(o,"_").concat(s)}(this)===e)return i=n,!1}),i},_getSummarySortByGroups(t,e){var i=this,n=i._columnsController,r=n.getGroupColumns(),o=[];if(!(!e||!e.length))return F(t||[],function(){var{sortOrder:s}=this,{groupColumn:a}=this,l=i._findSummaryItem(e,this.summaryItem);if(!(l<0)){var d=function(u){return j1(u)[l]};O(a)?(a=n.columnOption(a),i._addSortInfo(o,a,d,s)):F(r,(u,h)=>{i._addSortInfo(o,h,d,s)})}}),o},_createDataSourceAdapterCore(t,e){var i=this,n=this.callBase(t,e);return n.summaryGetter(r=>i._getSummaryOptions(r||e)),n},_getSummaryOptions(t){var e=this,i=e.option("summary.groupItems"),n=e.option("summary.totalItems"),r=e.option("sortByGroupSummaryInfo"),o=e._getAggregates(i,t&&t.grouping&&t.summary),s=e._getAggregates(n,t&&t.summary);if(o.length||s.length)return{groupAggregates:o,totalAggregates:s,sortByGroups:function(){return e._getSummarySortByGroups(r,i)}}},publicMethods(){var t=this.callBase();return t.push("getTotalSummaryValue"),t},getTotalSummaryValue(t){var e=this._findSummaryItem(this.option("summary.totalItems"),t),i=this._dataSource.totalAggregates();if(i.length&&e>-1)return i[e]},optionChanged(t){(t.name==="summary"||t.name==="sortByGroupSummaryInfo")&&(t.name="dataSource"),this.callBase(t)},init(){this._footerItems=[],this.callBase()},footerItems(){return this._footerItems}},editing:{_refreshSummary(){$1(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})},_addChange(t){var e=this.callBase.apply(this,arguments);return t.type&&this._refreshSummary(),e},_removeChange(){var t=this.callBase.apply(this,arguments);return this._refreshSummary(),t},cancelEditData(){var t=this.callBase.apply(this,arguments);return this._refreshSummary(),t}}},views:{rowsView:{_createRow(t){var e=this.callBase.apply(this,arguments);return t&&e.addClass(t.rowType===W1?WVe:""),e},_renderCells(t,e){this.callBase.apply(this,arguments),e.row.rowType==="group"&&e.row.summaryCells&&e.row.summaryCells.length&&this._renderGroupSummaryCells(t,e)},_hasAlignByColumnSummaryItems:(t,e)=>!O(e.columns[t].groupIndex)&&e.row.summaryCells[t].length,_getAlignByColumnCellCount(t,e){for(var i=0,n=1;n<t;n++){var r=e.row.summaryCells.length-n;i=this._hasAlignByColumnSummaryItems(r,e)?n:i}return i},_renderGroupSummaryCells(t,e){var i=t.children().last(),n=Number(i.attr("colSpan"))||1,r=this._getAlignByColumnCellCount(n,e);this._renderGroupSummaryCellsCore(i,e,n,r)},_renderGroupSummaryCellsCore(t,e,i,n){if(n>0){t.attr("colSpan",i-n);for(var r=0;r<n;r++){var o=e.columns.length-n+r;this._renderCell(t.parent(),y({column:e.columns[o],columnIndex:this._getSummaryCellIndex(o,e.columns)},e))}}},_getSummaryCellIndex:t=>t,_getCellTemplate(t){return!t.column.command&&!O(t.column.groupIndex)&&t.summaryItems&&t.summaryItems.length?die:this.callBase(t)},_getCellOptions(t){var e=this.callBase(t);return t.row.summaryCells?y(e,uie(this,t)):e}}}}});var cie="content",GC="content-fixed",YVe="dx-master-detail-cell",hie="dx-first-cell",XVe="dx-last-cell",pie="dx-state-hover",fie="dx-col-fixed",QVe="dx-fixed-columns",G1="dx-pointer-events-none",Zh="transparent",gie="dx-group-row",ZVe="dx-master-detail-row",Ld=function(t){var e=-1;return F(t,(i,n)=>{if(n.command===Zh)return e=i,!1}),e},mie=function(t,e,i){var n=0;if(t&&e&&i)for(var r=0;r<t.length;r++)t[r].command===Zh?n+=t[r].colspan:(e[n]<i[r]&&(e[n]=i[r]),n++);return e},U1={init(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol(t){return this.callBase(t).toggleClass(fie,!!(this._isFixedTableRendering&&(t.fixed||t.command&&t.command!==Zh)))},_correctColumnIndicesForFixedColumns(t,e){var i=Ld(t),n=t[i].colspan,r=e&&e.columnIndices;r&&(e.columnIndices=r.map(o=>{if(o)return o.map(s=>s<i?s:s>=i+n?s-n+1:-1).filter(s=>s>=0)}))},_partialUpdateFixedTable(t){var e=this._fixedTableElement,i=this._getRowElementsCore(e),n=e.children("colgroup");n.replaceWith(this._createColGroup(t));for(var r=0;r<i.length;r++)this._partialUpdateFixedRow(g(i[r]),t)},_partialUpdateFixedRow(t,e){var i,n=t.get(0).childNodes,r=Ld(e),o=e[r],s=this._columnsController.getColumnIndexOffset(),a,l=s+1,{colspan:d}=o;if(t.hasClass(ZVe)){n[0].setAttribute("colspan",(i=this._columnsController.getVisibleColumns())===null||i===void 0?void 0:i.length);return}t.hasClass(gie)&&(a=this._getGroupCellOptions({row:t.data("options"),columns:this._columnsController.getVisibleColumns()}),d=a.colspan-Math.max(0,n.length-(a.columnIndex+2)));for(var u=0;u<n.length;u++){var h=a?u===a.columnIndex+1:u===r;n[u].setAttribute("aria-colindex",l),h?(n[u].setAttribute("colspan",d),l+=d):l++}},_renderTable(t){var e,i,n=this.getFixedColumns();this._isFixedColumns=!!n.length;var r=this.callBase(t);if(this._isFixedColumns){var o=t?.change,s=this._getRowElements(this._fixedTableElement),a=o?.virtualColumnsScrolling&&s.length===((e=o?.items)===null||e===void 0?void 0:e.length);if(this._isFixedTableRendering=!0,a&&this.option("scrolling.legacyMode")!==!0)this._partialUpdateFixedTable(n),this._isFixedTableRendering=!1;else{var l=o?.columnIndices;this._correctColumnIndicesForFixedColumns(n,o),i=this._createTable(n),this._renderRows(i,y({},t,{columns:n})),this._updateContent(i,o,!0),l&&(o.columnIndices=l),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return r},_renderRow(t,e){var i,{cells:n}=e.row;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&n&&n.length){i=0;var r=e.row.cells||[];n=n.slice(),e.row.cells=n;for(var o=0;o<r.length;o++){if(r[o].column&&r[o].column.command===Zh){i=(r[o].column.colspan||1)-1;continue}n[o+i]=r[o]}}},_createCell(t){var{column:e}=t,i=e&&e.command,{rowType:n}=t,r=this.callBase.apply(this,arguments),o,s,a;(this._isFixedTableRendering||n==="filter")&&(o=this.getFixedColumns(),a=Ld(o),s=o[a-1]),this._isFixedTableRendering?i===Zh&&(r.addClass(G1).toggleClass(hie,a===0||s&&s.command==="expand").toggleClass(XVe,o.length&&a===o.length-1),n!=="freeSpace"&&he.setEmptyText(r)):n==="filter"&&r.toggleClass(hie,t.columnIndex===a);var l=this.option("rowAlternationEnabled")&&t.isAltRow,d=this.option("selection.mode")==="multiple"&&t.columnIndex===0&&t.rowType==="header";return Nt.mozilla&&t.column.fixed&&t.rowType!=="group"&&!l&&!d&&r.addClass(fie),r},_getContent(t){var e;return t?(e=this._fixedTableElement)===null||e===void 0?void 0:e.parent():this.callBase.apply(this,arguments)},_wrapTableInScrollContainer(t,e){var i=this.callBase.apply(this,arguments);return(this._isFixedTableRendering||e)&&i.addClass(this.addWidgetPrefix(GC)),i},_renderCellContent(t,e){var i,{column:n}=e,r=this._isFixedTableRendering,o=e.rowType==="group"&&O(n.groupIndex);if(r&&o&&!n.command&&!n.groupCellTemplate&&t.css("pointerEvents","none"),!r&&this._isFixedColumns){if(i=n.fixed||n.command&&n.fixed!==!1,o&&(i=!1,e.row.summaryCells&&e.row.summaryCells.length)){var s=this._columnsController.getVisibleColumns(),a=this._getAlignByColumnCellCount?this._getAlignByColumnCellCount(n.colspan,{columns:s,row:e.row,isFixed:!0}):0;if(a>0){var l=Ld(this._columnsController.getFixedColumns());i=s.length-a<l}}if(i){if(n.command&&n.type!=="buttons"||e.rowType==="group"){t.html("&nbsp;").addClass(n.cssClass);return}t.addClass("dx-hidden-cell")}}n.command!==Zh&&this.callBase.apply(this,arguments)},_getCellElementsCore(t){var e=this.callBase.apply(this,arguments),i=e?.parent().hasClass(gie),n=this.name==="columnHeadersView"?t:void 0;if(this._fixedTableElement&&e){var r=this.getFixedColumns(n),o=this._getRowElements(this._fixedTableElement).eq(t).children("td");F(o,(s,a)=>{if(i)e[s]&&a.style.visibility!=="hidden"&&(e[s]=a);else{var l=r[s];if(l)if(l.command===Zh)o.eq(s).hasClass(YVe)&&(e[s]=a||e[s]);else{var d=this._columnsController.getVisibleIndexByColumn(l,n);e[d]=a||e[d]}}})}return e},getColumnWidths(){var t=this.callBase(),e=this.getFixedColumns(),i=this._fixedTableElement&&t.length?this.callBase(this._fixedTableElement):void 0;return mie(e,t,i)},getTableElement(t){t=this._isFixedTableRendering||t;var e=t?this._fixedTableElement:this.callBase();return e},setTableElement(t,e){this._isFixedTableRendering||e?this._fixedTableElement=t.addClass(G1):this.callBase(t)},getColumns(t){var e=this.getTableElement();return this._isFixedTableRendering?this.getFixedColumns(t):this.callBase(t,e)},getRowIndex(t){var e=this._fixedTableElement;return e&&e.find(t).length?this._getRowElements(e).index(t):this.callBase(t)},getTableElements(){var t=this.callBase.apply(this,arguments);return this._fixedTableElement&&(t=g([t.get(0),this._fixedTableElement.get(0)])),t},getFixedColumns(t){return this._columnsController.getFixedColumns(t)},getFixedColumnsOffset(){var t={left:0,right:0},e;if(this._fixedTableElement){e=this.getTransparentColumnElement();var i=e.position();t={left:i.left,right:it(this.element(),!0)-(it(e,!0)+i.left)}}return t},getTransparentColumnElement(){return this._fixedTableElement&&this._fixedTableElement.find(".".concat(G1)).first()},getFixedTableElement(){return this._fixedTableElement},isFixedColumns(){return this._isFixedColumns},_resizeCore(){this.callBase(),this.synchronizeRows()},setColumnWidths(t){var e,{widths:i}=t,n=this._columnsController.getVisibleColumns(),r=i?.length&&n.some(h=>O(h.visibleWidth)),o=(e=t.optionNames)===null||e===void 0?void 0:e.width;if(this.callBase(t),this._fixedTableElement){var s=i?.some(h=>h==="auto"||!O(h)),a=s&&(!r||!this.isScrollbarVisible(!0)),l=a?n:this.getFixedColumns();this.setFixedTableColumnWidths(l,i)}var d=this.option("wordWrapEnabled"),u=r||o&&d;u&&this.synchronizeRows()},setFixedTableColumnWidths(t,e){if(!(!this._fixedTableElement||!e)){var i=this._fixedTableElement.children("colgroup").children("col");i.toArray().forEach(r=>r.removeAttribute("style"));var n=0;t.forEach(r=>{if(r.colspan){n+=r.colspan;return}var o=HN(e[n]);O(o)&&dv(i.eq(n),o),n+=1})}},_getClientHeight(t){var e=t.getBoundingClientRect&&Jt(t);return e&&e.height?e.height:t.clientHeight},synchronizeRows(){var t=[],e=[],i,n,r,o;this.waitAsyncTemplates(!0).done(()=>{if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){var s=this._getClientHeight(this._tableElement.get(0)),a=this._getClientHeight(this._fixedTableElement.get(0));if(n=this._getRowElements(this._tableElement),r=this._getRowElements(this._fixedTableElement),o=this._findContentElement(),s!==a){for(o&&o.css("height",s),n.css("height",""),r.css("height",""),i=0;i<n.length;i++)t.push(this._getClientHeight(n.get(i))),e.push(this._getClientHeight(r.get(i)));for(i=0;i<n.length;i++){var l=t[i],d=e[i];l>d?r.eq(i).css("height",l):l<d&&n.eq(i).css("height",d)}o&&o.css("height","")}}})},setScrollerSpacing(t){var e=this.option("rtlEnabled");this.callBase(t),this.element().children(".".concat(this.addWidgetPrefix(GC))).css({paddingLeft:e?t:"",paddingRight:e?"":t})}},eHe=y({},U1,{_getRowVisibleColumns(t){return this._isFixedTableRendering?this.getFixedColumns(t):this.callBase(t)},getContextMenuItems(t){var{column:e}=t,i=this.option("columnFixing"),n=this.callBase(t);if(t.row&&t.row.rowType==="header"&&i.enabled===!0&&e&&e.allowFixing){var r=o=>{switch(o.itemData.value){case"none":this._columnsController.columnOption(e.index,"fixed",!1);break;case"left":this._columnsController.columnOption(e.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(e.index,{fixed:!0,fixedPosition:"right"})}};n=n||[],n.push({text:i.texts.fix,beginGroup:!0,items:[{text:i.texts.leftPosition,value:"left",disabled:e.fixed&&(!e.fixedPosition||e.fixedPosition==="left"),onItemClick:r},{text:i.texts.rightPosition,value:"right",disabled:e.fixed&&e.fixedPosition==="right",onItemClick:r}]},{text:i.texts.unfix,value:"none",disabled:!e.fixed,onItemClick:r})}return n},getFixedColumnElements(t){if(O(t))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(t).children();var e=this.getColumnElements(),i=this.getTransparentColumnElement();if(e&&i&&i.length){var n=Ld(this.getFixedColumns());e.splice(n,i.get(0).colSpan,i.get(0))}return e},getColumnWidths(){var t,e=this.callBase(),i=this.getFixedColumnElements(),n=this.getFixedColumns();return this._fixedTableElement&&(i&&i.length?t=this._getWidths(i):t=this.callBase(this._fixedTableElement)),mie(n,e,t)}}),tHe=y({},U1,{_detachHoverEvents(){var t=this.element();this._fixedTableElement&&this._tableElement&&S.off(t,"mouseover mouseout",".dx-data-row")},_attachHoverEvents(){this._fixedTableElement&&this._tableElement&&S.on(this.element(),"mouseover mouseout",".dx-data-row",this.createAction(t=>{var{event:e}=t,i=this.getRowIndex(g(e.target).closest(".dx-row")),n=e.type==="mouseover";i>=0&&(this._tableElement&&this._getRowElements(this._tableElement).eq(i).toggleClass(pie,n),this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(i).toggleClass(pie,n))}))},_getScrollDelay(){var t,e=(t=this.getController("resizing"))===null||t===void 0?void 0:t.hasResizeTimeout();return e?this.option("scrolling.updateTimeout"):Nt.mozilla?60:0},_findContentElement(t){var e,i,n=this.addWidgetPrefix(cie),r=this.element();if(t=this._isFixedTableRendering||t,r&&t){e=r.children(".".concat(n));var o=this.getScrollable();return!e.length&&o&&(e=g("<div>").addClass(n),S.on(e,"scroll",s=>{var{target:a}=s,l=this._getScrollDelay();clearTimeout(this._fixedScrollTimeout),this._fixedScrollTimeout=setTimeout(()=>{i=g(a).scrollTop(),o.scrollTo({y:i})},l)}),S.on(e,Su,s=>{var a=g(s.target).closest(".dx-scrollable"),l=!1;if(o&&o.$element().is(a))l=!0;else{var d=a.length&&Or.getInstance(a.get(0)),u=d&&d.scrollHeight()-d.clientHeight()>0;l=d&&!u}if(l){i=o.scrollTop(),o.scrollTo({y:i-s.delta});var h=o.scrollTop()+o.clientHeight(),p=o.scrollHeight()+this.getScrollbarWidth(),m=o.scrollTop()>0&&h<p;if(m)return!1}}),e.appendTo(r)),e}return this.callBase()},_updateScrollable(){this.callBase();var t=this.getScrollable();if(!t?._disposed){var e=t&&t.scrollOffset().top;this._updateFixedTablePosition(e)}},_renderContent(t,e,i){return this._isFixedTableRendering||i?t.empty().addClass("".concat(this.addWidgetPrefix(cie)," ").concat(this.addWidgetPrefix(GC))).append(e):this.callBase(t,e)},_getGroupCellOptions(t){return this._isFixedTableRendering?this.callBase(y({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t)},_renderGroupedCells(t,e){return this.callBase(t,y({},e,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells(t,e){this._isFixedTableRendering?this.callBase(t,y({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t,e)},_hasAlignByColumnSummaryItems(t,e){var i=this.callBase.apply(this,arguments),n=e.columns[t];return e.isFixed?n.fixed&&(i||n.fixedPosition==="right"):i&&(!this._isFixedColumns||!n.fixed)},_renderGroupSummaryCellsCore(t,e,i,n){var r;if(this._isFixedTableRendering){e.isFixed=!0,r=this._getAlignByColumnCellCount(i,e),e.isFixed=!1;var o=e.columns.length-r;e=y({},e,{columns:this.getFixedColumns()});var s=Ld(e.columns);o<s?(r-=e.columns[s].colspan-1||0,i-=e.columns[s].colspan-1||0):n>0&&t.css("visibility","hidden"),n=r}this.callBase(t,e,i,n)},_getSummaryCellIndex(t,e){if(this._isFixedTableRendering){var i=Ld(e);return t>i&&(t+=e[i].colspan-1),t}return this.callBase.apply(this,arguments)},_renderCore(t){this._detachHoverEvents();var e=this.callBase(t),i=this._isFixedColumns;return this.element().toggleClass(QVe,i),this.option("hoverStateEnabled")&&i&&this._attachHoverEvents(),e},setAriaOwns(t,e,i){var n,r;if(i){var o=this.addWidgetPrefix(GC),s=(n=this.element())===null||n===void 0?void 0:n.children(".".concat(o)),a=this.getFixedTableElement();s.length&&a?.length&&this.setAria("owns","".concat(t??""," ").concat((r=a.attr("id"))!==null&&r!==void 0?r:""," ").concat(e??"").trim(),s)}else this.callBase.apply(this,arguments)},setRowsOpacity(t,e){this.callBase(t,e);var i=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(i,this.getFixedColumns(),t,e)},optionChanged(t){this.callBase(t),t.name==="hoverStateEnabled"&&this._isFixedColumns&&(t.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex(t){var e=this._fixedTableElement,i=0;if(e&&t.is("td")&&t.closest(e).length){var n=this.getFixedColumns();return F(n,(r,o)=>{if(r===t[0].cellIndex)return!1;if(o.colspan){i+=o.colspan;return}i++}),i}return this.callBase.apply(this,arguments)},_updateFixedTablePosition(t,e){if(this._fixedTableElement&&this._tableElement){var i,n=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(t),e&&n&&(i=n.focus(),i&&n.focus(i))}},setScrollerSpacing(t,e){var i={marginBottom:0},n=this.element().children(".".concat(this.addWidgetPrefix(GC)));if(n.length&&this._fixedTableElement){n.css(i),this._fixedTableElement.css(i),i[this.option("rtlEnabled")?"marginLeft":"marginRight"]=t,i.marginBottom=e;var r=this._scrollable&&this._scrollable.option("useNative");(r?n:this._fixedTableElement).css(i)}},_getElasticScrollTop(t){var e=0;if(t.scrollOffset.top<0)e=-t.scrollOffset.top;else if(t.reachedBottom){var i=g(t.component.content()),n=g(t.component.container()),r=Math.max(i.get(0).clientHeight-n.get(0).clientHeight,0);e=Math.min(r-t.scrollOffset.top,0)}return Math.floor(e)},_applyElasticScrolling(t){if(this._fixedTableElement){var e=this._getElasticScrollTop(t);Math.ceil(e)!==0?Vt(this._fixedTableElement,{top:e}):this._fixedTableElement.css("transform","")}},_handleScroll(t){this._updateFixedTablePosition(t.scrollOffset.top,!0),this._applyElasticScrolling(t),this.callBase(t)},_updateContentPosition(t){this.callBase.apply(this,arguments),t||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared(t){this._isFixedTableRendering||this.callBase(t)},_scrollToElement(t){this.callBase(t,this.getFixedColumnsOffset())},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),iHe=U1,vie={defaultOptions:()=>({columnFixing:{enabled:!1,texts:{fix:j.format("dxDataGrid-columnFixingFix"),unfix:j.format("dxDataGrid-columnFixingUnfix"),leftPosition:j.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:j.format("dxDataGrid-columnFixingRightPosition")}}}),extenders:{views:{columnHeadersView:eHe,rowsView:tHe,footerView:iHe},controllers:{draggingHeader:{_generatePointsByColumns(t){var e=t.columns,{targetDraggingPanel:i}=t;if(i&&i.getName()==="headers"&&i.isFixedColumns()&&t.sourceColumn.fixed){t.rowIndex||(t.columnElements=i.getFixedColumnElements(0)),t.columns=i.getFixedColumns(t.rowIndex);var n=this.callBase(t);return function(r,o,s){var a=Ld(o),l=r.length-o.length;return F(s,(d,u)=>{u.index>a&&(u.columnIndex+=l,u.index+=l)}),s}(e,t.columns,n),n}return this.callBase(t)},_pointCreated(t,e,i,n){var r=this.callBase.apply(this,arguments),o=e[t.columnIndex],s=this._columnHeadersView.getTransparentColumnElement();if(!r&&i==="headers"&&s&&s.length){var a=Jt(s.get(0));return n&&n.fixed?n.fixedPosition==="right"?t.x<a.right:t.x>a.left:o&&o.fixed&&o.fixedPosition!=="right"?!0:t.x<a.left||t.x>a.right}return r}},columnsResizer:{_generatePointsByColumns(){var t=this,e=t._columnsController,i=e&&t._columnsController.getVisibleColumns(),n=e&&t._columnsController.getFixedColumns(),r=Ld(n),o=i.length-n.length,s=t._columnHeadersView.getFixedColumnElements();t.callBase(),s&&s.length>0&&(t._pointsByFixedColumns=he.getPointsByColumns(s,a=>(a.index>r&&(a.columnIndex+=o,a.index+=o),t._pointCreated(a,i.length,i))))},_getTargetPoint(t,e,i){var n=this._columnHeadersView.getTransparentColumnElement();if(n&&n.length){var r=Jt(n.get(0));if(e<=r.left||e>=r.right)return this.callBase(this._pointsByFixedColumns,e,i)}return this.callBase(t,e,i)}},resizing:{_setAriaOwns(){var t,e,i;this.callBase.apply(this,arguments);var n=(t=this._columnHeadersView)===null||t===void 0?void 0:t.getFixedTableElement(),r=(e=this._footerView)===null||e===void 0?void 0:e.getFixedTableElement();(i=this._rowsView)===null||i===void 0||i.setAriaOwns(n?.attr("id"),r?.attr("id"),!0)}}}}};Ie.registerModule("columnFixing",vie);var Cie="columnHeadersView",xie="rowsView",nHe="footerView",K1=[Cie,xie,nHe],rHe="dxDataGridAdaptivity",Bd="adaptiveHidden",ep="detailAdaptive",Q1="dx-field-item-content",oHe="dx-item-modified",UC="hidden-column",sHe="adaptive-more",yie="dx-command-adaptive",qE="dx-command-adaptive-hidden",aHe="dx-adaptive-detail-row",q1="dx-adaptive-item-text",lHe="dx-master-detail-cell",dHe="dx-last-data-cell",UE="adaptive",uHe="batch",J1="row",cHe="form",hHe="popup",pHe="revert-tooltip",_ie="dx-group-cell",fHe="dx-group-row",bie="dxDataGrid-ariaAdaptiveExpand",gHe="dxDataGrid-ariaAdaptiveCollapse",mHe="scrolling.legacyMode";function KE(t,e){return t._columnsController.getColumnId(e)}function vHe(t){return t.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function _He(t,e){var i,n=g(t),r=e.component.getController("adaptiveColumns");e.rowType==="data"?(i=g("<span>").addClass(r.addWidgetPrefix(sHe)),S.on(i,ne(lt,rHe),r.createAction(()=>{r.toggleExpandAdaptiveDetailRow(e.key)})),i.appendTo(n)):he.setEmptyText(n)}function Y1(t){var e,i=(e=t.data)===null||e===void 0?void 0:e.$nextCell;S.off(i,"focus",Y1),S.trigger(i,"dxclick")}var X1=class extends Mt.ViewController{_isRowEditMode(){var e=this._getEditMode();return e===J1}_isItemModified(e,i){var n=this._columnsController.getVisibleIndex(e.column.index),r=this._dataController.getRowIndexByKey(i.key),o=this._dataController.items()[r+1];return o&&o.modifiedValues&&O(o.modifiedValues[n])}_renderFormViewTemplate(e,i,n){var r=this,{column:o}=e,s=r.createAction(()=>{r._editingController.isEditing()&&S.trigger(n,lt)}),a=i.row.data,l=o.calculateCellValue(a),d=he.getDisplayValue(o,l,a,i.rowType),u=he.formatValue(d,o),h=this._editingController.isCellOrBatchEditMode(),p=r._rowsView;if(o.allowEditing&&r.getController("keyboardNavigation").isKeyboardEnabled()&&(n.attr("tabIndex",r.option("tabIndex")),h&&(S.off(n,"focus",s),S.on(n,"focus",s))),o.cellTemplate){var m=y({},i,{value:l,displayValue:d,text:u,column:o});p.renderTemplate(n,o.cellTemplate,m,Ou(n)).done(()=>{p._cellPrepared(n,i)})}else{var c=n.get(0);o.encodeHtml?c.textContent=u:c.innerHTML=u,n.addClass(q1),(!O(u)||u==="")&&n.html("&nbsp;"),r._isRowEditMode()||r._isItemModified(e,i)&&n.addClass(oHe),p._cellPrepared(n,i)}}_getTemplate(e,i,n){var r=this,{column:o}=e,s=this.getController("editing");return function(a,l){var d=g(l),u=r._columnsController.getVisibleIndex(o.index),h=y({},i),p=function(){var c=r._isItemEdited(e);h.value=i.row.values[u],c||o.showEditorAlways?s.renderFormEditorTemplate(h,e,a,d,!c):(h.column=o,h.columnIndex=u,r._renderFormViewTemplate(e,h,d))};if(p(),h.watch){var m=h.watch(()=>({isItemEdited:r._isItemEdited(e),value:i.row.values[u]}),()=>{d.contents().remove(),d.removeClass(q1),p()});S.on(d,xn,m)}}}_isVisibleColumnsValid(e){return!(e<2||e.length-function(){for(var i=0,n=0;n<e.length;n++){var r=e[n];r.command&&i++}return i}()<=1)}_calculatePercentWidths(e,i){var n=this,r=0;return i.forEach((o,s)=>{e[s]!==Bd&&(r+=n._getItemPercentWidth(o))}),r}_isPercentWidth(e){return Se(e)&&e.endsWith("%")}_isColumnHidden(e){return this._hiddenColumns.filter(i=>i.index===e.index).length>0}_getAverageColumnsWidth(e,i,n){var r=this,o=0,s=0;return i.forEach(a=>{if(!r._isColumnHidden(a)){var{width:l}=a;O(l)&&!isNaN(parseFloat(l))?o+=r._isPercentWidth(l)?r._calculatePercentWidth({visibleIndex:a.visibleIndex,columnsCount:i.length,columnsCanFit:n,bestFitWidth:a.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):s++}}),(e-o)/s}_calculateColumnWidth(e,i,n,r){var o=KE(this,e),s=this._columnsController.columnOption(o,"width"),a=this._columnsController.columnOption(o,"bestFitWidth"),l=n.length,d;if(s&&s!=="auto")if(this._isPercentWidth(s))d=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:l,columnsCanFit:r,bestFitWidth:a,columnWidth:s,containerWidth:i});else return parseFloat(s);else{var u=this.option("columnAutoWidth");d=u||e.command?a:this._getAverageColumnsWidth(i,n,r)}return d}_calculatePercentWidth(e){var i=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,r=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return i?e.containerWidth*parseFloat(e.columnWidth)/100:r}_getNotTruncatedColumnWidth(e,i,n,r){var o=KE(this,e),s=this._columnsController.columnOption(o,"width"),a=this._columnsController.columnOption(o,"bestFitWidth");if(s&&s!=="auto"&&!this._isPercentWidth(s))return parseFloat(s);var l=this._calculateColumnWidth(e,i,n,r);return l<a?null:l}_getItemPercentWidth(e){var i=0;return e.width&&this._isPercentWidth(e.width)&&(i=parseFloat(e.width)),i}_getCommandColumnsWidth(){var e=this,i=e._columnsController.getVisibleColumns(),n=0;return F(i,(r,o)=>{(o.index<0||o.command)&&(n+=e._columnsController.columnOption(KE(e,o),"bestFitWidth")||0)}),n}_isItemEdited(e){if(this.isFormOrPopupEditMode())return!1;if(this._isRowEditMode()){var i=this.option("editing.editRowKey");if(Rt(i,this._dataController.adaptiveExpandedKey()))return!0}else{var n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,r=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(n,r)}}_getFormItemsByHiddenColumns(e){var i=[];return F(e,(n,r)=>{i.push({column:r,name:r.name,dataField:r.dataField,visibleIndex:r.visibleIndex})}),i}_getAdaptiveColumnVisibleIndex(e){for(var i=0;i<e.length;i++){var n=e[i];if(n.command===UE)return i}}_hideAdaptiveColumn(e,i){var n=this._getAdaptiveColumnVisibleIndex(i);O(n)&&(e[n]=Bd,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))}_showHiddenCellsInView(e){var{$cells:i,isCommandColumn:n}=e,r=this.addWidgetPrefix(UC);n?(r=qE,i.attr({tabIndex:0,"aria-hidden":null}).removeClass(r)):i.removeClass(r)}_showHiddenColumns(){for(var e=0;e<K1.length;e++){var i=this.getView(K1[e]);if(i&&i.isVisible()&&i.element()){var n=i.name,r=i.element().find(".".concat(qE));this._showHiddenCellsInView({viewName:n,$cells:r,isCommandColumn:!0});var o=i.element().find(".".concat(this.addWidgetPrefix(UC)));this._showHiddenCellsInView({viewName:n,$cells:o})}}}_isCellValid(e){return e&&e.length&&!e.hasClass(lHe)&&!e.hasClass(_ie)}_hideVisibleColumn(e){var{isCommandColumn:i,visibleIndex:n}=e,r=this;K1.forEach(o=>{var s=r.getView(o);s&&r._hideVisibleColumnInView({view:s,isCommandColumn:i,visibleIndex:n})})}_hideVisibleColumnInView(e){var{view:i,isCommandColumn:n,visibleIndex:r}=e,o=i.name,s,a=this._columnsController.getVisibleColumns()[r],l=this._editingController&&this._editingController.getEditFormRowIndex();if(i&&i.isVisible()&&a)for(var d=i.getRowsCount(),u=i._getRowElements(),h=0;h<d;h++){var p=h===l&&o===xie&&this.option("editing.mode")!=="popup";if(!p){var m=o===Cie?this._columnsController.getVisibleIndex(a.index,h):r;if(m>=0){var c=u.eq(h);s=this._findCellElementInRow(c,m),this._isCellValid(s)&&this._hideVisibleCellInView({viewName:o,isCommandColumn:n,$cell:s})}}}}_findCellElementInRow(e,i){var n=e.children(),r=i,o=!1;if(e.hasClass(fHe)){var s=e.find(".".concat(_ie)),a=s.attr("colspan");if(s.length&&O(a)){var l=parseInt(a),d=s.index()+l-1;i>d?r=i-l+1:o=!0}}var u=o?void 0:n.eq(r);return u}_hideVisibleCellInView(e){var{$cell:i,isCommandColumn:n}=e,r=n?qE:this.addWidgetPrefix(UC);i.attr({tabIndex:-1,"aria-hidden":!0}).addClass(r)}_getEditMode(){return this._editingController.getEditMode()}isFormOrPopupEditMode(){var e=this._getEditMode();return e===cHe||e===hHe}hideRedundantColumns(e,i,n){if(this._hiddenColumns=[],this._isVisibleColumnsValid(i)&&n.length){var r=0,o=this.component.$element(),s=Ae(o)-this._getCommandColumnsWidth(),a=(function(){return i.filter(Oe=>!Oe.command&&this._hiddenColumns.filter(fe=>fe.index===Oe.index).length===0)}).bind(this),l=a(),d=l.length,u,h,p;do{p=!1,r=0;var m=this._calculatePercentWidths(e,i),c=m<100&&m!==0;for(u=0;u<i.length;u++){var x=i[u],D=this._getNotTruncatedColumnWidth(x,s,l,c),T=KE(this,x),N=this._columnsController.columnOption(T,"width"),G=this._columnsController.columnOption(T,"minWidth"),U=this._columnsController.columnOption(T,"bestFitWidth");if(e[u]===Bd){h=!0;continue}if(!D&&!x.command&&!x.fixed){p=!0;break}(!N||N==="auto")&&(D=Math.max(U||0,G||0)),(x.command!==UE||h)&&(r+=D)}if(p=p||r>Ae(o),p){var re=n.pop(),_=this._columnsController.getVisibleIndex(re.index);s+=this._calculateColumnWidth(re,s,l,c),this._hideVisibleColumn({visibleIndex:_}),e[_]=Bd,this._hiddenColumns.push(re),l=a()}}while(p&&l.length>1&&n.length);d===l.length&&this._hideAdaptiveColumn(e,i)}else this._hideAdaptiveColumn(e,i)}getAdaptiveDetailItems(){return this._$itemContents}getItemContentByColumnIndex(e){for(var i,n=0;n<this._$itemContents.length;n++){i=this._$itemContents.eq(n);var r=i.data("dx-form-item");if(r&&r.column&&this._columnsController.getVisibleIndex(r.column.index)===e)return i}}toggleExpandAdaptiveDetailRow(e,i){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,i)}createFormByHiddenColumns(e,i){var n=this,r=g(e),o={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-".concat(new kt)},s=mi()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:o}),n._$itemContents=null,n._form=n._createComponent(g("<div>").appendTo(r),Kg,y(s,o,{customizeItem(a){var l=a.column||n._columnsController.columnOption(a.name||a.dataField);l&&(a.label=a.label||{},a.label.text=a.label.text||l.caption,a.column=l,a.template=n._getTemplate(a,i,n.updateForm.bind(n))),o.customizeItem&&o.customizeItem.call(this,a)},onContentReady(a){o.onContentReady&&o.onContentReady.call(this,a),n._$itemContents=r.find(".".concat(Q1))}}))}hasAdaptiveDetailRowExpanded(){return O(this._dataController.adaptiveExpandedKey())}updateForm(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&O(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())}updateHidingQueue(e){var i=e.filter(s=>s.visible&&!s.type&&!s.fixed&&!(O(s.groupIndex)&&s.groupIndex>=0)),n,r;if(this._hidingColumnsQueue=[],this.option("allowColumnResizing")&&this.option("columnResizingMode")==="widget")return this._hidingColumnsQueue;for(r=0;r<i.length;r++)O(i[r].hidingPriority)&&i[r].hidingPriority>=0&&(n=!0,this._hidingColumnsQueue[i[r].hidingPriority]=i[r]);if(n)this._hidingColumnsQueue.reverse();else if(this.option("columnHidingEnabled"))for(r=0;r<i.length;r++){var o=this._columnsController.getVisibleIndex(i[r].index);this._hidingColumnsQueue[o]=i[r]}return this._hidingColumnsQueue=this._hidingColumnsQueue.filter(Object),this._hidingColumnsQueue}getHiddenColumns(){return this._hiddenColumns}hasHiddenColumns(){return this._hiddenColumns.length>0}getHidingColumnsQueue(){return this._hidingColumnsQueue}init(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:UE,command:UE,visible:!0,adaptiveHidden:!0,cssClass:yie,alignment:"center",width:"auto",cellTemplate:_He,fixedPosition:"right"}),e._columnsController.columnsChanged.add(()=>{var i=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!i,!0)}),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),super.init()}optionChanged(e){e.name==="columnHidingEnabled"&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),super.optionChanged(e)}publicMethods(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]}isAdaptiveDetailRowExpanded(e){var i=this._dataController;return i.adaptiveExpandedKey()&&Rt(i.adaptiveExpandedKey(),e)}expandAdaptiveDetailRow(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)}collapseAdaptiveDetailRow(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}updateCommandAdaptiveAriaLabel(e,i){var n=this._dataController.getRowIndexByKey(e);if(n!==-1){var r=g(this.component.getRowElement(n));this.setCommandAdaptiveAriaLabel(r,i)}}setCommandAdaptiveAriaLabel(e,i){var n=e.find(".dx-command-adaptive");n.attr("aria-label",j.format(i))}},CHe=t=>class extends t{_isCellValid(e,i){return super._isCellValid(e,i)&&!e.hasClass(this.addWidgetPrefix(UC))&&!e.hasClass(qE)}_processNextCellInMasterDetail(e,i){super._processNextCellInMasterDetail(e,i);var n=this._editingController.isCellOrBatchEditMode(),r=this._editingController.isEditing();r&&e&&n&&!this._isInsideEditForm(e)&&(S.off(e,"focus",Y1),S.on(e,"focus",{$nextCell:e},Y1),S.trigger(i,"focus"))}_isCellElement(e){return super._isCellElement(e)||e.hasClass(q1)}init(){super.init(),this._adaptiveController=this.getController("adaptiveColumns")}},xHe=t=>class extends t{_getCellTemplate(e){var i=this,{column:n}=e;return e.rowType===ep&&n.command==="detail"?function(r,o){i._adaptiveColumnsController.createFormByHiddenColumns(g(r),o)}:super._getCellTemplate(e)}_createRow(e){var i=super._createRow.apply(this,arguments);return e&&e.rowType===ep&&e.key===this._dataController.adaptiveExpandedKey()&&i.addClass(aHe),i}_renderCells(e,i){super._renderCells(e,i);var n=this._adaptiveColumnsController,r=n.getHidingColumnsQueue().length,o=n.getHiddenColumns().length;r&&!o&&vHe(e).last().addClass(dHe),i.row.rowType==="data"&&n.setCommandAdaptiveAriaLabel(e,bie)}_getColumnIndexByElementCore(e){var i=e.closest(".".concat(Q1));if(i.length&&i.closest(this.component.$element()).length){var n=i.length?i.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return super._getColumnIndexByElementCore(e)}_cellPrepared(e,i){super._cellPrepared.apply(this,arguments),i.row.rowType!==ep&&i.column.visibleWidth===Bd&&e.addClass(this.addWidgetPrefix(UC))}getCell(e,i){var n=this._dataController.items()[e?.rowIndex];if(n?.rowType===ep){var r=this._adaptiveColumnsController.getAdaptiveDetailItems();return super.getCell(e,i,r)}return super.getCell.apply(this,arguments)}_getCellElement(e,i){var n=this._dataController.items()[e];return n&&n.rowType===ep?this._adaptiveColumnsController.getItemContentByColumnIndex(i):super._getCellElement.apply(this,arguments)}getContextMenuItems(e){var i;if(e.row&&e.row.rowType==="detailAdaptive"){var n=this.component.getView("columnHeadersView"),r=g(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=r?r.column:e.column,n.getContextMenuItems&&n.getContextMenuItems(e)}return(i=super.getContextMenuItems)===null||i===void 0?void 0:i.call(this,e)}isClickableElement(e){var i,n,r=(n=(i=super.isClickableElement)===null||i===void 0?void 0:i.call(this,e))!==null&&n!==void 0?n:!1;return r||!!e.closest(".".concat(yie)).length}init(){super.init(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}},yHe=t=>class extends t{_updateColumnWidth(e,i){super._updateColumnWidth(e,e.visibleWidth===Bd?e.bestFitWidth:i)}},bHe=t=>class extends t{_pointCreated(e,i,n){var r=super._pointCreated(e,i,n),o=n[e.columnIndex]||{},s=this._getNextColumnIndex(e.columnIndex),a=n[s]||{},l=s!==e.columnIndex+1&&a.command,d=o.visibleWidth===Bd||l;return r||d}_getNextColumnIndex(e){for(var i=this._columnsController.getVisibleColumns(),n=super._getNextColumnIndex(e);i[n]&&i[n].visibleWidth===Bd;)n++;return n}},DHe=t=>class extends t{_pointCreated(e,i,n,r){var o=super._pointCreated(e,i,n,r),s=i[e.columnIndex-1]||{},a=s.visibleWidth===Bd;return o||a}},OHe=t=>class extends t{_isRowEditMode(){return this.getEditMode()===J1}_getFormEditItemTemplate(e,i){return this.getEditMode()!==J1&&e.rowType==="detailAdaptive"?(e.columnIndex=this._columnsController.getVisibleIndex(i.index),this.getColumnTemplate(e)):super._getFormEditItemTemplate(e,i)}_closeEditItem(e){var i=e.closest(".".concat(Q1)),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,r=i.length?i.first().data("dx-form-item"):null,o=r&&r.column&&this._columnsController.getVisibleIndex(r.column.index);this.isEditCell(n,o)||super._closeEditItem(e)}_beforeUpdateItems(e,i){if(!this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.hasHiddenColumns()){var n=this._dataController.items(),r=n[i],o=he.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),o>=0&&e.push(o+1),e.push(i+1),this._dataController.adaptiveExpandedKey(r.key)}}_afterInsertRow(e){super._afterInsertRow.apply(this,arguments),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)}_collapseAdaptiveDetailRow(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)}_cancelEditAdaptiveDetailRow(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()}_afterSaveEditData(){super._afterSaveEditData.apply(this,arguments);var e=new H;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?ye(this.getController("validating").validate(!0)).done(i=>{i&&this._cancelEditAdaptiveDetailRow(),e.resolve()}):e.resolve(),e.promise()}_beforeCancelEditData(){super._beforeCancelEditData(),this._cancelEditAdaptiveDetailRow()}_getRowIndicesForCascadeUpdating(e){var i=super._getRowIndicesForCascadeUpdating.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&i.push(e.rowType===ep?e.rowIndex-1:e.rowIndex+1),i}_beforeCloseEditCellInBatchMode(e){var i=this._dataController._adaptiveExpandedKey;if(i){var n=he.getIndexByKey(i,this._dataController.items());n>-1&&e.unshift(n)}}editRow(e){return this._adaptiveController.isFormOrPopupEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),super.editRow(e)}deleteRow(e){var i=this._dataController.getKeyByRowIndex(e);this.getEditMode()===uHe&&this._adaptiveController.isAdaptiveDetailRowExpanded(i)&&this._adaptiveController.collapseAdaptiveDetailRow(),super.deleteRow(e)}init(){super.init(),this._adaptiveController=this.getController("adaptiveColumns")}},EHe=t=>class extends t{_processItems(e,i){var{changeType:n}=i;if(e=super._processItems.apply(this,arguments),n==="loadingAll"||!O(this._adaptiveExpandedKey))return e;var r=he.getIndexByKey(this._adaptiveExpandedKey,e),o=this.option(mHe)===!1;if(r>=0){var s=e[r];e.splice(r+1,0,{visible:!0,rowType:ep,key:s.key,data:s.data,node:s.node,modifiedValues:s.modifiedValues,isNewRow:s.isNewRow,values:s.values})}else n==="refresh"&&!(o&&i.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return e}_getRowIndicesForExpand(e){var i=super._getRowIndicesForExpand.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)){var n=i[i.length-1];i.push(n+1)}return i}adaptiveExpandedKey(e){if(O(e))this._adaptiveExpandedKey=e;else return this._adaptiveExpandedKey}toggleExpandAdaptiveDetailRow(e,i){var n=he.getIndexByKey(this._adaptiveExpandedKey,this._items),r=he.getIndexByKey(e,this._items);n>=0&&n===r&&!i&&(e=void 0,r=-1);var o=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,n>=0&&n++,r>=0&&r++;var s=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[n-s,r-s]});var a=this.getController("adaptiveColumns");a.updateCommandAdaptiveAriaLabel(e,gHe),a.updateCommandAdaptiveAriaLabel(o,bie)}init(){super.init(),this._adaptiveExpandedKey=void 0}},SHe=t=>class extends t{_needHideBorder(e){return super._needHideBorder(e)||e?.hasClass("dx-field-item-content")&&e?.find(".dx-checkbox").length}_getFocusCellSelector(){return"".concat(super._getFocusCellSelector(),", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content")}_getRevertTooltipsSelector(){return"".concat(super._getRevertTooltipsSelector(),", .dx-field-item-content .").concat(this.addWidgetPrefix(pHe))}},wHe=t=>class extends t{_isColumnVisible(e){return super._isColumnVisible(e)&&!e.adaptiveHidden}},Die={defaultOptions:()=>({columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}),controllers:{adaptiveColumns:X1},extenders:{views:{rowsView:xHe},controllers:{export:yHe,columnsResizer:bHe,draggingHeader:DHe,editing:OHe,resizing:{_needBestFit(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_correctColumnWidths(t,e){var i=this._adaptiveColumnsController,n=i.getHiddenColumns(),r=i.updateHidingQueue(this._columnsController.getColumns());i.hideRedundantColumns(t,e,r);var o=i.getHiddenColumns();return i.hasAdaptiveDetailRowExpanded()&&n.length!==o.length&&i.updateForm(o),!o.length&&i.collapseAdaptiveDetailRow(),this.callBase.apply(this,arguments)},_toggleBestFitMode(t){t&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(t)},_needStretch(){var t=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||t.getHidingColumnsQueue().length||t.hasHiddenColumns()},init(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:EHe,editorFactory:SHe,columns:wHe,keyboardNavigation:CHe}}};Ie.registerModule("adaptivity",Die);function Oie(t,e,i,n,r,o){i=i||0,n=n||[],o=o||[],n[i]=n[i]||0;var s=t[i],a=o[i]+1||0,l=0,d;if(s){for(d=a;d<s.length;d++){var u=s[d],h=d+n[i],p=u.colspan||1;if(Oie(t,e,i+(u.rowspan||1),n,p,o),n[i]+=p-1,l+=p,u.rowspan)for(var m=i+1;m<i+u.rowspan;m++)n[m]=n[m]||0,n[m]+=u.colspan||1;if(e(u,h,i,d)===!1||r!==void 0&&l>=r)break}o[i]=d}}function JE(t,e,i){var n=[];Oie(t,(o,s,a)=>{var l=o,d,u=l.colspan||1,h=s+u-1>=e&&s<i;if(n[a]=n[a]||[],h)s<e?(d=u-(e-s),s=e):d=u,s+d>i&&(d=i-s),d!==u&&(l=y({},l,{colspan:d})),n[a].push(l);else if(s>i)return!1});for(var r=0;r<n.length;r++)n[r]=n[r]||[];return n}var IHe=50,THe={_resizeCore(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll(t){var e=this.getScrollable(),{left:i}=t.scrollOffset;this.callBase.apply(this,arguments),this.option("rtlEnabled")&&e&&(i=Ae(e.$content())-Ae(e.$element())-i),this._columnsController.setScrollPosition(i)},_renderCore(t){var e,i;if(t?.virtualColumnsScrolling){var n=this._findContentElement(),r=(e=this._columnsController)===null||e===void 0?void 0:e.getFixedColumns(),o=(i=this._scrollable)===null||i===void 0?void 0:i.option("useNative");if(r?.length){n.css({minHeight:o?je(n):he.getContentHeightLimit(Nt)});var s=()=>{this.resizeCompleted.remove(s),n.css({minHeight:""})};this.resizeCompleted.add(s)}}return this.callBase.apply(this,arguments)}},MHe={_renderCore(){var t=this.callBase.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),t}},AHe=function(){var t=function(i){return i.map(n=>n.visibleWidth||parseFloat(n.width)||IHe)},e={init(){this.callBase.apply(this,arguments),this._beginPageIndex=null,this._endPageIndex=null,this._position=0,this._virtualVisibleColumns={}},resetColumnsCache(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex(i){for(var n=this.getVisibleColumns(void 0,!0),r=t(n),o=0,s=0;s<r.length;s++){if(o>=i)return Math.floor(s/this.getColumnPageSize());o+=r[s]}return 0},getTotalWidth(){var i=this.option("width");return typeof i=="number"?i:this.getController("resizing")._lastWidth||it(this.component.$element())},getEndPageIndex(i){var n=this.getVisibleColumns(void 0,!0),r=t(n),o=0;i+=this.getTotalWidth();for(var s=0;s<r.length;s++){if(o>=i)return Math.ceil(s/this.getColumnPageSize());o+=r[s]}return Math.ceil(r.length/this.getColumnPageSize())},getColumnPageSize(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged(){var i=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-i},getScrollingTimeout(){var i=this.option("scrolling.columnRenderingThreshold"),n=this.option("scrolling.renderAsync"),r=0;return(!O(n)&&this._renderTime>i||n)&&(r=this.option("scrolling.timeout")),r},setScrollPosition(i){var n=this.getScrollingTimeout();n>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(i)},n)):this._setScrollPositionCore(i)},isVirtualMode(){return Ne()&&this.option("scrolling.columnRenderingMode")==="virtual"},resize(){this._setScrollPositionCore(this._position)},_setScrollPositionCore(i){if(this.isVirtualMode()){var n=this.getBeginPageIndex(i),r=this.getEndPageIndex(i),o=i<this._position?this._beginPageIndex>n:this._endPageIndex<r;this._position=i,o&&(this._beginPageIndex=n,this._endPageIndex=r,this._fireColumnsChanged())}},getFixedColumns(i,n){var r=this.callBase(i);if(this.isVirtualMode()&&!n&&r.length){var o=r.map(s=>s.command).indexOf("transparent");return r[o].colspan=this.getVisibleColumns().length-this.callBase().length+1,r}return r},_compileVisibleColumns(i,n){var r;if(n||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return this.callBase(i);!((r=this._columns)===null||r===void 0)&&r.length&&!O(this._beginPageIndex)&&!O(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var o=this._beginPageIndex,s=this._endPageIndex,a="".concat(i,"-").concat(o,"-").concat(s);if(this._virtualVisibleColumns[a])return this._virtualVisibleColumns[a];var l=this.callBase(),d=this.getRowCount(),u=this.getColumnPageSize(),h=o*u,p=s*u,m=this.getFixedColumns(void 0,!0),c=m.map(we=>we.command).indexOf("transparent"),x=m.length?c:0,D=l.slice(0,x),T=l.slice(x,h),N=t(T).reduce((we,We)=>we+We,0);N||(h=0);var G=m.length?m.length-c-1:0,U=l.slice(l.length-G),re=l.slice(p,l.length-G),_=t(re).reduce((we,We)=>we+We,0);if(_||(p=l.length),d>1&&typeof i=="number"){for(var Oe=[],fe=0;fe<=d;fe++)Oe.push(this.callBase(fe));D=JE(Oe,0,D.length)[i]||[],U=JE(Oe,l.length-U.length,l.length)[i]||[],l=JE(Oe,h,p)[i]||[]}else l=l.slice(h,p);return N&&(l.unshift({command:"virtual",width:N}),l=D.concat(l)),_&&(l.push({command:"virtual",width:_}),l=l.concat(U)),this._virtualVisibleColumns[a]=l,l},getColumnIndexOffset(){var i=0;if(this._beginPageIndex>0){var n=this.getFixedColumns(),r=n.map(s=>s.command).indexOf("transparent"),o=r>=0?r:0;i=this._beginPageIndex*this.getColumnPageSize()-o-1}return i>0?i:0},dispose(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}};return e}(),Eie={defaultOptions:()=>({scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}),extenders:{controllers:{columns:AHe},views:{columnHeadersView:MHe,rowsView:THe}}};Ie.registerModule("virtualColumns",Eie);var Sie="dx-dropdownbutton",RHe="dx-dropdownbutton-content",wie="dx-dropdownbutton-action",Iie="dx-dropdownbutton-toggle",FHe="dx-dropdownbutton-has-arrow",PHe="dx-dropdownbutton-popup-wrapper",kHe="dx-dropdowneditor-overlay",NHe="dx-button",LHe="dx-button-text",BHe="dx-icon-right",VHe=Ci.inherit({_getDefaultOptions(){return y(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:j.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,text:"",type:"normal",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),y(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataSource(),this._compileKeyGetter(),this._compileDisplayGetter(),this._itemsToDataSource(this.option("items")),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initTemplates(){this._templateManager.addDefaultTemplates({content:new Os(t=>{var e=g(t.container),i=g("<div>").appendTo(e);this._list=this._createComponent(i,As,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_itemsToDataSource:function(t){this._dataSource||(this._dataSource=new Lr({store:new cl({key:this._getKey(),data:t}),pageSize:0}))},_getKey:function(){var t,e=this.option("keyExpr"),i=(t=this._dataSource)===null||t===void 0?void 0:t.key();return O(i)&&(!O(e)||e==="this")?i:e},_compileKeyGetter(){this._keyGetter=Tt(this._getKey())},_compileDisplayGetter(){this._displayGetter=Tt(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass(Sie),this._renderButtonGroup(),this._updateArrowClass(),O(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:W,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var t;(t=this._loadSingleDeferred)===null||t===void 0||t.reject();var e=new H;if(this._list&&this._lastSelectedItemData!==void 0){var i=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return e.resolve(i)}this._lastSelectedItemData=void 0;var n=this.option("selectedItemKey");return this._loadSingle(this._getKey(),n).done(e.resolve).fail(()=>{e.resolve(null)}),this._loadSingleDeferred=e,e.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(t){var{previousValue:e,value:i}=t;this._selectionChangedAction({item:i,previousItem:e})},_fireItemClickAction(t){var{event:e,itemElement:i,itemData:n}=t;return this._itemClickAction({event:e,itemElement:i,itemData:this._actionItem||n})},_actionButtonConfig(){var{icon:t,text:e,type:i}=this.option();return{text:e,icon:t,type:i,elementAttr:{class:wie}}},_getButtonGroupItems(){var{splitButton:t,type:e}=this.option(),i=[];return i.push(this._actionButtonConfig()),t&&i.push({icon:"spindown",type:e,elementAttr:{class:Iie}}),i},_buttonGroupItemClick(t){var{event:e,itemData:i}=t,n=i.elementAttr.class===wie,r=i.elementAttr.class===Iie;r?this.toggle():n&&(this._actionClickAction({event:e,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_buttonGroupOptions(){var{splitButton:t,showArrowIcon:e,focusStateEnabled:i,hoverStateEnabled:n,stylingMode:r,accessKey:o,tabIndex:s}=this.option(),a=t||!e?"content":(l,d)=>{var{text:u,icon:h}=l,p=Dr(h),m=u?g("<span>").text(u).addClass(LHe):void 0,c=Dr("spindown").addClass(BHe);g(d).append(p,m,c)};return y({items:this._getButtonGroupItems(),onItemClick:this._buttonGroupItemClick.bind(this),width:"100%",height:"100%",selectionMode:"none",onKeyboardHandled:l=>this._keyboardHandler(l),buttonTemplate:a,focusStateEnabled:i,hoverStateEnabled:n,stylingMode:r,accessKey:o,tabIndex:s},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){var t=this._popup.$content(),e=this._getTemplateByOption("dropDownContentTemplate");return t.empty(),this._popupContentId="dx-"+new kt,this.setAria("id",this._popupContentId,t),e.render({container:Pe(t),model:this.option("items")||this._dataSource})},_popupOptions(){var t=this.option("rtlEnabled")?"right":"left";return y({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:e=>{var i=this.$element(),n=g(e.target).closest(".".concat(Sie));return!n.is(i)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>Eg(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:t+" top",at:t+" bottom"},_wrapperClassExternal:kHe},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){var t=this.option("selectedItemKey"),e=this.option("useSelectMode");return{selectionMode:e?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:O(t)&&e?[t]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._getKey(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataSource,onItemClick:i=>{this.option("useSelectMode")||(this._lastSelectedItemData=i.itemData),this.option("selectedItemKey",this._keyGetter(i.itemData));var n=this._fireItemClickAction(i);n!==!1&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){var t=g("<div>");this.$element().append(t),this._popup=this._createComponent(t,Xn,this._popupOptions()),this._popup.$content().addClass(RHe),this._popup.$wrapper().addClass(PHe),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._updateAriaAttributes(!1)},_popupOptionChanged:function(t){var e=Ci.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);(i.indexOf("width")!==-1||i.indexOf("height")!==-1)&&this._dimensionChanged()},_dimensionChanged:function(){var t=Sg(this.option("dropDownOptions.width"));t===void 0&&this._setPopupOption("width",()=>Eg(this.$element()))},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._updateAriaAttributes(!0)},_setElementAria(t){var e={owns:t?this._popupContentId:void 0};this.setAria(e,this.$element())},_setButtonsAria(t){var e={expanded:t,haspopup:"listbox"},i={};this.option("text")||(i.label="dropdownbutton"),this._getButtons().each((n,r)=>{n===0?this.setAria(te({},i,e),g(r)):this.setAria(e,g(r))})},_updateAriaAttributes(t){this._setElementAria(t),this._setButtonsAria(t)},_getButtons(){return this._buttonGroup.$element().find(".".concat(NHe))},_renderButtonGroup(){var t=this._buttonGroup&&this._buttonGroup.$element()||g("<div>");this._buttonGroup||this.$element().append(t),this._buttonGroup=this._createComponent(t,m7,this._buttonGroupOptions()),this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._updateAriaAttributes(this.option("opened"))},_updateArrowClass(){var t=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass(FHe,t)},toggle(t){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(t)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(t,e){this._list&&this._list.option(t,e)},_getDisplayValue(t){var e=!Ve(t),i=e?t:this._displayGetter(t);return Ve(i)?"":String(Qt(i,""))},_updateActionButton(t){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(t),icon:Ve(t)?t.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",t),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(t))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(t){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&O(t)?[t]:[]);var e=this.option("selectedItem");this._loadSelectedItem().done(i=>{this._updateActionButton(i),this._displayGetter(e)!==this._displayGetter(i)&&this._fireSelectionChangedAction({previousValue:e,value:i})})},_updateButtonGroup(t,e){this._buttonGroup.option(t,e),this._updateAriaAttributes(this.option("opened"))},_actionButtonOptionChanged(t){var{name:e,value:i}=t,n={};n[e]=i,this._updateButtonGroup("items[0]",y({},this._actionButtonConfig(),n)),this._popup&&this._popup.repaint()},_selectModeChanged(t){if(t){this._setListOption("selectionMode","single");var e=this.option("selectedItemKey");this._setListOption("selectedItemKeys",O(e)?[e]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(t){var e=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[t]),O(e)&&this._loadSelectedItem().done(i=>{this._setListOption("selectedItemKeys",[e]),this._setListOption("selectedItem",i)}).fail(i=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataSource:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._dataSource.items();this._dataSource=void 0,this._itemsToDataSource(t),this._updateKeyExpr()},_updateKeyExpr:function(){this._compileKeyGetter(),this._setListOption("keyExpr",this._getKey())},focus:function(){this._buttonGroup.focus()},_optionChanged(t){var e,{name:i,value:n}=t;switch(i){case"useSelectMode":this._selectModeChanged(n);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(i,n),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataSource();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,t);break;case"dropDownOptions":if(t.fullName==="dropDownOptions.visible")break;t.value.visible!==void 0&&delete t.value.visible,this._popupOptionChanged(t),this._innerWidgetOptionChanged(this._popup,t);break;case"opened":this.toggle(n);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(i,n),this._updateButtonGroup(i,n),this.callBase(t);break;case"items":this._updateDataSource(this.option("items")),this._updateItemCollection(i);break;case"dataSource":Array.isArray(n)?this._updateDataSource(this.option("dataSource")):(this._initDataSource(),this._updateKeyExpr()),this._updateItemCollection(i);break;case"icon":case"text":this._actionButtonOptionChanged(t);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(t),(e=this._popup)===null||e===void 0||e.repaint();break;case"stylingMode":this._updateButtonGroup(i,n);break;case"type":this._updateButtonGroup("items",this._getButtonGroupItems());break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(i,n);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(n);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;case"tabIndex":this._updateButtonGroup(i,n);break;default:this.callBase(t)}}}).include($u);Be("dxDropDownButton",VHe);function Tie(t,e){for(var i=u=>u||1,n=[],r=(t[0]||[]).reduce((u,h)=>u+i(h.colspan),0),o=(u=>{var h=0,p=0;return()=>{var m=u[h]||[],c=m[p++];return p>=m.length&&(h++,p=0),c&&(c.colspan=i(c.colspan),c.rowspan=i(c.rowspan)),c}})(t),s=(u,h,p)=>{var m=n[u]=n[u]||[];if(m[h]=p,p.colspan>1||p.rowspan>1){for(var c=(N=>y({},N,e))(p),x=1;x<p.colspan;x++)s(u,h+x,c);for(var D=1;D<p.rowspan;D++)for(var T=0;T<p.colspan;T++)s(u+D,h+T,c)}},a=o(),l=0;a;){for(var d=0;d<r&&a;d++)n[l]&&n[l][d]||(s(l,d,a),d+=a.colspan-1,a=o());l++}return n}var HHe="dx-datagrid-export-menu",Mie="dx-datagrid-export-button",zHe="exportButton",Aie="export",WHe="xlsxfile",jHe="exportselected",$He="pdffile",Z1=class{constructor(e,i,n){this._exportController=e,this._initialColumnWidthsByColumnIndex=i,this._selectedRowsOnly=n}_getGroupValue(e){var{key:i,data:n,rowType:r,groupIndex:o,summaryCells:s}=e,a=this._options.groupColumns[o],l=Ie.getDisplayValue(a,a.deserializeValue?a.deserializeValue(i[o]):i[o],n,r),d="".concat(a.caption,": ").concat(Ie.formatValue(l,a));return s&&s[0]&&s[0].length&&(d+=" ".concat(Ie.getGroupRowSummaryText(s[0],this._options.summaryTexts))),d}_correctCellIndex(e){return e}_initOptions(){var e=this._exportController,i=e._columnsController.getGroupColumns();this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:i,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),rtlEnabled:e.option("rtlEnabled")}}getHeaderStyles(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]}getGroupRowStyle(){return{bold:!0,alignment:Yr(this._options.rtlEnabled)}}getColumnStyles(){var e=[];return this.getColumns().forEach(i=>{e.push({alignment:i.alignment||"left",format:i.format,dataType:i.dataType})}),e}getStyles(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]}_getTotalCellStyleId(e){var i,n=((i=this.getColumns()[e])===null||i===void 0?void 0:i.alignment)||"right";return this.getHeaderStyles().map(r=>r.alignment).indexOf(n)}getStyleId(e,i){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),i)?this._getTotalCellStyleId(i):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:i+this.getHeaderStyles().length}getColumns(e){var{columns:i}=this._options;return e?i:i[i.length-1]}getColumnsWidths(){var e=this.getColumns();return O(e)?e.map(i=>i.width):void 0}getRowsCount(){return this._options.items.length+this.getHeaderRowCount()}getHeaderRowCount(){return this.isHeadersVisible()?this._options.columns.length-1:0}isGroupRow(e){return e<this._options.items.length&&this._options.items[e].rowType==="group"}getGroupLevel(e){var i=this._options.items[e-this.getHeaderRowCount()],n=i&&i.groupIndex;return i&&i.rowType==="totalFooter"?0:O(n)?n:this._options.groupColumns.length}getCellType(e,i){var n=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),i<n.length){var r=this._options.items.length&&this._options.items[e],o=n[i];return r&&r.rowType==="data"&&isFinite(r.values[this._correctCellIndex(i)])&&!O(o.customizeText)?O(o.lookup)?o.lookup.dataType:o.dataType:"string"}}ready(){this._initOptions();var e=this._options;return ye(e.items).done(i=>{e.items=i}).fail(()=>{e.items=[]})}_convertFromGridGroupSummaryItems(e){if(O(e)&&e.length>0)return e.map(i=>({value:i.value,name:i.name}))}getCellData(e,i,n){var r,o,s={cellSourceData:{},value:r},a=this.getColumns(),l=this._correctCellIndex(i);if(e<this.getHeaderRowCount()){var d=this.getColumns(!0)[e];o=d[i],s.cellSourceData.rowType="header",s.cellSourceData.column=o&&o.gridColumn,s.value=o&&o.caption}else{e-=this.getHeaderRowCount();var u=this._options.items.length&&this._options.items[e];if(u){var h=u.values;switch(s.cellSourceData.rowType=u.rowType,s.cellSourceData.column=a[i]&&a[i].gridColumn,u.rowType){case"groupFooter":case"totalFooter":l<h.length&&(r=h[l],O(r)?(s.cellSourceData.value=r.value,s.cellSourceData.totalSummaryItemName=r.name,s.value=Ie.getSummaryText(r,this._options.summaryTexts)):s.cellSourceData.value=void 0);break;case"group":if(s.cellSourceData.groupIndex=u.groupIndex,i<1)s.cellSourceData.column=this._options.groupColumns[u.groupIndex],s.cellSourceData.value=u.key[u.groupIndex],s.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(u.summaryCells[0]),s.value=this._getGroupValue(u);else{var p=u.values[l];if(Array.isArray(p)){s.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(p),r="";for(var m=0;m<p.length;m++)r+=(m>0?n?`
`:` 
 `:"")+Ie.getSummaryText(p[m],this._options.summaryTexts);s.value=r}else s.cellSourceData.value=void 0}break;default:if(o=a[i],o){var c=h[l],x=Ie.getDisplayValue(o,c,u.data,u.rowType);!isFinite(x)||O(o.customizeText)?n&&O(o.customizeText)&&o.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?s.value=x:s.value=Ie.formatValue(x,o):s.value=x,s.cellSourceData.value=c}s.cellSourceData.data=u.data}}}return s}isHeadersVisible(){return this._options.isHeadersVisible}isTotalCell(e,i){var{items:n}=this._options,r=n[e],o=this._correctCellIndex(i),s=r.summaryCells&&r.summaryCells[o]&&r.summaryCells[o].length>0&&r.summaryCells[o][0].alignByColumn;return r&&r.rowType==="groupFooter"||r.rowType==="totalFooter"||s}getCellMerging(e,i){var{columns:n}=this._options,r=n[e]&&n[e][i];return r?{colspan:(r.exportColspan||1)-1,rowspan:(r.rowspan||1)-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:0,y:this.getHeaderRowCount()}}},eV=class extends Ie.ViewController{_getEmptyCell(){return{caption:"",colspan:1,rowspan:1}}_updateColumnWidth(e,i){e.width=i}_getColumns(e){var i=[],n,r,o=this._columnsController,s=o.getRowCount();for(n=0;n<=s;n++){var a=[];r=o.getVisibleColumns(n,!0);var l=void 0;if(n===s)if(this._updateLockCount)l=e;else{var d=this._getColumnWidths(this._headersView,this._rowsView);if(d&&d.length){l={};for(var u=0;u<r.length;u++)l[r[u].index]=d[u]}}for(var h=0;h<r.length;h++){var p=y({},r[h],{dataType:r[h].dataType==="datetime"?"date":r[h].dataType,gridColumn:r[h]});if(this._needColumnExporting(p)){var m=this._calculateExportColspan(p);O(m)&&(p.exportColspan=m),l&&this._updateColumnWidth(p,l[p.index]),a.push(p)}}i.push(a)}return r=i[s],i=Tie(i.slice(0,-1),this._getEmptyCell()),i.push(r),i}_calculateExportColspan(e){if(e.isBand){var i=this._columnsController.getChildrenByBandColumn(e.index,!0);if(O(i))return i.reduce((n,r)=>this._needColumnExporting(r)?n+(this._calculateExportColspan(r)||1):n,0)}}_needColumnExporting(e){return!e.command&&(e.allowExporting||e.allowExporting===void 0)}_getFooterSummaryItems(e,i){var n=[],r=1,o=0;do{for(var s=[],a=0;a<e.length;a++){var l=e[a],d=l.length;r<d&&(r=d),s.push(l[o])}n.push({values:s,rowType:i?"totalFooter":"groupFooter"})}while(o++<r-1);return n}_hasSummaryGroupFooters(){var e=this.option("summary.groupItems");if(O(e)){for(var i=0;i<e.length;i++)if(e[i].showInGroupFooter)return!0}return!1}_getItemsWithSummaryGroupFooters(e){for(var i=[],n=[],r=[],o=0;o<e.length;o++){var s=e[o];s.rowType==="groupFooter"?(r=this._getFooterSummaryItems(s.summaryCells),i=i.concat(n,r),n=[]):n.push(s)}return i.length?i:n}_updateGroupValuesWithSummaryByColumn(e){for(var i=[],n=0;n<e.length;n++){var r=e[n],{summaryCells:o}=r;if(r.rowType==="group"&&o&&o.length>1){for(var s=r.values.length,a=1;a<o.length;a++)for(var l=0;l<o[a].length;l++){var d=o[a][l];d&&d.alignByColumn&&(Array.isArray(i[a-s])||(i[a-s]=[]),i[a-s].push(d))}i.length>0&&(r.values.push(...i),i=[])}}}_processUnExportedItems(e){for(var i=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getGroupColumns(),r,o,s=0;s<e.length;s++){var a=e[s],l=!1;r=[],o=[];for(var d=0;d<i.length;d++){var u=i[d];if(l||(l=["detailExpand","buttons"].includes(u.type)),this._needColumnExporting(u)&&(a.values&&(a.rowType==="group"&&!r.length?r.push(a.key[a.groupIndex]):r.push(a.values[d])),a.summaryCells))if(a.rowType==="group"&&!o.length){var h=d-n.length+a.groupIndex;o.push(a.summaryCells[l?h:h+1])}else o.push(a.summaryCells[d])}r.length&&(a.values=r),o.length&&(a.summaryCells=o)}}_getAllItems(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,r=new H,o=this.getController("data"),s=o.footerItems(),a=s.length&&s[0],l=n.option("summary.totalItems"),d;return ye(e).done(u=>{o.loadAll(u,i).done((h,p)=>{n._updateGroupValuesWithSummaryByColumn(h),n._hasSummaryGroupFooters()&&(h=n._getItemsWithSummaryGroupFooters(h)),d=a&&a.summaryCells,O(p)&&l&&(d=n._getSummaryCells(l,p));var m=a&&n._getFooterSummaryItems(d,!0);m&&(h=h.concat(m)),n._processUnExportedItems(h),r.resolve(h)}).fail(r.reject)}).fail(r.reject),r}_getSummaryCells(e,i){var n=this.getController("data"),r=n._columnsController;return n._calculateSummaryCells(e,i,r.getVisibleColumns(null,!0),(o,s)=>n._isDataColumn(s)?s.index:-1)}_getSelectedItems(){var e=this.getController("selection");return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(e.loadSelectedItemsWithFilter(),!0):this._getAllItems(e.getSelectedRowsData())}_getColumnWidths(e,i){return e&&e.isVisible()?e.getColumnWidths():i.getColumnWidths()}throwWarningIfNoOnExportingEvent(){var e,i,n=(i=(e=this.component).hasActionSubscription)===null||i===void 0?void 0:i.call(e,"onExporting");this.option("export.enabled")&&!n&&Ke.log("W1024")}init(){this.throwWarningIfNoOnExportingEvent(),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})}callbackNames(){return["selectionOnlyChanged"]}getDataProvider(e){var i=this._getColumnWidths(this._headersView,this._rowsView),n;if(i&&i.length){n={};for(var r=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0),o=0;o<r.length;o++)n[r[o].index]=i[o]}return new Z1(this,n,e)}exportTo(e,i){this._selectionOnly=e;var n=this.getAction("onExporting"),r={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!e,format:i,fileName:"DataGrid",cancel:!1};ce(n)&&n(r)}publicMethods(){return["getDataProvider"]}selectionOnly(e){if(O(e))this._isSelectedRows=e,this.selectionOnlyChanged.fire();else return this._isSelectedRows}optionChanged(e){super.optionChanged(e),e.name==="export"&&this.throwWarningIfNoOnExportingEvent()}needLoadItemsOnExportingSelectedItems(){var e;return(e=this.option("loadItemsOnExportingSelectedItems"))!==null&&e!==void 0?e:this.getController("data")._dataSource.remoteOperations().filtering}};Ie.registerModule("export",{defaultOptions:()=>({export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:j.format("dxDataGrid-exportTo"),exportAll:j.format("dxDataGrid-exportAll"),exportSelectedRows:j.format("dxDataGrid-exportSelectedRows")}}}),controllers:{export:eV},extenders:{controllers:{editing:{callbackNames(){var t=this.callBase();return O(t)?t.push("editingButtonsUpdated"):["editingButtonsUpdated"]},_updateEditButtons(){this.callBase(),this.editingButtonsUpdated.fire()}}},views:{headerPanel:{_getToolbarItems(){var t=this.callBase(),e=this._getExportToolbarButton();return e&&(t.push(e),this._correctItemsPosition(t)),t},_getExportToolbarButton(){var t=this._getExportToolbarItems();if(t.length===0)return null;var e=this._needDisableExportButton(),i={name:zHe,location:"after",locateInMenu:"auto",sortIndex:30,options:{items:t},disabled:e};if(t.length===1){var n=te(te({},t[0]),{hint:t[0].text,elementAttr:{class:Mie}});i.widget="dxButton",i.showText="inMenu",i.options=n}else{var r={icon:Aie,displayExpr:"text",items:t,hint:this.option("export.texts.exportTo"),elementAttr:{class:Mie},dropDownOptions:{width:"auto",_wrapperClassExternal:HHe}};i.options=r,i.widget="dxDropDownButton",i.menuItemTemplate=(o,s,a)=>{this._createComponent(g(a),As,{items:t})}}return i},_getExportToolbarItems(){var t,e=this.option("export"),i=this.option("export.texts"),n=(t=this.option("export.formats"))!==null&&t!==void 0?t:[];if(!e.enabled)return[];var r=[];return n.forEach(o=>{var s=o.toUpperCase(),a=Aie,l=jHe;o==="xlsx"&&(s="Excel",a=WHe),o==="pdf"&&(a=$He),r.push({text:yr(i.exportAll,s),icon:a,onClick:()=>{this._exportController.exportTo(!1,o)}}),e.allowExportSelectedData&&r.push({text:yr(i.exportSelectedRows,s),icon:l,onClick:()=>{this._exportController.exportTo(!0,o)}})}),r},_correctItemsPosition(t){t.sort((e,i)=>e.sortIndex-i.sortIndex)},_isExportButtonVisible(){return this.option("export.enabled")},optionChanged(t){this.callBase(t),t.name==="export"&&(t.handled=!0,this._invalidate())},_needDisableExportButton(){var t=!this._columnsController.hasVisibleDataColumns(),e=this._editingController.hasChanges();return t||e},_columnOptionChanged(t){this.callBase(t);var e=Ie.checkChanges(t.optionNames,["groupIndex","visible","all"]);if(e){var i=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",i)}},init(){this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingButtonsUpdated.add(()=>{var t=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",t)})},isVisible(){return this.callBase()||this._isExportButtonVisible()}}}}});var GHe=(t,e,i)=>{var{isRemoteFiltering:n,dateSerializationFormat:r,getSelector:o}=i,{selector:s}=t,a=ce(s)?s:o(s),l=a?a(e):e[s],d=n&&Dn(l)?Gi.serializeDate(l,r):l;return{getter:a,rawValue:l,safeValue:d}},Rie={getSortFilterValue:GHe};var KC="dx-row-focused",UHe=".dx-row.".concat(KC),KHe="table",Fie="dx-cell-focus-disabled",qHe=Mt.ViewController.inherit(function(){var t={init(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged(e){var{name:i,value:n,previousValue:r}=e;switch(i){case"focusedRowIndex":this._focusRowByIndex(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedRowKey":if(Array.isArray(n)&&JSON.stringify(n)===JSON.stringify(r))return;this._focusRowByKey(n),this._keyboardController._fireFocusedRowChanged(),e.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":e.handled=!0;break;default:this.callBase(e)}},isAutoNavigateToFocusedRow(){return this.option("scrolling.mode")!=="infinite"&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex(e,i){this.option("focusedRowEnabled")&&(e=e!==void 0?e:this.option("focusedRowIndex"),e<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,i))},_focusRowByIndexCore(e,i){var n=this.getController("data"),r=n.pageSize(),o=()=>{if(this._isValidFocusedRowIndex(e)){var a=e-n.getRowIndexOffset(!0);if(!i||i.paging&&!i.filtering){var l=n._getLastItemIndex();a=Math.min(a,l)}var d=n.getKeyByRowIndex(a,!0);O(d)&&!this.isRowFocused(d)&&this.option("focusedRowKey",d)}};if(r>=0)if(this._isLocalRowIndex(e))o();else{var s=Math.floor(e/n.pageSize());ye(n.pageIndex(s),n.waitReady()).done(()=>{o()})}},_isLocalRowIndex(e){var i=this.getController("data"),n=this.getController("keyboardNavigation")._isVirtualScrolling();if(n){var r=Math.floor(e/i.pageSize()),o=i.virtualItemsCount(),s=o?o.begin:-1,a=i.getVisibleRows().length+i.getRowIndexOffset(),l=Math.ceil(a/i.pageSize());return s<=e&&l>r}return!0},_setFocusedRowKeyByIndex(e){var i=this.getController("data");if(this._isValidFocusedRowIndex(e)){var n=Math.min(e-i.getRowIndexOffset(),i.items().length-1),r=i.getKeyByRowIndex(n);O(r)&&!this.isRowFocused(r)&&this.option("focusedRowKey",r)}},_focusRowByKey(e){O(e)?this._navigateToRow(e,!0):this._resetFocusedRow()},_resetFocusedRow(){var e=this.option("focusedRowKey"),i=O(e);if(!(!i&&this.option("focusedRowIndex")<0)){var n=this.getController("keyboardNavigation");i&&this.option("focusedRowKey",null),n.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),n._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex(e){var i=this.getController("data"),n=i.getVisibleRows()[e];return!n||n.rowType==="data"||n.rowType==="group"},publicMethods:()=>["navigateToRow","isRowFocused"],navigateToRow(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow(e,i){var n=this,r=n.getController("data"),o=n.isAutoNavigateToFocusedRow(),s=new H;if(e===void 0||!r.dataSource())return s.reject().promise();var a=n.getFocusedRowIndexByKey(e);return!o&&i||a>=0?n._navigateTo(e,s,i):r.getPageIndexByKey(e).done(l=>{if(l<0){s.resolve(-1);return}l===r.pageIndex()?r.reload().done(()=>{n.isRowFocused(e)&&r.getRowIndexByKey(e)>=0?s.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,s,i)}).fail(s.reject):r.pageIndex(l).done(()=>{n._navigateTo(e,s,i)}).fail(s.reject)}).fail(s.reject),s.promise()},_navigateTo(e,i,n){var r=this.getController("data").getRowIndexByKey(e),o=he.isVirtualRowRendering(this),s=this.isAutoNavigateToFocusedRow();s&&o&&r<0?this._navigateToVirtualRow(e,i,n):this._navigateToVisibleRow(e,i,n)},_navigateToVisibleRow(e,i,n){if(n)this._triggerUpdateFocusedRow(e,i);else{var r=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,i).done(()=>{i.resolve(r)})}},_navigateToVirtualRow(e,i,n){var r=this.getController("data"),o=r._rowsScrollController,s=he.getIndexByKey(e,r.items(!0)),a=this.getView("rowsView").getScrollable();if(o&&a&&s>=0){var l=s+r.getRowIndexOffset(!0),d=o.getItemOffset(l),u=()=>{r.totalCount()&&!r.items().length||(this.component.off("contentReady",u),n?this._triggerUpdateFocusedRow(e,i):i.resolve(l))};this.component.on("contentReady",u),this.getView("rowsView").scrollTopPosition(d)}else i.resolve(-1)},_triggerUpdateFocusedRow(e,i){var n=this.getController("data"),r=this.getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(r)){var o;this.option("focusedRowEnabled")?n.updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):o=this.getView("rowsView").scrollToRowElement(e),ye(o).done(()=>{this.getController("keyboardNavigation").setFocusedRowIndex(r),i&&i.resolve(r)})}else i&&i.resolve(-1)},getFocusedRowIndexByKey(e){var i=this.getController("data"),n=i.getRowIndexByKey(e,!0);return n>=0?n+i.getRowIndexOffset(!0):-1},_focusRowByKeyOrIndex(){var e=this.option("focusedRowKey"),i=this.option("focusedRowIndex"),n=this.getController("keyboardNavigation"),r=this.getController("data");if(O(e)){var o=r.getRowIndexByKey(e);o>=0?(n._isVirtualScrolling()&&(i=o+r.getRowIndexOffset()),n.setFocusedRowIndex(i),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done(s=>{i>=0&&s<0?this._focusRowByIndex():i<0&&s>=0&&n.setFocusedRowIndex(s)})}else i>=0&&this.getController("focus")._focusRowByIndex(i)},isRowFocused(e){var i=this.option("focusedRowKey");if(O(i))return Rt(e,this.option("focusedRowKey"))},updateFocusedRow(e){var{focusedRowKey:i}=e,n=this,r=n._dataController.getRowIndexByKey(i),o=n.getView("rowsView"),s,a;F(o.getTableElements(),(l,d)=>{var u=l===0;s=g(d),n._clearPreviousFocusedRow(s,r);var h=n._prepareFocusedRow({changedItem:n._dataController.getVisibleRows()[r],$tableElement:s,focusedRowIndex:r});u&&(a=h)}),a&&o.scrollToElementVertically(a)},_clearPreviousFocusedRow(e,i){var n=e.find(UHe).filter((o,s)=>{var a=g(s).closest(".".concat(this.addWidgetPrefix(KHe)));return e.is(a)});if(n.removeClass(KC).removeClass(Fie).removeAttr("tabindex"),n.children("td").removeAttr("tabindex"),i!==0){var r=g(this.getView("rowsView").getRowElement(0));r.removeClass(Fie).removeAttr("tabIndex")}},_prepareFocusedRow(e){var i,{changedItem:n}=e;if(n&&(n.rowType==="data"||n.rowType==="group")){var{focusedRowIndex:r}=e,{$tableElement:o}=e,s=this.option("tabindex")||0,a=this.getView("rowsView");i=g(a._getRowElements(o).eq(r)),i.addClass(KC).attr("tabindex",s)}return i}};return t}()),tV={defaultOptions:()=>({focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}),controllers:{focus:qHe},extenders:{controllers:{keyboardNavigation:{init(){var t=this.option("focusedRowIndex"),e=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},O(t)&&t>=0&&(this._focusedCellPosition.rowIndex=t),O(e)&&e>=0&&(this._focusedCellPosition.columnIndex=e)},setFocusedRowIndex(t){this.callBase(t),this.option("focusedRowIndex",t)},setFocusedColumnIndex(t){this.callBase(t),this.option("focusedColumnIndex",t)},_escapeKeyHandler(t,e){return e||!this.option("focusedRowEnabled")?this.callBase(t,e):this.isCellFocusType()?(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(t.originalEvent.target),!0),!0):!1},_updateFocusedCellPosition(t,e){var i=this.callBase(t,e);i&&i.columnIndex>=0&&this._fireFocusedCellChanged(t)}},editorFactory:{renderFocusOverlay(t,e){var i=this.getController("keyboardNavigation"),n=this.option("focusedRowEnabled"),r=this.getController("editing"),o;if(!n||!i?.isRowFocusType()||r.isEditing())this.callBase(t,e);else if(n){var s=i._getElementType(t)==="row";s&&!t.hasClass(KC)&&(o=i.getFirstValidCellInRow(t),i.focus(o))}}},columns:{getSortDataSourceParameters(t,e){var i=this.callBase.apply(this,arguments),n=this.getController("data"),r=n._dataSource,o=n.store(),s=o&&o.key(),a=r&&r.remoteOperations()||{},l=Object.keys(a).every(u=>!a[u]);if(s&&(this.option("focusedRowEnabled")&&this.getController("focus").isAutoNavigateToFocusedRow()!==!1||e)){s=Array.isArray(s)?s:[s];var d=s.filter(u=>!this.columnOption(u,"sortOrder"));d.length&&(i=i||[],l?i.push({selector:r.getDataIndexGetter(),desc:!1}):d.forEach(u=>i.push({selector:u,desc:!1})))}return i}},data:{_applyChange(t){if(!(t&&t.changeType==="updateFocusedRow"))return this.callBase.apply(this,arguments)},_fireChanged(t){if(this.callBase(t),this.option("focusedRowEnabled")&&this._dataSource){var e=t.changeType==="update"&&t.repaintChangesOnly,i=e&&t.changeTypes&&t.changeTypes.indexOf("remove")>=0;t.changeType==="refresh"&&t.items.length||i?(this._updatePageIndexes(),this._updateFocusedRow(t)):t.changeType==="append"||t.changeType==="prepend"?this._updatePageIndexes():t.changeType==="update"&&t.repaintChangesOnly&&this._updateFocusedRow(t)}},_updatePageIndexes(){var t=this._lastRenderingPageIndex||0,e=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=e,this._isPagingByRendering=e!==t},isPagingByRendering(){return this._isPagingByRendering},_updateFocusedRow(t){var e=t.operationTypes||{},i=this.getController("focus"),{reload:n,fullReload:r,pageIndex:o,paging:s}=e,a=this.getController("keyboardNavigation"),l=a._isVirtualScrolling(),d=s&&!l,u=this.option("focusedRowKey"),h=i.isAutoNavigateToFocusedRow(),p=n&&o===!1;if(p&&!r&&O(u))i._navigateToRow(u,!0).done(N=>{N<0&&i._focusRowByIndex(void 0,e)});else if(d&&h){var m=this.getRowIndexByKey(u),c=this.option("focusedRowIndex"),x=m>=0,D=c>=0,T=c===m;D&&(T||!x)&&i._focusRowByIndex(c,e)}else d&&!h&&this.getRowIndexByKey(u)<0?this.option("focusedRowIndex",-1):e.fullReload&&i._focusRowByKeyOrIndex()},getPageIndexByKey(t){var e=this,i=new H;return e.getGlobalRowIndexByKey(t).done(n=>{i.resolve(n>=0?Math.floor(n/e.pageSize()):-1)}).fail(i.reject),i.promise()},getGlobalRowIndexByKey(t){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(t):this._calculateGlobalRowIndexByFlatData(t)},_calculateGlobalRowIndexByFlatData(t,e,i){var n=this,r=new H,o=n._dataSource;if(Array.isArray(t)||eQ(t))return r.resolve(-1).promise();var s=n._generateFilterByKey(t);return o.load({filter:n._concatWithCombinedFilter(s),skip:0,take:1}).done(a=>{a.length>0?(s=n._generateOperationFilterByKey(t,a[0],i),o.load({filter:n._concatWithCombinedFilter(s,e),skip:0,take:1,requireTotalCount:!0}).done((l,d)=>{r.resolve(d.totalCount)})):r.resolve(-1)}),r.promise()},_concatWithCombinedFilter(t,e){var i=this.getCombinedFilter();return he.combineFilters([t,i,e])},_generateBooleanFilter(t,e,i){var{desc:n}=i;switch(!0){case(e===!1&&n):return[t,"=",!0];case(e===!1&&!n):return[t,"=",null];case(e===!0&&!n):case(!hu(e)&&n):return[t,"<>",e];default:return}},_generateOperationFilterByKey(t,e,i){var n=this,r=n.option("dateSerializationFormat"),o=n._dataSource.remoteOperations().filtering,s=n._dataSource.remoteOperations().sorting,a=n._generateFilterByKey(t,"<"),l=n._columnsController.getSortDataSourceParameters(!o,!0);if(i){var d=n._columnsController.getGroupDataSourceParameters(!o);d&&(l=l?d.concat(l):d)}return l&&l.slice().reverse().forEach(u=>{var{selector:h,desc:p,compare:m}=u,{getter:c,rawValue:x,safeValue:D}=Rie.getSortFilterValue(u,e,{isRemoteFiltering:o,dateSerializationFormat:r,getSelector:U=>n._columnsController.columnOption(U,"selector")});if(a=[[h,"=",D],"and",a],x===null||hu(x)){var T=n._generateBooleanFilter(h,D,p);T&&(a=[T,"or",a])}else{var N=p?">":"<",G;m&&!s?G=U=>N==="<"?m(x,c(U))>=1:m(x,c(U))<=-1:(G=[h,N,D],p||(G=[G,"or",[h,"=",null]])),a=[G,"or",a]}}),a},_generateFilterByKey(t,e){var i=this._dataSource.key(),n=[];if(e||(e="="),Array.isArray(i))for(var r=0;r<i.length;++r){var o=t[i[r]];o&&(n.length>0&&n.push("and"),n.push([i[r],e,o]))}else n=[i,e,t];return n},_getLastItemIndex(){return this.items(!0).length-1}},editing:{_deleteRowCore(t){var e=this.callBase.apply(this,arguments),i=this.getController("data"),n=i.getKeyByRowIndex(t);e.done(()=>{var r=i.getRowIndexByKey(n),o=i.getVisibleRows();r===-1&&!o.length&&this.getController("focus")._resetFocusedRow()})}}},views:{rowsView:{_createRow(t){var e=this.callBase.apply(this,arguments);return this.option("focusedRowEnabled")&&t&&this.getController("focus").isRowFocused(t.key)&&e.addClass(KC),e},_checkRowKeys(t){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var e=this._dataController.store();e&&!e.key()&&this._dataController.fireError("E1042","Row focusing")}},_update(t){t.changeType==="updateFocusedRow"?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(t):this.callBase(t)},updateFocusElementTabIndex(t,e){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(e):this.callBase(t)},_setFocusedRowElementTabIndex(t){var e=this.option("focusedRowKey"),i=this.option("tabIndex")||0,n=this._dataController,r=this._columnsController,o=n.getRowIndexByKey(e),s=this.option("focusedColumnIndex"),a=this._findRowElementForTabIndex();if(O(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),a.attr("tabIndex",i),o>=0&&!t&&(s<0&&(s=0),o+=n.getRowIndexOffset(),s+=r.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(o,s),this.getController("focus").isAutoNavigateToFocusedRow())){var l=n.dataSource(),d=l&&l.operationTypes();d&&!d.paging&&!n.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex(){var t=this.option("focusedRowKey"),e=this._dataController.getRowIndexByKey(t);return g(this.getRowElement(e>=0?e:0))},scrollToRowElement(t){var e=this.getController("data").getRowIndexByKey(t),i=g(this.getRow(e));return this.scrollToElementVertically(i)},scrollToElementVertically(t){var e=this.getScrollable();if(e&&t.length){var i=e.getScrollElementPosition(t,"vertical");return this.scrollTopPosition(i)}return new H().resolve()},scrollTopPosition(t){var e=new H,i=this.getScrollable();if(i){var n=i.scrollTop(),r=()=>{i.off("scroll",r),e.resolve()};if(t!==n)return i.on("scroll",r),this._dataController.resetFilterApplying(),i.scrollTo({top:t}),e.promise()}return e.resolve()}}}}};var JHe=Number.MAX_SAFE_INTEGER||9007199254740991;Ie.registerModule("focus",y(!0,{},tV,{extenders:{controllers:{data:t=>class extends t.inherit(tV.extenders.controllers.data){changeRowExpand(e,i){if(this.option("focusedRowEnabled")&&Array.isArray(e)&&this.isRowExpanded(e)){var n=this.getController("keyboardNavigation");(!i||!n.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(e)&&this.option("focusedRowKey",e)}return super.changeRowExpand(e,i)}_isFocusedRowInsideGroup(e){var i=this.getController("columns"),n=this.option("focusedRowKey"),r=this.getRowIndexByKey(n),o=r>=0&&this.getVisibleRows()[r],s=i.getGroupDataSourceParameters(!0);if(o)for(var a=0;a<e.length;++a){var l=Tt(s[a]&&s[a].selector);if(l(o.data)!==e[a])return!1}return!0}_getGroupPath(e,i){for(var n=[],r=[e];r&&r[0]&&i;){var o=r[0];o.key!==void 0&&n.push(o.key),r=o.items,i--}return n}_expandGroupByPath(e,i,n){var r=new H;return n++,e.expandRow(i.slice(0,n)).done(()=>{n===i.length?r.resolve():e._expandGroupByPath(e,i,n).done(r.resolve).fail(r.reject)}).fail(r.reject),r.promise()}_calculateGlobalRowIndexByGroupedData(e){var i=this,n=i._dataSource,r=i._generateFilterByKey(e),o=new H,s=Array.isArray(e),a=n.group();return s?o.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:i._concatWithCombinedFilter(r),group:a}).done(l=>{if(!l||l.length===0||!O(l[0].key)||l[0].key===-1)return o.resolve(-1).promise();var d=i._getGroupPath(l[0],a.length);i._expandGroupByPath(i,d,0).done(()=>{i._calculateExpandedRowGlobalIndex(o,e,d,a)}).fail(o.reject)}).fail(o.reject),o.promise()):(i._calculateGlobalRowIndexByFlatData(e,null,!0).done(o.resolve).fail(o.reject),o)}_calculateExpandedRowGlobalIndex(e,i,n,r){var o=yl(n,{group:r}),s=this._dataSource,a=this.option("scrolling.mode"),l=a==="virtual"||a==="infinite",d=s.pageSize(),u;s._grouping._updatePagingOptions({skip:0,take:JHe},(h,p)=>{Rt(h.path,n)&&(u=p)}),this._calculateGlobalRowIndexByFlatData(i,o).done(h=>{var p,m;if(h<0){e.resolve(-1);return}var c=u%d||d;p=c+h-n.length,l?m=0:m=Math.floor(p/(d-n.length))*n.length,p=u+h+m,e.resolve(p)}).fail(e.reject)}}}}}));var Pie={dragCell:"dx-drag-cell"},Vd={cellFocusDisabled:"dx-cell-focus-disabled",handleIcon:"drag-icon",commandDrag:"dx-command-drag",sortableWithoutHandle:"dx-sortable-without-handle",rowsView:"rowsview",dragView:"dragview"};var YHe=t=>(e,i)=>{var n=g(e);if(i.rowType==="data")return n.addClass(Vd.cellFocusDisabled),g("<span>").addClass(t(Vd.handleIcon));he.setEmptyText(n)},kie={createHandleTemplateFunc:YHe};var XHe={init(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering(){var t=this.option("rowDragging");return!!(t&&(t.allowReordering||t.allowDropInsideItem||t.group))},_updateHandleColumn(){var t=this.option("rowDragging"),e=this._allowReordering(),i=this._columnsController,n=e&&t.showDragIcons;i?.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",elementAttr:[{name:Pie.dragCell,value:""}],cssClass:Vd.commandDrag,width:"auto",cellTemplate:this._getHandleTemplate(),visible:n}),i?.columnOption("type:drag","visible",n)},_renderContent(){var t=this.option("rowDragging"),e=this._allowReordering(),i=this.callBase.apply(this,arguments),n=this._isFixedTableRendering,r=n?"_sortableFixed":"_sortable",o=n?"_sortable":"_sortableFixed",s=d=>{var u;(u=this._sortableFixed)===null||u===void 0||u.$element().css("pointerEvents",d?"auto":"")},a=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",l=this.option("dataRowTemplate")?"> table > tbody".concat(a):"> table > tbody > ".concat(a);return(e||this[r])&&i.length&&(this[r]=this._createComponent(i,PD,y({component:this.component,contentTemplate:null,filter:l,cursorOffset:d=>{var{event:u}=d,h=g(this.element()).offset();return{x:u.pageX-h.left}},onDraggableElementShown:d=>{if(!t.dragTemplate){var u=g(d.dragElement),h=u.children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(h)}},dragTemplate:this._getDraggableRowTemplate(),handle:t.showDragIcons&&".".concat(Vd.commandDrag),dropFeedbackMode:"indicate"},t,{onDragStart:d=>{var u,h;(u=this.getController("keyboardNavigation"))===null||u===void 0||u._resetFocusedCell();var p=d.component.getVisibleRows()[d.fromIndex];d.itemData=p&&p.data;var m=p&&p.rowType==="data";d.cancel=!e||!m,(h=t.onDragStart)===null||h===void 0||h.call(t,d)},onDragEnter:()=>{s(!0)},onDragLeave:()=>{s(!1)},onDragEnd:d=>{var u;s(!1),(u=t.onDragEnd)===null||u===void 0||u.call(t,d)},onAdd:d=>{var u;s(!1),(u=t.onAdd)===null||u===void 0||u.call(t,d)},dropFeedbackMode:t.dropFeedbackMode,onOptionChanged:d=>{var u=this._sortableFixed;u&&(d.name==="fromIndex"||d.name==="toIndex")&&this[o].option(d.name,d.value)}})),i.toggleClass("dx-scrollable-container",n),i.toggleClass(Vd.sortableWithoutHandle,e&&!t.showDragIcons)),i},_renderCore(t){this.callBase.apply(this,arguments),t&&t.changeType==="update"&&t.repaintChangesOnly&&he.isVirtualRowRendering(this)&&Kn(()=>{this._updateSortable()})},_updateSortable(){var t=this._dataController.getRowIndexOffset(),e=t-this._previousOffset;[this._sortable,this._sortableFixed].forEach(i=>{var n=i?.option("toIndex");O(n)&&O(this._previousOffset)&&i?.option("toIndex",n-e),i?.option("offset",t),i?.update()}),this._previousOffset=t},_resizeCore(){this.callBase.apply(this,arguments),this._updateSortable()},_getDraggableGridOptions(t){var e=this.option(),i=this.getColumns(),n=g(this.getRowElement(t.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:e.columnFixing,columnAutoWidth:e.columnAutoWidth,showColumnLines:e.showColumnLines,columns:i.map(r=>({width:r.width||r.visibleWidth,fixed:r.fixed,fixedPosition:r.fixedPosition})),onRowPrepared:r=>{var o=r.component.getView("rowsView");g(r.rowElement).replaceWith(n.eq(o._isFixedTableRendering?1:0).clone())}}},_synchronizeScrollLeftPosition(t){var e=t?.getScrollable();e?.scrollTo({x:this._scrollLeft})},_getDraggableRowTemplate(){return t=>{var e=this.component.$element(),i=g("<div>");Ao(i,Ae(e));var n=this._dataController.items(),r=n&&n[t.fromIndex],o=this._getDraggableGridOptions(r);return this._createComponent(i,this.component.NAME,o),i.find(".dx-gridbase-container").children(":not(.".concat(this.addWidgetPrefix(Vd.rowsView),")")).hide(),i.addClass(this.addWidgetPrefix(Vd.dragView)),i}},_getHandleTemplate(){return kie.createHandleTemplateFunc(t=>this.addWidgetPrefix(t))},optionChanged(t){t.name==="rowDragging"&&(this._updateHandleColumn(),this._invalidate(!0,!0),t.handled=!0),this.callBase.apply(this,arguments)}},Nie={defaultOptions:()=>({rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}),extenders:{views:{rowsView:XHe}}};Ie.registerModule("rowDragging",Nie);var iV=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[LP,xd,hd,pd,gd,_d,Cd,Ck,xk,VP,Ik,BP,Co,rk,lk,ZP,XP,_g,fd,$P,NP,QP,gg,Tn,xg,pg,fg,fk,cd,vd,md,bd,yd,vg,GP,KP,HP,zP,qP,tk,UP,JP,YP,ck,nk,ik,sk,ak,dk,hk,pk,gk,mk,mg,vk,_k,Dk,Ok,Ek,wk,ek,Mk,Sk,Tk,$i,Wt],LP,xd,hd,pd,gd,_d,Cd,Ck,xk,VP,Ik,BP,Co,rk,lk,ZP,XP,_g,fd,$P,NP,QP,gg,Tn,xg,pg,fg,fk,cd,vd,md,bd,yd,vg,GP,KP,HP,zP,qP,tk,UP,JP,YP,ck,nk,ik,sk,ak,dk,hk,pk,gk,mk,mg,vk,_k,Dk,Ok,Ek,wk,ek,Mk,Sk,Tk,Wt]}),t})();var zs={moveTo(t){var e=t.$element,i=t.position,n=t.direction||"left",r={},o;switch(n){case"right":r.transform="translate("+i+"px, 0px)",o="custom";break;case"left":r.left=i,o="slide";break;case"top":case"bottom":r.top=i,o="slide"}Et.animate(e,{type:o,to:r,duration:t.duration,complete:t.complete})},margin(t){var e=t.$element,i=t.margin,n=t.direction||"left",r={};r["margin"+ho(n,!0)]=i,Et.animate(e,{to:r,duration:t.duration,complete:t.complete})},fade(t,e,i,n){Et.animate(t,{type:"fade",to:e.to,from:e.from,duration:i,complete:n})},size(t){var e=t.$element,i=t.size,n=t.direction||"left",r=t.marginTop||0,o=t.duration,s={};n==="right"||n==="left"?s.width=i:s.height=i,n==="bottom"&&(s.marginTop=r),Et.animate(e,{to:s,duration:o,complete:t.complete})},complete(t){Et.stop(t,!0)}};var nV=class{constructor(e){this._drawer=e}getDrawerInstance(){return this._drawer}renderPanelContent(e){var i=this.getDrawerInstance(),n=i._getTemplate(i.option("template"));n&&n.render({container:i.content(),onRendered:()=>{e.resolve()}})}renderPosition(e,i){var n=new H,r=new H,o=this.getDrawerInstance();e&&ye.apply(g,[n,r]).done(()=>{o._animationCompleteHandler()}),this._internalRenderPosition(e,n),e||o.resizeViewContent(),this.renderShaderVisibility(e,i,r)}_getPanelOffset(e){var i=this.getDrawerInstance(),n=i.isHorizontalDirection()?i.getRealPanelWidth():i.getRealPanelHeight();return e?-(n-i.getMaxSize()):-(n-i.getMinSize())}_getPanelSize(e){return e?this.getDrawerInstance().getMaxSize():this.getDrawerInstance().getMinSize()}renderShaderVisibility(e,i,n){var r=this.getDrawerInstance(),o=r.option("opened"),s=o?{from:0,to:1}:{from:1,to:0};e?zs.fade(g(r._$shader),s,i,()=>{this._drawer._toggleShaderVisibility(o),n.resolve()}):(r._toggleShaderVisibility(o),r._$shader.css("opacity",s.to))}getPanelContent(){return g(this.getDrawerInstance().content())}setPanelSize(e){this.refreshPanelElementSize(e)}refreshPanelElementSize(e){var i=this.getDrawerInstance(),n=this._getPanelSize(i.option("opened"));i.isHorizontalDirection()?Ao(g(i.content()),e?i.getRealPanelWidth():n):nr(g(i.content()),e?i.getRealPanelHeight():n)}isViewContentFirst(){return!1}onPanelContentRendered(){}},nm=nV;var rV=class extends nm{_internalRenderPosition(e,i){var n=this.getDrawerInstance(),r=this._getPanelSize(!0),o=this._getPanelSize(n.option("opened"))*n._getPositionCorrection();if(g(n.content()).css(n.isHorizontalDirection()?"width":"height",r),n.getMinSize()){var s="padding";switch(n.calcTargetPosition()){case"left":s+="Right";break;case"right":s+="Left";break;case"top":s+="Bottom";break;case"bottom":s+="Top"}g(n.viewContent()).css(s,n.getMinSize())}e?zs.moveTo({$element:g(n.viewContent()),position:o,direction:n.calcTargetPosition(),duration:n.option("animationDuration"),complete:()=>{i.resolve()}}):n.isHorizontalDirection()?Vt(g(n.viewContent()),{left:o}):Vt(g(n.viewContent()),{top:o})}onPanelContentRendered(){g(this.getDrawerInstance().viewContent()).addClass("dx-theme-background-color")}},oV=rV;var sV=class extends nm{_internalRenderPosition(e,i){var n=this.getDrawerInstance(),r=n.calcTargetPosition(),o=g(n.content()),s=this._getPanelSize(n.option("opened")),a=this._getPanelOffset(n.option("opened")),l=n.option("revealMode");e?l==="slide"?zs.margin({complete:()=>{i.resolve()},$element:o,duration:n.option("animationDuration"),direction:r,margin:a}):l==="expand"&&zs.size({complete:()=>{i.resolve()},$element:o,duration:n.option("animationDuration"),direction:r,size:s}):l==="slide"?o.css("margin"+ho(r,!0),a):l==="expand"&&o.css(n.isHorizontalDirection()?"width":"height",s)}isViewContentFirst(e,i){return(i?e==="left":e==="right")||e==="bottom"}},Lie=sV;var aV=class extends nm{renderPanelContent(e){delete this._initialPosition;var i=this.getDrawerInstance(),{opened:n,minSize:r}=i.option();i._overlay=i._createComponent(i.content(),Rn,{shading:!1,container:i.content(),visualContainer:i.getOverlayTarget(),position:this._getOverlayPosition(),width:n?"auto":r||0,height:"100%",templatesRenderAsynchronously:i.option("templatesRenderAsynchronously"),animation:{show:{duration:0}},onPositioned:(function(o){this._fixOverlayPosition(o.component.$content())}).bind(this),contentTemplate:i.option("template"),onContentReady:o=>{e.resolve(),this._processOverlayZIndex(o.component.content())},visible:!0,propagateOutsideClick:!0})}_fixOverlayPosition(e){var i=Qt(this._initialPosition,{left:0,top:0});Vt(e,i),this.getDrawerInstance().calcTargetPosition()==="right"&&e.css("left","auto"),this.getDrawerInstance().calcTargetPosition()==="bottom"&&(e.css("top","auto"),e.css("bottom","0px"))}_getOverlayPosition(){var e=this.getDrawerInstance(),i=e.calcTargetPosition(),n={};switch(i){case"left":n={my:"top left",at:"top left"};break;case"right":n={my:e.option("rtlEnabled")?"top left":"top right",at:"top right"};break;case"top":case"bottom":n={my:i,at:i}}return n.of=e.getOverlayTarget(),n}refreshPanelElementSize(e){var i=this.getDrawerInstance(),n=i.getOverlay();i.isHorizontalDirection()?(n.option("height","100%"),n.option("width",e?i.getRealPanelWidth():this._getPanelSize(i.option("opened")))):(n.option("width",Ae(i.getOverlayTarget())),n.option("height",e?i.getRealPanelHeight():this._getPanelSize(i.option("opened"))))}onPanelContentRendered(){this._updateViewContentStyles()}_updateViewContentStyles(){var e=this.getDrawerInstance();g(e.viewContent()).css("padding"+ho(e.calcTargetPosition(),!0),e.option("minSize")),g(e.viewContent()).css("transform","inherit")}_internalRenderPosition(e,i){var n=this.getDrawerInstance(),r=g(n.content()),o=n.getOverlay().$content(),s=n.option("revealMode"),a=n.calcTargetPosition(),l=this._getPanelSize(n.option("opened")),d=this._getPanelOffset(n.option("opened"))*n._getPositionCorrection(),u=n.getRealPanelHeight()-l;this._updateViewContentStyles(),e?s==="slide"?(this._initialPosition=n.isHorizontalDirection()?{left:d}:{top:d},zs.moveTo({complete:()=>{i.resolve()},duration:n.option("animationDuration"),direction:a,$element:r,position:d})):s==="expand"&&(this._initialPosition={left:0},Vt(o,this._initialPosition),zs.size({complete:()=>{i.resolve()},duration:n.option("animationDuration"),direction:a,$element:o,size:l,marginTop:u})):s==="slide"?(this._initialPosition=n.isHorizontalDirection()?{left:d}:{top:d},Vt(r,this._initialPosition)):s==="expand"&&(this._initialPosition={left:0},Vt(o,this._initialPosition),n.isHorizontalDirection()?g(o).css("width",l):(g(o).css("height",l),a==="bottom"&&g(o).css("marginTop",u)))}getPanelContent(){return g(this.getDrawerInstance().getOverlay().content())}_processOverlayZIndex(e){var i=g(e).get(0).style,n=i.zIndex||1;this.getDrawerInstance().setZIndex(n)}isViewContentFirst(e){return e==="right"||e==="bottom"}},Bie=aV;var tp="dx-drawer",QHe="dx-drawer-wrapper",Vie="dx-drawer-panel-content",ZHe="dx-drawer-content",Hie="dx-drawer-shader",zie="dx-state-invisible",eze="dx-drawer-opened",lV="content",Wie="panel",jie=Ci.inherit({_getDefaultOptions(){return y(this.callBase(),{position:"left",opened:!1,minSize:null,maxSize:null,shading:!1,template:Wie,openedStateMode:"shrink",revealMode:"slide",animationEnabled:!0,animationDuration:400,closeOnOutsideClick:!1,contentTemplate:lV})},_init(){this.callBase(),this._initStrategy(),this.$element().addClass(tp),this._whenAnimationCompleted=void 0,this._whenPanelContentRendered=void 0,this._whenPanelContentRefreshed=void 0,this._$wrapper=g("<div>").addClass(QHe),this._$viewContentWrapper=g("<div>").addClass(ZHe),this._$wrapper.append(this._$viewContentWrapper),this.$element().append(this._$wrapper)},_initStrategy(){switch(this.option("openedStateMode")){case"push":this._strategy=new oV(this);break;case"shrink":this._strategy=new Lie(this);break;case"overlap":this._strategy=new Bie(this);break;default:this._strategy=new oV(this)}},_getAnonymousTemplateName:function(){return lV},_initTemplates(){var t={};t[Wie]=new kr,t[lV]=new kr,this._templateManager.addDefaultTemplates(t),this.callBase()},_viewContentWrapperClickHandler(t){var e=this.option("closeOnOutsideClick");ce(e)&&(e=e(t)),e&&this.option("opened")&&(this.stopAnimations(),this.option("shading")&&t.preventDefault(),this.hide())},_initMarkup(){this.callBase(),this._toggleOpenedStateClass(this.option("opened")),this._renderPanelContentWrapper(),this._refreshOpenedStateModeClass(),this._refreshRevealModeClass(),this._renderShader(),this._refreshPositionClass(),this._whenPanelContentRendered=new H,this._strategy.renderPanelContent(this._whenPanelContentRendered),this._strategy.onPanelContentRendered(),this._renderViewContent(),S.off(this._$viewContentWrapper,lt),S.on(this._$viewContentWrapper,lt,this._viewContentWrapperClickHandler.bind(this)),this._refreshWrapperChildrenOrder()},_render(){this._initMinMaxSize(),this.callBase(),this._whenPanelContentRendered.always(()=>{this._initMinMaxSize(),this._strategy.refreshPanelElementSize(this.option("revealMode")==="slide"||!this.isHorizontalDirection()),this._renderPosition(this.option("opened"),!0),this._removePanelManualPosition()})},_removePanelManualPosition(){this._$panelContentWrapper.attr("manualposition")&&(this._$panelContentWrapper.removeAttr("manualPosition"),this._$panelContentWrapper.css({position:"",top:"",left:"",right:"",bottom:""}))},_renderPanelContentWrapper(){this._$panelContentWrapper=g("<div>").addClass(Vie);var t=this.calcTargetPosition();this.option("openedStateMode")==="push"&&["top","bottom"].indexOf(t)>-1&&this._$panelContentWrapper.addClass(Vie+"-push-top-or-bottom"),this.option("openedStateMode")!=="overlap"&&!this.option("opened")&&!this.option("minSize")&&(this._$panelContentWrapper.attr("manualposition",!0),this._$panelContentWrapper.css({position:"absolute",top:"-10000px",left:"-10000px",right:"auto",bottom:"auto"})),this._$wrapper.append(this._$panelContentWrapper)},_refreshOpenedStateModeClass(t){t&&this.$element().removeClass(tp+"-"+t),this.$element().addClass(tp+"-"+this.option("openedStateMode"))},_refreshPositionClass(t){t&&this.$element().removeClass(tp+"-"+t),this.$element().addClass(tp+"-"+this.calcTargetPosition())},_refreshWrapperChildrenOrder(){var t=this.calcTargetPosition();this._strategy.isViewContentFirst(t,this.option("rtlEnabled"))?this._$wrapper.prepend(this._$viewContentWrapper):this._$wrapper.prepend(this._$panelContentWrapper)},_refreshRevealModeClass(t){t&&this.$element().removeClass(tp+"-"+t),this.$element().addClass(tp+"-"+this.option("revealMode"))},_renderViewContent(){var t=this.option("contentTemplate"),e=this._getTemplate(t);if(e){var i=e.render({container:this.viewContent(),noModel:!0,transclude:this._templateManager.anonymousTemplateName===t});i.hasClass("ng-scope")&&g(this._$viewContentWrapper).children().not(".".concat(Hie)).replaceWith(i)}},_renderShader(){this._$shader=this._$shader||g("<div>").addClass(Hie),this._$shader.appendTo(this.viewContent()),this._toggleShaderVisibility(this.option("opened"))},_initSize(){this._initMinMaxSize()},_initMinMaxSize(){var t=this.isHorizontalDirection()?this.getRealPanelWidth():this.getRealPanelHeight();this._maxSize=this.option("maxSize")||t,this._minSize=this.option("minSize")||0},calcTargetPosition(){var t=this.option("position"),e=this.option("rtlEnabled"),i=t;return t==="before"?i=e?"right":"left":t==="after"&&(i=e?"left":"right"),i},getOverlayTarget(){return this._$wrapper},getOverlay(){return this._overlay},getMaxSize(){return this._maxSize},getMinSize(){return this._minSize},getRealPanelWidth(){return Ne()?O(this.option("templateSize"))?this.option("templateSize"):Jt(this._getPanelTemplateElement()).width:0},getRealPanelHeight(){return Ne()?O(this.option("templateSize"))?this.option("templateSize"):Jt(this._getPanelTemplateElement()).height:0},_getPanelTemplateElement(){var t=this._strategy.getPanelContent(),e=t;return t.children().length&&(e=t.children().eq(0),t.hasClass("dx-overlay-content")&&e.hasClass("dx-template-wrapper")&&e.children().length&&(e=e.children().eq(0))),e.get(0)},getElementHeight(t){var e=t.children();return e.length?Jt(e.eq(0).get(0)).height:Jt(t.get(0)).height},isHorizontalDirection(){var t=this.calcTargetPosition();return t==="left"||t==="right"},stopAnimations(t){Et.stop(this._$shader,t),Et.stop(g(this.content()),t),Et.stop(g(this.viewContent()),t);var e=this.getOverlay();e&&Et.stop(g(e.$content()),t)},setZIndex(t){this._$shader.css("zIndex",t-1),this._$panelContentWrapper.css("zIndex",t)},resizeContent(){this.resizeViewContent},resizeViewContent(){Pr(this.viewContent())},_isInvertedPosition(){var t=this.calcTargetPosition();return t==="right"||t==="bottom"},_renderPosition(t,e,i){if(this.stopAnimations(i),!!Ne()){g(this.viewContent()).css("paddingLeft",0),g(this.viewContent()).css("paddingRight",0),g(this.viewContent()).css("paddingTop",0),g(this.viewContent()).css("paddingBottom",0);var n=this.option("animationEnabled");e===!0&&(n=!1),t&&this._toggleShaderVisibility(t),this._strategy.renderPosition(n,this.option("animationDuration"))}},_animationCompleteHandler(){this.resizeViewContent(),this._whenAnimationCompleted&&this._whenAnimationCompleted.resolve()},_getPositionCorrection(){return this._isInvertedPosition()?-1:1},_dispose(){zs.complete(g(this.viewContent())),this.callBase()},_visibilityChanged(t){t&&this._dimensionChanged()},_dimensionChanged(){this._initMinMaxSize(),this._strategy.refreshPanelElementSize(this.option("revealMode")==="slide"),this._renderPosition(this.option("opened"),!0)},_toggleShaderVisibility(t){this.option("shading")?(this._$shader.toggleClass(zie,!t),this._$shader.css("visibility",t?"visible":"hidden")):this._$shader.toggleClass(zie,!0)},_toggleOpenedStateClass(t){this.$element().toggleClass(eze,t)},_refreshPanel(){g(this.viewContent()).css("left",0),g(this.viewContent()).css("transform","translate(0px, 0px)"),g(this.viewContent()).removeClass("dx-theme-background-color"),this._removePanelContentWrapper(),this._removeOverlay(),this._renderPanelContentWrapper(),this._refreshWrapperChildrenOrder(),this._whenPanelContentRefreshed=new H,this._strategy.renderPanelContent(this._whenPanelContentRefreshed),this._strategy.onPanelContentRendered(),Ne()&&this._whenPanelContentRefreshed.always(()=>{this._strategy.refreshPanelElementSize(this.option("revealMode")==="slide"),this._renderPosition(this.option("opened"),!0,!0),this._removePanelManualPosition()})},_clean(){this._cleanFocusState(),this._removePanelContentWrapper(),this._removeOverlay()},_removePanelContentWrapper(){this._$panelContentWrapper&&this._$panelContentWrapper.remove()},_removeOverlay(){this._overlay&&(this._overlay.dispose(),delete this._overlay,delete this._$panelContentWrapper)},_optionChanged(t){switch(t.name){case"width":this.callBase(t),this._dimensionChanged();break;case"opened":this._renderPosition(this.option("opened")),this._toggleOpenedStateClass(t.value);break;case"position":this._refreshPositionClass(t.previousValue),this._refreshWrapperChildrenOrder(),this._invalidate();break;case"contentTemplate":case"template":this._invalidate();break;case"openedStateMode":this._initStrategy(),this._refreshOpenedStateModeClass(t.previousValue),this._refreshPanel();break;case"minSize":case"maxSize":this._initMinMaxSize(),this._renderPosition(this.option("opened"),!0);break;case"revealMode":this._refreshRevealModeClass(t.previousValue),this._refreshPanel();break;case"shading":this._toggleShaderVisibility(this.option("opened"));break;case"animationEnabled":case"animationDuration":case"closeOnOutsideClick":break;default:this.callBase(t)}},content(){return Pe(this._$panelContentWrapper)},viewContent(){return Pe(this._$viewContentWrapper)},show(){return this.toggle(!0)},hide(){return this.toggle(!1)},toggle(t){var e=t===void 0?!this.option("opened"):t;return this._whenAnimationCompleted=new H,this.option("opened",e),this._whenAnimationCompleted.promise()}});Be("dxDrawer",jie);var $ie=jie;var Gie=$ie;var tze=["*"],Uie=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l){super(i,n,r,o,a,l),this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"activeStateEnabledChange"},{emit:"animationDurationChange"},{emit:"animationEnabledChange"},{emit:"closeOnOutsideClickChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"maxSizeChange"},{emit:"minSizeChange"},{emit:"openedChange"},{emit:"openedStateModeChange"},{emit:"positionChange"},{emit:"revealModeChange"},{emit:"rtlEnabledChange"},{emit:"shadingChange"},{emit:"templateChange"},{emit:"visibleChange"},{emit:"widthChange"}]),s.setHost(this)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get animationDuration(){return this._getOption("animationDuration")}set animationDuration(i){this._setOption("animationDuration",i)}get animationEnabled(){return this._getOption("animationEnabled")}set animationEnabled(i){this._setOption("animationEnabled",i)}get closeOnOutsideClick(){return this._getOption("closeOnOutsideClick")}set closeOnOutsideClick(i){this._setOption("closeOnOutsideClick",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get maxSize(){return this._getOption("maxSize")}set maxSize(i){this._setOption("maxSize",i)}get minSize(){return this._getOption("minSize")}set minSize(i){this._setOption("minSize",i)}get opened(){return this._getOption("opened")}set opened(i){this._setOption("opened",i)}get openedStateMode(){return this._getOption("openedStateMode")}set openedStateMode(i){this._setOption("openedStateMode",i)}get position(){return this._getOption("position")}set position(i){this._setOption("position",i)}get revealMode(){return this._getOption("revealMode")}set revealMode(i){this._setOption("revealMode",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get shading(){return this._getOption("shading")}set shading(i){this._setOption("shading",i)}get template(){return this._getOption("template")}set template(i){this._setOption("template",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}_createInstance(i,n){return new Gie(i,n)}ngOnDestroy(){this._destroyWidget()}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-drawer"]],inputs:{activeStateEnabled:"activeStateEnabled",animationDuration:"animationDuration",animationEnabled:"animationEnabled",closeOnOutsideClick:"closeOnOutsideClick",disabled:"disabled",elementAttr:"elementAttr",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",maxSize:"maxSize",minSize:"minSize",opened:"opened",openedStateMode:"openedStateMode",position:"position",revealMode:"revealMode",rtlEnabled:"rtlEnabled",shading:"shading",template:"template",visible:"visible",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",activeStateEnabledChange:"activeStateEnabledChange",animationDurationChange:"animationDurationChange",animationEnabledChange:"animationEnabledChange",closeOnOutsideClickChange:"closeOnOutsideClickChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",maxSizeChange:"maxSizeChange",minSizeChange:"minSizeChange",openedChange:"openedChange",openedStateModeChange:"openedStateModeChange",positionChange:"positionChange",revealModeChange:"revealModeChange",rtlEnabledChange:"rtlEnabledChange",shadingChange:"shadingChange",templateChange:"templateChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge]),Pt],ngContentSelectors:tze,decls:1,vars:0,template:function(i,n){i&1&&(tr(),Un(0))},encapsulation:2}),t})(),YE=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[$i,Wt],Wt]}),t})();var dV=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l,d){super(i,n,r,o,l,d),this._watcherHelper=o,this._idh=s,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"editorEnterKey",emit:"onEditorEnterKey"},{subscribe:"fieldDataChanged",emit:"onFieldDataChanged"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"alignItemLabelsChange"},{emit:"alignItemLabelsInAllGroupsChange"},{emit:"colCountChange"},{emit:"colCountByScreenChange"},{emit:"customizeItemChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"formDataChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"isDirtyChange"},{emit:"itemsChange"},{emit:"labelLocationChange"},{emit:"labelModeChange"},{emit:"minColWidthChange"},{emit:"optionalMarkChange"},{emit:"readOnlyChange"},{emit:"requiredMarkChange"},{emit:"requiredMessageChange"},{emit:"rtlEnabledChange"},{emit:"screenByWidthChange"},{emit:"scrollingEnabledChange"},{emit:"showColonAfterLabelChange"},{emit:"showOptionalMarkChange"},{emit:"showRequiredMarkChange"},{emit:"showValidationSummaryChange"},{emit:"tabIndexChange"},{emit:"validationGroupChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),a.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(i){this._setOption("alignItemLabels",i)}get alignItemLabelsInAllGroups(){return this._getOption("alignItemLabelsInAllGroups")}set alignItemLabelsInAllGroups(i){this._setOption("alignItemLabelsInAllGroups",i)}get colCount(){return this._getOption("colCount")}set colCount(i){this._setOption("colCount",i)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(i){this._setOption("colCountByScreen",i)}get customizeItem(){return this._getOption("customizeItem")}set customizeItem(i){this._setOption("customizeItem",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get formData(){return this._getOption("formData")}set formData(i){this._setOption("formData",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get isDirty(){return this._getOption("isDirty")}set isDirty(i){this._setOption("isDirty",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get labelLocation(){return this._getOption("labelLocation")}set labelLocation(i){this._setOption("labelLocation",i)}get labelMode(){return this._getOption("labelMode")}set labelMode(i){this._setOption("labelMode",i)}get minColWidth(){return this._getOption("minColWidth")}set minColWidth(i){this._setOption("minColWidth",i)}get optionalMark(){return this._getOption("optionalMark")}set optionalMark(i){this._setOption("optionalMark",i)}get readOnly(){return this._getOption("readOnly")}set readOnly(i){this._setOption("readOnly",i)}get requiredMark(){return this._getOption("requiredMark")}set requiredMark(i){this._setOption("requiredMark",i)}get requiredMessage(){return this._getOption("requiredMessage")}set requiredMessage(i){this._setOption("requiredMessage",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get screenByWidth(){return this._getOption("screenByWidth")}set screenByWidth(i){this._setOption("screenByWidth",i)}get scrollingEnabled(){return this._getOption("scrollingEnabled")}set scrollingEnabled(i){this._setOption("scrollingEnabled",i)}get showColonAfterLabel(){return this._getOption("showColonAfterLabel")}set showColonAfterLabel(i){this._setOption("showColonAfterLabel",i)}get showOptionalMark(){return this._getOption("showOptionalMark")}set showOptionalMark(i){this._setOption("showOptionalMark",i)}get showRequiredMark(){return this._getOption("showRequiredMark")}set showRequiredMark(i){this._setOption("showRequiredMark",i)}get showValidationSummary(){return this._getOption("showValidationSummary")}set showValidationSummary(i){this._setOption("showValidationSummary",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(i){this._setOption("validationGroup",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}_createInstance(i,n){return new Kg(i,n)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("items",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("items"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-form"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,lr,4),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",alignItemLabels:"alignItemLabels",alignItemLabelsInAllGroups:"alignItemLabelsInAllGroups",colCount:"colCount",colCountByScreen:"colCountByScreen",customizeItem:"customizeItem",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",formData:"formData",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",isDirty:"isDirty",items:"items",labelLocation:"labelLocation",labelMode:"labelMode",minColWidth:"minColWidth",optionalMark:"optionalMark",readOnly:"readOnly",requiredMark:"requiredMark",requiredMessage:"requiredMessage",rtlEnabled:"rtlEnabled",screenByWidth:"screenByWidth",scrollingEnabled:"scrollingEnabled",showColonAfterLabel:"showColonAfterLabel",showOptionalMark:"showOptionalMark",showRequiredMark:"showRequiredMark",showValidationSummary:"showValidationSummary",tabIndex:"tabIndex",validationGroup:"validationGroup",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onEditorEnterKey:"onEditorEnterKey",onFieldDataChanged:"onFieldDataChanged",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",alignItemLabelsChange:"alignItemLabelsChange",alignItemLabelsInAllGroupsChange:"alignItemLabelsInAllGroupsChange",colCountChange:"colCountChange",colCountByScreenChange:"colCountByScreenChange",customizeItemChange:"customizeItemChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",formDataChange:"formDataChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",isDirtyChange:"isDirtyChange",itemsChange:"itemsChange",labelLocationChange:"labelLocationChange",labelModeChange:"labelModeChange",minColWidthChange:"minColWidthChange",optionalMarkChange:"optionalMarkChange",readOnlyChange:"readOnlyChange",requiredMarkChange:"requiredMarkChange",requiredMessageChange:"requiredMessageChange",rtlEnabledChange:"rtlEnabledChange",screenByWidthChange:"screenByWidthChange",scrollingEnabledChange:"scrollingEnabledChange",showColonAfterLabelChange:"showColonAfterLabelChange",showOptionalMarkChange:"showOptionalMarkChange",showRequiredMarkChange:"showRequiredMarkChange",showValidationSummaryChange:"showValidationSummaryChange",tabIndexChange:"tabIndexChange",validationGroupChange:"validationGroupChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),ip=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[gg,Tn,_g,fd,xg,pg,fg,$i,Wt],gg,Tn,_g,fd,xg,pg,fg,Wt]}),t})();var nze="dx-radiobutton-checked",qie="dx-radiobutton",rze="dx-radiobutton-icon-checked",Kie="dx-radiobutton-icon",oze="dx-radiobutton-icon-dot",sze="dx-radiogroup-horizontal",aze="dx-radiogroup-vertical",lze="dx-radio-value-container",dze="dx-radiogroup",uze=100,uV=class extends Sr{_focusTarget(){return this.$element().parent()}_nullValueSelectionSupported(){return!0}_getDefaultOptions(){var e=super._getDefaultOptions();return y(e,Ah._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})}_initMarkup(){super._initMarkup(),zi(()=>{this.itemElements().addClass(qie)})}_keyboardEventBindingTarget(){return this._focusTarget()}_postprocessRenderItem(e){var{itemData:{html:i},itemElement:n}=e;if(!i){var r=g("<div>").addClass(Kie);g("<div>").addClass(oze).appendTo(r);var o=g("<div>").append(r).addClass(lze);g(n).prepend(o)}super._postprocessRenderItem(e)}_processSelectableItem(e,i){super._processSelectableItem(e,i),e.toggleClass(nze,i).find(".".concat(Kie)).first().toggleClass(rze,i),this.setAria("checked",i,e)}_refreshContent(){this._prepareContent(),this._renderContent()}_supportedKeys(){var e=super._supportedKeys();return y({},e,{enter:function(i){return i.preventDefault(),e.enter.apply(this,arguments)},space:function(i){return i.preventDefault(),e.space.apply(this,arguments)}})}_itemElements(){return this._itemContainer().children(this._itemSelector())}_setAriaSelectionAttribute(){}},qC=class extends Cr{_dataSourceOptions(){return{paginate:!1}}_defaultOptionsRules(){var e=super._defaultOptionsRules();return e.concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:()=>be.real().deviceType==="desktop"&&!be.isSimulator(),options:{focusStateEnabled:!0}}])}_fireContentReadyAction(e){e&&super._fireContentReadyAction()}_focusTarget(){return this.$element()}_getAriaTarget(){return this.$element()}_getDefaultOptions(){var e=super._getDefaultOptions();return y(e,y(Ah._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical"}))}_getItemValue(e){return this._valueGetter?this._valueGetter(e):e.text}_getSubmitElement(){return this._$submitElement}_init(){super._init(),this._activeStateUnit=".".concat(qie),this._feedbackHideTimeout=uze,this._initDataExpressions()}_initMarkup(){this.$element().addClass(dze),this._renderSubmitElement(),this.setAria("role","radiogroup"),this._renderRadios(),this._renderLayout(),super._initMarkup()}_itemClickHandler(e){var{itemElement:i,event:n,itemData:r}=e;if(this.itemElements().is(i)){var o=this._getItemValue(r);o!==this.option("value")&&(this._saveValueChangeEvent(n),this.option("value",o))}}_getSelectedItemKeys(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.option("value"),i=this.option("valueExpr")!=="this",n=i&&e===null||O(e);return n?[e]:[]}_setSelection(e){var i=this._unwrappedValue(e);this._setCollectionWidgetOption("selectedItemKeys",this._getSelectedItemKeys(i))}_renderValidationState(){var e;super._renderValidationState(),(e=this._validationMessage)===null||e===void 0||e.$content().attr("role","alert")}_optionChanged(e){var{name:i,value:n}=e;switch(this._dataExpressionOptionChanged(e),i){case"dataSource":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(i,n);break;case"disabled":super._optionChanged(e),this._setCollectionWidgetOption(i,n);break;case"valueExpr":this._setCollectionWidgetOption("keyExpr",this._getCollectionKeyExpr());break;case"value":this._setSelection(n),this._setSubmitValue(n),super._optionChanged(e);break;case"items":this._setSelection(this.option("value"));break;case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:super._optionChanged(e)}}_render(){super._render(),this._updateItemsSize()}_renderLayout(){var e=this.option("layout"),i=this.$element();i.toggleClass(aze,e==="vertical"),i.toggleClass(sze,e==="horizontal")}_renderRadios(){this._areRadiosCreated=new H;var e=g("<div>").appendTo(this.$element()),{displayExpr:i,accessKey:n,focusStateEnabled:r,itemTemplate:o,tabIndex:s}=this.option();this._createComponent(e,uV,{onInitialized:a=>{var{component:l}=a;this._radios=l},onContentReady:a=>{this._fireContentReadyAction(!0)},onItemClick:this._itemClickHandler.bind(this),displayExpr:i,accessKey:n,dataSource:this._dataSource,focusStateEnabled:r,itemTemplate:o,keyExpr:this._getCollectionKeyExpr(),noDataText:"",scrollingEnabled:!1,selectByClick:!1,selectionMode:"single",selectedItemKeys:this._getSelectedItemKeys(),tabIndex:s}),this._areRadiosCreated.resolve()}_renderSubmitElement(){this._$submitElement=g("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue()}_setOptionsByReference(){super._setOptionsByReference(),y(this._optionsByReference,{value:!0})}_setSubmitValue(e){var i;e=(i=e)!==null&&i!==void 0?i:this.option("value");var n=this.option("valueExpr")==="this"?this._displayGetter(e):e;this._$submitElement.val(n)}_setCollectionWidgetOption(){this._areRadiosCreated.done(this._setWidgetOption.bind(this,"_radios",arguments))}_updateItemsSize(){if(this.option("layout")==="horizontal")this.itemElements().css("height","auto");else{var e=this.option("items").length;this.itemElements().css("height",100/e+"%")}}focus(){var e;(e=this._radios)===null||e===void 0||e.focus()}itemElements(){var e;return(e=this._radios)===null||e===void 0?void 0:e.itemElements()}};qC.include(Ah);Be("dxRadioGroup",qC);var Jie=qC;var Yie=Jie;var Xie=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[$i,Wt],Wt]}),t})();var cze={provide:Ig,useExisting:Wa(()=>XE),multi:!0},XE=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l,d){super(i,n,r,o,l,d),this._watcherHelper=o,this._idh=s,this.touched=u=>{},this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"dataSourceChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"layoutChange"},{emit:"nameChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"tabIndexChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),a.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(i){this._setOption("displayExpr",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get isDirty(){return this._getOption("isDirty")}set isDirty(i){this._setOption("isDirty",i)}get isValid(){return this._getOption("isValid")}set isValid(i){this._setOption("isValid",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(i){this._setOption("itemTemplate",i)}get layout(){return this._getOption("layout")}set layout(i){this._setOption("layout",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get readOnly(){return this._getOption("readOnly")}set readOnly(i){this._setOption("readOnly",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get validationError(){return this._getOption("validationError")}set validationError(i){this._setOption("validationError",i)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(i){this._setOption("validationErrors",i)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(i){this._setOption("validationMessageMode",i)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(i){this._setOption("validationMessagePosition",i)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(i){this._setOption("validationStatus",i)}get value(){return this._getOption("value")}set value(i){this._setOption("value",i)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(i){this._setOption("valueExpr",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}change(i){}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}_createInstance(i,n){return new Yie(i,n)}writeValue(i){this.eventHelper.lockedValueChangeEvent=!0,this.value=i,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(i){this.disabled=i}registerOnChange(i){this.change=i}registerOnTouched(i){this.touched=i}_createWidget(i){super._createWidget(i),this.instance.on("focusOut",n=>{this.eventHelper.fireNgEvent("onBlur",[n])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("dataSource",i),this.setupChanges("items",i),this.setupChanges("validationErrors",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-radio-group"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,lr,4),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o)}},hostBindings:function(i,n){i&1&&Nn("valueChange",function(o){return n.change(o)})("onBlur",function(o){return n.touched(o)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",dataSource:"dataSource",disabled:"disabled",displayExpr:"displayExpr",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",isDirty:"isDirty",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",layout:"layout",name:"name",readOnly:"readOnly",rtlEnabled:"rtlEnabled",tabIndex:"tabIndex",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueExpr:"valueExpr",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",dataSourceChange:"dataSourceChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",layoutChange:"layoutChange",nameChange:"nameChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",tabIndexChange:"tabIndexChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[oi([pt,wt,cze,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),cV=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[Tn,$i,Wt],Tn,Wt]}),t})();var hze=["*"],np=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l){super(i,n,r,o,a,l),this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"pullDown",emit:"onPullDown"},{subscribe:"reachBottom",emit:"onReachBottom"},{subscribe:"scroll",emit:"onScroll"},{subscribe:"updated",emit:"onUpdated"},{emit:"bounceEnabledChange"},{emit:"directionChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"pulledDownTextChange"},{emit:"pullingDownTextChange"},{emit:"reachBottomTextChange"},{emit:"refreshingTextChange"},{emit:"rtlEnabledChange"},{emit:"scrollByContentChange"},{emit:"scrollByThumbChange"},{emit:"showScrollbarChange"},{emit:"useNativeChange"},{emit:"widthChange"}]),s.setHost(this)}get bounceEnabled(){return this._getOption("bounceEnabled")}set bounceEnabled(i){this._setOption("bounceEnabled",i)}get direction(){return this._getOption("direction")}set direction(i){this._setOption("direction",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get pulledDownText(){return this._getOption("pulledDownText")}set pulledDownText(i){this._setOption("pulledDownText",i)}get pullingDownText(){return this._getOption("pullingDownText")}set pullingDownText(i){this._setOption("pullingDownText",i)}get reachBottomText(){return this._getOption("reachBottomText")}set reachBottomText(i){this._setOption("reachBottomText",i)}get refreshingText(){return this._getOption("refreshingText")}set refreshingText(i){this._setOption("refreshingText",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get scrollByContent(){return this._getOption("scrollByContent")}set scrollByContent(i){this._setOption("scrollByContent",i)}get scrollByThumb(){return this._getOption("scrollByThumb")}set scrollByThumb(i){this._setOption("scrollByThumb",i)}get showScrollbar(){return this._getOption("showScrollbar")}set showScrollbar(i){this._setOption("showScrollbar",i)}get useNative(){return this._getOption("useNative")}set useNative(i){this._setOption("useNative",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}_createInstance(i,n){return new Zf(i,n)}ngOnDestroy(){this._destroyWidget()}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-scroll-view"]],inputs:{bounceEnabled:"bounceEnabled",direction:"direction",disabled:"disabled",elementAttr:"elementAttr",height:"height",pulledDownText:"pulledDownText",pullingDownText:"pullingDownText",reachBottomText:"reachBottomText",refreshingText:"refreshingText",rtlEnabled:"rtlEnabled",scrollByContent:"scrollByContent",scrollByThumb:"scrollByThumb",showScrollbar:"showScrollbar",useNative:"useNative",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onPullDown:"onPullDown",onReachBottom:"onReachBottom",onScroll:"onScroll",onUpdated:"onUpdated",bounceEnabledChange:"bounceEnabledChange",directionChange:"directionChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",heightChange:"heightChange",pulledDownTextChange:"pulledDownTextChange",pullingDownTextChange:"pullingDownTextChange",reachBottomTextChange:"reachBottomTextChange",refreshingTextChange:"refreshingTextChange",rtlEnabledChange:"rtlEnabledChange",scrollByContentChange:"scrollByContentChange",scrollByThumbChange:"scrollByThumbChange",showScrollbarChange:"showScrollbarChange",useNativeChange:"useNativeChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge]),Pt],ngContentSelectors:hze,decls:1,vars:0,template:function(i,n){i&1&&(tr(),Un(0))},encapsulation:2}),t})(),rm=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[$i,Wt],Wt]}),t})();var pze={provide:Ig,useExisting:Wa(()=>Zie),multi:!0},Zie=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l,d){super(i,n,r,o,l,d),this._watcherHelper=o,this._idh=s,this.touched=u=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"customItemCreating",emit:"onCustomItemCreating"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"customItemCreateEventChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"displayValueChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"fieldTemplateChange"},{emit:"focusStateEnabledChange"},{emit:"groupedChange"},{emit:"groupTemplateChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxLengthChange"},{emit:"minSearchLengthChange"},{emit:"nameChange"},{emit:"noDataTextChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"selectedItemChange"},{emit:"showClearButtonChange"},{emit:"showDataBeforeSearchChange"},{emit:"showDropDownButtonChange"},{emit:"showSelectionControlsChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useItemTextAsTitleChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapItemTextChange"},{emit:"onBlur"}]),this._idh.setHost(this),a.setHost(this)}get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(i){this._setOption("acceptCustomValue",i)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get buttons(){return this._getOption("buttons")}set buttons(i){this._setOption("buttons",i)}get customItemCreateEvent(){return this._getOption("customItemCreateEvent")}set customItemCreateEvent(i){this._setOption("customItemCreateEvent",i)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(i){this._setOption("deferRendering",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(i){this._setOption("displayExpr",i)}get displayValue(){return this._getOption("displayValue")}set displayValue(i){this._setOption("displayValue",i)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(i){this._setOption("dropDownButtonTemplate",i)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(i){this._setOption("dropDownOptions",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get fieldTemplate(){return this._getOption("fieldTemplate")}set fieldTemplate(i){this._setOption("fieldTemplate",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get grouped(){return this._getOption("grouped")}set grouped(i){this._setOption("grouped",i)}get groupTemplate(){return this._getOption("groupTemplate")}set groupTemplate(i){this._setOption("groupTemplate",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(i){this._setOption("inputAttr",i)}get isDirty(){return this._getOption("isDirty")}set isDirty(i){this._setOption("isDirty",i)}get isValid(){return this._getOption("isValid")}set isValid(i){this._setOption("isValid",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(i){this._setOption("itemTemplate",i)}get label(){return this._getOption("label")}set label(i){this._setOption("label",i)}get labelMode(){return this._getOption("labelMode")}set labelMode(i){this._setOption("labelMode",i)}get maxLength(){return this._getOption("maxLength")}set maxLength(i){this._setOption("maxLength",i)}get minSearchLength(){return this._getOption("minSearchLength")}set minSearchLength(i){this._setOption("minSearchLength",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get noDataText(){return this._getOption("noDataText")}set noDataText(i){this._setOption("noDataText",i)}get opened(){return this._getOption("opened")}set opened(i){this._setOption("opened",i)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(i){this._setOption("openOnFieldClick",i)}get placeholder(){return this._getOption("placeholder")}set placeholder(i){this._setOption("placeholder",i)}get readOnly(){return this._getOption("readOnly")}set readOnly(i){this._setOption("readOnly",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(i){this._setOption("searchEnabled",i)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(i){this._setOption("searchExpr",i)}get searchMode(){return this._getOption("searchMode")}set searchMode(i){this._setOption("searchMode",i)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(i){this._setOption("searchTimeout",i)}get selectedItem(){return this._getOption("selectedItem")}set selectedItem(i){this._setOption("selectedItem",i)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(i){this._setOption("showClearButton",i)}get showDataBeforeSearch(){return this._getOption("showDataBeforeSearch")}set showDataBeforeSearch(i){this._setOption("showDataBeforeSearch",i)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(i){this._setOption("showDropDownButton",i)}get showSelectionControls(){return this._getOption("showSelectionControls")}set showSelectionControls(i){this._setOption("showSelectionControls",i)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(i){this._setOption("spellcheck",i)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(i){this._setOption("stylingMode",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get useItemTextAsTitle(){return this._getOption("useItemTextAsTitle")}set useItemTextAsTitle(i){this._setOption("useItemTextAsTitle",i)}get validationError(){return this._getOption("validationError")}set validationError(i){this._setOption("validationError",i)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(i){this._setOption("validationErrors",i)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(i){this._setOption("validationMessageMode",i)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(i){this._setOption("validationMessagePosition",i)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(i){this._setOption("validationStatus",i)}get value(){return this._getOption("value")}set value(i){this._setOption("value",i)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(i){this._setOption("valueChangeEvent",i)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(i){this._setOption("valueExpr",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get wrapItemText(){return this._getOption("wrapItemText")}set wrapItemText(i){this._setOption("wrapItemText",i)}change(i){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(i){this.setChildren("buttons",i)}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}_createInstance(i,n){return new Bg(i,n)}writeValue(i){this.eventHelper.lockedValueChangeEvent=!0,this.value=i,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(i){this.disabled=i}registerOnChange(i){this.change=i}registerOnTouched(i){this.touched=i}_createWidget(i){super._createWidget(i),this.instance.on("focusOut",n=>{this.eventHelper.fireNgEvent("onBlur",[n])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("buttons",i),this.setupChanges("dataSource",i),this.setupChanges("items",i),this.setupChanges("searchExpr",i),this.setupChanges("validationErrors",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("searchExpr"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-select-box"]],contentQueries:function(i,n,r){if(i&1&&(Hi(r,GD,4),Hi(r,lr,4)),i&2){let o;Di(o=Oi())&&(n.buttonsChildren=o),Di(o=Oi())&&(n.itemsChildren=o)}},hostBindings:function(i,n){i&1&&Nn("valueChange",function(o){return n.change(o)})("onBlur",function(o){return n.touched(o)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",customItemCreateEvent:"customItemCreateEvent",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",displayExpr:"displayExpr",displayValue:"displayValue",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",fieldTemplate:"fieldTemplate",focusStateEnabled:"focusStateEnabled",grouped:"grouped",groupTemplate:"groupTemplate",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isDirty:"isDirty",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",label:"label",labelMode:"labelMode",maxLength:"maxLength",minSearchLength:"minSearchLength",name:"name",noDataText:"noDataText",opened:"opened",openOnFieldClick:"openOnFieldClick",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",selectedItem:"selectedItem",showClearButton:"showClearButton",showDataBeforeSearch:"showDataBeforeSearch",showDropDownButton:"showDropDownButton",showSelectionControls:"showSelectionControls",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useItemTextAsTitle:"useItemTextAsTitle",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",valueExpr:"valueExpr",visible:"visible",width:"width",wrapItemText:"wrapItemText"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCopy:"onCopy",onCustomItemCreating:"onCustomItemCreating",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onItemClick:"onItemClick",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onSelectionChanged:"onSelectionChanged",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",customItemCreateEventChange:"customItemCreateEventChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",displayValueChange:"displayValueChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",fieldTemplateChange:"fieldTemplateChange",focusStateEnabledChange:"focusStateEnabledChange",groupedChange:"groupedChange",groupTemplateChange:"groupTemplateChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxLengthChange:"maxLengthChange",minSearchLengthChange:"minSearchLengthChange",nameChange:"nameChange",noDataTextChange:"noDataTextChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",selectedItemChange:"selectedItemChange",showClearButtonChange:"showClearButtonChange",showDataBeforeSearchChange:"showDataBeforeSearchChange",showDropDownButtonChange:"showDropDownButtonChange",showSelectionControlsChange:"showSelectionControlsChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useItemTextAsTitleChange:"useItemTextAsTitleChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapItemTextChange:"wrapItemTextChange",onBlur:"onBlur"},features:[oi([pt,wt,pze,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),hV=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[Co,Rs,jP,cd,vd,md,xd,hd,pd,gd,_d,Cd,bd,yd,vg,Tn,$i,Wt],Co,Rs,jP,cd,vd,md,xd,hd,pd,gd,_d,Cd,bd,yd,vg,Tn,Wt]}),t})();var fze="dx-fa-button",gze="dx-fa-button-icon",mze="dx-fa-button-label",vze="dx-fa-button-label-wrapper",_ze="dx-fa-button-content-reverse",Cze=".dx-overlay-content",pV=class extends Rn{_getDefaultOptions(){return y(super._getDefaultOptions(),{shading:!1,useInkRipple:!1,callOverlayRenderShading:!1,width:"auto",zIndex:1500,_observeContentResize:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>mi(),options:{useInkRipple:!0}}])}_moveToContainer(){this._$wrapper.appendTo(this.$element()),this._$content.appendTo(this._$wrapper)}_render(){this.$element().addClass(fze),this._renderIcon(),this._renderLabel(),super._render(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderClick()}_renderLabel(){this._$label&&this._$label.remove();var e=this.option("label");if(!e){this._$label=null;return}var i=g("<div>").addClass(mze),n=g("<div>").addClass(vze);this._$label=n.prependTo(this.$content()).append(i.text(e)),this.$content().toggleClass(_ze,this._isPositionLeft(this.option("parentPosition")))}_isPositionLeft(e){var i="";return e&&(Ve(e)&&e.at?e.at.x?i=e.at.x:i=e.at:typeof e=="string"&&(i=e)),i.split(" ")[0]==="left"}_renderButtonIcon(e,i,n){e&&e.remove(),e=g("<div>").addClass(n);var r=Dr(i);return e.append(r).appendTo(this.$content()),e}_renderIcon(){this._$icon=this._renderButtonIcon(this._$icon,this._options.silent("icon"),gze)}_renderWrapper(){this._options.silent("callOverlayRenderShading")&&super._renderWrapper()}_getVisibleActions(e){var i=e||this.option("actions")||[];return i.filter(n=>n.option("visible"))}_getActionComponent(){return this._getVisibleActions().length===1?this._getVisibleActions()[0]:this.option("actionComponent")||this.option("actions")[0]}_initContentReadyAction(){this._contentReadyAction=this._getActionComponent()._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]},!0)}_fireContentReadyAction(){this._contentReadyAction({actionElement:this.$element()})}_updateZIndexStackPosition(){var e=this.option("zIndex");this._$wrapper.css("zIndex",e),this._$content.css("zIndex",e)}_setClickAction(){var e=ne(lt,this.NAME),i=this.$element().find(Cze);S.off(i,e),S.on(i,e,n=>{var r={event:n,actionElement:this.element(),element:this._getActionComponent().$element()};this._clickAction(r)})}_defaultActionArgs(){return{component:this._getActionComponent()}}_renderClick(){this._clickAction=this._getActionComponent()._createActionByOption("onClick"),this._setClickAction()}_renderInkRipple(){this._inkRipple=zu()}_getInkRippleContainer(){return this._$icon}_toggleActiveState(e,i,n){if(super._toggleActiveState.apply(this,arguments),!!this._inkRipple){var r={element:this._getInkRippleContainer(),event:n};i?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}}_optionChanged(e){switch(e.name){case"icon":this._renderIcon();break;case"onClick":this._renderClick();break;case"label":this._renderLabel();break;case"visible":this._currentVisible=e.previousValue,e.value?this._show():this._hide();break;case"useInkRipple":this._render();break;default:super._optionChanged(e)}}},fV=pV;var{getSwatchContainer:ene}=Au,xze="dx-fa-button-main",yze="dx-fa-button-with-label",bze="dx-fa-button-without-icon",Dze="dx-fa-button-icon-close",gV="dx-state-invisible",dr=null,JC=t=>{var{animation:e,actionComponent:i,actionVisible:n,actions:r,activeStateEnabled:o,direction:s,elementAttr:a,hint:l,hoverStateEnabled:d,icon:u,id:h,index:p,label:m,onClick:c,onContentReady:x,parentPosition:D,position:T,visible:N,zIndex:G}=t.option();return y({},{animation:e,actionComponent:i,actionVisible:n,actions:r,activeStateEnabled:o,direction:s,elementAttr:a,hint:l,hoverStateEnabled:d,icon:u,id:h,index:p,label:m,onClick:c,onContentReady:x,parentPosition:D,position:T,visible:N,zIndex:G,_ignoreElementAttrDeprecation:!0},{onInitialized:null,onDisposing:null})},mV=class extends fV{_getDefaultOptions(){var e={icon:"add",closeIcon:"close",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,hint:"",label:"",direction:"auto",actions:[],activeStateEnabled:!0,hoverStateEnabled:!0,indent:Za()?49:55,childIndent:40,childOffset:Za()?2:9,callOverlayRenderShading:!0,hideOnOutsideClick:!0};return y(super._getDefaultOptions(),y(e,_t().floatingActionButtonConfig,{shading:!1}))}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Ui()&&!Za(),options:{indent:60,childIndent:60,childOffset:0}},{device:()=>Ui()&&Za(),options:{indent:48,childIndent:48,childOffset:0}},{device:()=>mi()&&!Za(),options:{indent:72,childIndent:56,childOffset:8}},{device:()=>mi()&&Za(),options:{indent:58,childIndent:48,childOffset:1}}])}_render(){this.$element().addClass(xze),super._render(),this._moveToContainer(),this._renderCloseIcon(),this._renderClick()}_renderLabel(){super._renderLabel(),this.$element().toggleClass(yze,!!this._$label)}_renderIcon(){super._renderIcon(),this.$element().toggleClass(bze,!this.option("icon"))}_renderCloseIcon(){this._$closeIcon=this._renderButtonIcon(this._$closeIcon,this._options.silent("closeIcon"),Dze),this._$closeIcon.addClass(gV)}_renderClick(){this._clickAction=this._getVisibleActions().length===1?this._getActionComponent()._createActionByOption("onClick"):this._createAction(this._clickHandler.bind(this)),this._setClickAction()}_getVisibleActions(e){var i=e||this.option("actions");return i.filter(n=>n.option("visible"))}_getCurrentOptions(e){var i=dr._getVisibleActions(e),n=this._getDefaultOptions();return delete n.elementAttr,delete n.closeOnOutsideClick,i.length===1?y(JC(i[0]),{position:this._getPosition()}):y(n,{visible:i.length!==0})}_clickHandler(){var e=this._actionItems.filter(r=>r.option("actionVisible")).sort((r,o)=>r.option("index")-o.option("index"));if(e.length!==1){for(var i=e.length-1,n=0;n<e.length;n++)e[n].option("animation",this._getActionAnimation(e[n],n,i)),e[n].option("position",this._getActionPosition(e,n)),e[n]._$wrapper.css("position",this._$wrapper.css("position")),e[n].toggle();_t().floatingActionButtonConfig.shading&&(this._isShadingShown=!this.option("shading"),this.option("shading",this._isShadingShown)),this._$icon.toggleClass(gV),this._$closeIcon.toggleClass(gV)}}_updateZIndexStackPosition(){super._updateZIndexStackPosition();var e=this._overlayStack();e.push(this)}_renderActions(){var e=this.option("actions");if(this._actionItems&&this._actionItems.length&&(this._actionItems.forEach(o=>{o.dispose(),o.$element().remove()}),this._actionItems=[]),this._actionItems=[],e.length!==1)for(var i=0;i<e.length;i++){var n=e[i],r=g("<div>").appendTo(ene(n.$element()));S.off(r,"click"),S.on(r,"click",()=>{this._clickHandler()}),n._options.silent("actionComponent",n),n._options.silent("parentPosition",this._getPosition()),n._options.silent("actionVisible",n._options.silent("visible")),this._actionItems.push(this._createComponent(r,fV,y({},JC(n),{visible:!1})))}}_getActionAnimation(e,i,n){return e._options.silent("animation.show.delay",30*i),e._options.silent("animation.hide.delay",30*(n-i)),e._options.silent("animation")}_getDirectionIndex(e,i){if(i==="auto"){var n=je(this.$content()),r=this.initialOption("indent")+this.initialOption("childIndent")*e.length-n,o=this.$content().offset().top;if(r<o)return-1;var s=je(this._positionController._$wrapperCoveredElement)-n-o;return o>=s?-1:1}return i!=="down"?-1:1}_getActionPosition(e,i){var n=e[i],r=this.initialOption("childOffset"),o=n._options.silent("label")&&!this._$label?this._isPositionLeft(this._getPosition())?r:-r:0,s=this.initialOption("indent")+this.initialOption("childIndent")*i,a=this._getDirectionIndex(e,this.option("direction"))*s,l=n._options.silent("label")?this._isPositionLeft(this._getPosition())?"left":"right":"center";return{of:this.$content(),at:l,my:l,offset:{x:o,y:a}}}_outsideClickHandler(e){if(this._isShadingShown){var i=g(e.target)[0]===this._$wrapper[0];i&&(e.preventDefault(),this._clickHandler())}}_setPosition(){this.option("visible")&&(this._hide(),this._show())}_getPosition(){return this._getDefaultOptions().position}_getInkRippleContainer(){return this.$content()}_optionChanged(e){switch(e.name){case"actions":this._isVisible()&&(this._renderIcon(),this._renderLabel()),this._renderCloseIcon(),this._renderClick(),this._renderActions();break;case"maxSpeedDialActionCount":this._renderActions();break;case"closeIcon":this._renderCloseIcon();break;case"position":super._optionChanged(e),this._setPosition();break;case"label":this._isVisible()&&this._renderLabel(),this._setPosition();break;case"icon":this._isVisible()&&this._renderIcon();break;default:super._optionChanged(e)}}};function QE(t){t._options.silent("onInitializing",null);var e=!1;if(dr){var n=dr.option("actions");if(n.forEach(r=>{if(r._options.silent("id")===t._options.silent("id"))return e=!0,t}),delete dr._options.position,e)n.length===1?dr.option(y({},JC(n[0]),{actions:n,position:dr._getPosition()})):dr.option(y(dr._getCurrentOptions(n),{actions:n}));else{if(dr._getVisibleActions(n).length>=dr.option("maxSpeedDialActionCount")){t.dispose(),Ke.log("W1014");return}n.push(t),dr.option(y(dr._getCurrentOptions(n),{actions:n}))}}else{var i=g("<div>").appendTo(ene(t.$element()));dr=t._createComponent(i,mV,y({},JC(t),{actions:[t]}))}}function tne(t){if(dr){var e=dr.option("actions"),i=e.length;e=e.filter(n=>n._options.silent("id")!==t),i!==e.length&&(e.length?e.length===1?dr.option(y({},JC(e[0]),{actions:e})):dr.option({actions:e}):(dr.dispose(),dr.$element().remove(),dr=null))}}var{getSwatchContainer:Oze}=Au,Eze=sn.add,ZE=class extends Ci{_getDefaultOptions(){return y(super._getDefaultOptions(),{icon:"",onClick:null,label:"",visible:!0,index:0,onContentReady:null,activeStateEnabled:!0,hoverStateEnabled:!0,animation:{show:{type:"pop",duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)",from:{scale:0,opacity:0},to:{scale:1,opacity:1}},hide:{type:"pop",duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)",from:{scale:1,opacity:1},to:{scale:0,opacity:0}}},id:new kt})}_optionChanged(e){switch(e.name){case"onClick":case"icon":case"label":case"visible":case"index":case"onInitializing":QE(this);break;case"animation":case"id":break;default:super._optionChanged(e)}}_render(){this._toggleVisibility(!1),Oze(this.$element())?QE(this):Eze(()=>QE(this))}_dispose(){tne(this._options.silent("id")),super._dispose()}};Be("dxSpeedDialAction",ZE);var ine=ZE;var nne=ine;var vV=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l){super(i,n,r,o,a,l),this._createEventEmitters([{subscribe:"click",emit:"onClick"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"iconChange"},{emit:"indexChange"},{emit:"labelChange"},{emit:"rtlEnabledChange"},{emit:"tabIndexChange"},{emit:"visibleChange"}]),s.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get icon(){return this._getOption("icon")}set icon(i){this._setOption("icon",i)}get index(){return this._getOption("index")}set index(i){this._setOption("index",i)}get label(){return this._getOption("label")}set label(i){this._setOption("label",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}_createInstance(i,n){return new nne(i,n)}ngOnDestroy(){this._destroyWidget()}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-speed-dial-action"]],inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",hint:"hint",hoverStateEnabled:"hoverStateEnabled",icon:"icon",index:"index",label:"label",rtlEnabled:"rtlEnabled",tabIndex:"tabIndex",visible:"visible"},outputs:{onClick:"onClick",onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",iconChange:"iconChange",indexChange:"indexChange",labelChange:"labelChange",rtlEnabledChange:"rtlEnabledChange",tabIndexChange:"tabIndexChange",visibleChange:"visibleChange"},features:[oi([pt,wt,Ge]),Pt],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),_V=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[$i,Wt],Wt]}),t})();var Sze={provide:Ig,useExisting:Wa(()=>eS),multi:!0},eS=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l,d){super(i,n,r,o,l,d),this._watcherHelper=o,this._idh=s,this.touched=u=>{},this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maskChange"},{emit:"maskCharChange"},{emit:"maskInvalidMessageChange"},{emit:"maskRulesChange"},{emit:"maxLengthChange"},{emit:"modeChange"},{emit:"nameChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"showClearButtonChange"},{emit:"showMaskModeChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useMaskedValueChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),a.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get buttons(){return this._getOption("buttons")}set buttons(i){this._setOption("buttons",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(i){this._setOption("inputAttr",i)}get isDirty(){return this._getOption("isDirty")}set isDirty(i){this._setOption("isDirty",i)}get isValid(){return this._getOption("isValid")}set isValid(i){this._setOption("isValid",i)}get label(){return this._getOption("label")}set label(i){this._setOption("label",i)}get labelMode(){return this._getOption("labelMode")}set labelMode(i){this._setOption("labelMode",i)}get mask(){return this._getOption("mask")}set mask(i){this._setOption("mask",i)}get maskChar(){return this._getOption("maskChar")}set maskChar(i){this._setOption("maskChar",i)}get maskInvalidMessage(){return this._getOption("maskInvalidMessage")}set maskInvalidMessage(i){this._setOption("maskInvalidMessage",i)}get maskRules(){return this._getOption("maskRules")}set maskRules(i){this._setOption("maskRules",i)}get maxLength(){return this._getOption("maxLength")}set maxLength(i){this._setOption("maxLength",i)}get mode(){return this._getOption("mode")}set mode(i){this._setOption("mode",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get placeholder(){return this._getOption("placeholder")}set placeholder(i){this._setOption("placeholder",i)}get readOnly(){return this._getOption("readOnly")}set readOnly(i){this._setOption("readOnly",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(i){this._setOption("showClearButton",i)}get showMaskMode(){return this._getOption("showMaskMode")}set showMaskMode(i){this._setOption("showMaskMode",i)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(i){this._setOption("spellcheck",i)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(i){this._setOption("stylingMode",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get text(){return this._getOption("text")}set text(i){this._setOption("text",i)}get useMaskedValue(){return this._getOption("useMaskedValue")}set useMaskedValue(i){this._setOption("useMaskedValue",i)}get validationError(){return this._getOption("validationError")}set validationError(i){this._setOption("validationError",i)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(i){this._setOption("validationErrors",i)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(i){this._setOption("validationMessageMode",i)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(i){this._setOption("validationMessagePosition",i)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(i){this._setOption("validationStatus",i)}get value(){return this._getOption("value")}set value(i){this._setOption("value",i)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(i){this._setOption("valueChangeEvent",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}change(i){}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(i){this.setChildren("buttons",i)}_createInstance(i,n){return new gl(i,n)}writeValue(i){this.eventHelper.lockedValueChangeEvent=!0,this.value=i,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(i){this.disabled=i}registerOnChange(i){this.change=i}registerOnTouched(i){this.touched=i}_createWidget(i){super._createWidget(i),this.instance.on("focusOut",n=>{this.eventHelper.fireNgEvent("onBlur",[n])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("buttons",i),this.setupChanges("validationErrors",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-text-box"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,GD,4),i&2){let o;Di(o=Oi())&&(n.buttonsChildren=o)}},hostBindings:function(i,n){i&1&&Nn("valueChange",function(o){return n.change(o)})("onBlur",function(o){return n.touched(o)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isDirty:"isDirty",isValid:"isValid",label:"label",labelMode:"labelMode",mask:"mask",maskChar:"maskChar",maskInvalidMessage:"maskInvalidMessage",maskRules:"maskRules",maxLength:"maxLength",mode:"mode",name:"name",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",showClearButton:"showClearButton",showMaskMode:"showMaskMode",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useMaskedValue:"useMaskedValue",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maskChange:"maskChange",maskCharChange:"maskCharChange",maskInvalidMessageChange:"maskInvalidMessageChange",maskRulesChange:"maskRulesChange",maxLengthChange:"maxLengthChange",modeChange:"modeChange",nameChange:"nameChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",showClearButtonChange:"showClearButtonChange",showMaskModeChange:"showMaskModeChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useMaskedValueChange:"useMaskedValueChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[oi([pt,wt,Sze,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),YC=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[Co,Rs,$i,Wt],Co,Rs,Wt]}),t})();var tS=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l,d){super(i,n,r,o,l,d),this._watcherHelper=o,this._idh=s,this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"itemCollapsed",emit:"onItemCollapsed"},{subscribe:"itemContextMenu",emit:"onItemContextMenu"},{subscribe:"itemExpanded",emit:"onItemExpanded"},{subscribe:"itemHold",emit:"onItemHold"},{subscribe:"itemRendered",emit:"onItemRendered"},{subscribe:"itemSelectionChanged",emit:"onItemSelectionChanged"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"selectAllValueChanged",emit:"onSelectAllValueChanged"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"animationEnabledChange"},{emit:"collapseIconChange"},{emit:"createChildrenChange"},{emit:"dataSourceChange"},{emit:"dataStructureChange"},{emit:"disabledChange"},{emit:"disabledExprChange"},{emit:"displayExprChange"},{emit:"elementAttrChange"},{emit:"expandAllEnabledChange"},{emit:"expandedExprChange"},{emit:"expandEventChange"},{emit:"expandIconChange"},{emit:"expandNodesRecursiveChange"},{emit:"focusStateEnabledChange"},{emit:"hasItemsExprChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"itemHoldTimeoutChange"},{emit:"itemsChange"},{emit:"itemsExprChange"},{emit:"itemTemplateChange"},{emit:"keyExprChange"},{emit:"noDataTextChange"},{emit:"parentIdExprChange"},{emit:"rootValueChange"},{emit:"rtlEnabledChange"},{emit:"scrollDirectionChange"},{emit:"searchEditorOptionsChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"searchValueChange"},{emit:"selectAllTextChange"},{emit:"selectByClickChange"},{emit:"selectedExprChange"},{emit:"selectionModeChange"},{emit:"selectNodesRecursiveChange"},{emit:"showCheckBoxesModeChange"},{emit:"tabIndexChange"},{emit:"useNativeScrollingChange"},{emit:"virtualModeEnabledChange"},{emit:"visibleChange"},{emit:"widthChange"}]),this._idh.setHost(this),a.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(i){this._setOption("accessKey",i)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(i){this._setOption("activeStateEnabled",i)}get animationEnabled(){return this._getOption("animationEnabled")}set animationEnabled(i){this._setOption("animationEnabled",i)}get collapseIcon(){return this._getOption("collapseIcon")}set collapseIcon(i){this._setOption("collapseIcon",i)}get createChildren(){return this._getOption("createChildren")}set createChildren(i){this._setOption("createChildren",i)}get dataSource(){return this._getOption("dataSource")}set dataSource(i){this._setOption("dataSource",i)}get dataStructure(){return this._getOption("dataStructure")}set dataStructure(i){this._setOption("dataStructure",i)}get disabled(){return this._getOption("disabled")}set disabled(i){this._setOption("disabled",i)}get disabledExpr(){return this._getOption("disabledExpr")}set disabledExpr(i){this._setOption("disabledExpr",i)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(i){this._setOption("displayExpr",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get expandAllEnabled(){return this._getOption("expandAllEnabled")}set expandAllEnabled(i){this._setOption("expandAllEnabled",i)}get expandedExpr(){return this._getOption("expandedExpr")}set expandedExpr(i){this._setOption("expandedExpr",i)}get expandEvent(){return this._getOption("expandEvent")}set expandEvent(i){this._setOption("expandEvent",i)}get expandIcon(){return this._getOption("expandIcon")}set expandIcon(i){this._setOption("expandIcon",i)}get expandNodesRecursive(){return this._getOption("expandNodesRecursive")}set expandNodesRecursive(i){this._setOption("expandNodesRecursive",i)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(i){this._setOption("focusStateEnabled",i)}get hasItemsExpr(){return this._getOption("hasItemsExpr")}set hasItemsExpr(i){this._setOption("hasItemsExpr",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get hint(){return this._getOption("hint")}set hint(i){this._setOption("hint",i)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(i){this._setOption("hoverStateEnabled",i)}get itemHoldTimeout(){return this._getOption("itemHoldTimeout")}set itemHoldTimeout(i){this._setOption("itemHoldTimeout",i)}get items(){return this._getOption("items")}set items(i){this._setOption("items",i)}get itemsExpr(){return this._getOption("itemsExpr")}set itemsExpr(i){this._setOption("itemsExpr",i)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(i){this._setOption("itemTemplate",i)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(i){this._setOption("keyExpr",i)}get noDataText(){return this._getOption("noDataText")}set noDataText(i){this._setOption("noDataText",i)}get parentIdExpr(){return this._getOption("parentIdExpr")}set parentIdExpr(i){this._setOption("parentIdExpr",i)}get rootValue(){return this._getOption("rootValue")}set rootValue(i){this._setOption("rootValue",i)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(i){this._setOption("rtlEnabled",i)}get scrollDirection(){return this._getOption("scrollDirection")}set scrollDirection(i){this._setOption("scrollDirection",i)}get searchEditorOptions(){return this._getOption("searchEditorOptions")}set searchEditorOptions(i){this._setOption("searchEditorOptions",i)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(i){this._setOption("searchEnabled",i)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(i){this._setOption("searchExpr",i)}get searchMode(){return this._getOption("searchMode")}set searchMode(i){this._setOption("searchMode",i)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(i){this._setOption("searchTimeout",i)}get searchValue(){return this._getOption("searchValue")}set searchValue(i){this._setOption("searchValue",i)}get selectAllText(){return this._getOption("selectAllText")}set selectAllText(i){this._setOption("selectAllText",i)}get selectByClick(){return this._getOption("selectByClick")}set selectByClick(i){this._setOption("selectByClick",i)}get selectedExpr(){return this._getOption("selectedExpr")}set selectedExpr(i){this._setOption("selectedExpr",i)}get selectionMode(){return this._getOption("selectionMode")}set selectionMode(i){this._setOption("selectionMode",i)}get selectNodesRecursive(){return this._getOption("selectNodesRecursive")}set selectNodesRecursive(i){this._setOption("selectNodesRecursive",i)}get showCheckBoxesMode(){return this._getOption("showCheckBoxesMode")}set showCheckBoxesMode(i){this._setOption("showCheckBoxesMode",i)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(i){this._setOption("tabIndex",i)}get useNativeScrolling(){return this._getOption("useNativeScrolling")}set useNativeScrolling(i){this._setOption("useNativeScrolling",i)}get virtualModeEnabled(){return this._getOption("virtualModeEnabled")}set virtualModeEnabled(i){this._setOption("virtualModeEnabled",i)}get visible(){return this._getOption("visible")}set visible(i){this._setOption("visible",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get itemsChildren(){return this._getOption("items")}set itemsChildren(i){this.setChildren("items",i)}_createInstance(i,n){return new xl(i,n)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("dataSource",i),this.setupChanges("items",i),this.setupChanges("searchExpr",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("searchExpr"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-tree-view"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,lr,4),i&2){let o;Di(o=Oi())&&(n.itemsChildren=o)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",animationEnabled:"animationEnabled",collapseIcon:"collapseIcon",createChildren:"createChildren",dataSource:"dataSource",dataStructure:"dataStructure",disabled:"disabled",disabledExpr:"disabledExpr",displayExpr:"displayExpr",elementAttr:"elementAttr",expandAllEnabled:"expandAllEnabled",expandedExpr:"expandedExpr",expandEvent:"expandEvent",expandIcon:"expandIcon",expandNodesRecursive:"expandNodesRecursive",focusStateEnabled:"focusStateEnabled",hasItemsExpr:"hasItemsExpr",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",itemHoldTimeout:"itemHoldTimeout",items:"items",itemsExpr:"itemsExpr",itemTemplate:"itemTemplate",keyExpr:"keyExpr",noDataText:"noDataText",parentIdExpr:"parentIdExpr",rootValue:"rootValue",rtlEnabled:"rtlEnabled",scrollDirection:"scrollDirection",searchEditorOptions:"searchEditorOptions",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",searchValue:"searchValue",selectAllText:"selectAllText",selectByClick:"selectByClick",selectedExpr:"selectedExpr",selectionMode:"selectionMode",selectNodesRecursive:"selectNodesRecursive",showCheckBoxesMode:"showCheckBoxesMode",tabIndex:"tabIndex",useNativeScrolling:"useNativeScrolling",virtualModeEnabled:"virtualModeEnabled",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onInitialized:"onInitialized",onItemClick:"onItemClick",onItemCollapsed:"onItemCollapsed",onItemContextMenu:"onItemContextMenu",onItemExpanded:"onItemExpanded",onItemHold:"onItemHold",onItemRendered:"onItemRendered",onItemSelectionChanged:"onItemSelectionChanged",onOptionChanged:"onOptionChanged",onSelectAllValueChanged:"onSelectAllValueChanged",onSelectionChanged:"onSelectionChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",animationEnabledChange:"animationEnabledChange",collapseIconChange:"collapseIconChange",createChildrenChange:"createChildrenChange",dataSourceChange:"dataSourceChange",dataStructureChange:"dataStructureChange",disabledChange:"disabledChange",disabledExprChange:"disabledExprChange",displayExprChange:"displayExprChange",elementAttrChange:"elementAttrChange",expandAllEnabledChange:"expandAllEnabledChange",expandedExprChange:"expandedExprChange",expandEventChange:"expandEventChange",expandIconChange:"expandIconChange",expandNodesRecursiveChange:"expandNodesRecursiveChange",focusStateEnabledChange:"focusStateEnabledChange",hasItemsExprChange:"hasItemsExprChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",itemHoldTimeoutChange:"itemHoldTimeoutChange",itemsChange:"itemsChange",itemsExprChange:"itemsExprChange",itemTemplateChange:"itemTemplateChange",keyExprChange:"keyExprChange",noDataTextChange:"noDataTextChange",parentIdExprChange:"parentIdExprChange",rootValueChange:"rootValueChange",rtlEnabledChange:"rtlEnabledChange",scrollDirectionChange:"scrollDirectionChange",searchEditorOptionsChange:"searchEditorOptionsChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",searchValueChange:"searchValueChange",selectAllTextChange:"selectAllTextChange",selectByClickChange:"selectByClickChange",selectedExprChange:"selectedExprChange",selectionModeChange:"selectionModeChange",selectNodesRecursiveChange:"selectNodesRecursiveChange",showCheckBoxesModeChange:"showCheckBoxesModeChange",tabIndexChange:"tabIndexChange",useNativeScrollingChange:"useNativeScrollingChange",virtualModeEnabledChange:"virtualModeEnabledChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),rne=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[Tn,Cg,Co,Rs,$i,Wt],Tn,Cg,Co,Rs,Wt]}),t})();var Ize=["*"],CV=(()=>{class t extends tn{constructor(i,n,r,o,s,a,l){super(i,n,r,o,a,l),this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"widthChange"}]),s.setHost(this)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}_createInstance(i,n){return new _Z(i,n)}ngOnDestroy(){this._destroyWidget()}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-validation-group"]],inputs:{elementAttr:"elementAttr",height:"height",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",elementAttrChange:"elementAttrChange",heightChange:"heightChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge]),Pt],ngContentSelectors:Ize,decls:1,vars:0,template:function(i,n){i&1&&(tr(),Un(0))},encapsulation:2}),t})(),XC=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[$i,Wt],Wt]}),t})();var xV=(()=>{class t extends v6{constructor(i,n,r,o,s,a,l,d,u){super(i,n,r,o,d,u),this._watcherHelper=o,this._idh=s,this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"validated",emit:"onValidated"},{emit:"adapterChange"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"nameChange"},{emit:"validationGroupChange"},{emit:"validationRulesChange"},{emit:"widthChange"}]),this.parentElement=this.getParentElement(a),this._idh.setHost(this),l.setHost(this)}get adapter(){return this._getOption("adapter")}set adapter(i){this._setOption("adapter",i)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(i){this._setOption("elementAttr",i)}get height(){return this._getOption("height")}set height(i){this._setOption("height",i)}get name(){return this._getOption("name")}set name(i){this._setOption("name",i)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(i){this._setOption("validationGroup",i)}get validationRules(){return this._getOption("validationRules")}set validationRules(i){this._setOption("validationRules",i)}get width(){return this._getOption("width")}set width(i){this._setOption("width",i)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(i){this.setChildren("validationRules",i)}_createInstance(i,n){return this.parentElement?new Fd(this.parentElement,n):new Fd(i,n)}getParentElement(i){if(i)return i.getHost().element.nativeElement}ngOnDestroy(){this._destroyWidget()}ngOnChanges(i){super.ngOnChanges(i),this.setupChanges("validationRules",i)}setupChanges(i,n){i in this._optionsToUpdate||this._idh.setup(i,n)}ngDoCheck(){this._idh.doCheck("validationRules"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(i,n){let r=this._idh.setupSingle(i,n),o=this._idh.getChanges(i,n)!==null;(r||o)&&super._setOption(i,n)}}return t.\u0275fac=function(i){return new(i||t)(oe(Xt),oe(gt),oe(pt),oe(wt),oe(Si),oe(Ge,13),oe(Ge),oe(Ji),oe(ni))},t.\u0275cmp=rt({type:t,selectors:[["dx-validator"]],contentQueries:function(i,n,r){if(i&1&&Hi(r,wh,4),i&2){let o;Di(o=Oi())&&(n.validationRulesChildren=o)}},inputs:{adapter:"adapter",elementAttr:"elementAttr",height:"height",name:"name",validationGroup:"validationGroup",validationRules:"validationRules",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValidated:"onValidated",adapterChange:"adapterChange",elementAttrChange:"elementAttrChange",heightChange:"heightChange",nameChange:"nameChange",validationGroupChange:"validationGroupChange",validationRulesChange:"validationRulesChange",widthChange:"widthChange"},features:[oi([pt,wt,Ge,Si]),Pt,cn],decls:0,vars:0,template:function(i,n){},encapsulation:2}),t})(),QC=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_e({type:t}),t.\u0275inj=Ce({imports:[[kP,fd,$i,Wt],kP,fd,Wt]}),t})();var Tze=t=>({icon:"menu",stylingMode:"text",onClick:t});function Mze(t,e){if(t&1&&si(0,"dxi-item",7),t&2){let i=gr();ri("options",Qp(1,Tze,i.toggleMenu))}}function Aze(t,e){if(t&1&&(mt(0,"h4",8),Rr(1),Ot()),t&2){let i=gr();zt(),Ga(i.title)}}function Rze(t,e){if(t&1&&(mt(0,"div"),si(1,"app-user-panel",10),Ot()),t&2){let i=gr(2);zt(),ri("menuItems",i.userMenuItems)}}function Fze(t,e){t&1&&(mt(0,"div")(1,"dx-button",9),er(2,Rze,2,1,"div",6),Ot()()),t&2&&(zt(2),ri("dxTemplateOf","content"))}function Pze(t,e){if(t&1&&(mt(0,"div"),si(1,"app-user-panel",11),Ot()),t&2){let i=gr();zt(),ri("menuItems",i.userMenuItems)}}var bV=(()=>{let e=class e{constructor(n,r){this.authService=n,this.router=r,this.menuToggle=new Vi,this.menuToggleEnabled=!1,this.userMenuItems=[{text:"Profile",icon:"fa-duotone fa-id-card",onClick:()=>{this.router.navigate(["/profile"])}},{text:"Logout",icon:"fa-duotone fa-right-from-bracket",onClick:()=>{this.authService.logOut()}}],this.toggleMenu=()=>{this.menuToggle.emit()}}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)(oe(Ql),oe(Qr))},e.\u0275cmp=rt({type:e,selectors:[["app-header"]],inputs:{menuToggleEnabled:"menuToggleEnabled",title:"title"},outputs:{menuToggle:"menuToggle"},decls:9,vars:4,consts:[[1,"header-toolbar"],["location","before","widget","dxButton","cssClass","menu-button",3,"options",4,"ngIf"],["location","before"],["class","header-title d-inline",4,"ngIf"],["src","/assets/wyre_logo.png",1,"d-inline",2,"margin-left","20px","width","40px"],["location","after","locateInMenu","auto","menuItemTemplate","menuItem"],[4,"dxTemplate","dxTemplateOf"],["location","before","widget","dxButton","cssClass","menu-button",3,"options"],[1,"header-title","d-inline"],["width","210px","height","100%","stylingMode","text",1,"user-button","authorization"],["menuMode","context",3,"menuItems"],["menuMode","list",3,"menuItems"]],template:function(r,o){r&1&&(mt(0,"header")(1,"dx-toolbar",0),er(2,Mze,1,3,"dxi-item",1),mt(3,"dxi-item",2),er(4,Aze,2,1,"h4",3),si(5,"img",4),Ot(),mt(6,"dxi-item",5),er(7,Fze,3,1,"div",6),Ot(),er(8,Pze,2,1,"div",6),Ot()()),r&2&&(zt(2),ri("ngIf",o.menuToggleEnabled),zt(2),ri("ngIf",o.title),zt(3),ri("dxTemplateOf","item"),zt(),ri("dxTemplateOf","menuItem"))},dependencies:[ef,Th,hg,$6,Z6,lr],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;min-height:100%;height:100%}*[_ngcontent-%COMP%]{box-sizing:border-box}.content[_ngcontent-%COMP%]{line-height:1.5;flex-grow:1}.content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;margin-top:20px;margin-bottom:20px}.container[_ngcontent-%COMP%]{height:100%;flex-direction:column;display:flex}.layout-body[_ngcontent-%COMP%]{flex:1;min-height:0}.side-nav-outer-toolbar[_ngcontent-%COMP%]   .dx-drawer[_ngcontent-%COMP%]{height:calc(100% - 56px)}.content-block[_ngcontent-%COMP%]{margin-left:40px;margin-right:40px;margin-top:20px}.screen-x-small[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.responsive-paddings[_ngcontent-%COMP%]{padding:20px}.screen-large[_ngcontent-%COMP%]   .responsive-paddings[_ngcontent-%COMP%]{padding:40px}.dx-card.wide-card[_ngcontent-%COMP%]{border-radius:0;margin-left:0;margin-right:0;border-right:0;border-left:0}.with-footer[_ngcontent-%COMP%] > .dx-scrollable-wrapper[_ngcontent-%COMP%] > .dx-scrollable-container[_ngcontent-%COMP%] > .dx-scrollable-content[_ngcontent-%COMP%]{height:100%}.with-footer[_ngcontent-%COMP%] > .dx-scrollable-wrapper[_ngcontent-%COMP%] > .dx-scrollable-container[_ngcontent-%COMP%] > .dx-scrollable-content[_ngcontent-%COMP%] > .dx-scrollview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%}[_nghost-%COMP%]{flex:0 0 auto;z-index:1;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}[_nghost-%COMP%]     .dx-toolbar .dx-toolbar-item.menu-button>.dx-toolbar-item-content .dx-icon{color:#337ab7}  .dx-toolbar.header-toolbar .dx-toolbar-items-container .dx-toolbar-after{padding:0 40px}.screen-x-small[_nghost-%COMP%]     .dx-toolbar.header-toolbar .dx-toolbar-items-container .dx-toolbar-after, .screen-x-small   [_nghost-%COMP%]     .dx-toolbar.header-toolbar .dx-toolbar-items-container .dx-toolbar-after{padding:0 20px}  .dx-toolbar .dx-toolbar-item.menu-button{width:60px;text-align:center;padding:0}  .header-title .dx-item-content{padding:0;margin:0}.dx-theme-generic[_nghost-%COMP%]   .dx-toolbar[_ngcontent-%COMP%], .dx-theme-generic   [_nghost-%COMP%]   .dx-toolbar[_ngcontent-%COMP%]{padding:10px 0}.dx-theme-generic[_nghost-%COMP%]   .user-button[_ngcontent-%COMP%] > .dx-button-content[_ngcontent-%COMP%], .dx-theme-generic   [_nghost-%COMP%]   .user-button[_ngcontent-%COMP%] > .dx-button-content[_ngcontent-%COMP%]{padding:3px}"]});let t=e;return t})(),iS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[Mo,Mh,G6,nO]});let t=e;return t})();var nS=(()=>{let e=class e{constructor(n,r){this.authService=n,this.router=r,this.login="",this.password=""}onLoginClick(n){n.validationGroup.validate().isValid&&(this.authService.logIn(this.login,this.password),n.validationGroup.reset())}};e.\u0275fac=function(r){return new(r||e)(oe(Ql),oe(Qr))},e.\u0275cmp=rt({type:e,selectors:[["app-login-form"]],decls:17,vars:2,consts:[[1,"login-header"],["src","/assets/wyre_logo.png","width","80px",2,"margin-left","-10px","margin-top","-50px","margin-bottom","-40px"],[1,"title"],["src","/assets/xtrace-logo.png",1,"logo-image",2,"margin-top","-20px","margin-bottom","-40px"],[1,"dx-field"],["placeholder","Login","width","100%",3,"value","valueChange"],["type","required","message","Login is required"],["mode","password","placeholder","Password","width","100%",3,"value","valueChange"],["type","required","message","Password is required"],["type","default","text","Login","width","100%",3,"onClick"]],template:function(r,o){r&1&&(mt(0,"div")(1,"dx-validation-group")(2,"div",0)(3,"div"),si(4,"img",1),Ot(),mt(5,"div",2),si(6,"img",3),Ot()(),mt(7,"div",4)(8,"dx-text-box",5),$c("valueChange",function(a){return Xp(o.login,a)||(o.login=a),a}),mt(9,"dx-validator"),si(10,"dxi-validation-rule",6),Ot()()(),mt(11,"div",4)(12,"dx-text-box",7),$c("valueChange",function(a){return Xp(o.password,a)||(o.password=a),a}),mt(13,"dx-validator"),si(14,"dxi-validation-rule",8),Ot()()(),mt(15,"div",4)(16,"dx-button",9),Nn("onClick",function(a){return o.onLoginClick(a)}),Ot()()()()),r&2&&(zt(8),jc("value",o.login),zt(4),jc("value",o.password))},dependencies:[wh,eS,CV,xV,Th],styles:[".login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.login-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#337ab7;font-weight:700;font-size:30px;margin:0}"]});let t=e;return t})(),sne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[Mo,t_,ip,YC,XC,QC,Mh,Xie]});let t=e;return t})();var ane=[{text:"Home",path:"/home",icon:"home"},{text:"Into Butchery",icon:"fa-regular fa-steak",path:"/data/into-butchery"}];var Nze=["*"],DV=(()=>{let e=class e{set selectedItem(n){this._selectedItem=n,this.menu.instance&&this.menu.instance.selectItem(n)}get items(){return this._items||(this._items=ane.map(n=>(n.path&&!/^\//.test(n.path)&&(n.path=`/${n.path}`),nn(ht({},n),{expanded:!this._compactMode})))),this._items}get compactMode(){return this._compactMode}set compactMode(n){this._compactMode=n,this.menu.instance&&(n?this.menu.instance.collapseAll():this.menu.instance.expandItem(this._selectedItem))}constructor(n){this.elementRef=n,this.selectedItemChanged=new Vi,this.openMenu=new Vi,this._compactMode=!1}onItemClick(n){this.selectedItemChanged.emit(n)}ngAfterViewInit(){u6(this.elementRef.nativeElement,"dxclick",n=>{this.openMenu.next(n)})}ngOnDestroy(){h6(this.elementRef.nativeElement,"dxclick")}};e.\u0275fac=function(r){return new(r||e)(oe(Xt))},e.\u0275cmp=rt({type:e,selectors:[["app-side-navigation-menu"]],viewQuery:function(r,o){if(r&1&&jm(tS,7),r&2){let s;Di(s=Oi())&&(o.menu=s.first)}},inputs:{selectedItem:"selectedItem",compactMode:"compactMode"},outputs:{selectedItemChanged:"selectedItemChanged",openMenu:"openMenu"},ngContentSelectors:Nze,decls:3,vars:2,consts:[[1,"menu-container"],["keyExpr","path","selectionMode","single","expandEvent","click","width","100%",3,"items","focusStateEnabled","onItemClick"]],template:function(r,o){r&1&&(tr(),Un(0),mt(1,"div",0)(2,"dx-tree-view",1),Nn("onItemClick",function(a){return o.onItemClick(a)}),Ot()()),r&2&&(zt(2),ri("items",o.items)("focusStateEnabled",!1))},dependencies:[tS],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;min-height:100%;height:100%}*[_ngcontent-%COMP%]{box-sizing:border-box}.content[_ngcontent-%COMP%]{line-height:1.5;flex-grow:1}.content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;margin-top:20px;margin-bottom:20px}.container[_ngcontent-%COMP%]{height:100%;flex-direction:column;display:flex}.layout-body[_ngcontent-%COMP%]{flex:1;min-height:0}.side-nav-outer-toolbar[_ngcontent-%COMP%]   .dx-drawer[_ngcontent-%COMP%]{height:calc(100% - 56px)}.content-block[_ngcontent-%COMP%]{margin-left:40px;margin-right:40px;margin-top:20px}.screen-x-small[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.responsive-paddings[_ngcontent-%COMP%]{padding:20px}.screen-large[_ngcontent-%COMP%]   .responsive-paddings[_ngcontent-%COMP%]{padding:40px}.dx-card.wide-card[_ngcontent-%COMP%]{border-radius:0;margin-left:0;margin-right:0;border-right:0;border-left:0}.with-footer[_ngcontent-%COMP%] > .dx-scrollable-wrapper[_ngcontent-%COMP%] > .dx-scrollable-container[_ngcontent-%COMP%] > .dx-scrollable-content[_ngcontent-%COMP%]{height:100%}.with-footer[_ngcontent-%COMP%] > .dx-scrollable-wrapper[_ngcontent-%COMP%] > .dx-scrollable-container[_ngcontent-%COMP%] > .dx-scrollable-content[_ngcontent-%COMP%] > .dx-scrollview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%}[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100%;height:100%;width:250px!important}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]{min-height:100%;display:flex;flex:1}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview{white-space:nowrap}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-item{padding-left:0;flex-direction:row-reverse}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-item .dx-icon{width:60px!important;margin:0!important}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-node{padding:0!important}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-toggle-item-visibility{right:10px;left:auto}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-rtl .dx-treeview-toggle-item-visibility{left:10px;right:auto}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-node[aria-level="1"]{font-weight:700;border-bottom:1px solid #dddddd}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-node[aria-level="2"] .dx-treeview-item-content{font-weight:400;padding:0 60px}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-node-container .dx-treeview-node.dx-state-selected:not(.dx-state-focused)>.dx-treeview-item{background:transparent}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-node-container .dx-treeview-node.dx-state-selected>.dx-treeview-item *{color:#337ab7}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]     .dx-treeview .dx-treeview-node-container .dx-treeview-node:not(.dx-state-focused)>.dx-treeview-item.dx-state-hover{background-color:#fff}[_nghost-%COMP%]   .menu-container[_ngcontent-%COMP%]   .dx-theme-generic[_nghost-%COMP%]     .dx-treeview .dx-treeview-node-container .dx-treeview-node.dx-state-selected.dx-state-focused>.dx-treeview-item *, .dx-theme-generic   [_nghost-%COMP%]     .dx-treeview .dx-treeview-node-container .dx-treeview-node.dx-state-selected.dx-state-focused>.dx-treeview-item *{color:inherit}']});let t=e;return t})(),rS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[rne]});let t=e;return t})();function Lze(t,e){if(t&1){let i=Yp();mt(0,"app-side-navigation-menu",6),Nn("selectedItemChanged",function(r){Bc(i);let o=gr();return Vc(o.navigationChanged(r))})("openMenu",function(){Bc(i);let r=gr();return Vc(r.navigationClick())}),Ot()}if(t&2){let i=gr();ri("compactMode",!i.menuOpened)("selectedItem",i.selectedRoute)}}var Bze=["*",[["app-footer"]]],Vze=["*","app-footer"],dne=(()=>{let e=class e{constructor(n,r){this.screen=n,this.router=r,this.selectedRoute="",this.temporaryMenuOpened=!1,this.menuMode="shrink",this.menuRevealMode="expand",this.minMenuSize=0,this.shaderEnabled=!1}ngOnInit(){this.menuOpened=this.screen.sizes["screen-large"],this.router.events.subscribe(n=>{n instanceof ma&&(this.selectedRoute=n.urlAfterRedirects.split("?")[0])}),this.screen.changed.subscribe(()=>this.updateDrawer()),this.updateDrawer()}updateDrawer(){let n=this.screen.sizes["screen-x-small"],r=this.screen.sizes["screen-large"];this.menuMode=r?"shrink":"overlap",this.menuRevealMode=n?"slide":"expand",this.minMenuSize=n?0:60,this.shaderEnabled=!r}get hideMenuAfterNavigation(){return this.menuMode==="overlap"||this.temporaryMenuOpened}get showMenuAfterClick(){return!this.menuOpened}navigationChanged(n){let r=n.itemData.path,o=n.event;r&&this.menuOpened?(n.node?.selected?o?.preventDefault():(this.router.navigate([r]),this.scrollView.instance.scrollTo(0)),this.hideMenuAfterNavigation&&(this.temporaryMenuOpened=!1,this.menuOpened=!1,o?.stopPropagation())):o?.preventDefault()}navigationClick(){this.showMenuAfterClick&&(this.temporaryMenuOpened=!0,this.menuOpened=!0)}};e.\u0275fac=function(r){return new(r||e)(oe(dh),oe(Qr))},e.\u0275cmp=rt({type:e,selectors:[["app-side-nav-outer-toolbar"]],viewQuery:function(r,o){if(r&1&&jm(np,7),r&2){let s;Di(s=Oi())&&(o.scrollView=s.first)}},inputs:{title:"title"},ngContentSelectors:Vze,decls:8,vars:9,consts:[[1,"layout-header",3,"menuToggleEnabled","title","menuToggle"],["position","before",1,"layout-body",3,"closeOnOutsideClick","openedStateMode","revealMode","minSize","shading","opened","openedChange"],["class","dx-swatch-additional",3,"compactMode","selectedItem","selectedItemChanged","openMenu",4,"dxTemplate","dxTemplateOf"],[1,"with-footer"],[1,"content"],[1,"content-block"],[1,"dx-swatch-additional",3,"compactMode","selectedItem","selectedItemChanged","openMenu"]],template:function(r,o){r&1&&(tr(Bze),mt(0,"app-header",0),Nn("menuToggle",function(){return o.menuOpened=!o.menuOpened}),Ot(),mt(1,"dx-drawer",1),$c("openedChange",function(a){return Xp(o.menuOpened,a)||(o.menuOpened=a),a}),er(2,Lze,1,2,"app-side-navigation-menu",2),mt(3,"dx-scroll-view",3)(4,"div",4),Un(5),Ot(),mt(6,"div",5),Un(7,1),Ot()()()),r&2&&(ri("menuToggleEnabled",!0)("title",o.title),zt(),ri("closeOnOutsideClick",o.shaderEnabled)("openedStateMode",o.menuMode)("revealMode",o.menuRevealMode)("minSize",o.minMenuSize)("shading",o.shaderEnabled),jc("opened",o.menuOpened),zt(),ri("dxTemplateOf","panel"))},dependencies:[DV,Uie,hg,bV,np],styles:["[_nghost-%COMP%]{flex-direction:column;display:flex;height:100%;width:100%}.layout-header[_ngcontent-%COMP%]{z-index:1501}"]});let t=e;return t})(),une=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[rS,YE,iS,rm,Mo]});let t=e;return t})();var zze=["*"],cne=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=rt({type:e,selectors:[["app-single-card"]],inputs:{title:"title",description:"description"},ngContentSelectors:zze,decls:8,vars:2,consts:[["height","100%","width","100%",1,"with-footer","single-card"],[1,"dx-card","content"],[1,"header"],[1,"title"],[1,"description"]],template:function(r,o){r&1&&(tr(),mt(0,"dx-scroll-view",0)(1,"div",1)(2,"div",2)(3,"div",3),Rr(4),Ot(),mt(5,"div",4),Rr(6),Ot()(),Un(7),Ot()()),r&2&&(zt(4),Ga(o.title),zt(2),Ga(o.description))},dependencies:[np],styles:["[_nghost-%COMP%]{width:100%;height:100%}.single-card[_ngcontent-%COMP%]   .dx-card[_ngcontent-%COMP%]{width:330px;margin:auto;padding:40px;flex-grow:0}.screen-x-small[_nghost-%COMP%]   .single-card[_ngcontent-%COMP%]   .dx-card[_ngcontent-%COMP%], .screen-x-small   [_nghost-%COMP%]   .single-card[_ngcontent-%COMP%]   .dx-card[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0;box-shadow:none;margin:0;border:0;flex-grow:1}.single-card[_ngcontent-%COMP%]   .dx-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:30px}.single-card[_ngcontent-%COMP%]   .dx-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;line-height:28px;font-weight:500;font-size:24px}.single-card[_ngcontent-%COMP%]   .dx-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#333333b3;line-height:18px}"]});let t=e;return t})(),hne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[Mo,rm]});let t=e;return t})();function jze(t,e){if(t&1&&(fT(0),mt(1,"app-side-nav-outer-toolbar",2),si(2,"router-outlet"),mt(3,"app-footer"),Rr(4),si(5,"br"),Rr(6," Powered By "),mt(7,"a",3),si(8,"img",4),Ot(),Rr(9),Ot()(),gT()),t&2){let i=gr();zt(),mT("title",i.appInfo.title),zt(3),$m(" Copyright \xA9 ",i.appInfo.currentYear," XTRACE SYSTEMS LIMITED "),zt(5),$m(" Updated: ",i.version," ")}}function $ze(t,e){t&1&&(mt(0,"app-single-card"),si(1,"app-login-form"),Ot())}var pne=(()=>{let e=class e{get getClass(){return Object.keys(this.screen.sizes).filter(n=>this.screen.sizes[n]).join(" ")}constructor(n,r,o,s,a){this.authService=n,this.screen=r,this.appInfo=o,this.zone=s,this.deviceService=a,this.version=""}ngOnInit(){window.xTraceScanApplication={zone:this.zone,componentFn:n=>this.xTraceScanEvent(n),component:this}}xTraceScanEvent(n){return console.log(`xTraceScanEvent: ${n}`),this.deviceService.OnBarcodeScanned(n),`xTraceScanEvent: ${n}`}isAuthenticated(){return this.authService.isLoggedIn}};e.\u0275fac=function(r){return new(r||e)(oe(Ql),oe(dh),oe(Sb),oe(gt),oe(r_))},e.\u0275cmp=rt({type:e,selectors:[["app-root"]],hostVars:2,hostBindings:function(r,o){r&2&&Uj(o.getClass)},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["unauthenticated",""],[3,"title"],["href","https://www.xtrace.app","target","-blank"],["src","/assets/logo.svg","width","80px",2,"margin-left","-10px","margin-top","-15px","margin-bottom","-15px"]],template:function(r,o){if(r&1&&er(0,jze,10,3,"ng-container",0)(1,$ze,2,0,"ng-template",null,1,n$),r&2){let s=e$(2);ri("ngIf",o.isAuthenticated())("ngIfElse",s)}},dependencies:[ef,dne,cne,e3,nS,Yv],styles:["[_nghost-%COMP%]{background-color:#f2f2f2;display:flex;height:100%;width:100%}"]});let t=e;return t})();var fne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({imports:[rS,YE,iS,nO,rm,Mo]});let t=e;return t})();function Gze(t,e){if(t&1&&(mt(0,"div")(1,"div"),Rr(2),Ot()()),t&2){let i=e.$implicit;zt(2),Ga(i)}}var gne=(()=>{let e=class e{constructor(n){this.deviceService=n,this.barcodesData=[]}ngOnInit(){this.deviceService.scannedBarcode$.subscribe(n=>{n&&this.barcodesData.push(n)})}};e.\u0275fac=function(r){return new(r||e)(oe(r_))},e.\u0275cmp=rt({type:e,selectors:[["ng-component"]],decls:7,vars:1,consts:[[1,"content-block"],[1,"dx-card","responsive-paddings"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(mt(0,"h2",0),Rr(1,"Home"),Ot(),mt(2,"div",0)(3,"div",1)(4,"h4"),Rr(5,"scanned barcodes"),Ot(),er(6,Gze,3,1,"div",2),Ot()()),r&2&&(zt(6),ri("ngForOf",o.barcodesData))},dependencies:[O$],styles:[".logos-container[_ngcontent-%COMP%]{margin:20px 0 40px;text-align:center}.logos-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:inline-block}.devextreme-logo[_ngcontent-%COMP%]{width:200px;height:34px;margin-bottom:13px}.angular-logo[_ngcontent-%COMP%]{width:220px;height:62px}.plus[_ngcontent-%COMP%]{margin:15px 10px;width:22px;height:22px}.screen-x-small[_nghost-%COMP%]   .logos-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .screen-x-small   [_nghost-%COMP%]   .logos-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;display:block}.screen-x-small[_nghost-%COMP%]   .logos-container[_ngcontent-%COMP%]   svg.plus[_ngcontent-%COMP%], .screen-x-small   [_nghost-%COMP%]   .logos-container[_ngcontent-%COMP%]   svg.plus[_ngcontent-%COMP%]{margin:0}"]});let t=e;return t})();var mne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=rt({type:e,selectors:[["app-data"]],decls:1,vars:0,template:function(r,o){r&1&&si(0,"router-outlet")},dependencies:[Yv]});let t=e;return t})();function Uze(t,e){if(t&1){let i=Yp();mt(0,"div")(1,"dx-button",30),Nn("onClick",function(){Bc(i);let r=gr();return Vc(r.startNewBatch())}),si(2,"i",31),Ot()()}}function Kze(t,e){if(t&1){let i=Yp();mt(0,"div")(1,"dx-button",30),Nn("onClick",function(){Bc(i);let r=gr();return Vc(r.startNewBatch())}),si(2,"i",32),Ot()()}}function qze(t,e){if(t&1&&(mt(0,"div",33),si(1,"dx-radio-group",34),Ot()),t&2){let i=gr();zt(),ri("items",i.printOptions)("value",i.printOptions[0])}}var Jze=t=>({dataSource:t,displayExpr:"buttonText",valueExpr:"id"}),Yze=t=>({dataSource:t,displayExpr:"description",valueExpr:"id"}),om=()=>({readOnly:!0}),Xze=()=>({readOnly:!1}),vne=(()=>{let e=class e{constructor(n){this.route=n,this.formData={},this.species=[],this.batches=[],this.printOptions=[{text:"No Label"},{text:"Unit Label"}],this.newBatchButtonOptions={text:"Start New Batch",stylingMode:"outlined",type:"normal",onClick:function(){},cssClass:"w-100"}}ngOnInit(){this.species=this.route.snapshot.data.species}onFormSubmit(n){}startNewBatch(){i0("not implemented yet","error")}};e.\u0275fac=function(r){return new(r||e)(oe(Nu))},e.\u0275cmp=rt({type:e,selectors:[["app-into-butchery"]],decls:37,vars:43,consts:[[1,"content-block"],[1,"dx-card","responsive-paddings"],["id","form-container"],["action","your-action",3,"submit"],["id","form",3,"formData","labelMode"],["itemType","group","caption","Batch Details"],[3,"xs","lg","md","sm"],["dataField","Species","editorType","dxSelectBox",3,"colSpan","editorOptions"],["type","required","message","Species is required"],["dataField","Batch","editorType","dxSelectBox",3,"colSpan","editorOptions"],["type","required","message","Batch is required"],[4,"dxTemplate"],["itemType","group","caption","Item Details"],["dataField","shortGuid",3,"editorOptions","colSpan"],["text","Item Id"],["dataField","productText",3,"editorOptions","colSpan"],["text","Product"],["dataField","useBy",3,"editorOptions","colSpan"],["text","Use By"],["dataField","otherDetails","editorType","dxTextArea",3,"editorOptions","colSpan"],["text","Other Details"],["itemType","group","caption","Transaction Details"],["dataField","units","editorType","dxNumberBox",3,"editorOptions"],["text","Quantity"],["dataField","netWeight",3,"editorOptions"],["text","Calculated Weight"],["dataField","printOption",3,"editorOptions","colSpan"],["text","Print Options"],["class","w-100 text-center",4,"dxTemplate"],["label","Register",3,"index","visible"],["type","normal",1,"w-100","dx-editor-outlined","dx-texteditor-with-floating-label",3,"onClick"],[1,"fa-regular","fa-plus-large"],[1,"fa-regular","fa-keyboard"],[1,"w-100","text-center"],["layout","horizontal",3,"items","value"]],template:function(r,o){r&1&&(mt(0,"h2",0),Rr(1,"Into Butchery"),Ot(),mt(2,"div",0)(3,"div",1)(4,"div",2)(5,"form",3),Nn("submit",function(a){return o.onFormSubmit(a)}),mt(6,"dx-form",4)(7,"dxi-item",5),si(8,"dxo-col-count-by-screen",6),mt(9,"dxi-item",7),si(10,"dxi-validation-rule",8),Ot(),mt(11,"dxi-item",9),si(12,"dxi-validation-rule",10),Ot(),mt(13,"dxi-item"),er(14,Uze,3,0,"div",11),Ot()(),mt(15,"dxi-item",12),si(16,"dxo-col-count-by-screen",6),mt(17,"dxi-item",13),si(18,"dxo-label",14),Ot(),mt(19,"dxi-item"),er(20,Kze,3,0,"div",11),Ot(),mt(21,"dxi-item",15),si(22,"dxo-label",16),Ot(),mt(23,"dxi-item",17),si(24,"dxo-label",18),Ot(),mt(25,"dxi-item",19),si(26,"dxo-label",20),Ot()(),mt(27,"dxi-item",21),si(28,"dxo-col-count-by-screen",6),mt(29,"dxi-item",22),si(30,"dxo-label",23),Ot(),mt(31,"dxi-item",24),si(32,"dxo-label",25),Ot(),mt(33,"dxi-item",26),si(34,"dxo-label",27),er(35,qze,2,2,"div",28),Ot()(),si(36,"dx-speed-dial-action",29),Ot()()()()()),r&2&&(zt(6),ri("formData",o.formData)("labelMode","floating"),zt(2),ri("xs",8)("lg",8)("md",8)("sm",8),zt(),ri("colSpan",3)("editorOptions",Qp(32,Jze,o.species)),zt(2),ri("colSpan",4)("editorOptions",Qp(34,Yze,o.batches)),zt(5),ri("xs",8)("lg",8)("md",8)("sm",8),zt(),ri("editorOptions",Ua(36,om))("colSpan",7),zt(4),ri("editorOptions",Ua(37,om))("colSpan",5),zt(2),ri("editorOptions",Ua(38,om))("colSpan",3),zt(2),ri("editorOptions",Ua(39,om))("colSpan",8),zt(3),ri("xs",2)("lg",2)("md",2)("sm",2),zt(),ri("editorOptions",Ua(40,Xze)),zt(2),ri("editorOptions",Ua(41,om)),zt(2),ri("editorOptions",Ua(42,om))("colSpan",2),zt(3),ri("index",1)("visible",!1))},dependencies:[dV,y6,lr,b6,wh,hg,Th,vV,XE,x9,m9,Gk]});let t=e;return t})();var _ne=(()=>{let e=class e{constructor(){this.token=null,this.baseUrl=`${yu.apiUrl}`,this.apiUrl=`${this.baseUrl}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OV=(()=>{let e=class e extends _ne{constructor(n,r){super(),this.http=n,this.jwt=r}getProducts(){return[]}getSpecies(){return this.http.get(`${this.apiUrl}api/species`)}};e.\u0275fac=function(r){return new(r||e)(Ue(Ym),Ue(Lf))},e.\u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qze=[{path:"home",component:gne,canActivate:[i_]},{path:"login-form",component:nS,canActivate:[i_]},{path:"data",component:mne,canActivate:[i_],data:{claims:["sys.admin","data.admin","scan.user"]},children:[{path:"into-butchery",component:vne,resolve:{products:()=>Xe(OV).getProducts(),species:()=>Xe(OV).getSpecies()}}]},{path:"**",redirectTo:"home"}],Cne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e}),e.\u0275inj=Ce({providers:[i_,{provide:jl,useClass:Jy}],imports:[t_.forRoot(Qze,{useHash:!0}),iV,ip,ob,t_]});let t=e;return t})();var xne="ewogICJmb3JtYXQiOiAxLAogICJjdXN0b21lcklkIjogIjc0MmY2NzA5LTlmMzYtMTFlNi04MGU0LTAwMjU5MGQ5ZDVmZiIsCiAgIm1heFZlcnNpb25BbGxvd2VkIjogMjMyCn0=.nIwodEHVBMhOGh6TdVS5eM4lIKo/fy1EWPrLQmD1pVMgWJNi07q/+lPMITviItXnScIyBlD3xoTItNDGm/xl+Sj03Qf5mWfdd0a180DkR+taOhKhs2vXJM/gZxLbwdzuK8rsng==";function Zze(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var yne=["en-IE",[["a","p"],["am","pm"],["a.m.","p.m."]],[["am","pm"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"EUR","\u20AC","Euro",{JPY:["JP\xA5","\xA5"],USD:["US$","$"]},"ltr",Zze];function eWe(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var bne=["en-GB",[["a","p"],["am","pm"],void 0],[["am","pm"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"GBP","\xA3","British Pound",{JPY:["JP\xA5","\xA5"],USD:["US$","$"]},"ltr",eWe];var wne=hr(Ws());var Ene=hr(Ws());function tWe(t){return t!=null&&t===t.window}var sS={},iWe=sS.hasOwnProperty;["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"].forEach(t=>sS["[object "+t+"]"]=t.toLowerCase());function One(t){return t==null?t+"":typeof t=="object"||typeof t=="function"?sS[sS.toString.call(t)]||"object":typeof t}function rp(t){return One(t)!=="object"||t.nodeType||tWe(t)?!1:!(t.constructor&&!iWe.call(t.constructor.prototype,"isPrototypeOf"))}function aS(t){return typeof t=="string"?!1:t!==null&&typeof t=="object"&&Object.keys(t).length===0}function nWe(t){return One(t)==="function"}function ur(t,e,...i){let n,r,o,s,a,l,d=arguments[0]||{},u=1,h=!1,p=arguments.length;for(typeof d=="boolean"&&(h=d,d=arguments[u]||{},u++),typeof d!="object"&&!nWe(d)&&(d={}),u===p&&(d=this,u--);u<p;u++)if((n=arguments[u])!=null)for(r in n)o=d[r],s=n[r],d!==s&&(h&&s&&(rp(s)||(a=Array.isArray(s)))?(a?(a=!1,l=o&&Array.isArray(o)?o:[]):l=o&&rp(o)?o:{},d[r]=ur(h,l,s)):s!==void 0&&(d[r]=s));return d}var lS=class{constructor(e){this.getAjaxSettings=e}sendRequest(e){let i=this._prepareRequestSettings(e);return Ene.ajax(i)}_prepareRequestSettings(e){return ur({},this.getAjaxSettings(),e)}};var uS=hr(Ws()),rWe=function(t,e,i,n){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(u){try{d(n.next(u))}catch(h){s(h)}}function l(u){try{d(n.throw(u))}catch(h){s(h)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((n=n.apply(t,e||[])).next())})},dS=class{constructor(e){this._executeRequest=(i,n,r,o,s)=>{let a=uS.Deferred();return this._fetch(i,n,r,o,s).then(d=>rWe(this,void 0,void 0,function*(){var u;let h=(u=d.headers.get("content-type"))===null||u===void 0?void 0:u.split(";")[0];if(h==="application/json")try{let p=yield d.json();d.ok?a.resolve(p,"success",Object.assign(Object.assign({},a.promise()),{responseJSON:p})):a.reject(Object.assign(Object.assign({},a.promise()),{responseJSON:p,statusText:p.statusText,status:d.status}),p.statusText)}catch(p){a.reject(Object.assign(Object.assign({},a.promise()),{statusText:p.message,status:d.status}),p.message,p)}else d.ok&&h?a.resolve({result:d,success:!0}):a.reject(Object.assign(Object.assign({},a.promise()),{statusText:d.statusText,status:d.status}),d.statusText)}),d=>{a.reject(Object.assign(Object.assign({},a.promise()),{statusText:d.message,status:0}),d.message)}),a.promise()},this._fetch=(i,n,r,o,s)=>{let a={method:i,cache:o?.cache,headers:o?.headers,body:r,signal:s?.signal},l=this.getFetchSettings();return l&&l.beforeSend&&l.beforeSend(a),fetch(n,a)},this.useFetch=!0,this.getFetchSettings=e||(()=>({}))}sendRequest(e){let{method:i,preparedUrl:n,body:r,params:o}=this._prepareParams(e);return this._executeRequest(i,n,r,o,e.abortController)}_prepareParams(e){var i;let n="GET",r="POST",o=e.type,s=e.data,a=e.url,l=null,d="default",u=uS.param(s);u&&(e.type===n?a.includes("?")?a+=`&${u}`:a+=`?${u}`:e.type===r&&(l=new URLSearchParams(u)));let h={cache:d,headers:Object.assign(Object.assign({},e.headers),(i=this.getFetchSettings())===null||i===void 0?void 0:i.headers)};return{method:o,preparedUrl:a,body:l,params:h}}};function cS(t){return t!=null&&Object.keys(t).length>0}var hS=null,pS={getInstance:function(t){return hS||this._initialize(t),hS},_initialize:function(t){let{ajaxSetup:e,fetchSetup:i}=t??{};if(cS(e?.ajaxSettings)&&cS(i?.fetchSettings))throw new Error("You cannot configure more than one type of request manager. Use either ajaxSetup or fetchSetup for configuration, but not both.");if(cS(e?.ajaxSettings)){pS.initialize(new lS(()=>e.ajaxSettings));return}pS.initialize(new dS(()=>i?.fetchSettings))},initialize:function(t){hS=t}};function Sne(){return hS.useFetch}var Ine={ajaxSettings:{},sendRequest:function(t){if(!Sne())return pS.getInstance().sendRequest((0,wne.extend)({},this.ajaxSettings,t));let e="The request manager is currently configured as Fetch. Use either ajaxSetup or fetchSetup for configuration, but not both.";throw new Error(e)}};var Fne=hr(Ws());function fS(t,e){return(t||[]).map(i=>{let n=i!=null?i.toString():"00";return n.length===1&&(n="0"+n),n}).join(e)}function Tne(t,e){let i=[t.getMonth()+1,t.getDate(),t.getFullYear()],n=fS([t.getHours(),t.getMinutes(),t.getSeconds()],":");if(e==="-"||n==="00:00:00"){let r=fS([i[2],i[0],i[1]],"-");return n==="00:00:00"?r:r+" "+n}return n==="00:00:00"?fS([i[2],i[0],i[1]],"-"):fS(i,"/")+" "+n}function Mne(t){let e=t.split(" "),i=e[0].split("-"),n=[0,0,0];return e.length>1&&(i.length!==3&&(i=e[0].split("/"),i.splice(0,0,i.splice(2,1)[0])),n=e[1].split(":").map(r=>parseInt(r)),n.length!==3)||i.length!==3?null:(i=i.map(r=>parseInt(r)),new Date(i[0],i[1]-1,i[2],n[0],n[1],n[2]))}function oWe(t){ur(EV,t)}function sWe(t,e=gS){let i=SV(t);if(i&&e&&(i.indexOf("&")!==-1||i.indexOf("<u>")!==-1||i.indexOf("</u>")!==-1)){let n={};return n[t]=i.replace("&","").replace("<u>","").replace("</u>",""),oWe(n),n[t]}}function Ane(t){return SV(t)||t}function op(t,e=null,i=gS){let n=e&&SV(e)||Ane(t);return n=e&&sWe(e,i)||n,Rne(n)&&(t=n),Rne(t)?Ane(t):n}var gS=!0,Kni=window.Globalize,EV={},Pne={};function Rne(t){return!!Pne[t]}function SV(t){return EV[t]}function wV(t,e=!0,i){return e?t?t instanceof Date?t:Mne(t):null:i?dN(t,i):dN(t,void 0)}var sm=class t{constructor(){this._hasTemplate=(e,i)=>i&&!!document.getElementById(e)||this._templates.hasOwnProperty(e),this._data={},this._templates={}}static get Instance(){return this._instance||(this._instance=new this)}static get templates(){return t.Instance._templates}static addTemplate(e,i){t.templates[e]=i}static addTemplates(e){ur(t.templates,e)}static extendTemplates(e){for(let i in e){let n;Object.defineProperty(t.templates,i,{configurable:!0,enumerable:!0,get:()=>n||t.templates[e[i]],set:r=>{n=r}})}}static getExistingTemplate(e,i=!0){return t.Instance._hasTemplate(e,i)?e:void 0}};var jo=class{constructor(){this._disposables=[],this.isDisposing=!1}disposeObservableArray(e){e&&e().forEach(i=>{i.dispose&&i.dispose()})}resetObservableArray(e){e&&e([])}disposeArray(e){e&&(e.forEach(i=>{i.dispose&&i.dispose()}),e.splice(0,e.length))}addDisposable(...e){this._disposables.push(...e.map(i=>!i||"dispose"in i?i:{dispose:i}))}dispose(){this.isDisposing||(this.isDisposing=!0,(this._disposables||[]).reverse().forEach(e=>e&&e.dispose&&e.dispose()),this._disposables=[])}removeProperties(){Object.keys(this).forEach(e=>{delete this[e]})}};var IV=class extends jo{constructor(){super(...arguments),this._handlers={}}dispose(){super.dispose(),this._handlers={}}call(e,i){e in this._handlers&&[...this._handlers[e]].forEach(r=>r(i))}addHandler(e,i){e in this._handlers||(this._handlers[e]=[]),this._handlers[e].push(i)}removeHandler(e,i){let n=this._handlers[e].indexOf(i);n!==-1&&this._handlers[e].splice(n,1)}on(e,i){return this.addHandler(e,i),()=>{this._handlers[e]&&this.removeHandler(e,i)}}},sp=class extends IV{call(e,i){if(i&&e==="propertyChanged"||e===`${i?.propertyName}Changed`){let n=i,r=`${n.propertyName}Changed`;super.call(r,n),super.call("propertyChanged",n)}else super.call(e,i)}};var TV="__viewModel__timeout",Il="__viewModel__chunks";function ap(t,e){t.__viewModel&&t.updateViewModel&&(t.deferredUpdateViewModel()?aWe(t,e):t.updateViewModel(e))}function aWe(t,e){if(t.__viewModel&&t.updateViewModel){if(t[TV]&&clearTimeout(t[TV]),t[Il]||(t[Il]={}),"added"in e||"removed"in e){let i=Array.isArray(t[Il][e.propertyName])?t[Il][e.propertyName]:[];t[Il][e.propertyName]=[...i,e]}else t[Il][e.propertyName]=e;t[TV]=setTimeout(()=>{t[Il]&&Object.keys(t[Il]).forEach(i=>{let n=t[Il][i];Array.isArray(n)?n.forEach(r=>t.updateViewModel(r)):t.updateViewModel(n)}),t[Il]={}})}}var kne={push:(t,e)=>{Object.defineProperty(t,"push",{enumerable:!1,configurable:!0,get:()=>(...i)=>{let n=t.length,r=Array.prototype.push.call(t,...i);return e({operation:"push",added:i.map((o,s)=>({item:o,index:n+s})),removed:[],newValue:t}),r}})},splice:(t,e)=>{Object.defineProperty(t,"splice",{enumerable:!1,configurable:!0,get:()=>(i,n,...r)=>{let o=Array.prototype.splice.call(t,i,n,...r);return e({operation:"splice",added:r.map((s,a)=>({item:s,index:i+a})),removed:o&&o.map((s,a)=>({item:s,index:i+a})),newValue:t}),o}})},pop:(t,e)=>{Object.defineProperty(t,"pop",{enumerable:!1,configurable:!0,get:()=>()=>{let i=t.length,n=Array.prototype.pop.call(t);return e({operation:"pop",added:[],removed:[{item:n,index:i-1}],newValue:t}),n}})}},MV=class{_defineProperty(e,i,n,r=()=>{},o){let s=n(),a=null,l=null;r&&r(s),Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get:()=>s,set:d=>{let u=s;s=d;let h=()=>{if(!e.isDisposing&&(u!==s||o?.notify==="always")){let m={propertyName:i,oldValue:u,newValue:s};r&&r(s),e.onPropertyChanged&&e.onPropertyChanged(m),ap(e,m),e.events&&e.events.call("propertyChanged",m)}};if(o?.deferred)a||(a=Promise.resolve().then(()=>{h(),a=null}));else if(o?.rateLimit){if(o.rateLimit.method==="notifyWhenChangesStop")l&&clearTimeout(l);else if(l!==null)return;l=setTimeout(()=>{h(),l=null},o.rateLimit.timeout)}else h()}})}generateArrayProperty(e,i,n,r){this._defineProperty(e,i,()=>n,o=>{if(Array.isArray(o))for(let s in kne)kne[s](o,a=>{let l=Object.assign({propertyName:i},a);e.onPropertyChanged&&e.onPropertyChanged(l),ap(e,l),e.events.call("propertyChanged",l)})},r)}generateProperty(e,i,n,r){this._defineProperty(e,i,()=>n,null,r)}},Hd=new MV;var ZC=class{constructor(e){this.engineType="native",this._options={useRefs:!0,serializeDate:Tne},this._refTable={},this._linkTable={},this._options=ur(this._options,e)}createObjectByInfo(e){return{getInfo:()=>e||[],events:new sp,onPropertyChanged(i){}}}linkObjects(){Object.keys(this._linkTable).forEach(e=>{let i=this._refTable[e];i&&this._linkTable[e].splice(0).forEach(n=>n(i))})}wrapPropertyValue(e){return e}wrapPropertyArrayValue(e){return e}unwrapPropertyValue(e){return e}_getModel(e,i){let n=e;return i.forEach(r=>{n=n[r]}),n}_collectLinks(e,i,n,r){let o=e[r].slice(5),s;this._linkTable[o]=this._linkTable[o]||[],this._linkTable[o].push(a=>s=a),i._restoreLinks||(i._restoreLinks=[]),i._restoreLinks.push(a=>{let l=this._getModel(a,n);return{setRef:d=>{d===-1?delete l[r]:l[r]="#Ref-"+d},obj:()=>s}})}_enumRefs(e,i,n){e._refs||(e._refs=[]),e._refs.push((r,o)=>{this._getModel(r,i)[n]=o})}_collectLinksAndEnumRefs(e,i=null,n=[]){let r=i===null;i=i||e,Object.keys(e).forEach(o=>{e[o]instanceof Object?this._collectLinksAndEnumRefs(e[o],i,[].concat(n,[o])):e[o].indexOf&&e[o].indexOf("#Ref-")===0?this._collectLinks(e,i,n,o):!r&&o==="@Ref"&&this._enumRefs(i,n,o)}),r&&this.linkObjects()}setLinks(e){e.linkObjTable.forEach(i=>{let n=e.objects.indexOf(i.obj());i.setRef(n)})}deserializeProperty(e,i){let n=e.modelName;if(!n)return;let r=i[n]!==void 0?i[n]:e.defaultVal;return this.deserializePropertyValue(e,r)}deserializeDefaultValue(e){return this.deserializePropertyValue(e,e.defaultVal,!1)||e.defaultVal}deserializePropertyValue(e,i,n=!0){if(typeof e=="string")return this.wrapPropertyValue(i);if(e.array)return e.from?e.from(i,this):e.info?this.wrapPropertyArrayValue(Object.keys(i||{}).map(r=>{let o=this.createObjectByInfo(e.info||[]);return this.deserialize(o,i[r]||{}),o})):void 0;if(e.from)return e.from(i,this);if(e.type){let r=new e.type(i,this,e.info);return r._model||this.deserialize(r,i||{},e.info),r}else if(e.info){let r=this.createObjectByInfo(e.info);return this.deserialize(r,i||{}),r}else if(e.modelName)return this.wrapPropertyValue(i);if(n)throw new Error("Invalid info '"+JSON.stringify(e)+"'")}setLinkProperty(e,i,n){return e[i]=n,e[i]}getLinkProperty(e,i){return e[i]}generateProperty(e,i,n){Hd.generateProperty(e,i,n)}generateArrayProperty(e,i,n){Hd.generateArrayProperty(e,i,n)}deserialize(e,i,n=[]){if(!i)return;e._model=ur({},i),e.events||(e.events=new sp),e.getInfo||(e.getInfo=()=>n),n=e.getInfo();let r=i["@Ref"],o=Object.getPrototypeOf(e);n.forEach(s=>{let a=s.propertyName,l=s.modelName;i[l]!==void 0&&delete e._model[l];let d;if(s.link){d=this.wrapPropertyValue(null);let h=i[s.modelName];if(h){let p=h&&h.slice(5);this._linkTable[p]=this._linkTable[p]||[];let m=this;this._linkTable[p].push(function(c){return arguments.length===0?m.getLinkProperty(e,a):m.setLinkProperty(e,a,c)})}}else d=this.deserializeProperty(s,i);let u=Object.getOwnPropertyDescriptor(o,a);d!==void 0&&(!u||u.set)&&this.generateProperty(e,a,d),!(a in e)&&d===void 0&&s.array&&this.generateArrayProperty(e,a,[])}),r&&(this._refTable[r]=e),this.linkObjects()}serialize(e,i,n=null){return!i&&!n?this._serialize(e,[],null):this._serialize(e,i||[],n)}_isSerializableValue(e){return rp(e)&&!aS(e)||Array.isArray(e)&&e.length>0||!Array.isArray(e)&&!rp(e)}serializeProperty(e,i,n,r,o){let s=e.propertyName,a=this.unwrapPropertyValue("_"+s in i?i["_"+s]:i[s]),l=e.defaultVal;e.beforeSerialize&&(a=e.beforeSerialize(a)),e.from&&(l=this.unwrapPropertyValue(e.from(l,this)));let d={};if(e.modelName&&(e.alwaysSerialize||a!=null&&(rp(a)||!aS(a)||Array.isArray(a)&&a.length>0||!Array.isArray(a)&&!rp(a))&&a!==l)){if(e.link)r.linkObjTable.push({obj:()=>a,setRef:u=>{u<0?delete o[e.modelName]:o[e.modelName]="#Ref-"+u}}),d=void 0;else if(e.array){d={};let u=1;a.forEach(h=>{let p=e.info||null,m=this._serialize(h,p,r);(this._isSerializableValue(m)||e.alwaysSerialize)&&(d["Item"+u]=m,this._options.useRefs&&(m["@Ref"]=(r.objects.push(h)-1).toString()),u++)})}else if(e.from)a.isEmpty&&a.isEmpty()?d={}:d=e.toJsonObject?e.toJsonObject(a,this,r):a.toString();else if(e.info||a.getInfo)d=this._serialize(a,e.info,r);else if(e.modelName)a instanceof Date?d=this._options&&this._options.serializeDate(a):d=a;else throw new Error("Invalid info '"+n.stringify()+"'");(e.alwaysSerialize||this._isSerializableValue(d))&&(e.asRef&&(d["@Ref"]=(r.objects.push(a)-1).toString()),o[e.modelName]=d)}}_serialize(e,i,n){let r=ur(!0,{},e._model),o=n===null;return n=n||{linkObjTable:[],objects:[]},r._restoreLinks&&(n.linkObjTable.push.apply(n.linkObjTable,r._restoreLinks.map(s=>s(r))),delete r._restoreLinks),r._refs&&(r._refs.forEach(s=>s(r,(n.objects.push("0")-1).toString())),delete r._refs),i=e.getInfo?e.getInfo():i,delete r["@Ref"],e.isEmpty&&e.isEmpty()?{}:(i.forEach(s=>{this.serializeProperty(s,e,i,n,r)}),o&&this.setLinks(n),r)}};function lWe(t){return typeof t=="object"&&"subscribables"in t}function Wr(t,e){return{model:t,properties:e}}var AV=class{cleanNode(e){}addDisposeCallback(e,i){}removeDisposeCallback(e,i){}peek(e){return e}getPropertyValue(e,i){return e[i]}setPropertyValue(e,i,n,r){e[i]=n}generateProperty(e,i,n,r){Hd.generateProperty(e,i,n,r)}generateArrayProperty(e,i,n,r){Hd.generateArrayProperty(e,i,n,r)}createComputedProperty(e,i,n,r,o,s=!1){let a={prevValue:void 0,value:void 0},l=()=>{let h=e[i];if(a.prevValue=a.value,a.value=h,typeof h!="object"&&a.prevValue===a.value)return;let p={propertyName:i,newValue:h};e.onPropertyChanged&&e.onPropertyChanged(p),ap(e,p),e.events&&e.events.call("propertyChanged",p)};typeof n=="function"?(Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get:()=>n()}),n()):Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get:()=>n.read(),set:h=>n.write(h)});function d(h,p){var m;let c={},x=[];return p==="*"?x.push((m=h?.events)===null||m===void 0?void 0:m.on("propertyChanged",()=>{l()})):p.forEach(D=>{var T,N;if(lWe(D)){let G=`${D.propertyName}Changed`;x.push((T=h?.events)===null||T===void 0?void 0:T.on(G,({propertyName:U})=>{if(c[U]&&c[U](),Array.isArray(h[U])){let re=h[U].map(_=>d(_,D.subscribables));c[U]=()=>re.forEach(_=>_())}else c[U]=d(h[U],D.subscribables);l()}))}else if(typeof D=="string"){let G=`${D}Changed`;x.push((N=h?.events)===null||N===void 0?void 0:N.on(G,()=>l()))}}),()=>{for(let D in c)c[D]();x.forEach(D=>D&&D())}}let u=r.map(h=>h.model?d(h.model,h.properties):()=>{});return()=>{u.forEach(h=>h())}}subscribeValue(e,i){return()=>{}}subscribeOnPropertyChanged(e,i,n,r){if(e&&e.events){let o=`${i}Changed`,s=e.events.on(o,({newValue:a})=>{n(a)});return()=>{s(),r&&r()}}return()=>{}}unwrap(e){return e}wrap(e){return e}applyBindings(e,i){}},mS=new AV,ex=t=>new ZC(t),tx=ex,bo=mS;var Tr=function(t={}){let e={createDefaultModel:i=>(t={getModel(){return i}},e),generateProperty(i,n,r){let o=t;return o[i]=n,r&&(o["set_"+i]=s=>r(s)),this},configureProperty(i,n){return i in t&&n(t[i]),this},getViewModel(){return t}};return e};var RV=class extends jo{constructor(e={},i=tx()){super(),this.events=new sp,this._needInitializeModel()&&(this.deserialize(e,i),this.__decorators&&this.__decorators.forEach(n=>n(this)))}deferredUpdateViewModel(){return!0}assignProperty(e,i,n){Hd.generateProperty(this,e,i,n)}assignArrayProperty(e,i,n){Hd.generateArrayProperty(this,e,i,n)}deserialize(e,i){i.deserialize(this,e)}dispose(){super.dispose(),this.events&&this.events.dispose()}_needInitializeModel(){return!0}_initializeModel(e,i){this.deserialize(e,i),this.__decorators&&this.__decorators.forEach(n=>n(this))}};function qi(t,e){return(i,n)=>{i.__decorators||(i.__decorators=[]),i.__decorators.push(r=>{if(i.isPrototypeOf(r)){let o=typeof t=="function"?t():t;r.assignProperty(n,o,e)}})}}function Nne(t,e){return(i,n)=>{i.__decorators||(i.__decorators=[]),i.__decorators.push(r=>{i.isPrototypeOf(r)&&r.assignArrayProperty(n,[...t()],e)})}}var zd=class extends RV{getViewModel(){return this.__viewModel||this.initializeViewModel(),this.__viewModel}onPropertyChanged(e){throw new Error("Method not implemented.")}initializeViewModel(){this.__viewModel=this.createViewModel()}updateViewModel(e){}setProperty(e,i){this[e]=i}getProperty(e){return this[e]}createViewModel(){return Tr().createDefaultModel(this).getViewModel()}},hc=class extends zd{constructor(e={},i,n="multiplatform"){super(e,i),this._engineType=n,this._propertiesSubscriptions={},i||(i=this._engineType==="multiplatform"?tx():ex()),this._engineType=i.engineType,this._initializeModel(e,i)}_needInitializeModel(){return!1}_getEngine(){return this._engineType==="native"?mS:bo}onPropertyChanged(e){}subscribeOnChanges(e,i){i.forEach(n=>{this._propertiesSubscriptions[n]&&this._propertiesSubscriptions[n](),this._propertiesSubscriptions[n]=this.subscribeProperty(n,r=>{if(!e)return;let o=e[n];e[n]=r,ap(this,{propertyName:n,oldValue:o,newValue:r})})})}_get(e,i="unwrap"){let n=this._getEngine().getPropertyValue(this,e);return i==="unwrap"?this.unwrap(n):i==="peek"?this.peek(n):n}_set(e,i){this._getEngine().setPropertyValue(this,e,i)}assignProperty(e,i,n){this._getEngine().generateProperty(this,e,i,n)}assignArrayProperty(e,i,n){this._getEngine().generateArrayProperty(this,e,i,n)}createComputedProperty(e,i,n,r,o=!1){return this._getEngine().createComputedProperty(this,e,i,n,r,o)}subscribeProperty(e,i,n){return this._getEngine().subscribeOnPropertyChanged(this,e,i,n)}unwrap(e){return this._getEngine().unwrap(e)}peek(e){return this._getEngine().peek(e)}destroyPropertySubscription(e){this._propertiesSubscriptions[e]&&this._propertiesSubscriptions[e](),delete this._propertiesSubscriptions[e]}dispose(){super.dispose(),Object.keys(this._propertiesSubscriptions).forEach(e=>{this._propertiesSubscriptions[e]()}),this._propertiesSubscriptions={}}};var ix=function(t,e,i,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},Wd=class extends zd{constructor(e){super(),this.visible="visible"in e?e.visible:!0,this.disabled="disabled"in e?e.disabled:!1;let i=e.imageClassName||e.text.toLowerCase();this._text=e.text,this.name=e.text,this._localizationId=e.localizationId,this.imageClassName="dxrd-image-"+i,this.imageTemplateName=e.imageTemplateName||sm.getExistingTemplate("dxrd-svg-tabs-"+e.text.toLowerCase()),this.template=e.template,this._disposables.push(e.model,e.keyboardHelper),this.model=e.model,this.keyboardHelper=e.keyboardHelper}updateViewModel(e){let i=this.getViewModel();e.propertyName==="visible"&&(i.visible=this.visible),e.propertyName==="imageClassName"&&(i.image.class=this.imageClassName),e.propertyName==="imageTemplateName"&&(i.image.templateName=this.imageTemplateName),(e.propertyName==="active"||e.propertyName==="disabled")&&(i.css.class=`${this.active?"dxd-state-active dxd-state-no-hover":""} ${this.disabled?"dxrd-tab-item-disabled":""}`),e.propertyName==="disabled"&&(i.disabled=this.disabled),e.propertyName==="active"&&(i.active=this.active),e.propertyName==="model"&&(i.model=this.model),this.keyboardHelper&&(e.propertyName==="active"||e.propertyName==="collapsed")&&this.active&&!this.collapsed&&e.oldValue!==void 0&&setTimeout(()=>this.focus())}onPropertyChanged(e){e.propertyName==="visible"&&!e.newValue&&(this.active=!1)}createViewModel(){return Tr(super.createViewModel()).generateProperty("text",this.text).generateProperty("image",Tr().generateProperty("class",this.imageClassName).generateProperty("templateName",this.imageTemplateName).getViewModel()).generateProperty("click",()=>{}).generateProperty("css",Tr().generateProperty("class",`${this.active?"dxd-state-active dxd-state-no-hover":""} ${this.disabled?"dxrd-tab-item-disabled":""}`).getViewModel()).generateProperty("disabled",this.disabled).generateProperty("visible",this.visible).generateProperty("active",this.active).generateProperty("template",this.template).generateProperty("model",this.model).generateProperty("keyboardHelper",this.keyboardHelper).getViewModel()}focus(){this.keyboardHelper&&this.keyboardHelper.focus(document.getElementsByClassName("dxrd-tab-item dxd-state-active")[0])}get text(){return op(this._text,this._localizationId)}};ix([qi(!1)],Wd.prototype,"active",void 0);ix([qi(!0)],Wd.prototype,"visible",void 0);ix([qi(!1)],Wd.prototype,"disabled",void 0);ix([qi(null)],Wd.prototype,"model",void 0);ix([qi(void 0)],Wd.prototype,"collapsed",void 0);var am=hr(Ws());var FV=t=>parseFloat(t.replace("px",""));var ss={isSubscribable:t=>typeof t=="function"&&"subscribe"in t,isComputed:t=>ss.isSubscribable(t)&&"dispose"in t,unwrap:t=>ss.isSubscribable(t)?t():t};function Lne(t,e,i,n,r,o,s){let a=bo.wrap(ss.unwrap(s)),l=ss.unwrap(i);return ss.isSubscribable(s)&&s.subscribe(d=>{typeof a=="function"&&a(d)}),{starting:function(d){am.fn.constructor(t).css(n===r?"right":"left","")},handles:bo.wrap(n===r?"e":"w"),stopped:am.noop,stop:am.noop,resize:function(d,u){let h=FV(u.dataset.originalLeftMousePosition),p=FV(u.dataset.originalWidth),m=d.x-h;am.fn.constructor(t).css({left:n===r?e+"px":"",right:n===r?"":e+"px"});let c=Math.min(Math.max(l,n===r?p+m:p-m),1e3);o&&o(c)},disabled:a,zoom:1,minimumWidth:bo.wrap(ss.unwrap(a)?0:l),maximumWidth:1e3,$element:t}}function Ia(t,e,i){return op(t,e,gS)}function lm(t,e){let i=()=>{bo.removeDisposeCallback(t,i),e&&e(),i=null,e=null};bo.addDisposeCallback(t,i)}function nx(t,e){let i=t,n=[];return Object.assign(a=>(a!==void 0&&i!==a&&(i=a,e&&e(a),n.forEach(l=>l(a))),i),{subscribe:a=>(n.push(a),()=>n.splice(n.indexOf(a),1)),notifySubscribers:a=>{i!==a&&(i=a,n.forEach(l=>l(a)))}})}var Bne=nx(1);var dm=class extends jo{constructor(e){super(),this.element=e,this._eventListeners=[]}dispose(){super.dispose(),this._eventListeners.forEach(e=>{e.element.removeEventListener(e.eventType,e.listener)}),this._eventListeners.length=0,this.element=null}addListener(e,i,n){let r=o=>{n.call(this,o)};e.addEventListener(i,r),lm(e,function(){e.removeEventListener(i,r)}),this._eventListeners.push({element:e,eventType:i,listener:r})}setTabIndex(e){this.element.setAttribute("tabindex",e)}setFocus(){this.element.focus()}};var NV=hr(Ws());var dWe=hr(Ws());var Hne=function(t){return t[t.contains=0]="contains",t[t.startWith=1]="startWith",t}(Hne||{});function vS(t,e){return!!t&&!!e&&t.header===e.header&&t.content===e.content&&t.editorType===e.editorType}function PV(t,e,i){if(!i){let o=Vne(e);return!!t&&t.match(new RegExp(o,"gi"))}let n=i.canUseRegex?e:Vne(e);i.searchMode==Hne.startWith&&!i.canUseRegex&&(n="^"+n);let r="";return i.caseSensitive||(r=r+"i"),i.globalMatch&&(r=r+"g"),!!t&&t.match(new RegExp(n,r))}function Vne(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var kV=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t}(kV||{});var _S=class extends jo{_processShortcut(e,i,n){let r=e[kV[i.keyCode]];return r?r(i,n):!1}processShortcut(e,i){return this._processShortcut(this.shortcutMap,e,i)}processChildrenShortcut(e,i){return this._processShortcut(this.childrenShortcutMap,e,i)}};var CS=class{constructor(e){this._handlers=[],this._targetElement=e}get _activeHandler(){return this._handlers.length>0?this._handlers[this._handlers.length-1]:null}_removeHandler(e,i){let n=this._handlers.indexOf(e);n<0||(this._handlers.splice(n,1),n===this._handlers.length&&(this._targetElement.removeEventListener(i,e),this._activeHandler&&this._targetElement.addEventListener(i,this._activeHandler)))}bindHandler(e,i,n="keydown"){this._activeHandler&&this._targetElement.removeEventListener(n,this._activeHandler);let r=o=>{(NV.fn.constructor(this._targetElement).closest(".dx-designer").length>0||NV.fn.constructor(o.target).closest(".dx-designer").length>0||o.target===document.body)&&i(o)};this._handlers.push(r),this._targetElement.addEventListener(n,r),lm(e,()=>{this._removeHandler(r,n)})}};var xS=class extends _S{constructor(){super(),this.childrenInitialized=!1,this.accessibilityCompliantEnabled=!1,this.focusFirstFocusableDescendant=!1,this.controlElements=[],this._eventListeners=[],this.setTabIndexes=e=>{this.controlElements.forEach(i=>i.setTabIndex(e))},this.liveRegion=()=>this.liveRegionId?((!this._liveRegion||!this._liveRegion.element)&&(this._liveRegion={element:document.getElementById(this.liveRegionId),changeText:(e,i=200)=>setTimeout(()=>{this._liveRegion.element&&(this._liveRegion.element.textContent=e)},i)}),this._liveRegion):null,this.onInitialized=(e,i)=>{i&&(this.accessibilityCompliantEnabled=!0),this.accessibilityCompliantEnabled&&this.bindHandler(e)},this.onDomUpdated=()=>{if(this.accessibilityCompliantEnabled&&!this.isDisposing){let e=this.getElements()||[],i=e.length!==this.controlElements.length;if(!i){for(let n=0;n<e.length;n++)if(e[n]!==this.controlElements[n].element){i=!0;break}}i&&(this.initialize(void 0,e),this._handlersManager.bindHandler(this._elementContainer,n=>this._keyDownHandler(n)))}},this.onDispose=()=>{this.dispose()},this.shortcutMap={Esc:e=>this.handleEscKey(e),Tab:e=>!!(e&&e.shiftKey)?this.handleShiftTabKey(e):this.handleTabKey(e),Enter:e=>this.handleEnterKey(e),Space:e=>this.handleSpaceKey(e),End:e=>this.handleEndKey(e),Home:e=>this.handleHomeKey(e),Up:e=>this.handleUpArrowKey(e),Down:e=>this.handleDownArrowKey(e),Left:e=>this.handleLeftArrowKey(e),Right:e=>this.handleRightArrowKey(e)},this.childrenShortcutMap={Tab:(e,i)=>!!(e&&e.shiftKey)?this.itemHandleShiftTabKey(e,i):this.itemHandleTabKey(e,i),Enter:(e,i)=>this.itemHandleEnterKey(e,i),Space:(e,i)=>this.itemHandleSpaceKey(e,i),End:(e,i)=>this.itemHandleEndKey(e,i),Home:(e,i)=>this.itemHandleHomeKey(e,i),Up:(e,i)=>this.itemHandleUpArrowKey(e,i),Down:(e,i)=>this.itemHandleDownArrowKey(e,i),Left:(e,i)=>this.itemHandleLeftArrowKey(e,i),Right:(e,i)=>this.itemHandleRightArrowKey(e,i),Esc:(e,i)=>this.itemHandleEscKey(e,i)}}_disposeItems(){this._eventListeners.forEach(e=>{e.element.removeEventListener(e.eventType,e.listener)}),this._eventListeners.length=0,this.disposeArray(this.controlElements),this.controlElements.length=0}getElements(e){if(!this._elementContainer)return;let i=Array.prototype.slice.call(this._elementContainer.querySelectorAll("."+this.controlElementClassName));if(i.length)return e&&(i=i.filter(e)),i}initialize(e,i){this._disposeItems();let n=i||this.getElements(e);n&&(n.forEach((r,o)=>{let s=this.createControlElement(r,o);s&&this.controlElements.push(s)}),this.controlElements.forEach((r,o)=>{this.addListener(r.element,o,"click",this.clickHandler)}),this.childrenInitialized=!0)}getIndexByElement(e){return this.controlElements.map(i=>i.element).indexOf(e)}createControlElement(e,i){return new dm(e)}getContainer(){return this._elementContainer}changeFocus(e,i=!0){let n=this.controlElements.length-1;return e<0&&(e=i?n:0),e>n&&(e=i?0:n),this.controlElements[e].setFocus(),e}bindHandler(e){this._elementContainer=e,this.initialize(),this._handlersManager=new CS(this._elementContainer),this._handlersManager.bindHandler(this._elementContainer,i=>this._keyDownHandler(i))}handleEscKey(e,i){return this._prevActiveElement?(this._prevActiveElement.focus(),!0):!1}handleTabKey(e){return!1}handleShiftTabKey(e){return!1}handleEnterKey(e){return!1}handleSpaceKey(e){return!1}handleEndKey(e){return!1}handleHomeKey(e){return!1}handleUpArrowKey(e){return!1}handleDownArrowKey(e){return!1}handleLeftArrowKey(e){return!1}handleRightArrowKey(e){return!1}itemHandleHomeKey(e,i){return this.changeFocus(0),!0}itemHandleEndKey(e,i){return this.changeFocus(this.controlElements.length-1),!0}itemHandleLeftArrowKey(e,i){return!1}itemHandleRightArrowKey(e,i){return!1}itemHandleEnterKey(e,i){return!1}itemHandleSpaceKey(e,i){return!1}itemHandleUpArrowKey(e,i){return!1}itemHandleDownArrowKey(e,i){return!1}itemHandleTabKey(e,i){return!1}itemHandleShiftTabKey(e,i){return!1}itemHandleEscKey(e,i){return!1}setFocusToPrevious(e,i=!0){return this.changeFocus(e-1,i)}setFocusToNext(e,i=!0){return this.changeFocus(e+1,i)}clickHandler(e,i){this.changeFocus(i)}dispose(){super.dispose(),this._disposeItems(),this._elementContainer=null,this._prevActiveElement=null}addListener(e,i,n,r){let o=s=>{r.call(this,s,i)};e.addEventListener(n,o),lm(e,function(){e.removeEventListener(n,o)}),this._eventListeners.push({element:e,eventType:n,listener:o})}focus(e){if(!(!this.childrenInitialized&&!this._elementContainer))if(this._prevActiveElement=e||document.activeElement,this.childrenInitialized&&!this.focusFirstFocusableDescendant)this.changeFocus(this.startIndex||0);else{let i=this._elementContainer.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');setTimeout(()=>i.length&&i[0].focus())}}lastFocusItem(){return document.getElementById("dxrd-designer-last-focus-item-blank")}_keyDownHandler(e){let i=e.target;(i.classList.contains(this.controlElementClassName)&&this.processChildrenShortcut(e,this.getIndexByElement(i))||this.processShortcut(e))&&(e.stopPropagation(),e.preventDefault())}};var yS=class extends xS{constructor(e){super(),this._tabPanel=e,this.controlElementClassName="dx-accessibility-rightpanel-button"}_initialize(){this._initTimeout&&clearTimeout(this._initTimeout),this._initTimeout=setTimeout(()=>{this.initialize()},1)}bindHandler(e){super.bindHandler(e),this.addDisposable(...this._tabPanel.tabs.map(i=>i.events.on("visibleChanged",n=>{this._initialize()}))),this._initialize()}initialize(){super.initialize(),this.setTabIndexes(0)}createControlElement(e,i){if(this._tabPanel.tabs[i].visible)return new dm(e)}itemHandleDownArrowKey(e,i){return this.setFocusToNext(i,!0),!0}itemHandleUpArrowKey(e,i){return this.setFocusToPrevious(i,!0),!0}};var pc=function(t,e,i,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},js=class t extends zd{constructor(e){super(),this.cssClasses=(a="")=>{let l=[a];return this.position===t.Position.Left&&l.push("dxrd-tab-panel-left"),this.position===t.Position.Right&&l.push("dxrd-tab-panel-right"),this.isEmpty&&l.push("dxrd-tab-panel-empty"),l.join(" ")};let i=e.tabs;this._autoSelectTab=e.autoSelectTab;let n=t.Position.Right;e.rtl&&(n=t.Position.Left),this.position=n;let r=Bne();this.zoomFactor=r;let o=this;this.tabs=i,this.toggleTabVisibility=a=>{let l=a.model,d=this.tabs.filter(u=>u.active)[0];l===d?this.collapsed=!this.collapsed:this.selectTab(a)},this.selectTab=a=>{let l=a.model;l.disabled||(this.tabs.forEach(function(d){d.active=d===l}),this.collapsed=!1)},i&&i.length&&(this.isEmpty=this.tabs.every(a=>!a.visible),this.tabs.forEach(a=>{a.collapsed=this.collapsed})),this._onVisibilityChanged(),this._onDisabledChanged(),this._disposables.push(...i.map(a=>({dispose:this._subscribeTab(a)}))),this._width=e.width||370*r,this.width=this.collapsed?0:this._width,this.headerWidth=this.isEmpty?0:50*r+this.width,this.getResizableOptions=(a,l,d)=>{if(!this._resizableOptions||this._resizableOptions.$element!==a){let u=function(h){if(arguments.length===0)return o.width;o.width=h};this._resizableOptions=Lne(a,r*l,d,o.position,t.Position.Left,u,o.collapsed),o.addDisposable(o.events.on("positionChanged",h=>{this._resizableOptions.handles(o.position===t.Position.Left?"e":"w")}),o.events.on("collapsedChanged",h=>{typeof this._resizableOptions.minimumWidth=="function"?this._resizableOptions.minimumWidth(o.collapsed?0:d):this._resizableOptions.minimumWidth=o.collapsed?0:d,typeof this._resizableOptions.disabled=="function"?this._resizableOptions.disabled(this.collapsed):this._resizableOptions.disabled=this.collapsed}))}return this._resizableOptions},this._disposables.push({dispose:()=>{this._resizableOptions=null,this.getResizableOptions=null}});let s=this.collapsed?"-expand":"-collapse";this.toggleCollapsedImage={class:"dxrd-image-propertygrid"+s,template:"dxrd-svg-tabs"+s},this.toggleCollapsedText=(()=>{let a=this.collapsed?"Open":"Collapse";return Ia(a,"ASPxReportsStringId.SidePanel_"+a)})(),this.keyboardHelper=new yS(this),this._disposables.push(this.keyboardHelper)}mapToTabsCollection(){return this.tabs.map(e=>{let i=e.getViewModel();return i.click=()=>this.toggleTabVisibility({model:e}),i})}createViewModel(){return Tr(super.createViewModel()).generateProperty("width",this.headerWidth).generateProperty("class",this.cssClasses(this.collapsed?"dx-tab-panel-collapsed":"")).generateProperty("tabs",this.mapToTabsCollection()).generateProperty("tabsElement",Tr().generateProperty("class",this.cssClasses()).getViewModel()).generateProperty("contentElement",Tr().generateProperty("class",this.cssClasses()).generateProperty("width",this.width).getViewModel()).generateProperty("keyboardHelper",this.keyboardHelper).generateProperty("getResizableOptions",this.getResizableOptions).getViewModel()}dispose(){super.dispose(),this.disposeArray(this.tabs)}updateViewModel(e){let i=this.getViewModel();e.propertyName==="width"&&(i.contentElement.width=this.width),e.propertyName==="headerWidth"&&(i.width=this.headerWidth),(e.propertyName==="isEmpty"||e.propertyName==="position")&&(i.class=this.cssClasses(this.collapsed?"dx-tab-panel-collapsed":""),i.tabsElement.class=this.cssClasses(),i.contentElement.class=this.cssClasses()),e.propertyName==="collapsed"&&(i.class=this.cssClasses(this.collapsed?"dx-tab-panel-collapsed":"")),e.propertyName==="tabs"&&(i.tabs=this.mapToTabsCollection())}onPropertyChanged(e){if((e.propertyName==="isEmpty"||e.propertyName==="width")&&(this.headerWidth=this.isEmpty?0:50*this.zoomFactor+this.width),e.propertyName==="collapsed"){this.collapsed?this.width=0:this.width=this._width,this.tabs.forEach(r=>{r.collapsed=this.collapsed});let i=this.collapsed?"-expand":"-collapse";this.toggleCollapsedImage={class:"dxrd-image-propertygrid"+i,template:"dxrd-svg-tabs"+i};let n=this.collapsed?"Open":"Collapse";this.toggleCollapsedText=Ia(n,"ASPxReportsStringId.SidePanel_"+n)}e.propertyName==="width"&&this.width&&(this._width=this.width,this.collapsed&&(this.width=0))}_onDisabledChanged(){let e=this.tabs.filter(i=>i.disabled);if(e.length!==0&&e.filter(i=>i.active).length!==0){e.forEach(n=>n.active=!1);let i=this.tabs.filter(n=>!n.disabled&&n.visible)[0];i&&this.selectTab({model:i})}}_onVisibilityChanged(){let e=this.tabs.filter(i=>i.visible);this.isEmpty=this.tabs.every(i=>!i.visible),e.length!==0?e.filter(i=>i.active).length===0&&(e[0].active=!0,this._autoSelectTab&&(this.collapsed=!0)):this.collapsed=!0}_subscribeTab(e){let i=[e.events.on("visibleChanged",n=>{this._onVisibilityChanged()}),e.events.on("disabledChanged",n=>{this._onDisabledChanged()}),e.events.on("activeChanged",n=>{this._autoSelectTab&&e.active&&this.selectTab({model:e})}),e.events.on("collapsedChanged",n=>{this.collapsed=e.collapsed})];return()=>i.forEach(n=>n())}getTabByName(e){return this.tabs.filter(i=>i.name===e)[0]}removeTabs(){this.tabs.forEach(e=>e.events.dispose()),this.tabs.length=0}addTab(e){e.collapsed=this.collapsed,this.tabs.push(e),this._onVisibilityChanged(),this._onDisabledChanged(),this.addDisposable(this._subscribeTab(e))}};js.Position={Left:"Left",Right:"Right"};pc([Nne(()=>[])],js.prototype,"tabs",void 0);pc([qi(!0)],js.prototype,"isEmpty",void 0);pc([qi(!1)],js.prototype,"collapsed",void 0);pc([qi(0)],js.prototype,"width",void 0);pc([qi(0)],js.prototype,"headerWidth",void 0);pc([qi(js.Position.Right)],js.prototype,"position",void 0);pc([qi(null)],js.prototype,"toggleCollapsedImage",void 0);pc([qi("")],js.prototype,"toggleCollapsedText",void 0);var cWe=hr(jd());var VV=class{isPropertyVisible(e){if(!e._get("_model"))return!1;let i=e._get("_model"),n=i.isPropertyVisible?i.isPropertyVisible(e.name):!0;return n&&(n=this._calculateAccessibilityByPropertyInfo(i,e._get("info").visible,!0)),n}isPropertyDisabled(e){if(!e._get("_model"))return!0;let i=e._get("_model");return i.isPropertyDisabled&&i.isPropertyDisabled(e.name)||this._calculateAccessibilityByPropertyInfo(i,e._get("info").disabled,!1)}_calculateAccessibilityByPropertyInfo(e,i,n){let r;return ss.isSubscribable(i)?r=i():typeof i=="function"?r=i(e):r=i!==void 0?i:n,r}},bS=new VV;var DS=class extends jo{constructor(e){super(),this._editor=e,this._lastValidatorOptions=null,this._lastModelOverridableRules=null,this._onValidatedHandler=void 0}dispose(){this.onValidatedHandler=null,this.validatorInstance&&this.validatorInstance.dispose(),this.validatorInstance=null,super.dispose()}_isValid(e,i){return this.onValidatedHandler=void 0,this.validatorInstance?((e||[]).forEach(n=>n&&(n.validator=this.validatorInstance)),this.validatorInstance.validate()):li.validate(i,e,this._editor._get("displayName"))}get validatorInstance(){return this._validatorInstance}set validatorInstance(e){this._validatorInstance&&this.onValidatedHandler&&this._validatorInstance.off("validated",this._onValidatedHandler),this._validatorInstance=e}get onValidatedHandler(){return this._onValidatedHandler}set onValidatedHandler(e){this._onValidatedHandler&&this.validatorInstance&&(this.validatorInstance.off("validated",this._onValidatedHandler),this._onValidatedHandler=e,e&&this.validatorInstance.on("validated",this._onValidatedHandler))}getValidationRules(){let i=(this.getValidatorOptions()||{}).validationRules;return i||(i===null?null:[])}getValidatorOptions(e={}){let i=this._editor.peek(this._editor._get("info","wrapped"));if(!i)return;let n=this._lastValidatorOptions,r=this._editor._getEditorValidationRules();if(n&&!this.areRulesChanged(r))return n;this._lastModelOverridableRules=r;let o=this._concatValidationRules(i.validatorOptions,r),s=typeof i.editor.extendedOptions=="function"?i.editor.extendedOptions():i.editor.extendedOptions,a=s?.validatorOptions;return n=ur({},e,i.validatorOptions,{validationRules:o},a),this._wrapValidatorEvents(n),this._lastValidatorOptions=n,n}areRulesChanged(e){return this._lastModelOverridableRules&&this._lastModelOverridableRules.length?!e||!e.length?!0:!e.every(i=>this._lastModelOverridableRules.some(n=>i.message===n.message&&i.validationCallback===n.validationCallback&&i.type===n.type)):e&&e.length}wrapOnValidatorInitialized(e){let i=e.onInitialized,n=this;e.onInitialized=function(r){n._onValidatorInitialized(r),i&&i.apply(this,arguments)}}_onValidatorInitialized(e){this.validatorInstance=e&&e.component}_concatValidationRules(e,i){return(!e||!e.validationRules)&&!i?null:((e||{}).validationRules||[]).concat(i||[])}_wrapValidatorEvents(e){if(!(!e||!e.validationRules||!e.validationRules.length))return this.wrapOnValidatorInitialized(e),e}assignWithValidation(e,i){let n=this.getValidationRules(),r=!n||n.some(s=>s.assignValueFirst);r&&i();let o=this._isValid(n,e);if(!o.isValid){o.brokenRule&&o.brokenRule.isDeferred&&(this.onValidatedHandler=s=>{this.onValidatedHandler=void 0,s.isValid&&i()});return}r||i()}};var zne=nx(19),Doi=nx("Times New Roman, 9.75pt");function hWe(t){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(t)||/^\{[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}\}$/.test(t)||/^\([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}\)$/.test(t)||/^[0-9a-fA-F]{32}$/.test(t)}function Wne(t){return t&&hWe(t)}var HV=class{constructor(e=!0){this._useDeferredRegistration=e,this._editorTemplates={}}register(e,i){if(this._editorTemplates[e]&&!this._editorTemplates[e]._deferred)throw Error(`Editor with name ${e} is already exists`);this._editorTemplates[e]?(delete this._editorTemplates[e]._deferred,ur(this._editorTemplates[e],i)):this._editorTemplates[e]=i}unregister(e){delete this._editorTemplates[e]}registerEditors(e){for(let i in e)this.register(i,e[i])}getEditor(e){return!this._editorTemplates[e]&&this._useDeferredRegistration&&(this._editorTemplates[e]={_deferred:!0}),this._editorTemplates[e]}},jne=new HV;function $ne(t,e=!1,i=3){return(e?Math.floor:Math.round)(t*Math.pow(10,i))/Math.pow(10,i)}function lp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var wS=hr(Ws());var Wn=function(t){return t[t.Minus=0]="Minus",t[t.Plus=1]="Plus",t[t.BitwiseNot=2]="BitwiseNot",t[t.Not=3]="Not",t[t.IsNull=4]="IsNull",t}(Wn||{});var zV=class{constructor(){this._func=[],this._factory={},this._changeTypeFactory={}}addListener(e){this._func.indexOf(e)===-1&&this._func.push(e)}removeListener(e){let i=this._func.indexOf(e);i!==-1&&this._func.splice(i,1)}register(e,i,n){this._factory[e]=i,n&&(this._changeTypeFactory[e]=r=>{let o=n(r);return r.reverse&&(o=this.process("unary",{operator:o,operatorType:Wn.Not})),o})}process(e,i={}){let n=e in this._factory?this._factory[e](i):this._factory.default();return this._func.forEach(r=>{n=r(n,{operatorType:e,options:i||{}})}),n}changeByType(e){return this._changeTypeFactory[e._type]?this._changeTypeFactory[e._type](e):null}},qe=new zV;var Do=class{constructor(){this.type="default",this.operands=null,this.changeValue=(e,i,n)=>{let r=i?qe.process("unary",{operatorType:Wn.Minus,operator:e}):e;return n.index!==null?this[n.name][n.index]=r:this[n.name]=r,r},this.changeValueType=(e,i)=>{let n=new e;return i.index!==null?this[i.name][i.index]=n:this[i.name]=n,n},this.assignLeftPart=e=>{},this.assignRightPart=e=>{},this.assignType=e=>{this.operatorType=e}}get displayType(){return this.operatorType}get enumType(){return null}get leftPart(){return null}get rightPart(){return null}assignFrom(e,i=!1,n=!0){let r=e;e.type==="unary"&&!Array.isArray(e.leftPart)&&e.leftPart.type!="property"&&(r=e.leftPart),i?this.assignLeftPart(r.leftPart):this.assignLeftPart(r),r.rightPart&&n&&this.assignRightPart(r)}children(){let e=[];return this.leftPart&&e.push.apply(e,Array.isArray(this.leftPart)?this.leftPart:[this.leftPart]),this.rightPart&&e.push.apply(e,Array.isArray(this.rightPart)?this.rightPart:[this.rightPart]),e}accept(e){throw"Not implemented"}};qe.register("default",t=>new Do);var rx=class extends Do{constructor(e,i){super(),this.type="value";let n=e??"",r=Wne(e);e&&e.length&&(e[0]==="'"&&e[e.length-1]==="'"||r)?(this.specifics="string",r&&e[0]==="{"&&e[e.length-1]==="}"&&(this.specifics="guid"),n=this._processStringValue(e)):e&&e.length&&e[0]==="#"&&e[e.length-1]==="#"&&!i?(n=e.slice(1,e.length-1),n=wV(n),n||(n=wV(e.slice(1,e.length-1)))):String(e).toLowerCase()==="true"||String(e).toLowerCase()==="false"?n=String(e).toLowerCase()==="true"?"True":"False":i&&(this.specifics=e.match(/\#\w+\#/g)[0].replace(/\#/g,"").toLowerCase()),this.value=n}_processStringValue(e){let i=e.slice(1,e.length-1);return i=i.replace(/''/g,"'"),i}get displayType(){return this.value||"?"}accept(e){return e.visitOperandValue?e.visitOperandValue(this):this}};qe.register("value",t=>new rx(t?.value,t?.isSomeType));var OS=class t extends rx{constructor(e,i){super(i),this.type="parameter",this.parameterName=e||""}get displayType(){return"?"+this.parameterName}accept(e){return e.visitOperandParameter?e.visitOperandParameter(this):new t(this.parameterName,this.value)}};qe.register("parameter",t=>new OS(t.parameterName,t.value));var ES=class extends Do{constructor(e="",i=-1,n=-1,r=0,o=!1){super(),this.type="property",this.propertyName=e,this.originalPropertyLength=r,this.startPosition={column:i,line:n},this.circumflex=o}get displayType(){return"["+this.propertyName+"]"}accept(e){return e.visitOperandProperty?e.visitOperandProperty(this):qe.process("property",{propertyName:this.propertyName})}};qe.register("property",t=>new ES(t.propertyName,t.startColumn,t.startLine,t.originalPropertyLength,t.circumflex));var ox=class t extends Do{constructor(e,i){super(),this.type="unary",this.operand=i||qe.process("default"),this.operatorType=e}get leftPart(){return this.operand}assignFrom(e){this.operatorType===Wn.Not?e instanceof t?this.operand.assignFrom(e.operand):this.operand.assignFrom(e):e instanceof t?this.operand=e.operand.leftPart:this.operand=e.leftPart||e}get displayType(){return Wn[this.operatorType]}get enumType(){return Wn}accept(e){return e.visitUnaryOperator?e.visitUnaryOperator(this):new t(this.operatorType,this.operand&&this.operand.accept(e))}};qe.register("unary",t=>new ox(t.operatorType,t.operator),t=>qe.process("unary",{operatorType:t.value,operator:qe.process("property")}));var jn=function(t){return t[t.Equal=0]="Equal",t[t.NotEqual=1]="NotEqual",t[t.Greater=2]="Greater",t[t.Less=3]="Less",t[t.LessOrEqual=4]="LessOrEqual",t[t.GreaterOrEqual=5]="GreaterOrEqual",t[t.Like=6]="Like",t[t.BitwiseAnd=7]="BitwiseAnd",t[t.BitwiseOr=8]="BitwiseOr",t[t.BitwiseXor=9]="BitwiseXor",t[t.Divide=10]="Divide",t[t.Modulo=11]="Modulo",t[t.Multiply=12]="Multiply",t[t.Plus=13]="Plus",t[t.Minus=14]="Minus",t}(jn||{});var $o=function(t){return t[t.And=0]="And",t[t.Or=1]="Or",t}($o||{});var SS=class t extends Do{constructor(e,i,n,r){super(),this.change=(o,s)=>{let a=null;return o.type===$o&&(a=qe.changeByType(o),o.type!==a.enumType?a.leftPart.assignFrom(s):a.assignFrom(s),this.condition=a),a},this.assignLeftPart=o=>{o.leftPart instanceof t?this.assignFrom(o.leftPart):o instanceof t?(this.property=o.property,this.aggregatedExpression&&o.aggregatedExpression&&(this.aggregatedExpression=o.aggregatedExpression),this.condition=o.condition):this.property=o.leftPart},this.type="aggregate",this.property=e,r&&r.type==="group"?this.condition=r:r instanceof ox&&r.operatorType===Wn.Not?r.operand.type==="group"?this.condition=qe.process("unary",{operator:r.operand,operatorType:Wn.Not}):this.condition=qe.process("unary",{operator:qe.process("group",{operation:$o.And,operands:r.operand?[r.operand]:[]}),operatorType:Wn.Not}):this.condition=qe.process("group",{operation:$o.And,operands:r?[r]:[]}),this.operatorType=n,i&&(i.length>1?this.customAggregatedExpression=i:this.aggregatedExpression=i[0]?i[0]:null)}get displayType(){return this.operatorType}get enumType(){return t}get leftPart(){return this.property}children(){let e=[];return this.condition&&e.push(this.condition),this.aggregatedExpression?e.push(this.aggregatedExpression):this.customAggregatedExpression&&this.customAggregatedExpression.forEach(i=>e.push(i)),e}accept(e){if(e.visitAggregateOperand)return e.visitAggregateOperand(this);let i=null;return this.aggregatedExpression?i=[this.aggregatedExpression]:this.customAggregatedExpression&&(i=this.customAggregatedExpression.map(n=>n.accept(e))),qe.process("aggregate",{aggregateType:this.operatorType,aggregatedExpression:i,condition:this.condition&&this.condition.accept(e),property:this.property&&this.property.accept(e)})}};qe.register("aggregate",t=>new SS(t.property,t.aggregatedExpression,t.aggregateType,t.condition),t=>{let e={property:qe.process("property"),aggregateType:t.value,aggregatedExpression:null,condition:qe.process("group",{operation:$o.And,operands:[]})};return t.value==="Exists"?qe.process("aggregate",e):(t.value!=="Count"&&(e.aggregatedExpression=[qe.process("property")]),qe.process("binary",{left:qe.process("aggregate",e),right:qe.process("value",{value:void 0}),operatorType:jn.Equal}))});var um=class t extends Do{constructor(e,i){super(),this.create=(n,r,o)=>{let s=qe.process("binary",{left:r,right:qe.process("value",{value:""}),operatorType:jn.Equal});return n?s=qe.process("group",{operation:$o.And,operands:[]}):o&&o==="list"&&(s=qe.process("aggregate",{aggregateType:"Exisits",property:r,aggregatedExpression:null,condition:qe.process("group",{operands:[],operation:$o.And})})),this.operands.push(s),this.operands[this.operands.indexOf(s)]},this.change=(n,r,o=!1)=>{let s=this.operands.indexOf(r);if(s!==-1){let a=qe.changeByType(n);n.type!==a.enumType&&!Array.isArray(a.leftPart)?a.leftPart.assignFrom(r,o,!n.emptyRightPart):a.assignFrom(r,o,!n.emptyRightPart),this.operands[s]=a}else throw Error("dont have this element in operands collection");return r=null,this.operands[s]},this.remove=n=>{this.operands.splice(this.operands.indexOf(n),1)},this.assignLeftPart=n=>{this.operands=n.operands},this.operands=[],this.type="group",this.operatorType=e,i=i||[qe.process("default"),qe.process("default")],i.forEach(n=>this.operands.push(n))}static combine(e,i){let n=[];return(i||[]).forEach(r=>{r.type==="group"&&r.operatorType===e?n.push.apply(n,r.operands):n.push(r)}),n.length===1?n[0]:qe.process("group",{operands:n,operation:e})}children(){return this.operands}get displayType(){return $o[this.operatorType]}get enumType(){return $o}accept(e){return e.visitGroupOperator?e.visitGroupOperator(this):new t(this.operatorType,this.operands&&this.operands.map(i=>i.accept(e)))}};qe.register("group",t=>new um(t.operation,t.operands),t=>qe.process("group",{operation:t.value,operands:[]}));var WV=function(t){return t[t.None=0]="None",t[t.Custom=1]="Custom",t[t.CustomNonDeterministic=2]="CustomNonDeterministic",t[t.Iif=3]="Iif",t[t.InRange=4]="InRange",t[t.IsNull=5]="IsNull",t[t.IsNullOrEmpty=6]="IsNullOrEmpty",t[t.Trim=7]="Trim",t[t.Len=8]="Len",t[t.Substring=9]="Substring",t[t.Upper=10]="Upper",t[t.Lower=11]="Lower",t[t.Concat=12]="Concat",t[t.Ascii=13]="Ascii",t[t.Char=14]="Char",t[t.ToStr=15]="ToStr",t[t.Replace=16]="Replace",t[t.Reverse=17]="Reverse",t[t.Insert=18]="Insert",t[t.CharIndex=19]="CharIndex",t[t.Remove=20]="Remove",t[t.Abs=21]="Abs",t[t.Sqr=22]="Sqr",t[t.Cos=23]="Cos",t[t.Sin=24]="Sin",t[t.Atn=25]="Atn",t[t.Exp=26]="Exp",t[t.Log=27]="Log",t[t.Rnd=28]="Rnd",t[t.Tan=29]="Tan",t[t.Power=30]="Power",t[t.Sign=31]="Sign",t[t.Round=32]="Round",t[t.Ceiling=33]="Ceiling",t[t.Floor=34]="Floor",t[t.Max=35]="Max",t[t.Min=36]="Min",t[t.Acos=37]="Acos",t[t.Asin=38]="Asin",t[t.Atn2=39]="Atn2",t[t.BigMul=40]="BigMul",t[t.Cosh=41]="Cosh",t[t.Log10=42]="Log10",t[t.Sinh=43]="Sinh",t[t.Tanh=44]="Tanh",t[t.PadLeft=45]="PadLeft",t[t.PadRight=46]="PadRight",t[t.StartsWith=47]="StartsWith",t[t.EndsWith=48]="EndsWith",t[t.Contains=49]="Contains",t[t.ToInt=50]="ToInt",t[t.ToLong=51]="ToLong",t[t.ToFloat=52]="ToFloat",t[t.ToDouble=53]="ToDouble",t[t.ToDecimal=54]="ToDecimal",t[t.LocalDateTimeThisYear=55]="LocalDateTimeThisYear",t[t.LocalDateTimeThisMonth=56]="LocalDateTimeThisMonth",t[t.LocalDateTimeLastWeek=57]="LocalDateTimeLastWeek",t[t.LocalDateTimeThisWeek=58]="LocalDateTimeThisWeek",t[t.LocalDateTimeYesterday=59]="LocalDateTimeYesterday",t[t.LocalDateTimeToday=60]="LocalDateTimeToday",t[t.LocalDateTimeNow=61]="LocalDateTimeNow",t[t.LocalDateTimeTomorrow=62]="LocalDateTimeTomorrow",t[t.LocalDateTimeDayAfterTomorrow=63]="LocalDateTimeDayAfterTomorrow",t[t.LocalDateTimeNextWeek=64]="LocalDateTimeNextWeek",t[t.LocalDateTimeTwoWeeksAway=65]="LocalDateTimeTwoWeeksAway",t[t.LocalDateTimeNextMonth=66]="LocalDateTimeNextMonth",t[t.LocalDateTimeNextYear=67]="LocalDateTimeNextYear",t[t.InDateRange=68]="InDateRange",t[t.IsOutlookIntervalBeyondThisYear=69]="IsOutlookIntervalBeyondThisYear",t[t.IsOutlookIntervalLaterThisYear=70]="IsOutlookIntervalLaterThisYear",t[t.IsOutlookIntervalLaterThisMonth=71]="IsOutlookIntervalLaterThisMonth",t[t.IsOutlookIntervalNextWeek=72]="IsOutlookIntervalNextWeek",t[t.IsOutlookIntervalLaterThisWeek=73]="IsOutlookIntervalLaterThisWeek",t[t.IsOutlookIntervalTomorrow=74]="IsOutlookIntervalTomorrow",t[t.IsOutlookIntervalToday=75]="IsOutlookIntervalToday",t[t.IsOutlookIntervalYesterday=76]="IsOutlookIntervalYesterday",t[t.IsOutlookIntervalEarlierThisWeek=77]="IsOutlookIntervalEarlierThisWeek",t[t.IsOutlookIntervalLastWeek=78]="IsOutlookIntervalLastWeek",t[t.IsOutlookIntervalEarlierThisMonth=79]="IsOutlookIntervalEarlierThisMonth",t[t.IsOutlookIntervalEarlierThisYear=80]="IsOutlookIntervalEarlierThisYear",t[t.IsOutlookIntervalPriorThisYear=81]="IsOutlookIntervalPriorThisYear",t[t.IsLastMonth=82]="IsLastMonth",t[t.IsLastYear=83]="IsLastYear",t[t.IsNextMonth=84]="IsNextMonth",t[t.IsNextYear=85]="IsNextYear",t[t.IsThisWeek=86]="IsThisWeek",t[t.IsThisMonth=87]="IsThisMonth",t[t.IsThisYear=88]="IsThisYear",t[t.IsJanuary=89]="IsJanuary",t[t.IsFebruary=90]="IsFebruary",t[t.IsMarch=91]="IsMarch",t[t.IsApril=92]="IsApril",t[t.IsMay=93]="IsMay",t[t.IsJune=94]="IsJune",t[t.IsJuly=95]="IsJuly",t[t.IsAugust=96]="IsAugust",t[t.IsSeptember=97]="IsSeptember",t[t.IsOctober=98]="IsOctober",t[t.IsNovember=99]="IsNovember",t[t.IsDecember=100]="IsDecember",t[t.IsSameDay=101]="IsSameDay",t[t.IsYearToDate=102]="IsYearToDate",t[t.DateDiffTick=103]="DateDiffTick",t[t.DateDiffSecond=104]="DateDiffSecond",t[t.DateDiffMilliSecond=105]="DateDiffMilliSecond",t[t.DateDiffMinute=106]="DateDiffMinute",t[t.DateDiffHour=107]="DateDiffHour",t[t.DateDiffDay=108]="DateDiffDay",t[t.DateDiffMonth=109]="DateDiffMonth",t[t.DateDiffYear=110]="DateDiffYear",t[t.DateTimeFromParts=111]="DateTimeFromParts",t[t.GetDate=112]="GetDate",t[t.GetMilliSecond=113]="GetMilliSecond",t[t.GetSecond=114]="GetSecond",t[t.GetMinute=115]="GetMinute",t[t.GetHour=116]="GetHour",t[t.GetDay=117]="GetDay",t[t.GetMonth=118]="GetMonth",t[t.GetYear=119]="GetYear",t[t.GetDayOfWeek=120]="GetDayOfWeek",t[t.GetDayOfYear=121]="GetDayOfYear",t[t.GetTimeOfDay=122]="GetTimeOfDay",t[t.Now=123]="Now",t[t.UtcNow=124]="UtcNow",t[t.Today=125]="Today",t[t.AddTimeSpan=126]="AddTimeSpan",t[t.AddTicks=127]="AddTicks",t[t.AddMilliSeconds=128]="AddMilliSeconds",t[t.AddSeconds=129]="AddSeconds",t[t.AddMinutes=130]="AddMinutes",t[t.AddHours=131]="AddHours",t[t.AddDays=132]="AddDays",t[t.AddMonths=133]="AddMonths",t[t.AddYears=134]="AddYears",t[t.OrderDescToken=135]="OrderDescToken",t}(WV||{});var $d=class t extends Do{constructor(e,i,n,r){super(),this.type="join",this.joinTypeName=e,this.condition=i,this.operatorType=n,this.aggregatedExpression=r}static joinOrAggregate(e,i,n,r){return e===null||e.propertyName.length<2||e.propertyName[0]!="<"||e.propertyName[e.propertyName.length-1]!=">"?qe.process("aggregate",{property:e,aggregatedExpression:r,aggregateType:n,condition:i}):qe.process("join",{joinTypeName:e.propertyName.substring(1,e.propertyName.length-2),condition:i,type:n,aggregated:r&&r[0]?r[0]:null})}accept(e){return e.visitJoinOperand?e.visitJoinOperand(this):new t(this.joinTypeName,this.condition&&this.condition.accept(e),this.operatorType,this.aggregatedExpression&&this.aggregatedExpression.accept(e))}};var Osi=function(){var t=function(Xi,at,dt,Je){for(dt=dt||{},Je=Xi.length;Je--;dt[Xi[Je]]=at);return dt},e=[1,5],i=[1,8],n=[1,7],r=[1,24],o=[1,9],s=[1,10],a=[1,11],l=[1,12],d=[1,19],u=[1,13],h=[1,14],p=[1,15],m=[1,16],c=[1,17],x=[1,18],D=[1,21],T=[1,23],N=[1,22],G=[1,26],U=[1,27],re=[1,28],_=[1,29],Oe=[1,30],fe=[1,31],we=[1,32],We=[1,33],b=[1,34],w=[1,35],A=[1,36],R=[1,37],B=[1,38],z=[1,39],K=[1,40],q=[1,41],V=[1,42],L=[1,43],X=[1,44],J=[1,45],ae=[1,46],P=[5,10,11,12,13,14,15,16,17,20,21,22,23,24,25,26,27,28,29,31,32,34,36,37,46],Q=[5,10,11,12,13,14,15,16,17,20,21,22,23,24,25,26,27,28,29,31,32,34,36,37,45,46,47,51,52,53],Z=[1,54],ge=[5,15,16,17,20,21,22,23,24,25,26,27,28,29,31,32,34,36,37,46],Re=[5,28,29,31,37,46],le=[1,93],Ee=[1,94],Fe=[5,12,13,15,16,17,20,21,22,23,24,25,26,27,28,29,31,32,34,36,37,46],tt=[5,20,21,26,27,28,29,31,32,37,46],Ze=[5,20,21,22,23,24,25,26,27,28,29,31,32,37,46],st=[31,37],At=[1,105],gn={trace:function(){},yy:{},symbols_:{error:2,expressions:3,exp:4,EOF:5,const:6,propertyWithAgg:7,SOMETYPE:8,parameter:9,"*":10,"/":11,"+":12,"-":13,"%":14,"|":15,"&":16,"^":17,"!":18,"~":19,OP_EQ:20,OP_NE:21,OP_GT:22,OP_LT:23,OP_GE:24,OP_LE:25,OP_LIKE:26,NOT:27,AND:28,OR:29,"(":30,")":31,IS:32,NULL:33,OP_IN:34,arguments:35,OP_BETWEEN:36,",":37,NAME_SOFT:38,STRING:39,NUMBER:40,OBJECT:41,BOOLEAN:42,GUID:43,property:44,"[":45,"]":46,".":47,agg:48,Count:49,Exists:50,FIELD_END:51,CH:52,ESC_CH:53,FIELD_START:54,"?":55,commaseparated:56,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"SOMETYPE",10:"*",11:"/",12:"+",13:"-",14:"%",15:"|",16:"&",17:"^",18:"!",19:"~",20:"OP_EQ",21:"OP_NE",22:"OP_GT",23:"OP_LT",24:"OP_GE",25:"OP_LE",26:"OP_LIKE",27:"NOT",28:"AND",29:"OR",30:"(",31:")",32:"IS",33:"NULL",34:"OP_IN",36:"OP_BETWEEN",37:",",38:"NAME_SOFT",39:"STRING",40:"NUMBER",41:"OBJECT",42:"BOOLEAN",43:"GUID",45:"[",46:"]",47:".",49:"Count",50:"Exists",51:"FIELD_END",52:"CH",53:"ESC_CH",54:"FIELD_START",55:"?"},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,4],[4,2],[4,3],[4,3],[4,3],[4,3],[4,4],[4,3],[4,7],[4,2],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[7,6],[7,5],[7,3],[7,4],[7,3],[7,1],[7,4],[48,1],[48,1],[48,2],[44,2],[44,2],[44,2],[44,3],[44,3],[44,1],[44,1],[44,1],[9,2],[9,1],[35,2],[35,3],[56,1],[56,3]],performAction:function(at,dt,Je,wi,$e,ue,Ri){var ve=ue.length-1;switch($e){case 1:return ue[ve-1];case 2:this.$=qe.process("const",{value:ue[ve]});break;case 3:case 5:case 35:case 36:case 37:case 38:case 39:this.$=ue[ve];break;case 4:this.$=qe.process("value",{value:ue[ve],isSomeType:!0});break;case 6:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Multiply});break;case 7:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Divide});break;case 8:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Plus});break;case 9:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Minus});break;case 10:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Modulo});break;case 11:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.BitwiseOr});break;case 12:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.BitwiseAnd});break;case 13:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.BitwiseXor});break;case 14:this.$=qe.process("unary",{operatorType:Wn.Minus,operator:ue[ve]});break;case 15:this.$=qe.process("unary",{operatorType:Wn.Plus,operator:ue[ve]});break;case 16:case 26:this.$=qe.process("unary",{operatorType:Wn.Not,operator:ue[ve]});break;case 17:this.$=qe.process("unary",{operatorType:Wn.BitwiseNot,operator:ue[ve]});break;case 18:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Equal});break;case 19:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.NotEqual});break;case 20:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Greater});break;case 21:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Less});break;case 22:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.GreaterOrEqual});break;case 23:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.LessOrEqual});break;case 24:this.$=qe.process("binary",{left:ue[ve-2],right:ue[ve],operatorType:jn.Like});break;case 25:this.$=qe.process("unary",{operatorType:Wn.Not,operator:qe.process("binary",{left:ue[ve-3],right:ue[ve],operatorType:jn.Like})});break;case 27:this.$=um.combine($o.And,[ue[ve-2],ue[ve]]);break;case 28:this.$=um.combine($o.Or,[ue[ve-2],ue[ve]]);break;case 29:case 51:case 62:this.$=ue[ve-1];break;case 30:this.$=qe.process("unary",{operatorType:Wn.IsNull,operator:ue[ve-2]});break;case 31:this.$=qe.process("unary",{operatorType:Wn.Not,operator:qe.process("unary",{operatorType:Wn.IsNull,operator:ue[ve-3]})});break;case 32:this.$=qe.process("in",{criteriaOperator:ue[ve-2],operands:ue[ve]});break;case 33:this.$=qe.process("between",{property:ue[ve-6],begin:ue[ve-3],end:ue[ve-1]});break;case 34:this.$=qe.process("function",{operatorType:WV[ue[ve-1]]||ue[ve-1],operands:ue[ve]});break;case 40:this.$=null;break;case 41:this.$=$d.joinOrAggregate(qe.process("property",{propertyName:ue[ve-5].name,startColumn:ue[ve-5].col,circumflex:ue[ve-5].circumflex,startLine:ue[ve-5].line,originalPropertyLength:Ri[ve-5].last_column-Ri[ve-5].first_column+1}),ue[ve-3],ue[ve].type,ue[ve].expr);break;case 42:this.$=$d.joinOrAggregate(qe.process("property",{propertyName:ue[ve-4].name,startColumn:ue[ve-4].col,circumflex:ue[ve-4].circumflex,startLine:ue[ve-4].line,originalPropertyLength:Ri[ve-4].last_column-Ri[ve-4].first_column+1}),null,ue[ve].type,ue[ve].expr);break;case 43:this.$=$d.joinOrAggregate(qe.process("property",{propertyName:ue[ve-2].name,startColumn:ue[ve-2].col,circumflex:ue[ve-2].circumflex,startLine:ue[ve-2].line,originalPropertyLength:Ri[ve-2].last_column-Ri[ve-2].first_column}),null,ue[ve].type,ue[ve].expr);break;case 44:this.$=$d.joinOrAggregate(qe.process("property",{propertyName:ue[ve-3].name,startColumn:ue[ve-3].col,circumflex:ue[ve-3].circumflex,startLine:ue[ve-3].line,originalPropertyLength:Ri[ve-3].last_column-Ri[ve-3].first_column+1}),ue[ve-1],"Exists",null);break;case 45:this.$=$d.joinOrAggregate(qe.process("property",{propertyName:ue[ve-2].name,startColumn:ue[ve-2].col,circumflex:ue[ve-2].circumflex,startLine:ue[ve-2].line,originalPropertyLength:Ri[ve-2].last_column-Ri[ve-2].first_column+1}),null,"Exists",null);break;case 46:this.$=qe.process("property",{propertyName:ue[ve].name,startColumn:ue[ve].col,circumflex:ue[ve].circumflex,startLine:ue[ve].line,originalPropertyLength:Ri[ve].last_column-Ri[ve].first_column});break;case 47:this.$=$d.joinOrAggregate(qe.process("property",{}),null,ue[ve].type,ue[ve].expr);break;case 48:this.$={type:"Count"};break;case 49:this.$={type:"Exists"};break;case 50:this.$={type:ue[ve-1],expr:ue[ve]};break;case 52:this.$={name:ue[ve-1].name+ue[ve],line:ue[ve-1].line,circumflex:ue[ve-1].circumflex,col:ue[ve-1].col};break;case 53:this.$={name:ue[ve-1].name+ue[ve].substr(1),line:ue[ve-1].line,circumflex:ue[ve-1].circumflex,col:ue[ve-1].col};break;case 54:ue[ve-2].circumflex&&ue[ve-2].started?this.$={name:"",line:ue[ve-2].line,circumflex:ue[ve-2].circumflex,col:ue[ve-2].col+2}:this.$={name:ue[ve-2].name+".",line:ue[ve-2].line,circumflex:ue[ve-2].circumflex,col:ue[ve-2].col};break;case 55:ue[ve-2].circumflex&&ue[ve-2].started?this.$={name:ue[ve],line:ue[ve-2].line,circumflex:ue[ve-2].circumflex,col:ue[ve-2].col+1}:this.$={name:ue[ve-2].name+"."+ue[ve],line:ue[ve-2].line,circumflex:ue[ve-2].circumflex,col:ue[ve-2].col};break;case 56:this.$={name:"",line:Ri[ve].first_line-1,col:Ri[ve].first_column+1};break;case 57:this.$={name:ue[ve],line:Ri[ve].first_line-1,col:Ri[ve].first_column};break;case 58:this.$={circumflex:!0,started:!0,name:"",line:Ri[ve].first_line-1,col:Ri[ve].first_column+1};break;case 59:this.$=qe.process("parameter",{parameterName:ue[ve]});break;case 60:this.$=qe.process("value",{});break;case 61:this.$=[];break;case 63:this.$=[ue[ve]];break;case 64:this.$=ue[ve-2].concat(ue[ve]);break}},table:[{3:1,4:2,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{1:[3]},{5:[1,25],10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,28:V,29:L,32:X,34:J,36:ae},t(P,[2,2]),t(P,[2,3]),t(P,[2,4]),t(P,[2,5]),{4:47,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:48,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:49,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:50,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:51,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:52,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},t(Q,[2,57],{35:53,30:Z}),t(P,[2,35]),t(P,[2,36]),t(P,[2,37]),t(P,[2,38]),t(P,[2,39]),t(P,[2,40]),t(P,[2,46],{45:[1,55],47:[1,56],51:[1,57],52:[1,58],53:[1,59]}),{46:[1,60]},t(P,[2,60],{38:[1,61]}),t(Q,[2,56]),t(Q,[2,58]),{1:[2,1]},{4:62,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:63,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:64,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:65,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:66,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:67,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:68,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:69,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:70,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:71,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:72,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:73,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:74,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:75,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:76,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{26:[1,77]},{4:78,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{4:79,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},{27:[1,81],33:[1,80]},{30:Z,35:82},{30:[1,83]},t(P,[2,14]),t(P,[2,15]),t(P,[2,16]),t(ge,[2,17],{10:G,11:U,12:re,13:_,14:Oe}),t(Re,[2,26],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,32:X,34:J,36:ae}),{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,28:V,29:L,31:[1,84],32:X,34:J,36:ae},t(P,[2,34]),{4:87,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,31:[1,85],33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N,56:86},{4:88,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,46:[1,89],54:T,55:N},{38:[1,92],48:90,49:le,50:Ee,54:[1,91]},t(Q,[2,51]),t(Q,[2,52]),t(Q,[2,53]),{47:[1,95]},t(P,[2,59]),t(P,[2,6]),t(P,[2,7]),t(Fe,[2,8],{10:G,11:U,14:Oe}),t(Fe,[2,9],{10:G,11:U,14:Oe}),t(P,[2,10]),t([5,15,20,21,22,23,24,25,26,27,28,29,31,32,34,36,37,46],[2,11],{10:G,11:U,12:re,13:_,14:Oe,16:we,17:We}),t(ge,[2,12],{10:G,11:U,12:re,13:_,14:Oe}),t([5,15,17,20,21,22,23,24,25,26,27,28,29,31,32,34,36,37,46],[2,13],{10:G,11:U,12:re,13:_,14:Oe,16:we}),t(tt,[2,18],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,22:A,23:R,24:B,25:z,34:J,36:ae}),t(tt,[2,19],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,22:A,23:R,24:B,25:z,34:J,36:ae}),t(Ze,[2,20],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,34:J,36:ae}),t(Ze,[2,21],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,34:J,36:ae}),t(Ze,[2,22],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,34:J,36:ae}),t(Ze,[2,23],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,34:J,36:ae}),t(tt,[2,24],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,22:A,23:R,24:B,25:z,34:J,36:ae}),{4:96,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},t(Re,[2,27],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,32:X,34:J,36:ae}),t([5,29,31,37,46],[2,28],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,28:V,32:X,34:J,36:ae}),t(P,[2,30]),{33:[1,97]},t(P,[2,32]),{4:98,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},t(P,[2,29]),t(P,[2,61]),{31:[1,99],37:[1,100]},t(st,[2,63],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,28:V,29:L,32:X,34:J,36:ae}),{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,28:V,29:L,32:X,34:J,36:ae,46:[1,101]},t(P,[2,45],{47:[1,102]}),t(P,[2,43]),t(Q,[2,54]),t(Q,[2,55],{35:103,30:Z}),t(P,[2,48]),t(P,[2,49]),{38:At,48:104,49:le,50:Ee},t(tt,[2,25],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,22:A,23:R,24:B,25:z,34:J,36:ae}),t(P,[2,31]),{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,28:V,29:L,32:X,34:J,36:ae,37:[1,106]},t(P,[2,62]),{4:107,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},t(P,[2,44],{47:[1,108]}),{38:At,48:109,49:le,50:Ee},t(P,[2,50]),t(P,[2,47]),{30:Z,35:103},{4:110,6:3,7:4,8:e,9:6,12:i,13:n,17:r,18:o,19:s,27:a,30:l,33:d,38:u,39:h,40:p,41:m,42:c,43:x,44:20,45:D,54:T,55:N},t(st,[2,64],{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,28:V,29:L,32:X,34:J,36:ae}),{38:At,48:111,49:le,50:Ee},t(P,[2,42]),{10:G,11:U,12:re,13:_,14:Oe,15:fe,16:we,17:We,20:b,21:w,22:A,23:R,24:B,25:z,26:K,27:q,28:V,29:L,31:[1,112],32:X,34:J,36:ae},t(P,[2,41]),t(P,[2,33])],defaultActions:{25:[2,1]},parseError:function(at,dt){if(dt.recoverable)this.trace(at);else{var Je=new Error(at);throw Je.hash=dt,Je}},parse:function(at){var dt=this,Je=[0],wi=[],$e=[null],ue=[],Ri=this.table,ve="",cp=0,cm=0,hm=0,gc=2,as=1,Ml=ue.slice.call(arguments,1),mn=Object.create(this.lexer),Al={yy:{}};for(var Gd in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Gd)&&(Al.yy[Gd]=this.yy[Gd]);mn.setInput(at,Al.yy),Al.yy.lexer=mn,Al.yy.parser=this,typeof mn.yylloc>"u"&&(mn.yylloc={});var hp=mn.yylloc;ue.push(hp);var ax=mn.options&&mn.options.ranges;typeof Al.yy.parseError=="function"?this.parseError=Al.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function YV(ro){Je.length=Je.length-2*ro,$e.length=$e.length-ro,ue.length=ue.length-ro}for(var Ud=function(){var ro;return ro=mn.lex()||as,typeof ro!="number"&&(ro=dt.symbols_[ro]||ro),ro},$n,pp,Ta,vn,no,mc,Kd={},vc,ls,Rl,$s;;){if(Ta=Je[Je.length-1],this.defaultActions[Ta]?vn=this.defaultActions[Ta]:(($n===null||typeof $n>"u")&&($n=Ud()),vn=Ri[Ta]&&Ri[Ta][$n]),typeof vn>"u"||!vn.length||!vn[0]){var _c="";$s=[];for(vc in Ri[Ta])this.terminals_[vc]&&vc>gc&&$s.push("'"+this.terminals_[vc]+"'");mn.showPosition?_c="Parse error on line "+(cp+1)+`:
`+mn.showPosition()+`
Expecting `+$s.join(", ")+", got '"+(this.terminals_[$n]||$n)+"'":_c="Parse error on line "+(cp+1)+": Unexpected "+($n==as?"end of input":"'"+(this.terminals_[$n]||$n)+"'"),this.parseError(_c,{text:mn.match,token:this.terminals_[$n]||$n,line:mn.yylineno,loc:hp,expected:$s})}if(vn[0]instanceof Array&&vn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ta+", token: "+$n);switch(vn[0]){case 1:Je.push($n),$e.push(mn.yytext),ue.push(mn.yylloc),Je.push(vn[1]),$n=null,pp?($n=pp,pp=null):(cm=mn.yyleng,ve=mn.yytext,cp=mn.yylineno,hp=mn.yylloc,hm>0&&hm--);break;case 2:if(ls=this.productions_[vn[1]][1],Kd.$=$e[$e.length-ls],Kd._$={first_line:ue[ue.length-(ls||1)].first_line,last_line:ue[ue.length-1].last_line,first_column:ue[ue.length-(ls||1)].first_column,last_column:ue[ue.length-1].last_column},ax&&(Kd._$.range=[ue[ue.length-(ls||1)].range[0],ue[ue.length-1].range[1]]),mc=this.performAction.apply(Kd,[ve,cm,cp,Al.yy,vn[1],$e,ue].concat(Ml)),typeof mc<"u")return mc;ls&&(Je=Je.slice(0,-1*ls*2),$e=$e.slice(0,-1*ls),ue=ue.slice(0,-1*ls)),Je.push(this.productions_[vn[1]][0]),$e.push(Kd.$),ue.push(Kd._$),Rl=Ri[Je[Je.length-2]][Je[Je.length-1]],Je.push(Rl);break;case 3:return!0}}return!0}},Ni=function(){var Xi={EOF:1,parseError:function(dt,Je){if(this.yy.parser)this.yy.parser.parseError(dt,Je);else throw new Error(dt)},setInput:function(at,dt){return this.yy=dt||this.yy||{},this._input=at,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var at=this._input[0];this.yytext+=at,this.yyleng++,this.offset++,this.match+=at,this.matched+=at;var dt=at.match(/(?:\r\n?|\n).*/g);return dt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),at},unput:function(at){var dt=at.length,Je=at.split(/(?:\r\n?|\n)/g);this._input=at+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-dt),this.offset-=dt;var wi=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Je.length-1&&(this.yylineno-=Je.length-1);var $e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Je?(Je.length===wi.length?this.yylloc.first_column:0)+wi[wi.length-Je.length].length-Je[0].length:this.yylloc.first_column-dt},this.options.ranges&&(this.yylloc.range=[$e[0],$e[0]+this.yyleng-dt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(at){this.unput(this.match.slice(at))},pastInput:function(){var at=this.matched.substr(0,this.matched.length-this.match.length);return(at.length>20?"...":"")+at.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var at=this.match;return at.length<20&&(at+=this._input.substr(0,20-at.length)),(at.substr(0,20)+(at.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var at=this.pastInput(),dt=new Array(at.length+1).join("-");return at+this.upcomingInput()+`
`+dt+"^"},test_match:function(at,dt){var Je,wi,$e;if(this.options.backtrack_lexer&&($e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($e.yylloc.range=this.yylloc.range.slice(0))),wi=at[0].match(/(?:\r\n?|\n).*/g),wi&&(this.yylineno+=wi.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:wi?wi[wi.length-1].length-wi[wi.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+at[0].length},this.yytext+=at[0],this.match+=at[0],this.matches=at,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(at[0].length),this.matched+=at[0],Je=this.performAction.call(this,this.yy,this,dt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Je)return Je;if(this._backtrack){for(var ue in $e)this[ue]=$e[ue];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var at,dt,Je,wi;this._more||(this.yytext="",this.match="");for(var $e=this._currentRules(),ue=0;ue<$e.length;ue++)if(Je=this._input.match(this.rules[$e[ue]]),Je&&(!dt||Je[0].length>dt[0].length)){if(dt=Je,wi=ue,this.options.backtrack_lexer){if(at=this.test_match(Je,$e[ue]),at!==!1)return at;if(this._backtrack){dt=!1;continue}else return!1}else if(!this.options.flex)break}return dt?(at=this.test_match(dt,$e[wi]),at!==!1?at:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var dt=this.next();return dt||this.lex()},begin:function(dt){this.conditionStack.push(dt)},popState:function(){var dt=this.conditionStack.length-1;return dt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(dt){return dt=this.conditionStack.length-1-Math.abs(dt||0),dt>=0?this.conditionStack[dt]:"INITIAL"},pushState:function(dt){this.begin(dt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(dt,Je,wi,$e){var ue=$e;switch(wi){case 0:return this.begin("INITIAL"),45;break;case 1:return this.begin("INITIAL"),51;break;case 2:return 53;case 3:return 52;case 4:return"INVALID";case 5:return 39;case 6:return 43;case 7:return 8;case 8:return 41;case 9:return 40;case 10:return 42;case 11:return 42;case 12:break;case 13:return 36;case 14:return 34;case 15:return 27;case 16:return 32;case 17:return 33;case 18:return 10;case 19:return 11;case 20:return 13;case 21:return 12;case 22:return 17;case 23:return 19;case 24:return 21;case 25:return 18;case 26:return 14;case 27:return 21;case 28:return 24;case 29:return 25;case 30:return 22;case 31:return 23;case 32:return 29;case 33:return 28;case 34:return 20;case 35:return 20;case 36:return 26;case 37:return 28;case 38:return 29;case 39:return 16;case 40:return 15;case 41:return this.begin("fieldname"),54;break;case 42:return 46;case 43:return 30;case 44:return 31;case 45:return 47;case 46:return 37;case 47:return 55;case 48:return 38;case 49:return"INVALID";case 50:return 5}},rules:[/^(?:\]\s*\[)/i,/^(?:\])/i,/^(?:\\.)/i,/^(?:.)/i,/^(?:$)/i,/^(?:'(?:[^\']|(?:('')))*')/i,/^(?:\{[0-9A-Fa-f]{8}[-]?(?:[0-9A-Fa-f]{4}[-]?){3}[0-9A-Fa-f]{12}\})/i,/^(?:##\w+#(?:[^\#]|(?:\.))*#)/i,/^(?:#(?:[^\\\#]|(?:\\.))*#)/i,/^(?:[0-9]+(\.[0-9]+([mfMF]{1})?|[bsiluBSILU]{1})?|\.([0-9]+[mfMF]?))/i,/^(?:True\b)/i,/^(?:False\b)/i,/^(?:\s+)/i,/^(?:Between\b)/i,/^(?:In\b)/i,/^(?:Not\b)/i,/^(?:Is\b)/i,/^(?:Null\b)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:-)/i,/^(?:\+)/i,/^(?:\^)/i,/^(?:~)/i,/^(?:!=)/i,/^(?:!)/i,/^(?:%)/i,/^(?:<>)/i,/^(?:>=)/i,/^(?:<=)/i,/^(?:>)/i,/^(?:<)/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:==)/i,/^(?:=)/i,/^(?:Like\b)/i,/^(?:And\b)/i,/^(?:Or\b)/i,/^(?:&)/i,/^(?:\|)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\()/i,/^(?:\))/i,/^(?:\.)/i,/^(?:,)/i,/^(?:\?)/i,/^(?:[_\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183-\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC][\d_\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183-\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{fieldname:{rules:[0,1,2,3,4],inclusive:!1},INITIAL:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],inclusive:!0}}};return Xi}();gn.lexer=Ni;function xr(){this.yy={}}return xr.prototype=gn,gn.Parser=xr,new xr}();var Gne=hr(Ws());function IS(t,e=".dx-designer-viewport"){return wS.fn.constructor(t).closest(e)}function Une(t){let e,i=Tr(t).generateProperty("getOptions",n=>this.getOptions(Object.assign({onValueChanged:r=>{this._set("value",r.value)}},n))).generateProperty("onValueChanged",n=>{this._set("value",n.value)}).generateProperty("getPopupContainer",IS).generateProperty("setCollapsed",n=>{this._set("collapsed",n)}).generateProperty("editorOptions",this.unwrap(this.editorOptions)).generateProperty("extendedOptions",this._getExtendedOptions()).generateProperty("getCollapsed",()=>this._get("collapsed")).generateProperty("setCollapsedChangedEvent",n=>(e=n,()=>e=void 0)).generateProperty("editorCreated",this.unwrap(this.editorCreated)).generateProperty("getLocalization",op).generateProperty("getValidatorOptions",n=>this.getValidatorOptions(n)).generateProperty("onCustomItemCreating",n=>({value:n.text,displayValue:n.text})).generateProperty("value",this.unwrap(this.value)).generateProperty("disabled",this.unwrap(this.disabled)).generateProperty("displayName",this.unwrap(this.displayName)).generateProperty("description",this.unwrap(this.description)).generateProperty("editorDescriptionAddon",this.editorDescriptionAddon).generateProperty("validationRules",this.unwrap(this.validationRules)).generateProperty("validatorOptions",this.unwrap(this.validatorOptions)).generateProperty("level",this.unwrap(this.level)).generateProperty("padding",this.unwrap(this.padding)).generateProperty("editorInputId",this.editorInputId).generateProperty("values",this.unwrap(this.values)).generateProperty("info",this.unwrap(this.info)).generateProperty("templateName",this.unwrap(this.templateName)).generateProperty("contentTemplateName",this.unwrap(this.contentTemplateName)).generateProperty("editorTemplate",this.unwrap(this.editorTemplate)).generateProperty("isPropertyHighlighted",this.unwrap(this.isPropertyHighlighted)).generateProperty("collapsed",this.unwrap(this.collapsed)).generateProperty("isComplexEditor",this.isComplexEditor).generateProperty("headerId",this.headerId).generateProperty("contentId",this.contentId).generateProperty("alwaysShow",this.unwrap(this.alwaysShow)).generateProperty("textToSearch",this.unwrap(this.textToSearch)).generateProperty("isRequired",this.isRequired).generateProperty("isPropertyModified",this.unwrap(this.isPropertyModified)).generateProperty("visible",this.unwrap(this.visible)).generateProperty("setIsRendered",n=>this.setIsRendered(n)).getViewModel();return this.subscribeOnChanges(i,["value","disabled","displayName","validationRules","validatorOptions","level","padding","values","info","templateName","isPropertyHighlighted","textToSearch","collapsed","alwaysShow","isPropertyModified","editorOptions","editorCreated","visible"]),this.addDisposable(this.subscribeProperty("collapsed",n=>{e&&e()})),i}var Tl=function(t,e,i,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o};function jV(t){return t instanceof Oo?t:t.getModel()}var Oo=class extends hc{constructor(e,i,n,r=void 0,o,s,a="multiplatform"){super(void 0,void 0,a),this.rtl=_t().rtlEnabled,this._validator=new DS(this),this._cachedValue=void 0,this.isRequired=!1,n||(n=this._getEngine().wrap(!1)),this.assignProperty("info",e),this.addDisposable(this.createComputedProperty("displayName",{read:()=>{let d=this._get("info");return d&&Ia(d.displayName,d.localizationId)},write:d=>{}},[Wr(this,["info"])])),this.addDisposable(this.createComputedProperty("description",{read:()=>{let d=this._get("info");return d&&Ia("",d.descriptionLocalizationId||`${d.localizationId}.Description`)},write:d=>{}},[Wr(this,["info"])])),s&&this.unwrap(this.description)&&(this.editorDescriptionAddon=$V(this,s)),r&&(this.textToSearch=r,this._isSearchedPropertySubscription=this.createComputedProperty("isSearchedProperty",()=>this._get("isParentSearched")||!!PV(this._get("displayName"),r()),[Wr(this,["isParentSearched","displayName"])])),this.padding=this._setPadding(this.rtl?"right":"left",i*zne()),this.assignProperty("defaultValue",null);let l=e.propertyName;this.addDisposable(this.createComputedProperty("_editorOptions",()=>this._get("info").editorOptions,[Wr(this,["info"])])),this.validatorOptions=e.validatorOptions,this.isRequired=e.isRequired,e.defaultVal!==void 0&&this.assignProperty("defaultValue",e.defaultVal),e.from&&(this.defaultValue=e.from(e.defaultVal,this._engineType==="multiplatform"?tx():ex())),e.array&&this.assignArrayProperty("defaultValue",[]),this.addDisposable(this.createComputedProperty("values",()=>{let d=this._get("info"),u=d.valueStore||d.valuesArray;if(u)return u;if(u=this.unwrap(d.values),u)return Object.keys(u).map(h=>({value:h,displayValue:u[h]}))},[Wr(this,[{propertyName:"info",subscribables:["values","valueStore","valuesArray"]}])])),this.level=i,this._init(e.editor,l),this.addDisposable(this.createComputedProperty("disabled",()=>{let d=this._get("_accessibilityProvider"),u=this._get("_parent");return u&&u._get("disabled")||d&&d.isPropertyDisabled(this)},[Wr(this,["_accessibilityProvider",{propertyName:"_parent",subscribables:["disabled"]},{propertyName:"_model",subscribables:"*"}]),Wr(this._get("_model"),"*")])),this.addDisposable(this.createComputedProperty("visible",()=>{let d=this._get("_accessibilityProvider");return this._get("isSearchedProperty")&&d&&d.isPropertyVisible(this)},[Wr(this,["_accessibilityProvider",{propertyName:"_model",subscribables:"*"}])])),this.addDisposable(this.createComputedProperty("isPropertyModified",()=>{let d=this._get("_model");return!!(d&&d.isPropertyModified&&d.isPropertyModified(this.name))},[Wr(this,[{propertyName:"_model",subscribables:"*"}])])),this.addDisposable(this.createComputedProperty("isPropertyHighlighted",()=>{if(this._shouldSkipHighlighting(this.name))return!1;let d=this._get("_model");return!!(d&&d.isPropertyHighlighted&&d.isPropertyHighlighted(this.name))},this._shouldSkipHighlighting(this.name)?[]:[Wr(this,[{propertyName:"_model",subscribables:"*"}])])),this.headerId=`dxrd-accordion-trigger-${lp()}`,this.contentId=`dxrd-accordion-pannel-${lp()}`,this.editorInputId=`dxrd-editor-${lp()}`}createViewModel(){return Une.call(this,super.createViewModel())}_setPadding(e,i){let n={};return n["padding-"+e]=i,n}dispose(){this._validator&&this._validator.dispose(),this._validator=null,this._isSearchedPropertySubscription&&this._isSearchedPropertySubscription(),super.dispose(),this._cachedValue=null,this._set("_model",null)}_shouldSkipHighlighting(e){return this.isComplexEditor}_assignValue(e,i,n,r){bo.setPropertyValue(i,r,n,e)}_roundTwoDesemialsForUnitProperties(e,i,n){let r=i&&i.constructor&&i.constructor.unitProperties;return!r||r.indexOf(n)===-1?e:$ne(e)}_init(e,i){e=e||jne.getEditor("text"),this.templateName=e.header,this.contentTemplateName=e.content,this._cachedValue=void 0,this.addDisposable(this.createComputedProperty("value",{read:()=>{let n=this._get("_model");if(!n&&this._cachedValue)return this._cachedValue;let r=n&&n[i]!==void 0?n[i]:this._get("defaultValue","wrapped");if(r&&typeof r!="object"&&!r.push){let o=this.unwrap(r),s=o!=null;return this._cachedValue=s?this._roundTwoDesemialsForUnitProperties(o,n,i):void 0,this._cachedValue}else return this._cachedValue=r,this._cachedValue},write:n=>{let r=this._get("_model");if(!r)return;let o=r[i];this._validator.assignWithValidation(n,()=>{this._assignValue(o,r,n,i)})}},[Wr(this,["defaultValue",{propertyName:"_model",subscribables:[i]}])])),this.name=i,this.editorTemplate=e&&e.custom||"dx-property-editor"}_getInfoFromModel(e){if(!e)return null;let i=e.getInfo&&e.getInfo();return i?i.filter(n=>n.propertyName===this.name)[0]:null}onPropertyChanged(e){let i=this.__viewModel;i&&this.values&&(e.propertyName=="value"||e.propertyName=="values")&&(i.values=this.unwrap(this.values))}update(e){if(e){let i=this._getInfoFromModel(e),n=i&&vS(i.editor,this._get("info").editor);n&&this._get("info")!==i&&this._set("info",i),this._set("_model",this.name in e&&(n||!i)?e:null)}else this._set("_model",null)}getOptions(e){return ur(!0,{},e,this.editorOptions,this._getExtendedOptions())}_getExtendedOptions(){let e=this._get("info","peek").editor.extendedOptions;return typeof e=="function"?e():e}getValidatorOptions(e){return this._validator&&this._validator.getValidatorOptions(e)}registerAccessibilityProvider(e){this._get("_accessibilityProvider")!=e&&this._set("_accessibilityProvider",e)}assignParent(e){this._get("_parent")!=e&&this._set("_parent",e)}_getEditorValidationRules(){let e=this.unwrap(this.info);if(!e)return;let i=e.validationRules;return i||(i===null?null:[])}getValidationRules(){return this._validator&&this._validator.getValidationRules()}setIsRendered(e){this._set("isRendered",e)}get validationRules(){return this.getValidationRules()}get fullDisplayName(){var e;return this._get("displayName")+((e=this.parentName)!==null&&e!==void 0?e:"")}getPopupServiceActions(){let e=this._get("_model");if(!e)return;let i=(e.actions||[]).concat();return(e.actionProviders||[]).forEach(n=>{(n&&n.getActions(this.name)||[]).forEach(o=>i.push(o))}),i}get editorOptions(){return this.unwrap(this._editorOptions)}get isComplexEditor(){return!!this.contentTemplateName}};Tl([qi()],Oo.prototype,"_model",void 0);Tl([qi(null)],Oo.prototype,"_parent",void 0);Tl([qi(!0)],Oo.prototype,"isSearchedProperty",void 0);Tl([qi(!1)],Oo.prototype,"isParentSearched",void 0);Tl([qi(()=>bS)],Oo.prototype,"_accessibilityProvider",void 0);Tl([qi(!1)],Oo.prototype,"isEditorSelected",void 0);Tl([qi(!1)],Oo.prototype,"isRendered",void 0);Tl([qi(!0)],Oo.prototype,"editorCreated",void 0);Tl([qi(!0)],Oo.prototype,"collapsed",void 0);Tl([qi(!1)],Oo.prototype,"alwaysShow",void 0);function $V(t,e){let i=jV(t);return{templateName:"dx-property-grid-editor-description",data:{onClick:r=>{e.data=i._get("description"),e.target=r.element,e.visible=!e.visible}}}}var TS=class extends hc{constructor(e,i,n){super(void 0,void 0,n),this.templateName=null,this._editor=e,this._popupService=i,this.addDisposable(this.createComputedProperty("_actions",()=>(e.getPopupServiceActions()||[]).filter(r=>this.actionFilter(r)),[],void 0,!0),this.createComputedProperty("visible",()=>this._get("_actions").length>0,[],void 0,!0),this.createComputedProperty("hint",()=>{let r=[];return this._get("_actions").forEach(o=>this._getTitles(o,[],r)),r.join(`
`)},[],void 0,!0),this.createComputedProperty("editorMenuButtonCss",()=>{let r=e._get("_model");return r&&r.getActionClassName&&r.getActionClassName(e.name)||""},[],void 0,!0),this.createComputedProperty("imageTemplateName",{read:()=>{if(this._imageTemplateName!==void 0)return this._imageTemplateName;let r=e._get("_model");return r&&r.getMenuBoxTemplate&&r.getMenuBoxTemplate(e.name)||""},write:r=>{this._imageTemplateName=r}},[],void 0,!0))}_updateActions(e){this._popupService.actions([]),!(!e||!e.length)&&(e.sort((i,n)=>i.title<n.title?-1:i.title>n.title?1:0).sort((i,n)=>(i.weight||0)-(n.weight||0)),this._wrapVisibleItems(e,this._editor.name).forEach(i=>{this._popupService.actions.push(i)}))}_getTitles(e,i=[],n=[]){let r=ss.unwrap(e.title);(e.items||[]).forEach(a=>{let l=r?i.concat([r]):i;this._getTitles(a,l,n)});let o=ss.unwrap(e.hint);if(!o||!r)return;let s=i.concat([r]).join(". ");return n.push(s+`:
`+o+`
`),n}_wrapVisibleItems(e,i){if(e)return e.map(n=>this._wrapActionClick(n,i)).filter(n=>!!n)}_wrapActionClick(e,i){return this.actionFilter(e)?{id:e.id,items:this._wrapVisibleItems(e.items,i),innerTemplate:e.innerTemplate,itemTemplate:e.itemTemplate,action:()=>{e.action(i),this._popupService.visible(!1)},title:e.title,hint:e.hint,visible:()=>!0}:null}showPopup(e,i){this._popupService.title(this._editor._get("displayName")),this._updateActions(this._editor.getPopupServiceActions()),this._popupService.target(i),this._popupService.visible(!0)}actionFilter(e){return e.visible(this._editor.name)}};var MS=class extends hc{constructor(e,i,n=0,r=bo.wrap(!1),o=!1,s,a,l,d="multiplatform"){super(void 0,void 0,d),this.recreateEditors=o,this.popover=l,this._viewModelSubscription=null,this._infoSubscription=null,this._getInfoComputed=null,this._accessibilityProvider=bS,this.level=0,this.rtl=_t().rtlEnabled,a&&(this.createEditorAddOn=u=>{let h=jV(u),p=new TS(h,this.popupService,d);return h._disposables.push(p),{templateName:"dx-editor-addons",data:[p]}},this.popupService=a),l&&(this.createEditorDescriptionAddOn=u=>$V(u,this.popover)),this.assignArrayProperty("_editors",[],{deferred:!0}),this.level=n,this._parentDisabled=r,this._textToSearch=s,this.addDisposable(this.createComputedProperty("visible",()=>this._get("_editors").some(u=>u._get("visible")),[Wr(this,[{propertyName:"_editors",subscribables:["visible"]}])])),this.updateModel=u=>{this._infoSubscription&&this._infoSubscription(),this._update(u,i,o)},this._viewModelSubscription=bo.subscribeValue(e,u=>{this.updateModel(u)}),this.updateModel(this.unwrap(e))}createViewModel(){var e;let i=()=>this.editors.map(r=>{let o=r.getViewModel();return this.createEditorAddOn&&(o.createEditorAddOn=s=>this.createEditorAddOn&&this.createEditorAddOn(s.getModel())),o}),n=Tr(super.createViewModel()).generateProperty("editors",i()).generateProperty("rtl",this.rtl).generateProperty("popover",(e=this.popover)===null||e===void 0?void 0:e.getViewModel()).getViewModel();return this.addDisposable(this.subscribeProperty("_editors",r=>{n.editors=i()})),n}update(e){e&&this._get("_editors").forEach(i=>{i.update(e)})}_cleanEditorsSubscriptions(){this._get("_editors").forEach(e=>{e.dispose()})}dispose(){super.dispose(),this._get("_editors").forEach(e=>e.dispose()),this._set("_editors",[]),this.cleanSubscriptions()}cleanSubscriptions(){this._infoSubscription&&this._infoSubscription(),this._viewModelSubscription&&this._viewModelSubscription(),this._cleanEditorsSubscriptions()}cleanEditors(){this._cleanEditorsSubscriptions(),this._set("_editors",[])}findEditorByInfo(e){return this._get("_editors").filter(i=>i.name===e.propertyName&&vS(i._get("info").editor,e.editor))[0]}createEditor(e){let i=e.editor&&e.editor.editorType||Oo,n=new i(e,this.level,this._parentDisabled,this._textToSearch,this.popupService,this.popover,this._engineType);return n.assignParent(this._parent),n.registerAccessibilityProvider(this._accessibilityProvider),n}createEditors(e){return(e||[]).filter(i=>!!i.editor&&!this.findEditorByInfo(i)).map(i=>this.createEditor(i))}registerAccessibilityProvider(e){this._accessibilityProvider=e,this._get("_editors").forEach(i=>{i.registerAccessibilityProvider(e)})}assignParent(e){this._parent=e,this._get("_editors").forEach(i=>{i.assignParent(e)})}_createEditors(e){if(!e||e.length===0)return!1;let i=this.createEditors(e);if(!i.length)return;let n=this._get("_editors");n.length===0?n=i:i.forEach(r=>{let o=n.map(s=>s.name).indexOf(r.name);o!==-1?n.splice(o,0,r):n.push(r)}),this._set("_editors",n)}updateEditorsInfo(e,i){this.recreateEditors&&this.cleanEditors(),this._recreateEditors(e,i)}_update(e,i,n){n&&this.cleanEditors();let r=this.createComputedProperty("_getInfoComputed",()=>i&&i.editors&&this.unwrap(i.editors)||e&&e.getInfo&&e.getInfo(),[Wr(e,["getInfo"])]),o=a=>{n&&this.cleanEditors(),this._recreateEditors(e,a)},s=this.subscribeProperty("_getInfoComputed",a=>{o(a)});this._infoSubscription=()=>{r(),s()},this._recreateEditors(e,this._get("_getInfoComputed"))}_recreateEditors(e,i){this._createEditors(i),this.update(e)}getEditors(){return this._get("_editors")}get editors(){return this.getEditors()}};var GV=function(t,e,i,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},dp=class extends zd{createViewModel(){return Tr(super.createViewModel()).generateProperty("data",this.data).generateProperty("target",this.target).generateProperty("visible",this.visible).generateProperty("onHiding",()=>{this.onHiding()}).generateProperty("getPopupContainer",IS).getViewModel()}updateViewModel(e){let i=this.getViewModel();e.propertyName==="visible"&&(i.visible=this.visible),e.propertyName==="target"&&(i.target=this.target),e.propertyName==="data"&&(i.data=this.data)}onPropertyChanged(e){}onHiding(){this.visible=!1}};GV([qi(!1)],dp.prototype,"visible",void 0);GV([qi(void 0)],dp.prototype,"target",void 0);GV([qi("")],dp.prototype,"data",void 0);var pWe=function(t,e,i,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o},UV=class extends Wd{constructor(e){super(e),this.propertyGridModel=e.propertyGridModel,this.propertyGrid=new MS(this.propertyGridModel,void 0,void 0,void 0,!0,void 0,void 0,new dp,e.engineType),this.addDisposable(this.propertyGrid.createComputedProperty(`___${lp()}`,()=>{this.propertyGrid.getEditors().some(n=>n.visible&&n._get("isRendered"))&&(this.keyboardHelper&&this.keyboardHelper.initialize(),this.focus())},[Wr(this.propertyGrid,[{propertyName:"_editors",subscribables:["visible","isRendered"]}])])),this._disposables.push(this.propertyGrid)}createViewModel(){return Tr(super.createViewModel()).generateProperty("propertyGrid",this.propertyGrid.getViewModel()).generateProperty("propertyGridModel",this.propertyGridModel).getViewModel()}updateViewModel(e){if(super.updateViewModel(e),e.propertyName==="propertyGridModel"){this.propertyGrid.updateEditorsInfo(this.propertyGridModel,this.propertyGridModel.getInfo());let i=this.getViewModel();i.propertyGridModel=this.propertyGridModel}}};pWe([qi(void 0)],UV.prototype,"propertyGridModel",void 0);var gWe=hr(Ws());var AS=hr(jd());var KV=hr(jd());var sx=hr(Ws()),Kne=hr(jd());var fWe=hr(jd());var mWe={};function vWe(t,e){return function(i,n){let r={};return r[t]=function(){return e==="$data"?i.$data:e===void 0?void 0:i.$data[e]},r}}function fc(t,e){qV(e?`${t}: ${e}`:t,vWe(t,e))}function qV(t,e){mWe[t]=e}fc("svgAttrs");fc("dxButtonWithTemplate","options");fc("dxButton","options");fc("dxCheckBox","options");fc("dxToolbarBase","options");fc("dxToolbar","options");fc("treelist","options");qV("template: 'dxrd-designer'",function(t,e){return{template:function(){return"dxrd-designer"}}});var _We=hr(jd());var up=hr(jd());var JV=hr(jd());_t({licenseKey:xne,forceIsoDateParsing:!0});function CWe(){let t=localStorage.getItem("xtrace-token");return Ine.ajaxSettings={headers:{Authorization:"Bearer "+t}},t}function xWe(){return yu.apiUrl.replace("http://","").replace("https://","").replace("/","")}IT(yne,"en-IE");IT(bne,"en-GB");var qne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=_e({type:e,bootstrap:[pne]}),e.\u0275inj=Ce({providers:[Ql,dh,Sb],imports:[ob,ip,YC,XC,QC,Mh,_V,hV,cV,une,fne,hne,t3,sne,Cne,K4.forRoot({config:{tokenGetter:CWe,skipWhenExpired:!0,allowedDomains:[xWe()]}}),y9,N$]});let t=e;return t})();yu.production&&void 0;OM.initialized(()=>{G$().bootstrapModule(qne).catch(t=>console.error(t))});
